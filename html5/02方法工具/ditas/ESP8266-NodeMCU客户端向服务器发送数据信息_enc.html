<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"64af93a07150831c9952985b47234c01c9fad6da22f82075466a64adf341b010bd0bfed2d4117b84fac69cd1052de26ef46f2cad1530571bf98e8379737e8de7ddb1f601cf5936a4ace06292e30c5c3773bedd91f59b702e3fa149eb49503a01456fb1d89887ad640c4641a734ec47713b40ac103fafe3208955c7902d0155b8dc8e5a94860c27fa44f3f9b45f99c0224f143c215f196dca15dfe9428416a9f3c58c11963722567d820a4e278138e79646615d15dbc2cdf39657928a60b427eaf5371dde0bc1dd55299911853dc62ee00ba674fb93ddb1e8fb94b9233f83eecbc6ffb730495bf8d175a9d9e2282935c59e69f1e9f0ee0978269e26a19cd12ebba31b868e265ebdc4d42a07b4422aea8613b7ca199a76200474ec29f27ee0d4df8cd6805a7f66859b7e61136785c1101c7aecd5523995e97610e74b77e47fce00416c364e56a85aec661fcb5b6ff295968818c68867b6335f5d8ec42b8e923f22b79c797ae1e38716efb0df969adc673516b783edd815b56e045fe07651689d44fa9be71be0df44c42c411153282c04ddda11b67fa4537308654d37a15c566b95561a9238bddb47c57548a5018e25214784ac8775be8c181828fdca741568d13299e37837c66ba675ac23518ee41b876d098bd1c5c5e1f54038f844199b68b382d3a2c3349b988782d852ce21cb9e4feeeecc67e35e15cbdad476dba6fac9df9e6cca564c6a798b85cc4fb15decf9e1e2855d8b5c70913eb7853eb235ecda443774b63678f48fb220db65b14a930a261fe10e8e7fda66061bb3bb469a6f8a8b6bca1cb6aa4e112b79c98f90173d17ccd5dad45522127ff09bcc0fbce5c7304423705e87423c4042dd312d71e33436d8dcfa8bd885aa9b71c551f276365ad394faa07714af5a85c6a3da9b6d73685b272caaee479c0a6e300e7b9285121d9dcd849b24f6f126ede38916aeb58d90bcf61b893dae4952aaef340d5545a861d5685002b894502f262271888dad424a8c801393e580c40c7a91e37d770ca8cd02ec6e7784fe04ac7aee0885e141f9b779fcf1dfb3d00e4a57eff04de1f922c29e64fb4fe0731f45afd71eda2d3756d11e17c0c0529821d715b3bc85973def8cb3aa39e80b29b329ed1f553e47002c564b35a3b78f9c747b277b3de6d0a319c44de6d1f1d0ba5e765651f41a0185455e745bf81832ddadc6a9946d3eb5c6551a7a3eeb9c999daee961685d59a9a15e8939ee0a59349505469a3fca1efcfa65a299f6cb1bb097dc7622b7d0f8367921e72f9413d6b795dcfa9750f58dd5ed53da075b03425dc07aa0de71dacf55105088b09a1488e340e6c7d638ca603c634bd2de0c7f8de561a65b319c18926fd9ea1addf71efb1c723d2dc078f7004be8a02e5f496c1f0236298b924f4ce56636e42683a76a8e57f56d04100027e1a18844873512c47c682a8704fd651f42e02baa700ad76962b242e5fc4e7f1a7c458ac14a42e5e192a2b2f7358d64299e3182438e0a5b0b7c64d73a98d5989f6b7df80b57478f740efa5ca96dcaa8d4211dc5adea426060ebd69f423ded640c877929d97fd280c678e7cd2eab273741ed4a457fd748f556fdd34375f9de7a1cc63a8ebd5f4926aa1f340447e731f840234800221bd808463316cefa13cbdb3d0c57331c4685aa169e3349d1f2a938d072ab459478822f29f398ae7387d0ffd5b7bfb71bf76eac12dc56108f66beabc2cb06d34dbe6fb79b401add4686511af3024fb082a9fa6557e4850b61b245d1a24692f60c8108e3f88dea6c563ea42467e33752e3c3399bb2e5ae1b3341a4bb32a0e1e4dfd9c55b2ffa90f5d1970c01cc3ce14051cd85f7dad025ff2bdfc6dc03191d03a4e910737252fded83e94e452b98cb3b004e410f5eb370f37daf91c40f8dc66f5c4e480a5e67dc0725197528a2432a58c47ff26afcd91549466e597d4dd3dfe0565e2aedf8e67f5ca947ccb776090e99c51cfe32d18a00ccd8c528b268b54ceddd904505cf8a46e2c3e82df769be239ae2111f4184f8a01fa4b4907f98a884c541181539461534367fcb5c40910e126ba5eaee746e5a6e5f83e4f394200b95935db0026435a8a6b5b389a06f555b70700c671f16ede365bd50941bd76fe832cb76f69156a4c89953d87bdb7b300278ac702342b3174ef76dbd5c1492874319ad811eb9bf94019f31c35d9151fd34d60007ec2f6824d59650ce8879bbc1eebbeca71adc99a284dafeb1632eab979f2406e482a05756f69c5656d4878b06bc4f7a1a91333c21be046172aa8d82d58bf4c9473d21da1dbe7a80e650dad6579009330dd8285ee23ee125f1cca427f0426c9e77512096e8ae84e33c30df0da150aaa6a63d48aae71cc0785094168537466acc7350fa88703ca6c1213f9defdaec10c89d57a09927f723cf49f26e5319a6236d52661260bbc82649a25f959f47a38b3ad2d701e1df88dfd30b3ffc3c849b366e698951282422bc168eaa85587a9cf330cf4aa9462aa4b536d128a2ea25ca56f02ac145321c743f320a9782cebeb35ee8494343ae310852b74781e9474e1713ed28307f5f046a2bd51155448792a6211ec9b4f762cc16c2fcf22f224cb6769a0f76784c4c5d8622e3430a5733928728e5d9b9194d8808d81bff32c38ec6911bad85b19b20a9e461d96171766199ed6ebc6d7ab008bf5c5c36567417b3111d784caf8ea3a1b58337f7234bc91d4702cc1d48064faaed2c2d7cc629249bd6d3361a82d5333d2ca20955f9c6077ab558bc70b0d696fda4c1de75b8bc49223ec25a3e2215ea0a7e3f6b22883f8ad00f69e67f70d5fc01e42179190fce1e172ed9ddf1cc710402489603401036b083a56c2953877156e10d02cf0fa5a594104111422493de4e7076fc879b55bdaa3701300ae59a8062935d59910d3f16e0f2d5e84b9004ec2f0fb789de9c20126c82d408c683c7f4163d23e580865f0e8511260f635eb28d8842a658db044d3740d2246fa427d7c55df98847f615e0ffc07923976fc07c7f9322502eeae2817506add299c3a02c3486515b492bb3ee71b993c58cd33c12f20736d135729c303f4565ef30368fda7efd489f4afe209008a82aed0c5e683557c102aa7d67955b2c824c7c502f8871528623a46437317d9b818446863492525dcd7ba1b62eea4f0eb47e7809653c93c830d12bb1426e75f0c54bd3d47a33e1e049fff060be69f2b3638f3446cb0424581d23b5d5cd52dc3ed46200875357f763f55493c1df81cc577065846168ddf1be9a53d7e6eb78db0399398443429e2d0b9642044b82ac1c449ed89e90b26fd753f090b15ddb4c2c0fed87889d6f6678800a50171b688940fdc7baf6a75a4a0891e62d2683372352d66d65ddf7c582ee7c9f517b2c5f19b4b24590bc2af2dfb4ce37c3a1a3ce498d7ba608fb90206431765c313b930c3634dbfcfb8f9d7fc4ca991936efcff0114db3bff31787495d016d1cdc1a13cca9b53a35c73beac9eeb7d35f32381fef1300bdd9c7b96e9ffe96fc0cbd105696ac3fad83b9f86cb4518e7f414745bacd50a0bbda478456b15832debcdd57dc4f04abb5a9b3085e136ca55db02eafe61e39d13b566bb43d9c87b8a83dd447ed1d779fa225cb11431e8a136975fa549522c3c962ee2dc5b4dfb1ee1b4822ac2f2d2e2fb0576beb690ef336c6aee08dd3dba2dda2cb50658cf69f84c28cad4b1f801ba3a25eb9dbdc3ddd4e3a652bbc140e1d29415030beb3dfe80f1b701cd5238a0eab299fa17614ed049e5940a796ebba7316849dc8708beb13068e7b7a808a29ec3fba3f34f74daa33bf431d485253d409a5e488e14889f7524ed744c25f221d4a40b984c203d83654bb235ecd4c4dc1a0cc1ea5fb4f3e5ba32b854f2e293f064019ae545ba563105ec1e1c8639d60073bbc69a53dbf65e039d9dc4f8bdc251f53b377552b4b4c749ee3620aba74675ca265c6f97fe927ea0588453ccb06a2d1c6433d1ee14b5910515f1cb07b48058f1f427e3dedb0cbd452c1f50e32523624633277144f7e8581942bc53b8b61e3a91c424012a450a1aa525895ef761ebdb291df056b522cd39d7743227f18c2f52d19c7485573e3f6ad025df09030c886b72403e7abce2c09432a2fa7c8c5ed614276acb7df0ec40c2d8631277e271bcc8f7c629cf57370432e8a408719952d4315abb704eb870c61136bb75d2db6b0f2842ceed02ef7c298c4a0b6de27d730fb6c1773d88d6311335eb6f06633a07a12353744e9e08293b4043e199ce203e2e9287257187087933dc4201597cbed2a20c720a2d637f9e3d3f60d1f540b0fe8840620b81df83bf9eacaae6958f73a5edb8c3499e652fa9a2fa82866a2f53b97d6076191fbab796803853d967a33b5340dcd93276a3d423ee8401df41de9aeef248283c4e6f999e560caafd88f920eed6b794f0e93c0c0e92e1816714463408cd29529341fddc8de445f6cdaa589639337ee012a63beca6aa79f0c8644c7950128d9897f1ae704d6a32631eeafdf00058526c6180b2ffecc8e18c34c0ced7dff55dfc0970ab1b8db8a2f9b092e8cdb55473f2f51af33d3c53c771b3992814e553c4ed8c39a1a167800300f1675808920c9d434e2113aeee994146cbd0f55d49efe78d37e62bd25c24edd51d9343892c728a5794f6fcdfccce0840061f277dd52c1646907175736d114543cbe78e205d697537ae1eabaaca8667da07bfb681cf740e29a28d2f0eb4b50eaf1dee134614f6e5f82b5cac0898b380d4098f13e980258c97fd20fa05a315116083ec5f399d010185c8ab12369a82a8d7948b7054ebd394f14037fac569a3c89225b4ab1f7cf5ad27c8b33400cde1f0d0f37ff10995fa8c1a3687aee1b9ec4269fc66c69eaadf6c121ba492e0f85d0926110f3b7c966e2aca631dfe4978219d81c6ddf50898daffe5e40171c2f4fc5a2f89b411e45392711d06c7bd450cd6ef9d35d603c8707ae28381f44befa9f05e9c1524f48f88d5ecf3f8ee778b0f855a81b632634f5eb4918c0154d5553d112f42acca155e14a0ed63025b22aa5a174f97ada70451e2a282c5173e63f9214278720a703e31e622150e07923a9e8e40fd18f79d69e85b317d3f3cd6ce2cf9ff977511110db053bd99029c683ec45d64ca3fd63d35c2006c027e8792343e639d7b70828db3fc5da20e265071715b4f810d8ae5fcf819deef2b28fb7b976ed58cfc2f756937cb51fb96d8515c35f4977dca3dcea5af2a8936fa7af63130c1085713cd5a13ee75bccdeae0f43cbf372bc004a2697deef5e0498fce31ac27098a948df0d3e829c5fbc093e1f0c40f49a09d52ed3fa23f94ab69084fb9def7a64cd2bec5764d4be609a0dcd50e8846b9ee85d68818915808cf6dd9f99debfe3924545bc8efcdf139065336f2357202a5abfb00fd1498011c48b9593d268546f2b12eb3f31f367d01e135e726cdfc8c60004ea41cd71cb2e0646cec5ffd1f42bab8c0e4297ed44fe97c9381ac17574c6258beae30fc3223ae6b7252afad961c6cf6b9e3b7284b66432b68a45a4892ac4c472b25fc18c1cac3cafb58429815a2432b518b3df0afd06a64901673bcdd4b3e258a44cb936b093c4f22472e5efce19c8ffa0b58ee9f934ec45878c82222b0792e02c93f57c04b8660538367b40bceb99902a7deb56266a6c53fcec1195e45ce67ecfaf0b763619228852c24a106af63767b42b7268ad3a4ddb2014e89b9fa7dc75ad652b0e5b41f4c6f717dd250574291e5618412e6c6bbc8d055a799651f90a0c70d20478b64fe0d622450a60b5b11520504335a967d1663ca8fcc989b8254a363f38f71e947a7c43f3e49a157a4fc3496e60c4674195d429b8adb366ec1aa64534640d909e0e5da2282d2172dadf3f3a45e7d720a3487390f9dfdf1efcf7d9c88bdee53e3d72cd49390f3db21ff05d61519206777f9ea790fccf15a4f2fc07353b4b3edfad5f9bfa996b97737d72549970135960ff71e5d4fe474defa9db55a34324e9bd7a1d9186f5294effb966fb102c4e935cb227a3efa71e377d68035c106db5e7c1eb19218fc18fb03bc2f74d1198dbe9eab389637eaebeee139d3ef796339261821315fb0bd24d13b0ef56ac7ca98d72ec21e1e7ab51c45751840cbd4b7fd826ff7f5d5ae97f79c943f2bf16b209ba7c9ca3720d5df4d5da74d75b6312f2f913dcea17afc894f734cc08432b9b114f6ff340b085041a8a49b56c809fe790d7691470924dec8549ddc210a45df33392db4bb54ba7a803a6c8549d6fdc9c2466770da6d04b85219a334b3d2c16dd6821fb2db5a81744ddbe986061806f2e5e379d2bda8219a51f5f06570e83424eac40774bf9177c20a79d72c8f15586b959d000636498c1ba6aa12ecf41c38e920c9895b0f5a6e287bea8c10259ee3391160de9dc47f73990555c6e05abbb7357a818d2fa71d0be1fe561a7861011981875dc62ad7deb3701dabba93ef1f1d812e5a782fe0463207ce68a99ee36602680a9a0b402c228c6ec1ad183c55f5b63a536760932401e9dd181d846e9769839d1443a96bbfac6917b614c10ec5ed94430a00b09131fb45c0dd6742592c4c2ca11c9c1fc04d453def4f5acac4261e2d43df9c85f73d9472f05c35e99154d10a13741b6fb5b7937fa4f7a7a32249e470dc65c31d0b4cf43afd153309aecb9274e4174a732c91e4da50a93d9bb44c88976e1a00b5c9536fae75c99b85c5218f0defd99e89ebfe7440e20b4c92d00e6d1500677f9f5dbd8df7a9e14b9231b1d891883539cc7bd40fac0827c63bf0e24f6fc1a392fdebfeebfc29ce910b64588208bbf4dc220416115eec2d6b6fbf97d6062cc628546a2d0655a742d95909ceeab3fe66b3aa964d07013c905775bd00b09861fa1db693593316c877c359cbd512ab9e7ce259f4273de6568bb5b7f9355c7640a1ef15eb9b4a1bfcb7ccbafdc6a25fb2edcd200f7d41e4ed8c86e9fe02c661f0ab1ad5510e7a061ac7095379b5775614b11515a2da505917fa3267f1df65176fe602a9bc7522d1f609f88586b2196c167a5f885dbc1aeec3863fd3cebe2769dc173393d73bea4f01cc3232e680a277376fb93e7a8456d2c00da6378a3ba1c05ca713f71ac83533fc4f2fd04e4556b009ef834227995ec81b085063389cecbccd5fed6d4a18cd7b49198a8209722e1a7f3d779ab59c20aefbd30b453b96caf372a2000e705673ca95b812ae6fecd8d9f14680a8cd1a1c504fd76225fddd34d56dfa634f43919bd5f17f81434614c973bba091083ecb58dbac1dffc2b0dc37a5e2248832a936e845ca308b20f97f18911938e9b4090d7eb60140e52eac1f1d044b31509668d981efaffd2546b810b860a3d141eb014072718bbf44e2cd7be6cb87aaac70c59567e6b71a08fe9b741a6e76964fc339e2325d3465451cb00f2779fef16f45039e889fbc1b75c71405a2ddeb7245f5564f9e5b3ffe9ad934f37c6fb6f8bef7dd7714e608682ff93bb083db54f4be26ec63577f4d802782213d961b55fc026e73e5973ee2c0a568d2915ae08317601c40e1d6e751abb8d6c4de2651aa82f77afd6e98bef12493687e0bc3836c23e1e25c65906a277073aa0df603229ca2687a54b304432c51a29771e37be3abea50002338611a6fe12a756e8b4a98347a37da04ca9bb72a057a35daa206e2b01574de4256b6dad70181b43539ff592828e748ab0873c95c72f8eb455e481a930c2c9892a39b6a8cf741ca183be4866211f9682f0d97c4b7d7ceb66da0895bd25d58fcb3189748d73b8c911cb710ffe90d077ea7615674dd7a16d829321cb043fe86616af9af77e9baa8430f33c43da0850cddcd47e58922baa8f3b049173f33103ca4aae04f025e0883824ea1ccc06e2a50ba2705ef955753588c45c30de898ec48290b5cb724146fdec08867e7be361bb8847cc913fb594a5db2485414bc38d19e98a8f3983f5cc49f41003e357e5b8b6616bff17e2abe9b885456a9e56aead1ae68703354e88c2c29b653bb322a14f2098676328ae994c634a365e13b9f6374f6d43600a366a2cf8f9bf5ecd17ec3b4054d53245f452cd071bcfb090c40b427826fe4c5f128a7ddffc3ee73de1b9ed6953b6463a639b50424b702f5be93063769a71985ae22ef5016ebbbfc87302883d18f88f00142fc28a7445affccc0996e51ca276555c0d07311c6d65176acc7a39abaefb0271827e3d095cd4c8859d87ac2ca869318cf3da071df02916294e2efc450db49d93974265442e3e85bed63740b609ee9acbc409ca0afb3eb5936f837dc737febd22d1d6822061424fc5f0e345c488f1f762f3042aeeb063d46a8424f6f6a01ce2f3f9f305a9728b7058bd3830cad3efa35a5a1caed81223c4605581ae5aa8188da42634e98b8eed3ae5d7c32481d780b534366937eefd78c54f4ceda84964fb8f1e4c43b47cfc10209b6bfe5b778d8482b1565a7367b3c8a44676ad002d0fd563084628d2351bd4ab4875122b257fa30c6b9a8150e03b343b3e588c5f2bf6c796af49a98dec016b0a24290bce59fab223332149eb3cc7fe8b3cc9073abcc573e52cf10861e1ce53e848c9c229c418452653a34cb9fa4f273dab6d9cc6e2d30b79f90e93081cabd2388a6f62a9543aef5c3d232bc242eb853bf944b98012bb3fbb87982fc5fc5f57f9d05fc8df57e2cdbca9cbd9956dbd8cdccb03550b62799b0fe74a5b226fdda4b6be764fd0e17f1801ec8d5920a0f5bc42b8ad13851a4a019646b61465fe5f70029a29bfaa4f0528bc3c8d1891da8ac1b27a7ec480a7fbd4580dd62fb1d3465da8327d8c3667004ad7904ebf8b881370d85355ba15a0ecc9f0818edf8260985203295bee4388689551aeb7fa079f130f03ceaae7bc27d7d9d4488ae545f325ea30463e6f42bc1210e83577e3ed9d0da7e6fde92e69b0e9641f985ee3653de06775880430fabbe04655185fc8079e0c5f460b37154744d2cf97b7d8c1f732b20a06469d6d459564cb8e9939813ca0938e3f5905efb836dfa7c2c8ee57392ddad4e9a8f33cd7c8c0545cb2dc49911a4c32350883ed92f5e84b9487a65c7a2223811b958624a53f061f23e5ec6823c08a605a273840071b29ebcf52daa7eacb946ba11f3e9b1702a15d132d25cd1775e6837d82711c3f826a432d352e56975bae86626af99f29d012cda3814afe02c0bfe5794673f4badee2a3e02fcc776a9fd37a0278bff2d84c78c754a9fa239040963b22141223316e1b8b69f4c41a4c404d137943597c4b9e433dc8543fca6c2a9137f8d97b7954cd9847f8248408e1a6c8b9d65b0729d9c9068485497ba38e192a2be5ac288cec52ebd979a43914882352e37e0da889d928dd0ee98415bda83c1722b300781b0d5de430c0dfa581c11ee0b314e5724442154709aa5cf680127273ba5a3362f2af807a646e067831fa0fa9ef55d38ed46d07677160f250b454dd01727836ab20e2aca547114c517103e3426a2e4d985d4ee943c741ba1137e534ab4b41ab1141f8650d098718ddf68afe85f0b98c7dcc753f2d642f2d9c8e2d154e7075f77b1af2359daaba2b3c268647263a44c768face34c6cd5da63b212b14738102623827e41cbdc0488c4504a38c15fb1b224f1e06c5e2c1888c6b944a9a424dccea59c5bb859fde84d21dbd84786a3bc94aaa4a73c5f4e7864b0a0626e46a90fb9681b055bd8ab3f0adfa7cc8e9055c8271ec8c076cade672eaa568738d0007eb97cf0b6dac1bb2d876c899bdc49003024180d3b95f052a1c916bf49eb38c61445ad852913c9e3c11301253133360953c7c311eb8c8de59e7084ac5d560b1387ce3ca04c781e19c813ec9e250c99058655a55b86906f16771b63a4e7d1f15d2771fa9a5ba18ef3182d75133a64c605cd7329fa6b109d7ee23d34ccf8ad8a051ad55c2eda395d1b2d2bbcbe081a63392d0b29a9601aa4154a3bb12177e7a2471415c044dda0281b35d2d2baf7ed6b30c946333c9eeff79b805fd9c66ea6be45f368a8e08ea5f5eb1748ee34ce8b75ec51effb68b5ff39f9ce2614744d3db16f8a70ae72b8385be232b4f64c15e23b570d3e83926ea86b495e170878f75650b41934f5c2d9b52b0a9bd44161e5df32742edf0bfa6dbb8a3c7c4e10d5994e480287221bd60a5615ebeb33141ce6015687202fffeb02bda683208518ee3e4d41a945d80590160db6389e8cd443fd1f22a0241a0bdf6a4572e811ef726ba72799ea3695f14dc4126915377914f853e01a25f9a050c75a67074a9be173ca96daa70cae20060637d4cb38bdce6c5928aaae5fb0be234ee3d7fb1d6d945c618a2474273598e6881ed753d59ad8f66134f89f3bc80ba841639198e53d3680af5401968452724f6f5b5f3870faae80750a5c69d703090100508e90d748fe755bf96e8ed5342767d5c4f709100fe2438ac57d253f5bf515998bebccaa7ce6c8e2c191b3d5b94ef8d3d637384e33f118504d909e85fa257b447074fff36ef5dd3a476b7b3e7ca6eaca8135b97f363fcd4727c145f8ff96d52b15ca5519333f219fc89a6de979d05213315f71d8250c620fb3a15a27273e3249136f6b85c9f9f350d71a97d16ed8e6ee50c77822bdd1b4757d1c38274a127b9922054a97593821a1b6f6d54d2128e5cf9d8d84dfa61abfc17fe5598bc49ff1c3c9fa3fa72aaf802823cb23a14a6a62bc8c4ebc323dd04512b0b0c6a2bf421c60284729e5842c5c2ce764a263946931164850e82ed905a2351586d0443b6eaad51e89c0f81421f709896f09c3e8a7124877ef9b8fca4ab0e24aee51f35b4f18e9ec2bc394149a4ce8bf82e35996b1ca61bed02b942978104ed773d8931374a5c223bae034fdc1b43aee42eb1a6ba2fec7945fbccee7426d212b7ae58bf7646d05192cb04f4da323b5e1e780bb0edc3e3a8d6b77eb162df106903b519f548ebbf06804d041dff2f9a43e7c7fc9796561a2e2230eab52dc481ee652481e96479230fbc5076f2c301bc6bf8520eb9f7a79695e2b5841f279ba10afc244e9a7e7ef46c77cc84c1bebc8c9668f32b18b8b58e84190eda3f0461999e4d29b6efe52fe919a06899ebd8575316e64cd9ed072b3fcf810080ab38ab41149f94242e7995b90287d10002b5fabe12e15fec97b740618d8e5bb1d5fd0dd854889ff5848585ec314dae843e7fcf8c1781e49f78f98084c092272dc4af5221ea506d7f2899d16d4f792010af834b0c51db1f3bed06d8c8e91dbb041c939b5f23c8f81a25a002c2b44806e303bbdba6e6f5310640d1e1da4b43782d65c4b250ef82501798293659f97a36a7dc8de8ceb1ad1a1b331c6d07306a4a285298d996f1a5ab5ddb19f6e657aca1cf37820ad25baf6f83ee164c934bd2e76400a46f38de3c15c366382f326899ef98927ad04823e4f2f897c2604a0728bfdee162801335440f46d7fe3e76ddb65593937c7bce59718bad0eddb66352ce17e0555208f758687f19f176e0bf5bdaef0f1728d6da863940273dbe5c7f1b8543dc3e4874d6b5fecea99bbe764944520f5e62c1b81fef3004f7fbc90558a96644b4ba1183fee74e26458c408a6a7f77318ff76f3f794cc6a9f4d8984dad7955f02ed80deda4a21ca337f36b5660527a0828a6f5084bd4c2122293017f5df7d6466a2ba878c0acd776fb87f23c00127ea185c1782cdaa165e5082820bb5375df4a2607d5a8f049ff2e9e3d00e03af75ea06cd3a0d8ada93b632642d1e572e66c96ba6ca48a5baf7f978136467b177630ed3bcdc01b889146ea39aadb117a9eed7173aa85c9b40b900b5a550d1cb26ce68cef4aa6db3562207b430003a04b4af833117d4931ce1e73b4558ba2ff8e7677aca6aee82a5932c7b10ff41023b8100ef653cc868bb62a0857c2310973ac9e688459501ec8475c1f49e1457c189e42328be9dc0502b1387477bc3c99c35b5035032a723dab1870408f845740f7af2cb3b6f77ae1290487a01976a64c02915df31eb4a0a0383a15d4fa57f963df10caee684ddbbadc045d240caa1eb9b3ae715d11d6b55f89968747ebea078a4352a59eeab15cf4ebe96ed4caf55087c07b1a77d8afa2b12f49eb6c3483015d7c0f84d5b9e97b920e93050acc78542f7b122f2a6101a2d4bf11c694cd5ff395f91121405c96eafc8fda45a9ad0e15c8942256fc2dc3ab0cb0f4ddcf9b20995aba289e2124ef063f3ff5783eb6c4cfd4a89dff7cc0e0440a785d0f8c101cd02d8f724df14b9075d5aed1b68d9b8347205fc1bbed523003bb7c13c80c39108b5f4d8909ca4ebee8e448dce28951c652c426be6950c5821c571b974ce9a7322a7b17f62698ac912b24a3aa22882c1191aaec51da4412b61e8712f86c09491a6645c6230fb12c7a2150d5ac02c88cfb23fc0c2d3976ef14eab4ad28ee2f698b66bc349a370e3d687f9ecdd71d9d6b4c6831fdc7d7e5630b372ad69dffb418ee447a884e6f34bff6c7dd7ac59b150e26bd7f1ffcb32cb9be2022b68ba54ff71f8bdd4feb910902d1146327194e6e1d87baa3845e3868a279ee74fd45b98619b2d6a5f289854b296c095ad2b096e32fa576db91921ff1289320b70cdad2d96b7353a9469bca7557c5946e9c82f2e83fef80d8a5154fa201ef583a72b74f406ff63c44f2d89f438b92ecb5823be44eab7f1ad50dbc089a3bec497b6d3a0631f96107ac4a8dc870bd2c731689b4999b3013a5c167070acbc0841fdcb8fe1a5342fa6c2c4ff5c4135c846cb3d9ae59e2f7fd8b4bff7fe4e8cf719a4f16003331d0179ee861145d8fe39a4027e9c73321a73078a5d733dee8678f7703c1274bd60fb8743f990a1b3092e3cc3a7f232d695b60e8d5784e784f671bdaceacacbefc0d0743c84372965004b9b711d36ed37ee6e3adcf4f2293ed2f6bd79f162904330a30998bd1a082e5b20b2b9f9556d2bbf66e4a9bada80537aa03649555d86e19e6eb286edfcd51a9d95c8b049ca574cd09640cb2c10fb225a9d99090cd2ad23548beccafb88382536076cc9697e4498d7efc42868023558edf86ad1b51c49a6730a1efed892b4914d80995bef0d0330b68158f882a1757d310709bee934311c0ba7cac7e9090c9c25b85e1b63586cb96c8ba8c7522bb81a1b3668403f9501d1628ffb570ae0db40585e5aafb6bee359d3997935d421228e143d72c10d7eae758256d37acf6d12c416dc3528a3d0c959b993ea615e1ba24d8d9865ab03130cdd0b38a3f613aa1b212f9d65ca32f88ab5212d4445fa2fe90d3b7c75b53389d6f1deb1061f3e5398ab5307e75f45b3135a950b8ab09620fe2fef3c1fd72709c8381e734506399b5e1a06584b741a0726a9bfa7e62de9ef3e11153ec6712dd2ced838854d611f5b1013e6f2c8f9162ed24ddc2c71af09fdc502f5fdcbe5eea0fef117555e57d8ca7636f9593da2fc44012101c95585bdedb958ed3225e5f45f491d533aa711dfe93685ed116a0067fb6d5e6e916e11a423b3a6fa910e9a354bfa78059c2f569ef5d6e4d1799c4b2d4fd653bf947e1c18206f508af835d5f2509720c6f09059951e59a35b5a59751649f4d986df1593e6ba53e972781f382958f0fd27623530fa50a828670fca1430fe60e63e86e1c0e4e2bcd7a10264b25f1cec25755faa9391414c7e59a9efdbe34d1081971a11b0df5fa79496253618ac6ab97786e88d55056444ac0aacd6e72899f3fec95bad28496d70e7818836a016ed729f43c8e8bb51e698578d711bfc262ff5094e71a5168e2172c4b9ecef3548c5b5c0e904286e9db4b36dd2c167f314ec60dcdc13e482d6fe03db9d7b2a7dd7891da1d6f94126923d4f4e1abf0b4efa9cc366c6115eb6dd8bc37da74017cce3c56e615f63076f76a52af59c911285332442f14240c20f1411f8d2a5cfd3b31b641eb094c4c5de18af28a35a1d1e8d9efe024c36ca2f404653fab16a6883ef8cb8dd5dcec4945a8e38afd24b63f73454d1685eafffa35ceac0cec4bc8065fc5fe58bd53db2b2500ae677788d56e5ef9b42f3ffe6f0459094c5233e292ee080fb642d5c3a743d24d5f704d577a1fad40cd8a1887c934a1f5a54a79acf15140af970fa8b21d66d54d14d16300e158ff167982e56660f3f0fefd745570a6a26c8af52d8c22e0e9b42e2498a77fef5f486c824b576e29165e6f160bdabcb95889d07d54e434371b002b04e66b06c575c32fdb8c5c6a433ecf3d775955789bf6a9c19f91c95ec142b468128d29dba9812e73bb34331f00531e2e76bdcb4f61d76b2824a3224004166d6519a2892ded17a14719aaccc39946a51fe4842ba917637a87ca3a27abbac5f0f27bc5b09a9b1e460bb847ad7487febd208792e5824405ef36287f9c26e1a9331cc93ab43de2bacefe672d375acb23575f16fbb9f763a1b97b38517bec7615ccf6664d5a62182d82a922965176ad6d929e12fb80aa61c0c43b0a4be55fe2233484f8591a894b7d40bd866c245698fd20dece3ecd8f3e5e018fafba461b425a8ead7042f6ba49e9a24ab15e75e97c41bf278d0551760456fc8ae75064d68361737ede05fff627d1577a32a15cbf1cedc1ef67792e0e4f45c9108a28fa27699b8032a55f3fb1816168b0bf0e9bf72a07ae0c76387f66d8027a1468f05ca37a5a608f60e46584de4514c79a6321037feab320d363c487856394adf8ae2cd8b5a94ff5ee5ef49500d4ad62bfc534c9ee7c5ebaf0a8d434955900e80671012dcb7a76a9aef102ac0ec06adba3f57ac9a322f707d2abd6780d3f9ac7d3178ab9fa82ceb80984d628cf4f70192bf0136d807128eef34fa2aa0b956d4e1cf840bee0e59b3560cfdc465952aa71bc3496b6b58190815e1f8a1ec09e339fe2f0ea8ca63b6edbdeafb676896201532bfce3ba16bfe1b59e289535bdf5eb12ee35395818011b452cf68bc10aa6df251eb06a4d82f43146f7e6c8d7f70425a71ea8981cc8b8818cdf60fa656333c22dd9ed2dbdde3280a8fe15b1a47f25b0dc64a6757cc01aaf4fc6032976ad81cbc7734bc4a9855445f91cf8b3e4dafb84dd0615168cc19505af51e78d00197ec3d48abb5efa965a21befd5f4c627243236404ea9f764e0a3b8bed1a4f306dd0c4e146fa7a240f2476462ac1f2215ab2437c5ea8f41a87f8ecd43ce42a0f4b91d338a34c3f911b08b2396fbea088248fc65e689944c8a52b4ed69c9e7650571855ae6782d81fe4b24499d68016130490eb806e2f3b3c149ee3b4809c469fcb08c9530b99b4c4c4a75bbcdaf111b46e5ba546b6627e3fc49013fd77e50dbe1e2a64ea2de83451f9c599a56a4b0d56600001aff650a543656d115e0784df95bc36ef5b23f5a71b4383228448346bb34491682f52cb844b4ca8af5e39ae79544a67374261c2e5281a742b3536e738bfeebab97fb716299373950dc0d5848e54c811b5d44b70a1b388a8095e2b4f0da748aacf61b92658f02e076964ad4d1f9fd0e05906ce2cf98857937be737b31169e896d51da46a4b8f6e783d0605a6aa60476ea33149337441b19fc5f7ff167bad22d267545150149678c9699a272649bab263f1f7758c87a9ad54ad34d4132ef8e09813297484627719a770eca5dbc2e7bfb0d57e39c37224a32d18206c268d6fcec4f670462b71d7032ed622b9f7f5ad6d6a1dd25449a31892cb58ce5bed17a0a8df925ee8b813bd2bdd7626ba0a9515c0a902b056904fc4bc3831c7716267608663a8dcb4cf3a056d36ec70f7519969f102fe6bb981ae95dfd7943edb258e05c176cf8b2ca1cd00f27c70f63f7bb02b2faa7bf6cb13023f138c041136e688ce4d4b75cfde07391e8628ae7739a8a7a6b47039ad599cbdb8ca04a8d04ef1f9306125f0a0e0d86058a75b74fb82e8df42474854c936816d3a2ec66410b03517b1757a9564ad4cc9858503a01cf38a92b25e04b9e1948dfed612ca6db492d7d69c4eb94818d2c9d684c6bd54ebed352400e21dcfa77fe084bbebd4433a717c71829c4c57d1b8b4d86c1db30b7fe1e4dc507559857bdbd32ee377602bdf29e379bdc1374edf5fbdb0f1d642942282cf25ad1971348755063d63ee496a10480220cef98900d72207f26499ad685b00d16ac555a0a114e42cd4c1660f68968fbfb5f0eac9a9a3f485c142f7b55366f8667e3478bc7d9dbfd0abc9453163424645fb547a55c1c0af9fd7a6a9b55af53b5cb4018fe0f6ea93476b2dbfe8a0ef550858b01ac470bca4da14f86c7712d21355e434daa5a818869a53fc38a54531a7399e7a7c32fd88ccd68a803cdba3ef66e5d179735a519aa8c62f30b95da0e621c87b9b4d460a7500dbafbd838875940833c6d81b28d67ce9fb4f7b4396c79784bb39d31281bb73935f71605fa91175e420fe2d090f867d8f1861dcbea52195807eba4265c72d7c9aa084e75e02589b380f84fb3f4d5377c5afd662b4eca753d95f197533167b0252dfaca46068c5b9a71c425b7b5026358cb7fadabe15d999a01a512363e214100c94ce816a092862a58fce35ea8cb5417fcd2a7cfeae78241dc88be13b8acdedce525e7b2a883ed74e784e7ed8f199857d825e6db354a42642c08a95dd9c5bf98bf666ce1d9fe5dea67d0601ab37dc8fe609edc247a224b4c9f8f72ede03b40149fcff6cfec6d48bfcb4ec19e994202c47804f1969d647d08e352e65a28bba5cbb115066da6f702dcbd2b09626d728824f69f557821d8cab39b6aa0bbbdceb82affb79e6d1fed1c8c34ef41c3fc2c94b4acb9b253e9040604830c0ab018ba32790679b71ea6fcbf53d9fdff47407fe181357dbb3c1b5dc8616dc65ac507ae86dd662fea191adad5279ded7624370c9bed64540273d1f8c13d91e78d9353440291bde8220283706cdda64f446b8d0ca192de624cd887f06bd93790f5627ccf3329085252e2791bb7f15f7db8e0e712fd57c456ae6aad8724f21049afa3838192b1d1a40c844a8c9101bd0faef5a210cefa634e6860db5e5c626671d94aac6c4d1762f49e7b6e90c4e0dfe297e68e140e982bbe100a44ed641cd3864934393aa22eda84a5bb0040a87b42271a4b8d7dab6476f258b509c11f112de234db884e62970497a0c6dc4ab5e0e8ac7a2e8c6387089c5af2e850ac0d5c0cc92c8ae601d37123f073a3dca582e2f7f466be2cbb9f9439d9365dc10131043bf6f7d06026c5f329b96c8817065362f1d8085adf3403813a5cbb47c2ca13b20670458f1ed505a7ed2dc0c34d2da0f88a1af0035a5c4105a8daea080fcfdde9183b475a15a823e5e080027b04734ca6ccae22f987b41a5a36533a8c6c7c470f6b2a4bd2a0be38fdc0b1e1b7db0e81f5ab62c131aa06a68bdc16575fd0958e6bb50d608044beb45594697f934a3b0946d22189d59ac8a41de4de2586ae0168723a5530d84421536c4ccfbac5765ea42a0a507bded74808248bd445892973fa4ec74ff9a9496399d7be62aff03a864e4106d4721d32b08332530ff692b7ff305ff3faeaae2509089a948748b562d074e4deaa37979ca56c81ddff4d5d064d411bd193af783f69de5cc93e78caa23b74c51433d8222aee1a14fc0b756826af3b0ca2a64f6c6a95e248287e3d2ef4c7abb3306c96884758f419de9af68a34faf1653f6ec8b77b3e71122061f35d3a6ef74a06bcc6b27af188336a94ccda181a8984a207a00535d3ad6f9c978ed2bdc023bd5776d62f5860d311a18073360872d1e582714cb87e2f2f4f655d65c69632f1c8302e32e0ea7b5ee4ecb71c6737f407cefd9e3d08b3d5b67f9cd3f31e56bd7244ecb36cad1f44cfb4fd98a719b5bcb9d72c5cd4b7bd3a788e191b726f2b4e7b94423363894a889a4debaaa709e80fe0e4bd82da860df3aa3a21e479d5f5ab4b92e2a0429b7c1690cde0ed82e9aa7a90ae3c930282eba47927b9d129bbfdae9621b99cbb035fc0e3be3bce0429248aba25495d9e721fe21a654f61e73b14a8ad77afd90d4b6e9963cec23dc8acad7a4614bd39b888b99bfe5597e17bd409ddd25117beaa98b6a65be3a7510fb54ff1215bfc1c5b2c6e749ce6c10d8c21d6915007e1f747f9662c86c3efa5a889c1bbd2134dd742ed378a9876a0a283f8633b0288c1b63bd7af635eababb16","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
