<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5120404dfd7c57c785a3d63abb2ff3162e5123a90cc60fa7aac1f20dcee10379b83ef2feaddc084bf27875a583a4c2a9ff7a50eba3f9586bb656d8f16956c1e11c0f318eb1361c0290b7694b36e2ba690c8d7952e50d7351e7752cade6a155990981fa582c368509c94b10c53a3224e78f10d48c3f5b532710e74b44f0a73314da13c111aa8d833034e2fd95a76eb6163f874f2c87dcf05473876e8502d2f1bd7c52769bcdbd8b6e0a45cc245052c1599d8433788847175c47e8315bb32281600e119a37f3b4bab775fc6494baa445bd701d668fa982f3e3ceb9e908f505f248f228fe8269f9e604fe2a89e8098060fe0a86032e67117065738807bbf99f75e03a6db9770dd32fce6696fdf9c8ba6c1a4af5254d338a79b7bcee76ed447193bc7a6e6963639fca2581863fc034930da6ca369bc0382403be56b4edcc8a0e10877aecd1a02d4d3ada11b8561a2215817c7c508f4b242b2676137bcfe2dc9467963dcae47028b8f2c6736761dc97958f45f378d5887190845687c64c34ad372b253359aaf51e6859fd7bf4fff5f8418823b1b2ff57b7a8775050189f656d77697fa82648f1135ca0a290a56048a1570e1431d2c8ebd538338b000decf197fb1cdb2c17b47f5a2adfd00b51afdb5bf1877f19c36c08f886c30bf69526a5dcee7ea54128be38b61700a4bc5dc52079596f1349c63afdc8e63406b08aa6300d6ec92d46ba46fa70b897c63e5d103110e65b99f6e0c88dde8bca1b2fbf77a0bea0e8ada5285b659ec5107715f51b071ae131cfb4a0c333dd9e8bc5730f2789b8187a8fe2f514e8802cb03353059096e4d9655a8767ca7386d156c543aead34d64312cf40eec203b3137580e62b6fe364defb85ab30b8b9e7806db5a5437fe725c1c06dc43da97d4fa39d4afb1d73c203dd2fb0224a10f66027f1ba0b25f8335bc67f5039aff5515e4a54dedbca8ba68bb445e70af5f5a325743cce6e04042ce75ee0cec91f6c01499256e28f728aae8e2b2093ac16ad0f41acfebafeabdee6b05c419de0e2e8d8a37b1c5b66169f385f54d5974ffa0421ab0bdf144afeacc8e4f30fabeba04e2396463ebf8875666604947653c0f5a4b4e69937492c8875df926d8e8f68d318d85fc1add0e027bfa44bb24c2093c681533b970c5136d6b96c486041e3d6282d2d1f3a49377ca56371603dcf5742ecd928f9737f175b696ba8f4d4862fc21c592633173429e7d91b0512c528787c7382ea2046412fbf2c3de255d24d6a460a3f116ba331b0da75d601e6e1508dcfc0011c2d243529237272aea9329d0a7c7f5250f1f4c4870762171e7f843af51fee2ae1a8ae901814286bed5fb831d0f0b04bf3d9367d51aac13169df1a1e2369e4db1803be6120734733e397659e651ef92fbe9c6c4f6b7faa304be57b60e11318c94534105c84b5a9df3f6e24c1fe42db8dd292d0a8314df75e0a9e22b80c9e0b430d5e5b8eed6ce02d6d96a221a04ae2cf5d8ccfef93ae2490727a18d2108a6c107b9d1d09a4aee08a3117e936945d6541799bbaaac4837e105dd97bf1cbed90ec87273ac33860133a42a94af85f3310cd621faa1096d3f1f0187444e3cdd56df0b46cfa2fef1167eecdd6ddb4a868706b9f8758d2e95ede33819a3e8e3ee70b869e263410e841a16ae53ccbfe6a1772df2b556fa68ef73fa46716aa00b65e24d4541a6e73db465a691be361bf105343244991b6fb0628a265a87a3b31c1632fb0cdc56576ed2202d1204c460b39463cff31dea95cdd15aef03eaf4e6816076b1a4281deb00a475788784f8248f16ba8e20354acfef2992a5dc1eced8e9520fdba641ade750360f7c24b06974074411e80b08ea60cbed10c6191778e659d4e31cdf11e85abc9d32e8aa1fce282657628c5f13bb987e6da1a46a89fd2dfaaab6c1237e801611508b691f2431c6f5ed301f8aec602f04fa00da940b09ba7e6db0158ba16a6d28593ac7627c005a7291b7af1fa49aef1d84bc279439af05041138c420a2aacaa62a34477e59c7fb382008a63e5c2e567e543564412d628e0b6d072192b18f0299a27f42d7309e17d4749f3ecb86d59e342451af74db2903699b9b7fc31ceb1e632dae40d89a0a388f1c6161b92eb01a98c3e8df4c72a29f36280d0a8dbfaec89726cac1e8677a31a2cb174d5047cc213d392944b0699940a74e7aa10987be6334a39bff779cb3d831ad44ab1388ab2cfc95edac04d58c20692976b11dd32f03a3228330fdbc585d54aa2d546b4a725aa5e8517cacda6bfe9fc3a3a553c3b4d912162d0eeea3674fac83f84904d303fbb02b7b76cee2d022074e8267dc059ca9c07ead76b01a7a523ab266bafc8373ee659530c18b433d01098cd7a75c91ec3a61381af748e2f9546425e293ad81dad741f1b518ae99de147b6a43252c93faa00812f7403f7815913ca48b591264b172ebe6c07465b76fd6199a33142f71fcd4057374a7a4ac48e7ce9781afdceb136247ab3e4f5f8c1a1d5be2c482b34ab3b9498b30e7ec402684bc51eff5beb9aaf28e1b93932af61a43a1d89a918bb6d0c836a39c48020281b1c973999bb5b8636299586d5dcfa94d6fa14a11e0a9dd366ffa47beeb458d87c991308166b8d1862e9226bb19c5f01f7f8194f8cf83afe1e5b4ac8f550ffd17f5f7d61d459887b9739a2ce70f1f87d1b5f26fed0050ef6b6c51507218f8a4eecad98773c32ae77a6ea53fbac0c8ced18b3de912aa791d31707b585e841e1b4e4deaa1dbbd5af650829b8a6f91152ca3d725debe85113597885d4479f950adcc5653697542920881fb43d1e394bbaf52adbb74c9e067b17cb34088fd418336ed1a27275fac4e752e104c60f7c918a6dcd90bb96f9198dab1361f87389e563dfd73489970ee030f5eeb5ace5fd96538c891642e0951df1876c3b4f1316d47f023fa960e40c6b987cae737e21ba426a4802879c89e23c76190c4666490e6fe31788c9564c869cf49b57a6373dc99a6dd3589fb52911008fd1ceecfc87bde763507cd9dbdfde26caefb6d90d42f894b0ef2d87d750085738ca16e85dac0f152945cf29508000a2472bea288ab98d0df3fd02796601486e1a32c6f48c402a4e10ad42fcd54008fda8b4cce67b907362abfd94e776ef7791b7357b00a57fe6c397c516cc880eca1f3a99fa5b6304f958e08f781b1518b19b1a936a264606ccaa04e50eb3109857f560ef1bda03d279431f70f47497c0f6dd8aa3deecb829bdbc3aab3aeea96960536ce3ed600cb685ff5633e67605e0268592c9e192f219e96f30833b0643ea0b17b66582362d77ea043c693606e0c181af04e092bac304318725f02a14cbbc8562eff4165bb1fe4089c94d2f915280128e68c399857821e954ae012699f92c0c402bfe78d3e7c7f97a4d26b928cbb8b6fb5a2a6a20b9f30015954d54f1377b0232aa4c8dd63f428a7d4ac7e91b1b03d61c7820fd230fc3361789e18655b39ec29871f0a52a16ab8effb798b073b015f0335af0b549ae78813847fc988edbd6753c5dcf338029a0eb1153e43e18f27d97b5ef18130b36ae992b5aa73c26e081e460263cd7f5fe9940eb1d4ee76112b05a4306ba649ab1516dbb2a5d3e268358614e4e0106794e87606038e2b5a95f8c630f1c5132a0f39e9b4230da424c5a37a145fd974886a88fe2969c8e9cd259d1f6f4b6f1ee7dcc05080d912c7ddc1d8e68ca66d1cfecdbe162c29795df3105a65701409b2c618f755ebc72a8ac6ef446bbf4b9afced87826b24f36cc095110d02cc541576ad27ccc57674dfb59fc29ba7a987c71bd19101690a03295bfe0e90600e1435144896db830af5fd4f2236192bb7eae266b0d40c787d88ad98a1ba61322ff870d64af399865528a122ab920390ba80c02c399b8c870b0fa27bb44e0c9af65f524320d3467e6e2a0cabb568a2392c595488ae5450df367afaa0f11fcd6f5e81b70f920492e910edca6b21d6c95d2b684646f7f78aebc54bdf167acaa016b0a9ed68fb842980a588063a2cbc7fbc95f2f8cdd5411c71dd0120ced2ba49f4d1e9ebd59dea7c5a57b33073421482585086f003f2b1914c6b8bfaa7554059b01af6a0a8a5ffc40b219f9eec62d45cd972b1fc53d0dce54b22cef97936d9f1edb256c0cef65f78cd5e009b4af640b4046d86a064095ffeb4027c40ca3b6ae5991f585ab68e8a944012bff1dbec241a94e3cfd63c17b3cc8ae77b9b1e64549ce428f5be65f9db5b39b80edb568806a478dc708500708d403142bca6a4bfd4c641a79d356ced13672f5665b452d758b862aa3a8dc42cbb00bfd5278552824772f98539b1209894eb89e092afe554faebc947e415dae44fd0027791fbf0cd68c391f6752a2169c08ddeadbb30e37a0250bd12436492d9793c6f1f4e5fd4cb14d8fb3c327deddf4928dfe72e9ac7fb3cb81b0373fc8ce44fd08f822fff171760979f1da297cc803a84a4a57149ed373b30155e77d8dc71fedf1a032d0b3e758bb1d7514f958bdc9fdeb1bd128c1ea33d012dfaf7860f6ccd0cdd3b7870b72be690da7683f8ff2c0ed7446990403935baca076eeb6ebdbf0822d7e7819504b87087d0cad72f213df74a7506a3348a2c4a2f1eff6028b9337c06eda7ce82ff9252c1ac045a4d80c2022469fd76cd2fb280b328d176d4da100beadd4d58f83f404f89698a5b83b9c78b6537846c9f7c228461062214f47437ce13bed660ff9538696be15d80159410ac2c4755296dc760621e3c374685a10711d3a81a18cdf3dc7a53c72a0986d0baa883010344075803fde2776864f9acd803ad29f1cd55a8f604710ccf4fe058eda4282073b72019f7f4858122dec3d26583b15e1312c3675850ddf1d4c0c083301880b2d729e1fe58bbee3b56f8b6f559ce4a97fb4c9a84063362da9b1ecb8abbe3552f73937f48fa558e3234409d36c7d499e1643d01e682935e8c523ba22d89de415c0313d73b82d3dcb50d3a410d4bfae0cb90879e3b147275042cae74f2a533b35b00c144bcc02f91f41f79cdafcb863b3a0ccb8bd224f33a5dd2a6c51fc3ce707f65a1bc7649a8c3f2652bf0e39f0a9b165bc22b0815a03855054b61f90c251b1eaeec99edea2ba1f11f15f477dd020dc38b3271319ccaa90b9f681df87121dd14180e2b2678d93ca8561f4230c298de8c145850c7604a0e5ca03644788204ee7af2e873849249bdd7607d1342ecf08658dce8454724ce365a4e0e204bccc90b4f90aa6e3959f7a8b531d7a6f97a25950c8dfefd2401cc5407ccf38fdb2a517be227990fb021dc6827751e3066b3f61929da02dbe3db9eda7197318c587211e43e4b47f5d8c34985b8430b5f33d20ddd3b891070a6e139066d93d845e77ab84747417a4f42f5cc571d5da40367acb2a749688ae94a919205ba1802b50c88c61a494b879075356aaf3ee347d91d948953b7c77558c15cb687dae9e955027070d513e5a4bcd8c6c25ae8b89464f7cd30e9c3e1c83865f3c357749e7748d33bed4dba306f2a11eca8cdbd47e69fe563a411239ce1ff67eeced9950c3c7bc001e48174dd4ee7265921cf18f12467b2ce01804cb5a318b24061f2cfd23f2eb17b6e0f97cd2eb93394cbb296af6e9dad0fbffe8484e4fd8e43fde2c6cb0aac78e455d204c9ec1a722beb9492ece3f359639cb1f94707d157d6e3765a1e3495cf0f8772b04fc0b62cff5141d8eb35d7462ce3292d85b1da7ed3542f7907dd120b2d012c9a062f2247154d831c4e58224b53a5ecd334778ad25cb7dbd6a7d507bebd9d912c88c6cd650b99e28c030906640140e79c7c96da6f5f5326b45c46a78d5f868c18ce57b952f2e65a88d5857965007d10f110620cfd591d0750d60571fa92922d992406f4bce20a574082c1234006803fd5c28862aef65a2efa5efca394b56ee00440a06bd69f220637dc07ff50f36447a804cb2b7470a43fe1a80888c77b362828ff9b7d53a19dbecd67ee025aa70589f764ed47200b25119988a9c91db9f8ba6027c2eba3c53589ebc1eb66fc30fa23b246a110ef36a8212d56c2b541db039dc0ef6fd31f0565e57827d6f90a31c486bae9fdaeda1a5a2a41c44f6b4341ba7b557980fd912f2e51b63bb65acb4120a2409e5e069af0454183a884115bce4faa6289267950e4ba4b5e9f9fc7a7a5e0087acc45b7491546af8b87724786326e36ee35b64060ceefe0052e3048c698e049a28537b6753f1dbc34634202de818e90c598ff46623d946c60eb1501da2e9bed54a08b5b5cfdfd08cb188a45d0ff559b3af115897963a7226a114e98b01900624a1f9292bceff12278989ac52d51ddf909dfa5525e72a312a931c8d2e519728f324119ed0b345e511bd8cb0ab37712601e4aa11ccea3e78a066e82dac9438499f726f33908fe03565d28d35cd89fc4343035a00fc8f58ea9e8b1a2eea1e77f8e43c6f4c1fcb758bd2eb288e41e40a9dba3c3dd5bf01fb834677cb8717d34304862377f5c4037d046e218c5282faebc08f81ef530f707cc8faaa28f72cec4fc5c00e256ec5bebdbba4679c4869a82f70e1446aade016aa4b0146ec7db10d430e39813d67572e4c66f0ddabf4d99438e651ea11f8bbeb576f1b4128eeeaf2674daa56a0b242cbe66c4ec79840951e9013c709c859e3e567201e6b72cca7a30d395f460dd292e86ce6afa10a72805b691f9473e726565b890c624745f527717e193a1906d19afbcefe15533a87eea6e17e28a186034c100184b74f3b66516ecc9855fac6fe3cd524fb05c6925fca1f0518a588c3fa4e4c7e43c0a3432a40bf0a123cb9f352baa0d796ff145708561464b012757fb840f8b58b6ea5798b20c7947b8c73a73fcdaa877fc9a08863ac5d3a48ebbf0ff541433930102db4f3c894681380d0667304b49c591617fad47dbe8894fd43c8e77ca104736171bb96357ce8832e7036df8fd44681a62aab08bac4ba4567207b7e1c59ed8f4525eb220c79998af8a3c7156480c21ee51e4bc8d321a40b22a1884dc2e6ba6fb92de9718cd4ebbede5aebeb46b7692bfbbeb6c7fb290793653f1bd94ed974070dd0349dcfbe7e6a3c90f01eb58f6b88596cd22bd4a8180d9b2b2169c56407ab3b2c20656de84116da3821a635aa19495c80264270a41288ab5389791bc7db4a6e9cb501a7a3eb669db8120ee8d7777356f7e0669e4d934b95095d0dc354df122b03c456fb9376c0317a94879c59644f0ff835ac7df99c821f3cf51d4ce95942b290b21078bba67df10dbade89a8f5c9828e30aed69f78800fcd0601198191f4bf1880ec1a5678096ae2961e9e335a1e963b8551bd18019cfa12d547f410e5f65e99792cc50bafe1c76e0966fd63a509df0142e0dafed2d6ecfd9aa62fd21d75064d7a645a33bbcccb969897ddb01978eb8abd13ae216bf4f5a7b3dbd16906ea445312c9634d0c91781acf3aaa01568a3e645b2a4ccbfd681c88de5328554d5fd178cefc1e363232c336ca126d0f3c72e24f58b7701b127a8a4791bba8a9c2670010e83e4d4a988fe6be273b2d36fd3d514890576db7cd5e6a97052a5897c5513b0ef1822c198fe944f4c9c0077ff9dea806f9fe467237d78f2094592a2054fb6b4c950d2329866705812f2b8ef6a07740d1e1b2d3586ab6a188dc593df6a7b9ddcfc90052c26b24872460891719320d6ac9ffe75f0df9efcdb221e96ea800d718bb931725123fdaee4965fff51783366bb7171b557c039522d470f7dcdfb1784698131c8a480ac35146019f17b1175110abab00a499707373e9e425919fe0b66e96c7815925bc4529b7f7165850cc5ab4ea95717e46b81d434f61ffce2213a4d84a6593f1316e87bb503844cdcf5108ec9adb3d758d18944630430884f6c41cc1ebd92b72d14cc74e4aefc2b1b979576c9bd99f615f20127d2475855b0f24586bf3f6c9dc12317a08a657d4d25f30018200d7b703de2ef661509c9646ad2ee944c37f3a73829173eea0d2efc3aa8710f833b4ae8ecd287357186a70bff5bf84e4d4fe718b2d0de1d804d8c15220232d0c924b9b9a15ef4883234ab618e0929943d52f14021b5cf99d3416bab5b1934d0b7c0feed890106dafe40955ba0387e6cbdf93c679aa06651caca53a4daac69e7f99c1c20922ac7cd627ca3704cef91c5e648d083bb48584f6b5b2df3b7d2f7d61462f607398a7cda56e10197977139030df764f4e12afe5b38b0ffbdba208b42d17cbae83ccbecc829c68a12bbe09bb1bed0e3b2f332c251dad337f0ebea2d3d16cd7e998909072be2301d52a0e204ce6fab33199090808c4e083e1666b72e88c4ca301ceb0c1a3d6f4d71ec6624830a241735755b115680a6a3516752d1f4652e18f391b64e7a67671f5516ef27f45b2734d48af6e7d04c28636228bf2922b0546fa9c9a1dabbf64fd30526860e7579073c15f19ed5f5505beac761cb85743baff5343fc9d65f37b2e8d47f9e622e41a8ec378347c7531302eed2da799c54b7e34c356968da241ca1bdc58589198cc9800b38b61e656a2f0ac7c092f954da16b9462d97564dd43723426c7eaff4e9d5956f47b89a45f0d29c0f7c1fea1407178cf7791519fadba066572c4b539367000cf94f939d7c0b1ddd54667af0a0fa6a3cd8fc8ef6548baa1a2534735074b8ef68393c0080f1067198a3d426a511e4fbac62069929bb1ae499920aefcf0f682c0c42dffdb2467c145a6ea8dc63c3c655b7d57653e70a5ef57ff3b6b6f9c698a53291d92e9d768c8d2fae0c5eac6dece2c73916425e6d22fbd275d82ad5ce4af12398a80ef48eb57f3f30a8466845e269664ebb1cfdf6c912f57b8be924dd6b8dc8ac5dc521f50d88c75b1f0f93421cb59cf3b48525a8075092baba62a399655bb0b3e057c8d8178219bebc0b17317214b8e9ed36ef7809539b548de98d75343d88dae6ed8ce0ad09741271be0c7e1579cab750955c7edfae9746d3e1d65c4d3c910b3fc9191330572ef508b49b9b505857122d4cd562fbe2c6a80fab651d98e54bb5f77ce0d4f8bb2221d8503a6b688cd409ad04c48f1150ac5b70a81a2901cfbdde28dc3936d590283900d9a0aca64314f3de6ecdae3b792a72bdaff1da8278b2ba970fae8463205e22e96a94b9842693a3a00140c54870bed2e27276dd3c893faf7a934e5439377a66396eb78475b0fb4ee0b45858b6a950ac83ad095e14a18a97f364138fb78d3af08f0f0f463e0de780ebc41a26cc858086c0558f71b7675770b8740c30306b7ab22a7d4d8be1f8f45acad3bc8127ad7b3adf8b2fe13d0797288e8710e7d968b8e796e92eaaae2e3cb58a3232257bac0d0151189e28e0f029cf0a604594cb3c367e23cb430074304cd35f6d07f3130c07522c1c86c987eb592675b4b000a4a0f0e6fdbe5096b87209c5fe59bb65436212edc7f0e71f68b86718bff38f5eba235d64c3fb2eeab59983dcdd486573197122d6c7c116736fd1794062a52d0c84ce07239ba9614d84938b75287a2b3aa47c3a89dafc6ae16b7ebcc9e46fe752b4e3752112aeb511604f13fd5a55c280afdf5d308b6a87accdb4b1b4b1d5240b86628ad493d19a043795888cddb9914bee49c76f9d9e86320cdac10ee86abbad506cbac53989a91118e8744ff5fbcad6e05930a61501c394abc80543af34be9bab238d2b4d63558cb2d8c3517c656e11a7bbd0eb6d5a3381a763f5b83d34f59574a3871cfc6d6e985d80ac808afacb122f8c2400573d918124333d48c0f85dd4449e909d60c7ea3ccba24fa03ccc196b136c4ad5882bfa0ee9c7ab6c1c0f2ba0740f9567d00b42916a829a89ce61d0edfe2465b1a3c3a5d10fc18f84081824bbb13f9a7b39070a83f48a2531ea1f8eab5e86eb9386491b0b1b9aba2e4d886c76490c89a173fca10d8ef45e5ad5eba2a5ba778455ff511c42ad7aba2cad3309d6ff7a4290d0b58732ccdf8cf87bb9fa0f79f768d0f3247e534e6f9513e9b34faaebfcc0c7f12c33071d88c1db0bdf485f3028b04670592d78eb2112f74f24876f6e827419f21123a819d8b412b19e82887304cef62387ca48f180f6244270442d601a622e61d974412eeda54b9b0bdd1d6aaba5aab411085b711cade8eec28fc2848718bbc818dfdd265b6cdf3518cb6c8e6a8446053f4c02c754d8013ddb0e78500ddceaa7f5ed7038039e59c99046b2fb0da8a1d3d956fb593c8d7a186e1464366839990334edb2f1dac60f0d6ecc7b21bcbf4bd594bb451097beb38bd78fd9ab8f30c4fa2c2547d7d347f5deeb45c8fe433bc52834b6393b9e94a0ef1d39836ff16aad77d9ddacd0223f938ecfd448e4e1b613e6fe22564a05d276f07c01426cb7338da2c3a604c57a61322e45040bc4a19a04ca811660de3754b0e16264339c677849a82592d7f9b29e5f4475624d429e3a617235f06fee42a3cf6a8b3c69172e2731e12032fcb08a3f678d18cde8df3da0d5b149740aa0a556a77fe035e392cfe33d5837481b89ed7e795a3f402af46aa7f0772311968cb47173b38f11fd1d6c48a2a0647fb5257ee90d3f92a78b5db8c48a38bddd2c6bca01112cffa63dad16a0d0386004fbf1ff64184d507d4371b1b2507e0d1ef7ae98921a56f97910569181928410ffbdfaf8c42684967e2cb838953cca3da0f3ba58bce19ac342a12634d14812be9521a02909773291dff65f255bbdbf2ea8595e38c803ef338ceac42a77b977d823405e03773b5af4d97c05e836720e7ed3b97b65c12979a050b4161ded59d6348af4ca032ef21cc66470cc7d34061c5d0d42222cf323043b780d17d67e7f1f25b7fcdca670f2d7648fea0bebeb73c17e77ac686d0d342a801906511be07ddb3239c39de313fc9b25b9cf906b37c505da23b204cf584cbc4e2e5412a6f91c28e9e4006f5b1e0d522e115d2e2fb8a9e2f7b6ac45e0f6f809266b7e06361b84a2b5b123dd0c3c1880097e4f239793e69cce9e84dde9942113734176c2d3a502f7b74a93f889fdf403527bf4fe8be51d9176d36739016a7b69f748fdb928f04fa002f7fde042e85c73688508fef148ac3bf5bb3ab649f9ce2888605bd0e8f544cc97e560b7d9b8c9220f81902de259db40f9cd30a81409ee4d1d176f652576b07d99dd0e459d0dc99cdb18aedffcf9a173b7e6ba662d0c77bec9f7127e0e775545bb26b55a0bee841d8300ac2c39b05e2e2afed90352367db580581d47424b0e8f89760fddcd86674af4ca525108939eee151b471b26816481f91de69dfcc5cf71f5d77a70b0d1f0d8d5f4a81d7c727fd4ed1c6532c958efa6d909edb7c85aaed3bb4f49e10544c6405103883724ff0dd7c90efdac656066ea0109291ff25600ab8f0cea50f49cdeb2041b93b355a1dd362f0a353b4bb4bbe2383e8984b4d48b1a337399fc59169b0c16466a67d8bb037ea04bb25d5f9b8a51dac76f2bd86c0756bf09d24be62dbcb3e7102cc660613f8efcb368d8a8e5d22d175b7bff1262a70e863097cea83ba77cc49177b4d162946fc17ccbad9c6cbde11cf712cb2625d1854fee8e0d0dcd9c7ddf88bf17bfa96fce409cebbb050d7338c4c6dd4292c0819308a05042fd1bde97de993f2cb3e774df29b59e0c168a9c567fb90192e5a362a96df80148ee79e208ee1d8c4a5339f7f55e252a4f2ce1748fa3c87f30044da3e744f6ade2cdfa9162c37f1faf3e7cd3dfe4f639c34926ab9249883e978ac6764b6c0e7221fdbdf9555a53259e12d38b7be80aac00c26f544c3faf086f5690caa6c022b9d71883b97020cd1f456ae51bb9a14a49c41daf7d23838b3da53a4a0b10f9912719f13c3d3389ee6f2a0919e2fddc6ac1f653b5a1ef82d137094ffa3a7cb86f80ef8a43b80a01928e692d41130b9100161916016f2d5e395ad70c08446bb59c4db961e7149967ce72c7b988323680fa1d6fe0874170a36fec0282e783c0a19d1a577017923c8fa99c3e6876697b67b8a32027a401511cc0feb56667ac51473f10a3b772c9835816b6bb9290028226bcb2e415b0c754ff7d858f8974f8e703d003c28279bf40f6a7adfe2d48fe3ecacea20f5e18806bf05f1c123257a4d135d7a677cc525526508c645bb5988eaa8c33987dd7a79a9e450b34fd2f5def157f339be04d6114732ba9111496358d7d3b960b51c57559e8c48deac8674ef2ec5c4596fdde729289c1a6349ce21b2a36c308a2f570a2d4c2b0b0d2102f2153b057f57ab543897f765fbe6b1f28517ec73140208bea9c318c1f1bfdaf044cca22466c666f439f26b9368cdea87a4aad221bd358f3b4aca2880a0a724066af4540d2f903d6c8015c855ce32cca1da4ceb2a2575c54935595d2d692f28c3c1a61c618f0c18cf0eee5f4d141718749ec31aff77e66789be81d4b318c6f6d8ea98d286f6a5feaa4f8369e9eff8328aa4d1c8678207ea39e28e1fba24208e6246b1f38349ae53d2452942f57e47ba18e1cec6f7c6d7536516bb145144e074fe47a1e4e874e8dc766d75f3414b8fc1568f06f3a0476a1b5889f7addbdfb2c916c68d6e3c69b089281431695258030e5cac1e68a705460705dc79542b9d95d619b586aa1341f32b6c343316638a68ff2808f931e14957007ac136373eb2d63ba34db1797c50d535eac52729cb448f35cd64211953f62b19b5210da6408957c33b041f3d9a75c5742663658fdf67e5069c5bec2e75c96db8dd335580a23f7bc8f2363c91c7b57ec6a4019641d876a8f55390178d0e27993bf9e89f4648b84283ced9e4baf4ed8e12e559bf1150c18c9ccbc41ffcfd099102bc4ed2f7198c664a556b0765dce9e1c7a8b4ce9c7a0695cff03b178ef1d3411b3dfbf5869e501eded267ba9ebc8fc865cc9db7ae32b159b54e805dbb64469b4c680b17cc8a4ec0fc4c17ba0db3971da3e29cc3f11b6511ad932dc658146286e4e547b8cd4778e7f86f0c77b1baf100a83eeee87ec9ee48047c46e31bc04ab321ef34045c05dda794e160940e858579b8d673f928c674fc87f8d419c87761044d23205ca000a56908526f23575e857f8d87bbbd00bc9888b553447644663c1636a509842e8bcc31dc3e9929f72b38261f5ebcde4fe8b48887731c6224c8966e2a17e43fcb03a4ee210a9b9acfeaef3312d3b8aac172f81bf11543700b9e8f6a45d953a021ca6bb73a4a3b46d85a9eae69390499361c2c09784c25edcfbf10d20327554f6fd3b57110d83a95aa21693af74af07ca708643d9934bae57a66b99ae70434d908087448e053f4c1d5a46acae88be5dd58b90d7f17fc97df488fb26da6d12259f909b9d06dbc9c35669e2b79178524ead61e12cecee13c15bf7da0d5a3d696653149a7046e36949f14fea2cfffd2811491720227d7715a1a1253a96e495e6365bc8997550e2208458d8178a6233a4595a43667406aa1bb2104cd9a85dc69ecb4c31f2cd9c2ee4210b2b08e4844707355fab90c7cfe38bfa259636672ac1504e740649c138fd2bf6b7db836e8730a65c39ed0339ac0a4ae6ffb498da0657f87bc579018a230b2e0de88629c3328ee15fb4b83f9ac20152f73db5ebbbb4995e270b74a897e57b1eb1878695a0e21fb1936f2f45a739f0d19feff2f9764033569a8ed0d344fd1423a62466384d39f2e1d0b6d4f3882748b566b7dcd9047f2e4fcf066b317f40676fd855bda812d25e07a53223a41f696a18876b3f41e2c99a0de83a15f4470a83a4ba173d3c4d2d4b8dc1a90b87fbc497511acdab2abe953f47e1bfa6b9019451051dbc07915ede0c6fd6ed00c3d713e349f47d9627956b6385b10f7664acae5e3a5605f408f465a073878bb72e2a5d788bbf52210e053eac951450fa18376dc75a3628592f37571b8a118d11d41592cf14c09944d47a920b501fb42c933878d840dddd0542164dd16eed4014219b9f75be9e1b81417df7d4c379bee3d281d1ff2889deb2d42b2f6fdb8f583b430e6c9d63d02a982449b1233b031fb53fd0a089b628b8f08414d2152b024eb56d3a6f033b9933f7c48357ccd1129ba0381423ab2bb125343c09af89d639c52f6a5b0e1767e412c9657805d19cc051511f8ace4af39e8e93c5e70b76c78ce40c8d2973b3b7e6baa6bbbc77766a7179a28d07679d7abd27d7580cf45f11726ee9867a6a67438da142f125f8ba6f164d2c3a4c2056a238f92914b1ea795d50a77a5cb488e9727cd709292ae2e2447a81b8650a6c2399bbeb0923b001095c6f787822b0ed95ccca4845fc1ae366e77c960bcb0f95878c5727c22b2977f2c60eb212c9bc3af865c58c4732d7f165f230411cad28a6a2b1f312b4404468dc8f9d7e81b81cc8294d606d46a7e9178e8bfb34c1ebfbfb6ee2fe4fd8b436945185e9899453642583a845129f5c10085ddc7aae6dd81019531e9c1425b4e48681ea6addc63734e764c1b9cfe4147b50a0bdfc2a54381ffefbe456786304a7613a90130abbc8bc65544f46a8dcb41962f4f9c20651a4b45428df546f6ca08b90e5bf5a18dfcfbd8237fb894859336e224f1a41666fcf3e7d7e8d78e081085e39a1c13470457190dd3e572136cca045991aec7847ea596aef85de7faa055832ca8d7b6d79be9b0711f81154213f5946e54f6ff308a91516135a51e095db3154053f8dc6fb7bac7167b9720cf9cf00f3f905b919c55e7b47399ecb6978c3a114f6591ba0f701fb6c4c3d8271b6c5875ed5b0ae9b99a38d6394a99b24a7b22c580b6f5d483b11d7ee40deb9f342833ae711f9fb2bf011ea5790aac544139d34e8a6701077a0264026a8d69444d00914df2d6f404b493f89d229a1ee788d06cfc6a8b87b2543b5346c5d4213cca370f17904e9b952aad9d716b9fa77d2aa7960411b5e061d705c277fd77825d8ce78b74458f4d5a529737b22a46dc2edee51f5639dd3e2bbb65ba789eb2c0cd8527bce4c2e68474873f91578ba3acca258f82f746e68e22e2c0a43efb3a4a0af30faeea7c2ec8a081042453f9ae3e5ff798ddba34a3208150c89b7dcbd77ee651795a52ed873fb50fce947453d329ef90d9153af52950e42e7d40b103763bf40bf97e816b9c2fbdfc727ee414a63b368ad498fa181d25394c37cabf18806b915de62e2106d7ae405a64352eb7150df9d7aa5f2873238c8772586ac158d06f680c60864dc5d190aedbc836c8de87da377839c0bdd35c5e65c9894521bf9433850cd91b7f3472c3cd08062969488d5f146cb5d722ec4f5d548bfa9f1cd2862c4ef670c49b57559bcf82762d9b52004a8d0b35a6b43513568271b31934345eaa46dd2c1ea63ee2b87a51e00e36bc78c91b0939e8144bed6b8ef16b5abf2a4464b19887ec2d3e280b622328b464e0865a4cd47497404aa82856ca2670099921932eff5c4108aa5c69432a60228604edb6860ad1446bc6f36cbe1ebcd1a03fc3bb5e58df981f0e4f8472fefd7168adf79424914b6ece1194f3e115ef202f97bebba627f235d27be6aa58e4e8871ae2db305c5ee58f224cf10a86503f81a78a2d1e67de09aef9b6e4575943eef29824a65c8b257b98ca2773479e50bb4c14be41ae1615bfdce4a3d3760d32bcb5857be21ab07a393600206b38a093c575d72fbe1819ac1fe1fc281a5e80ef3e62bf33bd75d6b8b5af12eac4b448941f9bf3368bf2bdd1dfa838512bc60f030f0baf2fe479f60e9b5a31b0afc59d557a723f73dc7855caf88cc5acca48945b370c1637c7e08bd0532d9346a19cb4450381ccf13884e6ed62999cf41f094931012e055cb53e9f7f34b97bee9a724f6e1989c02e09aa81a06f86e485ec48d70ebbcd003f82fb774fd1d8a65b57080559fd8aae6f8a9099017f7bede2aa3bb2ce7e2ed92c76b1162f5d7caf33edb1d20fe30bd2040b8682fb6fe11bffedd5d682d75b4615b626416ca2bc8154bfad01019eacb58774afb4aeb7a77bc3547ff8fbf6281f7165cce9d10dafa605676b10cdd1569ce0431750671f3a0accdca59f19b4fa03f62f213478cb500a99d68ad95f7f6775c011af6ccf56568ab9510220932efc6d08cdaf77421465571cc4ebb5085f097f5c10b73fc3044102435cce9381e06f2210662c39f4df34b8b45e2eb9793f92d277e2902f5e38c5ded3c54d8d4149ee90499a512f5eb961bc0435942f1dfbc67eb673b2a7b9195c64ca6fda179e49b7f0ed880fa1cef00ec4565dfcdeb7ad2c7d0f2d24f283f10b7ae34be4cf61ec3ec64065befa7e54fffb8387fe8215cc91e7ad3ea9c21b1959775e8deba8860de483500cd9989c6bebfbcebb66a95ef8419b71b263cc8f6cfa628c50c9aa2ee66a7e2be33d3b8fcea9edd3e9fb698122567f621d447225eeee7473798ffcf090d8f3feb3f7455b23055998a5098d6610488f0c4612dc89c7c56be7d424013377d215768efa9edc6684da799bee6f1b8524b60d4bc776749d0d5ca7c7a124cc6ea94c6b77480d3140f2dc8dd0367e1e939fc99dfc60507d20210ac6f21aa3ab67a11024df5c6bc6b8479daf13a5bf7d4f06dcfea3504b92735726ac0aa5470a35c161e2b784554497eeb1c19521f152f9fb2bc692c1ee9d0e20fe46041a0e967abdd3d3663411cee59cf4ab7cc1ef5c8620a639d08dbd99a26c2ecf86792dbadf01fb5e9c547f2b5ecae443c15132413beba2c051f89a188ac304b87baa7fe8a63161e55332f9e69b18bae5da84518e45c4c24879daed761630d60ce1493770f78dee6a28f60a9c454f36739822ddc9a7babcd153e76b5faaf96c4d8382de808f3a446a9e355f974525ab3991be89f6b540b4924afff9e634775e4e976cf80ed14276366f8bfe1a6a9b347fdc21b8a97f5159cfa7f961210c800d09ee40d495452c66885a21586fb5679025fba3dabd086eb8c482e66ed76144e013569cb41064e3e6f90c51e6b934d7b8f54f269eaaf2794d4ef7a0fae2236f8c931752b11cac33140345278381b39d6db09c7a98d409b9310e8d72c6ef506cd9303310c4f91e01f2f230ba6762d27949995ca91a59c59d0124169acf60e433fad482ea66e9c6a65a1bce79bcc27845be4030efe218a1478b675d6a76186f0f57fd3ad0a9ef70f6888633ecab8d7a2f4e59a85cce01c79373d85ed7355ac52064e8049cb9cb66162dd06e726d8cc815cf0a4f5648abc5aff5feefb0a5555f292e25a0e032086dd2b29f4dcd8f445954c2cc170cce73b1558c218df3d1f4451a0e067bcd7c5397354553a567726f99687d8b745b0e871bef19526b0047f89c96c4a788cee5a7f09a20240688e91469c2253c8104091a3d5f115ad2640c2465889a243c36e97ae407b43f7331cc4d70b4c0acf0599417d333b53454bbf38e8975994a07a5547d9978a683c433f85672b0744f7956ba129b0b4804e71c53399d14c095e3d868029e1094d2395f4a1bebd3e1c5af417f56541981c39ab9f392481e501abbae5c7754c7a6a0d8c0f686a77b786540ba4b7c3151dd7ca93a037287766369289aea7405e020cc6898c4c082586e6491bd997bc86b5e47d27e522977211816260e23072d00ac15c99ec15ab56e5b288c5e9c9504f4282084ac619dd31b522c69a6af73ae2a734efab9f68c00a35a66314f08541fdfdd2ab5c9d670472f4e671f7e5ba505c6533d4999ed96b9ce01f0f85b99745f4d9f3ecc136b8d23d9ccf4e35bd111dbe6080016873f88660dcf53e91992d83be584eeb1ef267f4d0b31da50a2f01a3944ee1bfcf36a26854ce67df4ec9a096c62749960586fbe7aec86adc3ecf8dcd9540aa9de1722ec65d8ab4674e153e537334509c74f55277963be055d6533434ecbada9e1ee43114eafaeca2b8ca18f79065d112d2775429cbb4afdb43c6ba26790b9cc8cc8f9306ca28ca5b9da139c0def7dd454a5812729a1893d016fde50a7298536800b617e5153f5e3195434a85cdbcb910cf97422a810922a740b27111dd81817772007f599d769b5373f07ca54d1174f9fe9e97e64681a18c65d61733cea58ae6d17a9abe0747fbaf2299991286a778ead887b6279e31afa9a842bef4b52c70250b0310535b44f56998d04ec6c37a1b7e1833c91d8a38d0d15fca846d491f868c671c37c9ed60381229650d655811e164ee19756e552804a53b764184eda3287bade0bc3470831e5915f8eff824c168729bc4d711ac124fe18932dcb5be44ac2dd50194ddc96007c5caadc1e41be63a278545f3fca27452289d1d0eb871675b29873896516cb10f6ccb290908538aeb13a4c2a7f050a11654e451b6769e7518be7e183c04468ed668cbc6f84e5f089091c69d88ba6fc6481a17a2df7984394ae0c174787009c86e48f9685d7a7a41fb58605014379cb1a4bdc7d","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
