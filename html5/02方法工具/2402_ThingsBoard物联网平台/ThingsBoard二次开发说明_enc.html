<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b81027fac7d883447ea4efeabbb1a044e10d77faba8c4126241d96bf26dd67c9e99b5ff68972e030e5e80377e166db24b019596668f9f521ac2138415195a604496cd4be6fcfd1765dda82178f59ff706dbf0e8d4a6f3e289fe9ec906cc1a70a57dba0d103d1d2a20515e59c674c17d6011eadde9613426ccf25a852113f860ac1ac55c26028b6f862a122f40086485dbb5e78166d199c5e84636064114f7560fb03026be7994d0102e623a857f753374c798363b91df734e96d7d0ccc3d27c895c2ab695fd01fd659af49e5ff9200c469d009bbf7ae2b6750c9f10e9be00bc069acfcee3426cdab785c43b6e87792c7aef105933850bf0b68f7e9a48acfef1b97751b6da41f4b664ef2b3766f6b86b7bf00325b27c193523a2f541c7f0609d76a5ea03746f6b11128499d1751f8a55cb4adde872ffb8cb6dfbbb7e48b994de7ec4efd08054295e02a7c07589a4847ed382798f3d79e852a75da8ef320e646de1b3cecd6a43097271af08d6672df03ffd3a62a5dd2c78236c51f6dc85ba1d33948af0c1cec186415cbd3bc843f525e261b836b623dcf7051fc96e9f1aab1cb9b2bcbb4c3715b531d937dbc728c80317c877e3d3f0f0b7f39e35a226e41127f9cf547e4dbdb41f504e2eba3d2b37936315780012e30fe0efb058ee268017fcadc8cf2ec753b3fe7142768f9134ec28136cfb3285cc825d7a633bcf6f39569db89a8d1c09d50662c36e60e3179172b3a83e1c1322d2a1e69babd5a7431af3af9186a17f6dc72bb4af259c4be5e465fb37d107162338e6f69c91b0065062521eec8426e79c42845d33bf1dda35e1b0bb21b568836fddee51dc45ddeb5b1b689c7d67ad6cabd802f99e2793bbddf8048e1943282850f40abd1ca1f218e9ecba50512954ed7434a67d6d9faf750f5109493561d838bfbe1831d5a272f061e3e89d890a959521179ba55e8fc1b898ec6f383618421be3ea3556a8a032247e67a0db197c80bb24f6b935a5ce16b60ca9415498ed34ca387593619ba9df3fe2ace40168f6fecbe45ebe3279ab02e23e54187d28b2c228d0c87973e3688f55434734f67a724ed5feaa0df9d87ff8d20da73a5c3610259830f0851b90c2d158126b1c58269d1ad5586cf5ca59d5bf281de17e5c247fec221679ab684edafb5da34621abd2aa0b68dc903e3bc50d58f8e758caf52fd7ad8f3fdb0666a55d5fb5da48bfb2ed626a7a5ebfdb6e6d3cd5a2408f26c2634ce7e99fd03ad98fcb18c499d259da0bf794c17348179ac6a93320aff22d56b7f075ee97ba523bee67102780bc2c53bf1aab2b238729c4c87585953b7cbe5a4c22d3b5ac244a6a99cad01287d9b23ad3721139c84163b4ad05e36f789006cf50c2ee787656a7ffef90ec00e436d8accb32c67a1c62e0d878b6ee946e6fc6f75c8bec91900b1be99504f073627d6e132296162b0e226bc2a7a6bf6ea538aa320e2969935a80c5c502d1b89cc373f7e8caa156717e6638528b7ff54563ec5cef539ab7ee678aead1552f4e4b0c539e828b7756a30861a1c604f1bf907dc8ba2bb7e3cd78b1151549e55a0ccdd11c6101107794d3b9eed6b44ed934524d4c62807fe5326b818e00c4c5bd0fb67a20fd9003a50a5ba27a330388e463c019e3a022bb2e80c7342caf379c4b7021836e36e2f6e2d718c59bf8ceab8a01110820744917adb9dc1b51a3c1310f62f17ab7383a4a5d43b102a26fae8e296d3705f5fd590e135b5f2552cd5f1976bb6834e52b5af4a2f57554630abd9af69d5646956101145291efc96006a8e132e4b0499daf2f14eaec768f7b1a8692799e7bad8e325d470fce4042f5a341fb3a34b4b92e594475d4e0c5369c4539cd7719e48f5bd078a09c49b2fb6ee46307a5ef3b92d5b2c25a70a040e8447c029b1638e2c6d7b7b4cc71f4667b46138c00757a28348c842467a064505a2065fa47b1f9f67fa6e016e9a4754180ef351a0be01593f0b4578ae94efa7f86e94e375d3a1bc8ddc493032f489ad37e57dbe93e351bb2c0690c28a640f3441da0e4ebc1fd56e88a07619763b056b92ac6b7eb3f300eb522a58d9f3cd195dead16f51f5420ae87c7a780caff7d1ab80cd297eb48c1541e120c19767cc8eed28522494e881c4c47767d7b51bff2bf01f80d8c5fa56ae4c795b9b560b35eaeac29ae89865419199def837c52b8df1a0eb1a01c012b892eb96fa32cb278b2284e4594436c06ff827c10603e2af7bd3494c7c12cef0e11d79ad4af6c5958e394c1f5ff47a754c9604a6c3b80970e4aff7a2ff43c6f18a46cecbb230efb19997b235ea344369c204f7fb85712219617af2a267458438b9dda266f2ff198cc0cd6464f19b10912daea6dbb21c2cc7f36e51f3cca0fd416c677286a463734b1b19a232bc24ff0289145046873cb86aa8b245536ebe6e9bada47a5dd9f5d202026eb248b40b23575890b2dd1fb0823bc11590a996fb200472c27d052b66524993c873892bef66ffd44e42a3e88f9c4aa52c81a9eb15cc4bbc58bbd818663c98ca68892b8d65720e6a742ad0cc61f2ebfcffd061b4fcfb83dc97ecb9dbd3b338150d25910c542edce75212544320c1eddc750ed47eed0fe61c2c7030429ea7faa391e0c85deeee6660292d98beed32af279d3ddcc7b3909ab097e3d759460562c820bd2a119c116ebe61c36822a4bf7e018d86b315165687368d85d5016b3dfddbf67cc3ff18fc0ab90ff47e1cccbf404d882a1136bfa23800898f56a051f676b1008c633097f096ff63fcba4a0934cb121e6677684a9b668d2a058b8e968bdd3b2826bd4dd2f4561639016e13a8cea84c7076b9b55b978456f28878a244ecb134f4ce4d2f6cdc1d6aaab1c497fd7f7804b396901fa18d470a7e4ae244f6d8cda6c195d0a6920b52382f088acc83c7e74c7af698f056d446802e9c490cd72c480951207fe2be381498b08d89aae1c19773dc71a6b8cef79f34e6a5869ca5c6c78150ef84c537f79938bde42fdb54e2f062633c14a5aa476c8a58677fc3dec09dcdb41334efadcc48b51e42357bb8795bea55cc1e60030d9da85d49b920d84af84b58f8ccebcc933ee2e1a74b272e17be670295340488c3cf09f08b9b5417490a2b5a49a87aa1d2635588e59a30512c707539c518bfda13a29487762018b97ad17ee0b4cd8115fe9364562b48013a862662a83e7c2fbc0e6344c1fa41569848151c70ebb51bd72b9d675dcb718dffd5655d441f1b5725111ed945d0a88da5b3ba2113b5706ce31f96685e142252df4009c8cd82eb1ab370721216516f87ab1398b47d94f0d884ac7eec4f3183836037bab24128d49e7256c8df962669ba08745952daca9f2f0ad7224da9e06d3ce57485549112dc0eb32adcdcb9971e11757ab6185134751bb8b8ec61db84f4a62b0ec725e9c6a538a4b7dc7df25f50122e7a0f0735fa9cb7a94d46fcac6c1cd642060a614ce5a6fd03af3b284fb82e5622f19df4ac31611254f6ec61c4e1250e610624537049ea7847a0d8a5d2144971d3eb233335562819478b02ff11330a91d6185310f39b563aaa84f2b62ccf10ea1295f5ca8bac1d99b89b2928ada0fd65aa362cbcf64fd355ca4978f9e40e3dfa8ed0806c018bd9aa77e71e315eb02f929c3fa41bc56df3d7be8006ae328f2de3ed36e12a7856bdc9be06cc6f4ec4e95f0069bc54027ca1ef6ec4ce44cfd20a857f088607b85e396232d409ff5aff091fccf26216faab2da09e044688e64126f2391a50dad6e3616670d67c7541b26253a7c2f9c12e16a8c7784987ad2da78c5a448115ea5d23d1efa8d8116de29a1d3da7881fea96c1af8943a96b59c9fbd25d46441e8b4a698881a095e54da0ac1a462d7b311a8615f3df1f28f14ca41006260b5d72f92392298e9a76177d65a65cb043f1b4755150b383d9553b6be3c7ca1b51d301adb7f608861f773dd6b12b5b8160cee5e2a2bbfd75921a6f362948b183b0d64ac639c9ab5cf23534094a8d50124240437c93171e3be3438f8e1425cb940163ea05c2dda0c617c9fa1d8393ff6c9082a67a7542f540ec7b8ad0336617d8b9c09eecfd742a3227a860546087a355ab58c307bb3f7ad113717d81e0ac145747c1091aa1fa01b8580df5cabca752c855c62ae1a4ed85f9a976c5d84ea2372502b3b49a35b52b5821f0c63a2f617eab93a0293ec504a2246aa9d34de6c48a427d88af341f15de09f2fddbad339d8f300e4cf7c349d8617bbb7d0f40932d7b2823ee18bb3f1754ad708c839522838875c70cc622fc40a82c43e90cab99f51b413d346cdde2781012f5a6af67edb8d1a8bcb6dc5b122a3baf1ea7b7d1d2433d87179401c2c2e8cd0702ac3ee47a4d405139950db8c9e3c8d449e9c91884652b4d9ab472d7c4cc61a946254bdb2e649a3a749dd55633618ab39cad64dd143be1f3bc645647e6b0091c6616db858587b3748a6e47f5ddd7553c2ef5566d372744ee182ef70a6a862387933635fd59117164886adad4670654a693abc08cfd1dfccc9e8a0954d9880b225ede7522da9988b98727d487f938f6326abb7a3dc455f37517ce494bbcaa4a2655edebcf977a2d82e2015ab91093dedc3f2d8208e26abefb0ff7d8c3184b776ec1c1804c0f4c33a0332087e5a0908c2929fc74a62b1577bd0bd827c50f308bc6730861cca9ea3968f76d1f03ff1f538278b08462dbac5f4f21f2be3614dc3a9621b2a69746464457d8ce7db921b8c834ed0d5d390c1980b9627ad7632561ad735deea90c223f3a3a2fcd2b9ffc31eff304beaf600c9245c9939b44e9125bbdf2c9ddf770283f11ba466fe8592f4402315b336740d4e6b6dd6aff3cf9ccaa8c06d6988a55168a393f7c4b78d09bf92799a4635e78833112ed20236ac0dc46b34e327be7d4b3fb371305510071db973bd1895b7d9a39fe2bbbfacbbc513885e81c35a20ae94be23deb1ad0bb11b647754bcf4a7c52d833fc1c284683e576711030163be932927e6f89b0a3d17ef89149bb7f7a6612af06eef59da96d670a73aa98c447b5a17011ebfda0133ec269c53c571b6188419886a91276645d168496ecef1a09843e2db932374c020b1aeca54791290107671d0cd1f6ca557a170af1d42b131d5bd20740d25dd23821e334b5de448177d30e7412bd2e2d13d2c518acdff59af100c8142cf4d4e22dff56b8a7f17270ef31e7de7a449feea2a56ad522c8e8b5131ba4d1d8882342df0a746f7942e38e678d423a4190a5d6414b24ef62fe7601d3c28b2bc96c8106b4a8fd42dd1c5965cc10ca36a5ea7ca37e77a900fb2f22c272081943b0f77868b4627b1dcd57e21f17684ff2031c1e45d021acbdc0feeed6c09d9a7d92c59181d47af74b1403635688a541d9f47709d5f586b6f80fc68a4513774a29fb7fad72b32c9bf2aa3e511839caffc4fae140fe5f64961fe342df6b656fb11ac1ccea4ae708af17b7c04c700713ff55de6206ad9d8929c7100a01f1fbd40620e56f502619c5be409364c5a96a183fdea0bcc686dfd73a60a04e8409cec4e4a12eff56073c641ba66fb2381d9175a86086e350a954693407b8a437c2a143375b1f14dda82c40dc9a5530b5302ba120a195c93af495ceaf5f5342b365a25f2950f654f60dae4799d2fc503f3a94a6f1a0d88e4dc8ae34fb101ab7b7726426edf6283d853903d1a7e35097ddc3677f9349683671147a6d6c90dcefdbf9a2ebe89f3793958bad9e48eebca22fd9622bd00c157d67fee87bd628f8a2337df9529002f00886dcd97dab0a48329a6db859ebf2d9c1a7acff716e3f360a270a5213825ef25c20446bf37caf4cc3e54b20ef18d154dbceeb3b5f1caeae51c34fb90e9f0757bdfcf164c8a60a7121fbb359229097f15b427d4f661845f979345bd30203e1a029258df78fa20836906b8c4e55dec8bd3ab2f1d540d45d7753db993f113dfb37eb8dc01943b1303a257b7970dac2143f27c01aedcb5043ae1997a001951e73db8333ff839c1f4e9d4c0b90295a5621f5c42e779e65a64c0a1b398643300976d71d788b01291a804f7bd3cf34f8a3a94bfa63fddb59e7231635004caf548c28c81f6974fd5d66f509171084e00cf3c5693b36648975d476b0a998dd1172b90fa24387b27095e38c442e2ea1c3ff14d1493ef4755db8fd7bd6ec88bd2d9f5bfcf583b69d0dda13be94c1fc2bf45e22ecacf9b5add18f90e001342d9a9bbf628b9d5e9905cb742f2e87ffceba387526b6667afcb47e29dc7330fe5fbc138e629a21de1b4ab75ff857f521af585e6bf8041b5925f0e0ce23271a76ebf657772e702e7ba11647cad7c64e4705b50427e851f8880253faef9a50683039c9f1d8085238670a5190581bad28e1e2062bc0051a8cbc2537d2ccc48ec716b889565b8dd3a3ee614aae407cdf7cb4972275853595fc99c95a3f9b9b59866c6b0223649917eaf3f0c05c8e550af03990e189b7dcde4e52e01704d4cb7638dc859b8caac4c5a8c1eb48df42c70373c0ef4067bd513e481114091045b0a2988a3e7bc6bf71f03f143d5f121a3624adf1a062e5c4ca175c5f64c056149545b6015ca7aa95ed1af03405d57eb63c81706890aa1d0d5d8fd18974553c2b8f9c1a55a9a5a74c9faab7b1dbc0a9277db597eca387a13b0c54ee6fa45a37043b32bd01f24150e7477653062706b850f61def11f5853f388d8ff9f175d6b00ceb5732037bfaa085e6249770359f24f5923a2070e11fc82939d4a82b1b202bdace1a55167e03d0af61ebac3cbbcc55d4269c015bc21153d71e559a13e378266c55a8fcb3965fba462f69124a4f004d315795aa08ee7bdb804789696a5e581c1b300c8447cec5887606d0ae40cd364ddab2be39bcae422ea94c9d0c0c768683071318a6ed36b3adcd7b5341b1c78b4ae813d5fc254007988c664d4fc569fbeec27a1323863c039c45504243fd508254af7899fdc9239fdc36775703338482cacd6da40f60dc47c34c19ab28f6a15f1643e76c75004599b3bd9364ba907b1a144d70807768d7c29dfa6a41769fe7cd52fe491b169b800b243a47f2d37eb47b35e0e3983509a44672ffb4666adce46e59f97b620d71b296074f598dfc77dcb04744725afac9e3e287532f06663dd19b2a092895739af0277fe50dee591040f360bd41420e2205bd03440fe66ea48c1005dcf5e60344f1b4cef0feccc6d17255d5a26994c4010b7e132755264f7aed8f4d17e121c9a7ade33dbdc9af3973ad419a4298b2627b253242c2576dcda3755b7bdee957875b4b14caad19d83e2582519379e5980f6761724191c9effdecca81524826cec05b7d3f827eac1cd2959aa85dfde9e6c1acf6a262445e922d48cb2f05f33da6dfd6937b535ee48a856f9890b58eed8aff4fcc4bd38f6033513bafc26282342e631567cfa463c497189a6f282fef224d96179ecdc140700fa519ddbf2b7a70eae24bccb8103f0d4d3187b16c50a731c401226941874fc5ea391af701e64adc5196efaedab907c952cc50327555e4c2a327fdab2958d130c0d4b90c25cb750c2ae7a4b555108375846b6f9de07a91c6fcb0ebe7526b95b9050380f2d3c8c1ea467fe4e0edd0611cd1637134d4f6842074df5e84a3a5f2308be4acca8c7c50f7f9851d89588c1a438f2498a59b65730d88766456918afaa5813d63c947a4eba80f67dc0b68da5753378f36ce458d68660bd6382e8420487d61cd71693b94cd018c3163d08112b28855ea77313c2a6e8cf0380339d85616818af03adada9325a43f070bb74a7bcbddf86bf64774865f7bb92e191382fd4e2bcc472465270f79f28133671cbb73b5fc09f7985d9e2859e77dab74b29f34b855cb361d67030938894751bf1be6d42d7be0c9c1b5b99406d36034e453647767b25917d6cbdba2c60a24d5df1b740f3e6e285a15102daf36f0bb6ccc36db946f7bf0327bdd37f731a21f3ca2c1522d38df846921867473cfb847f42e97725758b832e1ca84c3d2c6cfd53416d3634f3fbc7b86aa3c75818a2a8b2fc0775978d35a963682136a151ccb816bab50aeccabf890cc2b544c5bc5248fbe12f3e92b9fb7767238da3edc3e84b167d93ed74d7c1998ec6730ed533b0aebd519132bded033a5bbc801f3d54c9f25c5c5f518cef26bbf9d529306711b4462324e71f6aaeee266c3af8b0d35c4b57a5bd9b7738f2a5a6ef217dd0f05e1a6e45817518c4c4b6f32195c939ba0c366458d838ff14f98e1c3b609c3c6b4aa507ce48a70df6dcbc12f261931e24a242eea3f8afb31e3bec1fb8e93ec42bc19cfd16f7965cab95c78f768425fd547a922e2935e9893200fd7c0857807f11fb4cb7a8bca7bd6218d379c4b8e888ab7d3f3b62f2f6f8f687f277c2760c13f87e0c9c6b275b752392fe5c76a44721866b3eef472a0c27597b5022f18045927bf465f4f8ab7e1e68e356a9c76bcdfbdac22950cc9fe64d1817d1c72c41794997885cd972f51712f195183292807cb564752a359a0f5e98920a026d4b37c8e779ffa12ca00182d8786e88b7fffd833f4ca5c591e2334261c831aaf090f392f3ab2121feb83fd8f342823283d9d77d1955c6ba1bf6661d4f79f433b109c12ac36431088b43cd798ea139cd6d83366d15482be2d190b216a260c9998330f823d83ed9ce233b876d9b4286e4d3bed2338eb06c93e82415daeed7745aac42293e592ff5a2e7d2a3ee9ec9363e84fb80bf5297ff7caf54f2fad80290592ecd88f0590e90bf4ad832766d16455db395a8207eff4d6b00636702b73f36473cce23eb123c1d1555e891e69b3457677f3319d0d72fb5b7156d1a5f3404669ae5761e0c6f229cc8a86a7c76220fc33ae6c2a4203b20cbe7f03baf85985fb45f22b37f2e1712db8160400bff853ae56be756daf065eb6f0f8218487e362659e8f748fe11222dbb7c922f779e3691543a3a87a53bca222f867120174192be189e8bb08c63986f7e5dd2d7aeeee2f70391a25cdae505efb7808b4a167571d1af4a1dcb7444f2038caeb089af6bfb6415a87216f7728da6786f4f324474ad736f3d6792dc741cdb06344f3850c6d83bbd9063edc4fcb967356b1b3457220b3e95faff9dee67565bd22413be8011426953f12f009fdaee4f6dc7806d22dc9e2e9829d73dda705496d9d542fc4c1cabebf9a54da6a30ee05ee095e09252c224ff660674fdd8b53ddcc29c480ade78eae67baec2204ebfb3d292804bb24c8d4c34bafb88fdcb191bc192a72241464ae7b9dd83c21d307e1dffe325b2d4826050a56f2eec644f356302a49d70fc50dda78d68827dfdf7266d8da533157c70c81de09668ba760b6736220c91e6ab742c5c4bc0fc6505f967a5c335baf7b59d296b3f261d5549b13b388ce9acdc0ef557b56b8f6c063130e3658f8a0bc86c0ddfcf1004ec8700daa9aeddc5faeb43bc4a513c721053a549ee7a0ca826bb3d6db26e406c812be25452e76f10deacb41725585e7835c9b860816bfdf0a55fe08f25137d129e2acbad6a759e0947b29b847d014ec4607c632e807a5ebb3a278b26de94678a1dbd54c9c9cfa208a02c4cb5203b8c57b243672936a26517965f8b39a8678747e97346e65380824dd620d9d01c9e78895d513ecf51c28c504f48d722020caf8f435d28dae719a7c3df006b0733706b51ccc2e6a500e2d1994adc3e6c0f6f87efcafa4e210282957324043850f521847773959f2b08ca939ac736b21d05167a0f2d428ae1b23a516dd3d093046835045ed27a3609efc3b3251ef3e1140835db4ea6b35f3e7a9dba39792c18885f4909c89483907deb3a3a28c7b7e002a07083b94f788e430da62abe0b98f13c4c7f0f57df562769254aaa648bd0f9c855f0abcfa131058a22e8f516b385b6f4affbeda0f591045697ac0e8f35c0ca1467c877a07db65b4f7b1b4d9084d216efa7d1cee5c77a431b42cb33741b99292c343e3800b5ce11cd19714f05ac4d72d29f2ef47f2f6efab417820d7ce22d0a366f66f38cfcd1cfdb1b378bd57cceb4dca5616fe9430e6598ffacfaf25ae89cbbe8115850870b2ee12020f31414948f2fa2706d97ff85b3d70519e2357c8e1213e90b825dda6d2917eef70207dc6972e17d46d7443776bc9f13e42be3bef81be3ba5deeeffafe90b6067a5c4d93c5b7f0f77122476c92bfaafc393825545fd0fdcc0a26ae0a77332b1fcfe1a0cc08880ccabaf705649a031e4443dc043b628d4ed9a542b510bd54ebe8e0edfd1de6dcf29ec47f18680bfe48bb396c0558e028454b15a906afe5b47ba6e4e9383d7ca3f7c6bd51cb4295172f13f903e29d211e309cbdeb3ea40c54cf4546a7d3c98d7b7f16017ab29b956bc1166b795bcb1b08e664d3f15c135df005c24f7c5c802307ec425372e617ae3339e5f96209a3732943a1ab35a9a6741b123fb97e7d25064294f582f4d6a725fdd55e3b02d896cac24978a25e1d9ccca2db96944840513d338287f36c361b4c7b421e62f9a00414565c83d1c72dae30d50fcca50b899968f60132459fc85b07a30e43317ef41293f0a618ae0d7a7625938f065c813fb583d8ab78b25fc500597571bb1d52f49ae8734810576585166b6a92232ef67ece9f9bc42b8acb14df3dcef28c7e3d5aaa1175b97d709a0cd2a3a297c3dcc702c8d04f12acb4b2e9fa9f5d56af2260c44a96ba394c439f5112b7470fe526dc86754e6b8c43e9912d950646ca33974bdd79956f6df0e65f22bd806daaa29b198024698566097a0c7ba636e71e402af5217c26371d40a5d21c87adb6da0d941d64541dcb6eabc211d96d227ad6b694f7048d66ccd5c8449304e3a95ff4e838605c45c78a380248a191fde1c84151297423f644a4df418729394519476476b68b9b0e156ca83a29b29a1a136781fe8f486b08f288da4c5e07b97d97cff31a779c3af9ed8e2dcdbb6779b255d0d9ec7e330aeb403d17d06176733d0e4ae1ecafda6d1c776a884f69cf6442778cd792d9dbbc5ea34ac9734bc21208dd1dd74a106b2656e2ae1ab93d82f198f503696ae3fda5cd0d31a46695591c4c9c415c705be8d2cc6d317315918d62639e31212a6b14ca7e232e8519dbcfa7d8d62d9cfc7ec358792e348ee41784c7d8fe7c4ac5bffc4619d0fa07a1a00f9c73e4dc0abd95892d4b32e6a340ffffcb1f6d3c4753fb6a1f302c4075af6b8dbdf16de0132dac7ff98c6f5f23e8c699fd62413128ceb8481d9a51344724e5b7490253afb8783f09942e60a8dc6c2878bd1d17d785390f9bb7384db40c67bfc74df8909f662c94df96b43cf012e13778db9e0c7159e7922d3d230524af45b9e9f3d71d73c38939adcc760501cab73bd7ce481e5cd0663d981c89e95e76f3bd8b5cff2b7678501cf07261b18fcd620f48102a09fc093aef8e3422605d0dd3b8ca696399116fadf9497ae3912fc78bb6a4d1e26c7e9e5b8e78a902218046a5fcaffd9c1a5565c79126b69e62b9d4e7c5fc028ced2a1d4ceade54276754bbeaca86f72409be0d1015f91f1342ee26700a6398d00c15f28c5d16f95670705fdd5dfde0ae1e0aa734e0ede85fc3a506a1160ad2bf418b026e6200b4f16d72a4f007dbcc4b1d865c3f3cc9a336eeb77a1b34514b3516fb2a19f8073a7540aaabcf6135063174701fba2181bd6fba01080ce4f0f4f00483f7045cd05012f7925c77181f28de898a9ff8618dec49c6a538fea7d1359c575d143d45319a70dff80c7e7708862c537e06e1e39a47fcca3eaff921f4f016e549f7d6d34af4348c829715bbcead59b750e4bb25035cb07c0167d9eeff78685235a453e522e5056f7a1ab663b2d52a2ea06a7d5f3be79bf7ca8faf8639d7658abcb3cc3ff22320f8424255eb713a0062c0f60fc8c70cf71adcdb61d899da0d91ff86a5142936de9eaeff9107b709c968e62e5571552ec6c80a2085c8b0a36a19c2bbeb445da00075048a740c8bd90ffd9bc7d14d8f7d67d6462e0b0b9d96b1c3f9a2230c5e8e7f6ba1762c4660e27588bd988e5532cfb106e4d1804c16145dae93067cf57ea02656ee55944863abc0aa4b6e5e0dc146ec5eceda38c6ec1a0dbd778ce3cb6f2cd26307cc0a19528286c069a18b6bd37689fa91bb011718c29a7cb4254837e84077255e4afb3d1f72070bed1e17d6599f0abb2f240a209776b8a41f17b130f92750dc4e989a87c36c8438205b537cf2c729f9b45119c0d29b6a11941a0d134604ad84e30d521ee0897f6f5b669b627336dad25648a56de89e15b0949775df0432addbef439c5f53ab5d78f651628773cf61a4e80605df7677da13777c64547ffd625aafccbe6127a4e9b841195ca18c421a60982908a328beddc55893b0a524ace85b6289f2e22a644c4ae47d689d2601461a23f532352d54bc6e23143367fb7dcf89d0f0ebf10130bdd2007a8efa7b5863ca8afde67297478843a4d38d5e9892d0991167c37dd32c294a3ad68144c254a2bca992a844c4af8069e7c16b18831f3575573c7ef827c3cf877970c582b7cc2d4cff193404200413d41154fbd8e66b67307bf6a0788c7bfc6d6dd78f07e4e9058e56c783621d311d3e41cc513030e606058fb19b640d5029ef886d6af1acece5d87ebc685fee4c49ba6c45d85cac32a5229593d43d5c40daf87574dad5547a1918773d6b668b46920c6a86298ced4968ee4fc0571f381aef860d560d427fffa5d9b3569f817c66582b9af2026e5b4949cf5962dad7e2f166fcd57069979c809be6f00ec8021191df34335476978e0169a4727c9ff490b50063a6501caee7f88cd71502d6bf4e2d1e72f62966b299c438671b00e7d4c7ab9a5d1644bc54cee8011dce6dcb8a8a55dfe5a0604dde592601b040e8b6120260db16203db9824adcddf9cb9a409939ebaeb2b6c7f1bd1081251a99ce8c71dcb6bd41fc05f5472d7f03510ee2bf92c87987df7bcdcdeefed52d3d4ad041e49ecac8cb2bbed143fa9fb5d40f7be03c3ea8805a4eb2a542b1b2c99dc25d2ec0901f021862fcb6f186c4579b5c45a89a800247c677ee236b0e16f8ebbf7aaf7206edce9b7f2735dbab193e5347f25d28db18b221f4100ae4c5dca145298a1f5576d7f5c1d878fa168b0cf206cb93fdafb83e79f2157ddb05f5e091ac9034c9852c69a85eeaa09ccd61917e301bd4f52fc438d56a7cac196abca349142516ff6a49457eb921170a6954238396699158283aef3ef1e0036917da50bb9d6509bf9a7343024b48432c0cdfe125428e01bf69dc0512c2cd487a0b58f443ce0aae34451a4ed13130b0b6e83b1229a567a598eced529af15308a02640d372c24c8505ae742426a69c7a0feaf21a795242f92623e099fd84c37d3a58b10849354ac30cf4127bdbc9e03ff5ac7e35e1b98b4609fcfd135d691f4895e811c896b594d919bb4ec2e82d68f0ebf125d6071d5460e1f6690460666fca2e17bd439f72cde151e00acba6735a24d6a3d48b2a13c69835076ddc832f4e513f317f9dac315ac0a5da9837eae902c23faa9decd711a45c0ac3761cfb6d1369fc54c818cd1685f3d1a7118851a89f754b5408d7be0531ccf772e372f458bd3fbc8bf74b77afcca657919c8b38c7cf83a4301ae8753c50dcc26879440d3f624df50b6c82943a7156f92046e989d072645b1dffc5e6d3405c257b3ca840a537d1f7a72bcaf598c46102daee497bdcab313c48caaec5aef6c6ba1b21b9608d50c399a0e040025f474d0ae7dcbd983232b0f1a915a9b50aa128e8f848388808055ea7aca9c4753ed7f3f24abff6818a0adfa0b68a3573d1fe64358703527ad98ea41a6cd404a49bdf731c15fd6a63b195ea379d391534551c774c4c04a878d853d93fac216046beba5cc008f10582a9fb52ef7099065e0c5dcd83008359c9034d8fcb5e06e517971290615b64f127c4a14248932c46213ab1fad62ef5161140896a18230b027db0ac57552527fdcb5fa7d338f38aaaeecda091393c1a3635db472e0e5178630c4632bdbea3fcd4735c2cfdfe8bec577c6690e68704084c55a565fb4dbb15b7e806b67c9dcf236d01fb62a7e01eb3848b70ce2330b31a73145f80e27ce22860efe09fed2be37f4ff44be3fde3ddcf3f82e1a3e61c902600d8a771dcdabecd683b8e803b0fcca2638e29b8837673725bea6761d9a7730e033819f33014b601ee09b54a08c7c00805898b4085a3386539a51769d05d0f5b276ed0bfda0d10ba4b6f9c22d1761b3ed0abb77405f26b21eec6a6a05d083f4e9c8a886ba66af2033bcac6dee3959fda5b16a10222e813cfc15298a99631dc9521d343294caff9b9f4a0ceb5cbee0d1ea033e8bb1a6242027643ba27d49cd22a0c5e769c800ae42a19adf91c412a625d69b1419fc3da47ce3456c179697cd466893b68f07c325d96c02a3250e5820d3a571ede784b4a34eded861a5c44903d52e4a81ca0d0dbee7d7835be86e12f8a161128f02b07a8ff644a494f9283249f021859f9d4f2fc291808da719050905372c40fd89273452e66b6097acbe7c98fbab74ac6dc56c3a3d69b3025b9215ff739f84da7aa29cfcc80a6bb3d94dde04b399f14dd2bd5deff0535b3b44e1155617b337bb0494b379e6abce34342a810217d097b16b687718e11331d6460effb12fc1aa3fe639b919c5bdd0e6a727789f6806cfb28590971d06493220ab6c04f32c4c9275b841447f17088f3ae567863de7573e4d2b6226d9a95b0262b68e38fe23fd0dfb81976f10214b114e0261ae07caef0d7ead2ed24321eb17085cfefc24136edbaebf40cdbbff219f17914c23b72c63ba8841241c72e92a586f85332dd0ad2126159fdccffeeae8c2a67048c686d83ae890458d258127f4d3cc3a64467dd5daff0c4e441c2a71b912ad241f651945cad2f1182f234ea990a5742a07fff3515df2d8ea14eb249606b52fd13cc32642125cf7f0004b191902f9e8c9f6cd30abf473072b2eda18ae1aecf232afa0b8a24d43e80595e8c35cb7e301391d3929fbe3403f13675d57380880d14db86c9fa4c8d0f24cec9c945aee7c6607363e0c0440edf72ac64f4b7012ce3cb96527eb5bbf3fb7b01a9e07ad6648c1220df38498bd3031d4f55545fb911797c3cf8a7211219d2beca326caa53ae2286eae69f200d3f997a29fb37df5ec34a9fee577740af2c1252c9d45903d81c6d2c122d8a49a8436bcb0fed618be4196fa1d2edbbf47a3b3c45fe36d2b93db24d6e4c497d14e43f17a071a0eebf49dd486745fb8f2dd10ca1b6407437e2763bfa8e610944253ccb71ba28749181ede9a5ee0091de0f82b21c256ec6b4d6f517ef95eeab1388f2080b4b7b888d815cce2f93dd78f036b4ac27646cb270b78d7ad80ef824e086741e5dcfa16784a647b1393569a0fe6ae18d68699ec466281ce8c104d6d95766c4a69550d4e4b2bca8bcbbf0ee293cb207794ee4d4e8d99a0513130e04aca2ed2d0e3d8098775c080d09d4f60cbdb3edd6ad4240669ad006659e5e63d145ca62dd91dce4b3294132e2f63c7ff0f43e0c7cfbb07d9e2c47ee5d883f392e13eaa737fc4db4317eeb8ede53b9d01e80046dc8350c1c941cc3bb955a3f568b82ef4490b3be7509962a214aed3a1144eb16bb48aa7b192b5fae33a21169c120113835e07bf1034f0b3700c8ccd7b4f3fa4227fa58ec1b8b45d0701d47a51437ea87debc781f4a4828e8002b39a28e60f2b2dd8d7455cddd63abad32d6c81b659db00940cf5fe5d953de801fd910235a5f7a2238d07fd8db41e759e3179a596eb1d9a94680996f2de312aa2318654e7e1d3c6022eb851240a1e889cca7aee1dc75132928ea1f33a3f05dafa4dc4752250f7c4f5df9ce72b2f80c9e05b5c7401f97b0ec59b488275ea0476c6fdb328cde6f6813367dc1b8445d839752f8b72465231bde5bdb0d3c4293bd210c0b276de572f6ea3bb357e17cc5934f872fdf6cebcf370bc663c3568684445c9efdc00db236158766a819c738dd7eadadc05a386489d89323f333a2f1129a5cfdfe3ffaf647adc3649f2e69da381a5da1654bac0fe58a5381073aa46edfba3bf1f0426222138c052e7d1fdedac4d1071e865a03f986f52df03b71f772ada40475cd80eeef36b1092513f3aa1226ffd7d2bb7860bb32ec29153c25272daddef04e3599c445da39be33d1a6e157e0a59e82b0c69ecd362f1046b412dba804ccda792c3c3ee61379daf84a5cb32231fc71bf8004bb72c43af0e0693c519f9feec2e0c50cc6f3179639d08e65fb492530d8f71d42fa57b21f1cca045f6dcd429fd022f5b282b0175194f3a43f3089f409fe0de7f06940d8b9fe6395d5f5abd1165bf13f232b512187deed278f843b8e1f3b5b07880d0b871e52d7a18b4afc979e1a98aa21b6d26353a94760b236e1fe127ac52c51dffa5b2eb4d167bfc67f410032ae90d442b0f5c30153fff68fd59da4f5a62607cb346add9d651a67db27742f088a0634b5f2f67abed37b33339ccfa26fa443ff3c9bab1038c5965a57e687b9f33cba3b911f9bb5f2f984ee582d86aa993f9ccdb3f1f95864fb56742e53f58b64084fa1ef45321bf77e149913a2ff381548743a0c46329018cf2893441710bfc4c1667ae173fffd981e03fdf586bb53719629c377d4c250e41ea432baee13ca80741f0e5084f53615004c6290c63a15ec050a4cbfe1d5340b1abc68221e5e332624abe9ddd6a08104748de22ce990c05462a5ce433bc1008a0811bd9b234fb4628764f627d647abc12bdee60ca6e184c7f9bbeb72de370ca130708fc9fcec4690178149ce16f8030b1b7076993df8cebe78a7364ba4f45b981e9f5046810eabeabb2f074d73c42e3cc4730d87580eb9ea115bed3e75aa7bc26451ad839fcb5f27b07eacc2f665c01953d050214821a08f44af443f69643b60cdb9ef62a92f2c11ff1589eaa6cd6fabd233aff507810e253af04e25b1e70f1660c0b16227e6070008a1c4d044d6ee4dc37c3f5b33202fd6c151f4f13ae91bd2cdfd464139b9f99689673089df43341bcfa45c1a0aab82122d9dc0c80bcde8606d069cfad709ab68f2db94e8b7da2471c3cd7c76edc3a1600adf04792126a2058206b139df15c1a6c48939ce7a4063e33879947cd9f2878005c2edde625da81b1f95aedfda8e804a9e7e154fada7b7acda23a7286eab4228a0666b45ac36518bb4277e3a5403f0a1baed3ef25fb03a2ce1468a2db8726c7b5e025737e2b3a246d7be367aa6d45e56190cb54eed7863e7147d87391adffbec0be2011e075f6cf7235d6ed896e72f2daf8e2258ad9e7b09b4103cc3dd6f460bd8470276501af8ddb9982260d0767ed58726f769cf998bee03fca767f5deda3fc7d244b2e4f3a94ce694b2167913d2e8c19b14c063138ff4de237d8c5fa5cf74987ce0a64658f08f15dc3ac8a94cdb2b671c7e6eeb4226e16425004bfb23adad2de68a83bebea50e32c2a7b05e3a9c1454f89238c9819fe85e9cea88bc8d6c16b55fff36b94768328be4fd6fe252a3bf34172223e8f7f36cee8b883f5934cb3ee045e9d1c9a24f5d47f1df4e3569054f200fe7942e55c8dd5cead06e57c9fefd86bfe5525be7971842986922527ab352024d3d6e5f66a328e684e53b42fc24735024f0fae282669cae47bc2bed58d3775ad169e730509c8e2c8ade6c5d76de84ae2df37c9dc3703413b0c6c05ee65054a8f4db85dc5c1c18056975a08c7aa9ee53dbeb4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
