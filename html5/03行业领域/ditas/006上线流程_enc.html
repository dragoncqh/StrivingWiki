<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"396fae000593754e16de95c49123f1968266074a7d5374415be81869321065f8b0e851ce3cdcd265293c97f651eea00d9155a1adc07cc25b044e868078a028c0bb03ce7d1583406652f1c3390fc04d19942322dabeed7cc6fd0e133ab699f3a074e2ad5f402e05f3995d08f0944d9d77e1e48ce5fd1c8f768de77238e9915a3676fc2c9087ee835641ac34200570a9d90bb9f1a271ffb47acd7112a649d441dce8b4b14813b34ee5fcc603f13a9bb165d909eb02384f282e5d77f90fb0d0004b0165d15a43d934e6665a6cf81a3b6460065bf0bbfb468ee4cb3aebedab765b94e8823a6d730ca773b8520963d1687e602c38466af3ad975032085d440bfd6b93a9c4cb199d731e491d075194151761a3b4bd4598622fb27136e078e88a35d039ee087fd62e3ee4ca852a29ea6b3b78c0b0800244936a6d81967ffda578d98ccc8024d87fb1ba38d66bb58fe68efcc92e48e30d3c3ae8a9bbe5be140ee7afa33971f90356f423dd0a7103c30c08e802c9bed6db96c82c5cb636e6c604ba758a49279e1872b64ed489d16fbca5cf65974862f36a8eb4d6daf38b15897d7fdf3810923ad63c706dd0b3639aa44e0f7e639a9d3a410676687a2cdd352a7c7e89cc2e8a2e0d49549d97e9199bcb5e5dab968cc5e2d061fe159ebbd9a99691e6e1fbf48c55d1c3ce1dc2534bd898c30dd7094a5723d8e1b38b0458c36a9d67c6aad32f09eb91cf7e53425c472c8ef8db0e678845f16a6d5d484501f63777cf1ed7805bd64ecc600f68847f8cdb1018fd588e217b791d38c0da75adff7a8c056e1c601f4dd38d90922ef6aeff8d13ecb2ac8552790c5cdf38710082dbc5e1e03f88a5ccfc1d1a6c89d4a1c18887cc7284613fcc1b7c1c73a97eaa4ffe7de468658165a865057bae8b97475191ee900647c4857874ff32d9c811aec4bc06714be6191c0e5ba867cb28d4813e5547ddff27a7072cec217d3af3e7ed0543ca477ba222d9a82e5cf868c2da60f5bd6264691ec6f4a171095c7b4ff00ae889ba1353462359a26bd958980013524bd72ca9bbf0d338708278b33e0d72df976f1957123cd12ca2ad591be0a98e653446a3e8a95a0b753342e9bf556f72780f3eca11bbf99f97d00747ab1a6a746e53f697f470e0940f6e154fa3e8fc8a52ca297156c7267319b63572a643b2c79546a1873b5ade4524c087901de531ca73a11fb51ad63f0e75bae75ac1abe1600e7b6b4d53926114093ccfce247b23fa0d41f77f31ef4e97174fe3afbcd7a3e7d04b23fab84016c8fff721515f2032b3620f8893b2775c7de9c07a705172900ad323ec94e689fa46612b02885ce28560bfe5f6d50f756b916a02ba1c1aabd8490032475fc56b3ce87b93aff72466fce0114618fcbecbe52f30fe15df43d1e6368e7844b9cecc6802a637f65157d71ee093e2c9aac51d1e78dbe3a17157e85c589b6dff90f572e458e5783698615b49fff7c22b3ef1313a89ac7a345f1d9e9acceebaddac52620d437903551e3689d3ca7203b99d63172a601bcef4ea2ea7a1246254cc5aca13acb681015485673b1007efb95b3d680a9e4d6e1dfe41ecb1dd33ba06dacad228ce92d11631c4b3c2bc762d868672f2bb26b77c3fd2f1c93a4d089abf0f43222083b8a0099950ffc4531b63d47c6ae0d8f4b10d079b517b46f02f48a1de8035b80d8d918332d6ac7dbc753795b6168c4dec6bfbb87d970443bf48fc3eace05029437fe5aa79cd1ac29f08b7cfe23dc105fc266dd5700fa33ab6e892652044d267da9aeb901e8d64f4f8f9e4ee0ee20211e8f215f23710bb83282068cfdba98d485a07fd23d1ad3e48060b9e746dc3fddecb7a22bff25243b21d08ef85426cc35d8143d13a5d3dde651eff7a2de3711a5ddd2e764310c45d653a1ac8c954c166137fba6ad905133110ccaf01937b61da905ee45fb0c02d3e2ef53d35cd9605fc2c5ed3f02eee1b5719a504d432561bfef73d48a3ab5bd09f09f27c0ed0f78a4011f6fbbfbbb1358e5c2ff812f62e6ac2b9894560709185ed33e68d262e8781fe98297a146c4529df7e781cdf85b12f591db1afa0a51b1eb45eddcf91b2f64b8c7887d9f02747838a39dafbe00fa7c19fa635183056e97da7cd7b5e924c6d3c91f508a8e940577ef3b49d7f3eacb11a7c105b309dda1c0db7e2cd3724564a2a687f4ecd58570828aef79d995243e71ed81c0e505202fb5dd8d8938d8c143095d1854d18cbfa2cb5ef995ed908513f69895c0cfdaccfa9518ae457fd40dfe5197eb19b16476e71ff3c5738b8953c466487c87e9d8761dd4e17113bdfbf83474ac62e671e7da7c69cadbd689082ebba128904bfd37470bfa300c3b8b3f44f78613c4c5bd5ac1598a46a1843c7c87f496a7e30ce08c9a76a5eb0ecd0c3013f1d37a4dee40c30b0f76a907bd2d5a9df94930cd76ba93a84c58f732a6f27d2e630f6e275fa5131b32b089146366edcca13b5d319946dce15705e24212eaf8e64745683126e8e974f78eca741e6777b1f8d354e75145a4e00f504ccd32ee842a7924a8fca964f4b9c53e17f57547413439e17bb225316aed5f8f93e4ac68a8738050b17371cabf5d298988f19681f394160bafebf42a7eb9fe03df8e6fd5b988e2b53a05fa39b4fbee6a1e69bb68ea8031089a3545a0dd4b627676ffe9fb842e551de2674bfb11947a8d59f1abae15a9da4aefd2acda1e95654ea29c70de82fa765cb26426e940ca9b06a3bfd22208a8dcb40324ac8267787184220aa5dd63cddda591ab48a904bdbd2a642bac0032f091e386805594b4af204fd52cc9bc3e9bc77558cf60f2ddb605bfe6f19d08b1825f031453d46bb7c9de6521d4902437063b2dc3c110512c9ed2f7d5e84ee56816b5f335a8217950335764bce2049168e10c63aa7bb1734b4ce60670abfce38ee8c5c6771f457ede17664d1e7e683479b8cdf11f9263e31dfb70a64042c93e9f6801fe324eeebdb8189060dfafc2ebf86e699f904960e4b4442566d4fb9b1bad76770718963bf90cc29084b961b1392b2bece0bc017387ad003d219e7c6fdf39c8dea51376940f93b51c1474c986640e0b82851e4239400da46a89fe9b98592d372c2320c0192b2e99fde460d92c95d366f418b573113943a5e57ccf1436ab7255e9bdabb1859a4390355f07929cd45a1d004517cb6d3bceb2073542d38ed6c1de9094d267d6e82423acf7208d26c2a1d6357f24b064f5b564ce22b053d7d5282e4be232f755aae0ba706e92da6e1f2c9590d86df96835f6bf70ff70358d71d117928d2e7f733a2618b30d7ac2f3787de4e9eb473765ee06f0deff9a1350e7f9283a69c36c6ed39d720e311fa71db5c58149ff7049f9821b927dda54ab4c750e07788ac6fd6121491162a97ab061c994fd35fc3d3035330e554bc300cecc0ad7abc19fce04e43974ec4cbc6fb62bf5ac6e8798e87b1e215c1d9ce485b4394d1b3ac311bcf728f772f441626f4ef24ade50b9c71b1c7b725d34b86395c4f0f26528120a3072cd478de52b2296c89729ce9bf0be47495e035851a95b79df05d6bea25f81c79c2e1c132ff428ac772388a9ae41584b5cfa495b4df2bea9f30d95726e99602aa61cf12ff05315b4e6ecbef9511a97b6df9c706311d91c1dec59a33ec346ab9af3e39f46824d33cc4b28bda8662d7c9ff0894d8df7adb740c9f0882486aed6e3ccfad389382c3733262fc8d9326de4a3c8e9f7dd7ccc482feb90389a2a7c956d7bae2ebc728ee094103bdcfe483a53042bb5210bb671ae1a3d19febf3d9162d3c9450ddef10fadec06778f55574ded080f0e3870521aa4aab4055f68bfc2c033df8a626773707256c5344379b878aaf0a4de755bc079908953b532eb56d3f1ca876a71f7f670edaccd637da47080ad40bf022aeb247cd7f8f0989758c4e14f512b13ccb6f5ce09826f2be57a1abe435ada6290fe290c40d075fb830aedf1e8a03e5ab1d8b5c01f41320d21d0e66fe987d827942560ec9678ad821ea5f4079d9d7349789758637fd76ef0b3afffd9746417b90face66322c47d2662b68ee8627ab79683ca09991cc7df3be42fe26fe8ac962b2fa023f71357ad07d26031ac1e9eeed1be900a3bf95868566f6f5135b424b0f4bcfb9496a8d62a5cee835882fe4ceb76a6391a6d7dc953fef5a57ad5325bf94bcc36c142f28d25461c45e8a2e732fcb3c3f965f80e21668b7e7258ff3d53514549dfee459ce8741de328f1bb62dacf1dfc7eb2a78238412f2faf6f647fa3b6e6e71e5d23abfb9c6d9034638c1f57e4146128000ec7eca02898b4f4ac2e52f623425970b040bdaeaa584b87c25f4b74344075a4e21910d8ded7ad0481cd43755f0a1ea44f184df3faf27e73102157c9e2cf0bfb1c0009639acd9cd5ccaf87f909b466bd3ff506242e8f4cd8779d641c8b5c04b409b7b3870d56348b26ba32d183fba61bdb3ce92e59ee9335e1022e496a6a4f72c2c0b405143f570c320f6330f6483b06dc42129280f101c0684674a5faa7840fe7374aa7c490318bd7e7db1e19808520338d6c9b7d1ff19440ecc7fd65cf4ef671a9c97b130bbac467feeffe5dad9cdd0ac8d85d3456341c13f8b6668cdeee15216f65f52e75a91ab72ac2c4229ecce61e0b3320df2504d060f3a5740305af8b2e8a4a5f256927bc558acba6e83e962ebb92b40f218a55be0a61cb89e3a04497ffe32cf709271859a7f26247eb31baf57b89c502cce7f47fdc82e6d4d690fdf81a31f3bd666066fd4021642a146abc38e4fd94091d38b60a4b9a8925fc92f329a2612c5ef42cc7c019ca0ec01420e32f4871b8abe8a1cae10f201454dd4ae5ac6de74c33bf2596a5d6c4eead4d0e29ac4c965a492062b2bdcd98216965f50122cdfe786a26ea4c77c9f6c9e60702816f20c9eaf3891a11bddade74df831a62df14bbfde3cb9e5d92f137ea392f3f975d3966baa7ff18f6da5a6f48e1e07fc6ca9746374bc8038a6a50fff50eae793453d85a598e0b3e26ee4c00713546358c11fd301c5c5b989544e193c8a960ce9306c544401ca3d3d57bd2315fd73a1deb7f334c4a0d5ae8288aa330815aac5aeafd728570b6b36432335ed489bb546bff3da2a0417d12cd31077e67475feb78f2e5473fe3711db8bc275dfcbcee60c9b4de05a02356aa3e8a4232dfe42ed7b81cad180ec2c2d12b73793eb577236d61e5aa6f6e99df9968ab5f67837691d2874896d4a63b96043e892eef99331fe567e63e837e24171c8337091048f8bb06a976c4c8a126abe27f62b17b53b1390365908941e1ad9c2684226886d7790e928c6253d44b79a2364ae73124877ce76359fb5db7fae129f36d958bc6d45bf29aa9dcb77324de58ad75f530825be8df82c133fbe8fdb0d1e09157a26241276993f2a01aa902c6ffd89b24d9a83753a3b18dbbbe5880bc069d04f13c23ca2803ec62d7ad9c4714c73d71d8d142e2d4eda7f04eec4b84278ec4215fe5007658d57bc920cfe7893bca1ecd65133f02ca6439d609093bc2e6861fab0e6180d24b688a2fb1b60fba1662b8f4a8f4911d411a7a288a0e8b7ea3b9052346238e2322d82bdaf613b338f5e3523df0f333a6bd31d8f312e8852b7568a9027978c2f506fca7c541f562a2dc4caa933129fcce1ecb6681052aeac1e8590ce1035c5c728913363f44e033b377b7d48922d145e8e317f0f8298e626c37db77b09bbe1bd10532c4c84e13d24ad1a213bbf2f59843320e98ecc1a3e1a45159ce729cbfa4766526825491069db621a4892672b70c42fa17c344f650a9107cd3e0e88df150e0af76d2fd3ffab31222a41c264d6973ca49fe37b4b16336c5a0e7c94908a0e097c689c03d45fc18de0d12bf9917d4a6302ba102a15242c75107e7c0c3eff0ad85e63030df3400ead5e683e53383a861e8ed9438af8601e380dd123163e6da02b5f243493449f8cdd0e419b88eff2bab08275f8f0d38e28027217de8db25cec2713dffd4d457d8896ce9fea70dcbf607488848c80f40ce42d294fd4e29b74ad5d735cdebb80fd33f36d7cabef08253c358eeda06493dfcf3cb071c94ff61df873a23f514bb9aff24078e5dc8ba97c1b059ac3f41e0b04505b317366b5076f069a2886fef5316416c05e10676436613c62223ebf2b193776bb80a658be604106f5872d63a81616803947c8b8df9368a84e4ce2aa05b1b32efd744e8e669433285d5af7a7d64bee8a56be291060125f7d0862ae3dc604d52c5af3f7849231573096f5a30f38d4df6ed705cfe05c4eb6456a32177a348deb2e50e3fd27046f0e9c351cf77680b76cb45ff4455897319b90065884f0f7e9f6ea1eb89392c843dc4779215f4cb9870e40d1e42322d103013dcd2de630e1384fba510a623fd9197cd9c2b943f66909315a243e44044c437161f3a6e8c03616ef40d53984ca9d1ae08f106f31639ce1a577c386e1df9b2512995ba8e598b81a3ef294eaac7bd9f3332fdba566ef3534a6bfdb0ff675d19fcc4d682bb99de8eab16cc4e75ff77f4739699a0e240e9274321437abdf154e94cea287fcd4ff50af5ad8bb8d2199da6f88f402d3799db6e224c594b4b9bba995d73712a03bec11258288429bd4c585b779f453638907f6f4ddb0eccb9e2dc200a3cd482be20a8ef5e7ee51a10550cd68fcf5956938588b2560e61758458f44619db0bdb618e86fdd7ed3474a827348d72856315675d0a16efcfba984f21e080ef7ff7851997b564c63299410cdc3b6707eb83059ffb0b670e38c07e0a8deff5f44e4cdcd0ec406210cab329384b2f41265b4afe53adeabab3b28d5889d8f2690f80de090e4193749837e970ca994531bab490443640ae1446033197159501b00a3fcf7fa1ad701fade38e503282ca38f0c37949e3ff5d7b7d9147bf120c41683dff785de981f5cafad051734b0ea059988f4b5951bf52d660e86684a36533addfbbc571ba646ed0dc54461a55a68e46b27ac8a58fb7a2541f395eccc9fbfc0154683c74efc0e129e06388321c6007a7b57f6653a4d2a0a70cebf682c33a70a5b73f4e91f7084edbb36c090ccd12a52542b8958bf3cf4ea28e4d99be7793d0417e8cd786f579548fd1efe1c7f42d047316f255a2752ff90525d176afd4b4f57bcce1b99243196f14570b2b349c1934bc0f6d869b26b6794ce45dfbeff2e3d49fa6e2009697d90334d1bfaf212b99bc02b09fe6c58f4f512aebeac58e0545dc72c51eb3a28b6982bc02eec616f898da76c9048eaf205702fddf73fe2a7166918ee490f1c990bf3f71687ab21e6ad4485e76ae59943f141df66574637f2bd990f5f5cfb26222fe62245f91b8a162a767720053809725265f8811bdd1561f047e460309a173ab05828a50eb734b5cba72add7a58ffe064ce1f5efdf53df3f85071608a023a2af34499236eb06a1c9b4b62cc6b21165cbba147980fcf8795acd1dd5e933cf0b8372bc8e9f2a8db5d068104986269e9014d6f000c06e4bf3f42b606ea7da19049f57b1d8668a81933946981fe4f480ebf8e13a36c6a69c34596705009eca2d7f06b25f5251883c568787920ce18e87431c1e950f52f18d5a2d2c3aba55679dcd84e23e6d73ffc3a0cd010d8578762ba21a10a988b9a431a1d214c6cce228f4bf070d401ee3b3f904ceee11536fbea24124adb436bed83bf6ef391e9de27e6c86749c54878b73d502bc8e0b35033c003a53d3dd59e31cd9bcdebea05c46ef49324fb3fc4e6beac4e9bce2c719898eec646bf39075784b4b5082ad73d4d9e9a041928a5b01eaf114057435caeadd47e03c652ad4482d7b2a7d8eaf21a2a2a0f718a4a2c1c005f7f203c04d67590f968f487273277ca0a60f844dd8172bb6983a0e2e34daf1e123b43d0981071b271ab1ecc58eef1060e36ce4e32a5d312b6a5c571bb2143c6698c7d0fc78f501f68e975c22a50f33f5016ddb6b774fc8aea894116bad45d547a161dfd27ae57aa36cbbd3b373e39f2afd3b908f0fe89fcce96375c71eb37f914898fc087125313f67159df7b267ac83a7eae5f31ccbdd67386920043dd15ed49ff6bbecf39bade0599bc7d3786d32f671635a716ef413a2b7d91fb146eebc7e00e8d5b8ddb9aa51098b1caf59a889ada99fdccf543ddf15b7e7d79424bcde222fde430da58767b4648631607124eab82c77963c6d381527ddb272e2858784f9f1a88a15d7c5d1dbf27f84c83b264422aca87d34da83bc05b64c90949062df76ee8dce91b48859a74583540ebfae64bd1f951f426ab6acac14854f4097e12f7bbd09a9f7c1c463c3df69ae8797f5519c7bdb601d82f9a4570abe9853beeb16b7a847523b942450f85c0488f5ee5ce6102a9016ce1dc6ca45fd9cf4a14bdf3c05318994d2d6f1b67946ce83e97f6d642dd2fa144f65d031797e6edb856ec8960eda2b7182eb1235a98c14ae39e293224b601a62ccd64113bc91356e936a5548d08eb96947857d10b17c9083ba629c35ec3f2bcab9b59af5a255748e828ba57b5a6c3deafde9eacd9133d12c2fb44a358cac4cd02261226c46f863668913f8aeb6b06d0f434decb380ea93b739c706902891908883905d81941fd66695cf35191a17266dcb0b5b7e9d2560fb118fb3851102866ac9fc0013cceb8ffe6810ee643d19300f821f2e18eaa9ca3720ffd7017024e7c4946e3dde8011775b85584ab42e160005dca5770f5e84c53c5be2a47de352335a0b04ebebf0a8ff0350eaebbd518aa51b8dc5eaefccd56f9fad472b50ce2468a83c8f0661ec6a5685ec52be1a42ca41a9753716efdb3ad912e0c32ce8782b34d800289b932aa5df071798fc16d2cea66edda2c8e79e73fc5dce0799619f0a9d5a2313a1df5886ea456829c1ea654fb7b602f31f561e1b542a3848361bbdc7b25f356f704eaf01c73a971bc71fdb4e892fb24b737cf7c87811e7b48aefe21792d7ba4a2102063434e19374dd1d6ceb22b03e7cd30a9120cb16d3c9686f65b913a4c5fbf1ce2090865131e84bf80a2bd90a8066afbfd941f27284837fb2185e2035fbd9a2b0641324c352024bfeffe2a6b4d98b5b5d6cbb662e07644e074c21d4fb6bb33eda6cc304c198028135e95304fcd77073125dd0d82bace279ea40b4bf11956e6371b31effb670267f4d2bb1cb2da0a123bce0e8cdba4835852f77ac9fc56e9b6f85e99ad12da4e9d8bab2734aaef5711083d4c63c3cfbc4a4d0ad028cd6a7633c92192468e60abff9a3d203eed0673d618c2396bf0a2c10b4ea3bd60f87598dd4878b23bf242ff42080daf7ac282bb87d7fb59d0e8f37b53449e140af1dc244913d1c0184fec67c2c7b479b577ef0fdb021679d4b7ccdfbde86a8483d19642a691eabea07adbc0ce20f8d54f089e2eea4eaeec8f99ed5bbf3255bebb9fc0e7aedc1e478bcd8a7bed469858b132d6654b90597f244318c482d1f01aa1c5bcddd5756afd1c8ba9d969a19ff0814fa9392fcd2b358c5a1d909d0c735cce02c110d2260591db9aaf52f818f0a70286cd67dbbec3da443d5a1d9995828ee6e371763af31595afd757ef2f609c0c289dedae88fcf590d30bf5e957a7b405b0c82f50d50e4bf4b535b13d8317aac803f5ecfd5bf1ac3950a4df8a578ae603564b73d35caa1414437e313e5dd8aa2aff4dcfc6e3a36e42e122ae6a372f7f5816a116b01fea7223ff9b95e4ece76617988008b3bdc92ecae69171e4e7d6df48c46daed798f5e25162c9c32c0241ae0576a4484a4417ba95f3280e399cb4a9153554ad6353c6fb7c4d273155a8e6cf07cccf59e7471c8f08f034809f75c0d740aeb87eed81afa29c3ad386c91832aebe5add61355025f23ae71c1c2d03555d293ae52f972cb79f6fd3fe3874f9c27f0818dd35df9eb88b170e3ac4c9788acac1c201fca49eba1c22344c80a4f881d8166bfb4b343c2cb5dc1e3518a91cd645795e4d17561e50c0029cd6efddf73de0a2fe0707be57befdf2e9279ab3199b501d30777e2836b4afa9554faa386dcbeff9427f4747cdc0ed951dcbe53bb3804131ad4cc1c6971c9886f78380d364ef944bc14c6a24e43fb07f3cf8c6dbff01ea6594b08283b748eda526d721a5d659c7758dd1ff3a8bc940b940d39dc75e4bd3a9c045b9c5e389421f2732d6dece18e02e62593691e5f3f8c238f4e80f06c3f3c847c87d6d524570cb61bb5949a95d7f22a81638da968d70e8edf34134fbaffa41692d5d1389dc29dc0ec12e653a8dc7dfa6d35958d5a425f4b13565def24cf7e29a160afb8c36265b0c099c36e8436060149c4c32a577d0c7bb138e3e584bc3a800bd35ae56981cb7971d0300d04784fb7f9e050a349171e3c7a7dbdf6c215051c67b928b5f235c419869e101404021d926ba49fc0c82feac41fbe17309f64c7d972a8b690b2ef3b840fdc59a8af61c7a3b54bac045ba2098cec6f3b8f58467625c4b8a4cdc80ec386cc2c8ee4c168cece0cb5d456cfba176af16fe2ca0f3ceebb434493d7436e1d3023c6030cda42b5e6f6b92ebe60fe9b0349478187e86b2cf31037d5168cea7849e5432b59507c7bac597a377f40547ebb617e93e606100e05e1e7cbe0bc8a295797fe9015d2c0cfca4e39d37cc2ac86f0c38bba7eb8eeafc3575615df53722eb2e1ae4e10e3d53ed6fc1831050378993e2b7653927475c2d41f421cdd2abe3bc29f46a1f5e2de87b037e32d533ad9316f68554e5869eae903de72ce25d719e1d4f2185111090ba5afd958188a41a32a09273c964e4549316380ffe592f5614c3f6ef0d846cff6f7994e36ff95cb7a2ff15bbf44024578bb037f613027d261701a96541566e70e7ecddd71ac6e0945c941df3b585dbbd2a3b4ec88ce87bef189aa42c264f5c4cf0d78f89a09abe020435f7fdc403d3eab7cd0a831da1cad522d591a5a7fc58aa946d776faac2ac10d8139066ba198f39bde0a8edfdeaaa0dd0feaf0f6d9c6369befa3b8c6fd74a07ad3ea8306f1235586714caec2a60f3c9f7f7f26baa22685c62cf789d07860524b4eb769e58007c363d3b6f3cdb87478f6b1ec477c097cf498d8e37fa36dfb7ab394d7ff0bcd99918e3995e54c8847973f714ecfacbc8b8b123cd9d0a5b96abecdccdc2dcc3c3d0d0c6b8b09c00dd2eec26b19413979165d686c53816380842a9e936be54d9b61032c5d06ae05e8b82334e71c9e2573013d41b92e3f820b46860ea8b77a4bc674060c23767cea054ea309a1c9c5e2354fc3503e651fc75d7ef0683e47857ad70880ae7e076aed1bc9adcc376e94a69746ffa1e03fbfa8e7662b82778cc7bab829cda03671a020691b06b77047206fbcc12165940d677a214e6ae87ae564c099ebd71574e03067f95428453eeb0e7f3aac053f4fc779c097592781080ba11e4cd24d703e781231c1fd5ad813e581940d1b4ef15d28717fc04d29ee98bc6807f20feffdef1f54ce6448b4a744e07d7b0a87eb8abcc674e90a2b65f95b95f943f653560ee97d05da9b76a3fedaa470593bea4cf230061a251f69d89beafe58c4a980ded7fabbb3970d19ce172169e389970966f66e498ee6b78af9e5cd4a8431f71f6625bd0977fa30a65af9d35ebac24ae2d41f1b73edc6d676b98d7f3d99a7f194d0f475f3d5e13c8601a67e3f06f1c8812ca1ed46502343f3d20c6d6efaf10b8578abb44a2c6cf293abb0180ac8db08c9d4e4ea6328c5a2280fc5967807e3efd0dfe067a582371640f2ad28ce90e17cef7200e4437238758fe5a2d089aa93811dd12e552b1fbf0475a5ea59cd5019b46f91696dc8bad8d49be2a38a9b47263785a6c92429f1784f746adf2537ba9343c9ef4f13cb5d7fa8e1ed0c0a1a73975b4dec694c59a59c1b0be4d15fde17e12c12b0c1d59295a157ec5adfc81872803bc16bad76b61afe2b2e77c618674f21e7e3ef31093c1252aab207a4822f1f5991ddd612e47a301919377200e75814f3f11aa653149fdb266966751842aec75e634f5064e43263020fcf3e820d4a4698671b8a3bced211ae60e287eff27a9eaae4395c37067ab5c4cd59f140d8cd6447fd688e908a790426a97fb1edecc07d2b9aaccd6d9f741ffc5acbe53fc765b31fe39bb634edd93259ff9a03bf507151fabcb9c41bbbc77aace1e690ab86955eb278378faee1471e8f08bda2cbe081dd3d0256c41c620f5c9caaf45e6380ff06255f344fcfb5d1066db1be0123dba6c88eb68a3e541ad349aa74fe1bd03da96ed91fc10278303ee5c382578d5c738110505cc2a2253f42c57ad5c7e3206dda078c6da0fc04557f49742f0f283fb8e91064839181ea4edcfb17f5c7290090c8cf659dcb0dcfa539a430dbb9b9419a86690234be58b07c3dc6f0a9dfa8239c9ce48c57b1b679b2585cd0409cc635d55dd80ea061b81a293f9b4032a828d24a541cfa77f96b95106350b4578fb7c9758f9d9748aee9c98a2794dea505f92a185fd9418265a6e8bf73c8e837c14f560ef1d5752066b5805b4e38a25e44d1b0700dcaa7eadc2b35375fd31e6462db1405c7acfc58f44fac330cfdae94e5bce3f17b9befcd6dda25e707465e04bdd4098df27c694e4130e87ec4aaea10d59cece092af2b431bdf51dc51d288ed31b9153cb07f39f48a8ef213ff4d92106c31c6c022d116729eb96e47831a87b996e1b0715f2372a2dbf0522731a34c74105f0c4ceeb904a1c611f047a5e0197634f7d9bb4cb8953f0d68d84bdd18977a11ae39db5aad9755bc71a7eefc1a384af99e42fef198bdc6df71c97386e5ad238045bd184509c1c6fd3efb54800250d2c2dc907305b316deedd20a5dc7aa1021af9fd55b32ce307b1263a4a644d7242f466fd1c037125737056b583e1375ec8a78ed45903e50c0267028f10460c1094772e752ab334c73d2cd381165cdc7af701b9d1335518ab5aefbb9e4c1f7ae5093cd6a063e1e24ceacfd36597f4311fe3dd3c93c7719a202fed6ae956a2eaec8128fbdc02a9ee10bdfcf382a8b695905676b3968d4e5532654e3f2f780228aa0868aa5147577e170660567d7fddb46d6981954b63d406cebf9f1bd8e566ae9c81b340ab2d0216e69ba3d991d4faae7c1317c8dc93979d64bcf0e607cefa177826fac03b7d2e9b0b8869f4162dc956ee7d4f7b2a0cda6fb0f7dbd417db58a029f9a36f886a83f40e358915e89b3b1ca25e80a0984ad3ef18e0343fd224f1f475ea160f401a30c07e0eb4b1ac180bc5928beb659ead6df096260181282624c09f75533fae1c3034cc182e60b7b5da1acbfe47466c2edbc8f01b86ba66ced3da78ae4f28c19833382a46ccd539898adb81fa4386b174aee37c1e5a3e0b3f289d1c704977adced5a4eab74b2dcd9c0e9b06b64af79164a6983832ae27ac73d60b17923d5aab79157540860c7e6df0d7ee90171f4784029fe1fc4ac9186c1f3b1c132e8d00abfc5c02f5c77bcd0e24a1c4ad3988048d932887980d14a39f3eaac13a97233bef11b1cd7f852366da60013e4e6543d6fd010959c147277e80f6a114c69855e9aff6ffa86dfdfd8cf3f773aa5e591219bae49b766c8b9bdf0318b69ece3a16e9c7b399d126ad6c331ee62c5a492e742d3912d006930a5daa03c758bfcd9e69c994a78feb2409b595ef5aad4c431edee66a3ef64c1614b55c382fb3eaa195d13754772cfeab60ea46b3e169b90e1b781df0a8f2cd83efff67075d83ab7805487fd3b249d70dfc1881e27fa3432a3ef38d278249b465a443650c4185dd5c97a5cefda376b0e876f19a012155b04d45ae21d69c48ef4286c6ec78c8112da53617530e1453420d70180bcdf48ae821576ba25de4a5cc3f4532c87136c3ee57d5b769c2bc8ffa6bcd2fa93f2f22d18d8796d34ff86f84869c826295f4d65269b7ec88fb4c754b2aa636c66074648f1edb152693ff62320c840cfdf1e09cbe700f8f071abeac511a4524f49183a470964ab34e05a577b19e61dbcc8e19a8ca762ac2059b87c3e0b028d7b3c332a596ebc237a510e10f18e251b39e2b04499ac7d4dbb5eb844dad44ea6cb788168e4961e3d2c8d3486a9793bc2e14a56cc68298db834860b9642d65c2c138eddfa8703a20eff0539c462f387fd01dedc943ee679769a21cc5ba54871c3e328f118e4288d8bcd297846cb2e99cff3183db5f502f0e3605f5917598451828d9010062f964db489f936b3c499f34456fab6d53d7218cb91a15845fb3f30b7a6554fd6e6581def4043a0f9a795e3702935b492a9647f9b89bfea2f99bf688cca6ca29ce77c9fe1f773a713fa6faa3021c2cfe9a262e3db52a73f18a0af679865c8ca81034702fa72f5ba4be4f03eee243632b3c9f697bb6e925722d039fbea527f1b91bb7bfd579eee21855009c2ba73692f66c8118ebaa71555ae40cd64ff3cd69b4dd57e35af98ed35e0580804126c67aa3eaf0424875bf23ed4d0325ade04224a896fcd67697e334f33824d47e1e94ee4f95a5641ff68683e4c1d2d2a30f30f913632e2d142ad52246f353d6c20543f6d8150ba7a6a623889dad03c5ddaea1c328efeadd4ac362827ed9494c6b9f3d2b97c91ea1fe835a42e62813c0410b0168331399905f66cb1646a7e790560072f8ee9c07263145a02ea720215cd95480b53fe915d60731fcd71085700f1ae88f15b59c0caa1902e71a73c3f3013ada96e6f7d1e3a326ce6b5ad861d9f13a6b13579c2cb3eb450ab97e10ae301e2166ebba423bfb864ba8eb02c6666c5a6faeeacd9988102ea10aa1a20a6c3697cffc4dea31261f9e774c4d4344fafd863bfdad66e31d869f153b58cc2c784eb421e115dfc9ff406b62883e2cb02904d5bb02341b6f4e416ceff1dfb57cb579e936401133181fe5ed2e238a0236d0b615df717cde4de10609d0018fbdb9cdde69258f40ff7520584eef8de831f51c3d93a9c5346b791d09b278337bd01e3c679681bee0b71fe432d61d9d8616a0988ee2854c0e85b13f36a4df61a5d14bd165b7e1fd183a6e5adc544db3c46bb4e0840f1dccfdd8999c2b4a65892dbac1d45bafc0bf27e53dda24153ca0d53f4b87d11c440631ff5dfc667bcb1a31cf45123c48fbaa868ddb08fae3bcb8a9af9891cd4f03c5c23a36a90c0a2e12a0dee2032296fa623dbef9d7df087b9d22f7443031bff00c3d2aba9d88c2165d0be615711913d025e97a313d0ec0d5fb2279953b9f8ec62e835f3adf88e0f0134f260f609531941fbd74d746f93eed81e0f1b12ec35a45fa0ffe10f33f01e01af4465ae0ab3a1becdcc9d7218a1d81e98667722d9b1e2a5a0861929c641c0caaca8e796731562f553ca309ebdbdf491cc86a706bca99a80723f8ec7ec0d727d917b0fb8b1fa402cbe523a3f6b79a4a660dfc9a607098ab54346ea155d274d707dc561102f3c704acae225fd92479dcca7a641bcf49e33ef84fa0029ac264f9921aaed2dcf2fdaf17bd3eaeca2958410764daeb3f9c577c7e3ab50602b4124017171045fe65a0b7d64ee9a4d2d07149b1d9a259785de3260c86237013400085d5a4ba7728b0fd1dee3442f859d91792f2569ddf509370dc89fba766a77d61d7c46a1a2ebeadc567f50022d2d2fe227f72fa5cfc5f18c81b28fb3d159e64bd3ff99f0b25ef1a31715019aefd9025a460f52700b62a4f6d605a298e02c2804f25e9ca2f49ed674f4ac2bedc6668156b9f118ebf692c6d809cc169eea87bc0a17d168d4f8748af13a65a622baec67b47670e4d08a9fb1e6394687eb92040fa156e47b46a3fc477577520e3a7e521baa6a02c6d3ddb93567d937d1da677cb5be545cf4c63e8c83982bdef829921d67488c90c1b95303bd5d7045ca3c1271e6f8996fad012a1b7c9a3ca59bc8e61cb1a03f0bb83159c56c16bdd7f2011196ff8b34d9651ce17645978266a5b7b2915077b039a37dcddb780505769caef49a93714003ea545fe068637ac6e79a0a397f522827d6d1bd03ee6736af45b93f075429f6567690de87b63f8381268129b808b8de292ee444aadedf44bd606cabbd22af299586619e0660cff1c52fcc2d50fb3d283dc4be931ec53cff938b08e81fdcb43712031e1397d95171e9267e76011fae4a81e3034e5bb0d1b5220069fdde64840586a6c89a04fd6662da8962d26ea12748d0ac36d94b5c6931ee3d905dd5de7f9b242a883b0898118915ea924f97187c9aac162aedb6a9e079ded87f0f5be1243363e898a466f4f6924fadc5fe0554c3be9d5d41f82ca7856b2f0d7e725346827cb8abffe6005e2b7eab9a0647095e195c2ee39e73e6d7812b7e9353f57664cf731ae26bd159434dd7b547a6bd3ab53cb2680f0d6d611519607f76c8858087740464dd314125ab07826dd490c68d23e6b0b9e3206d2ac1796d8011325b25e5fa5492f62a3eb8fc844801f770e7508d62407ce45b19d1182dee39ebdfeafbe7f83ad3287dd79c34366c611e117d60d325bb0c6f540cf957dffb523616a45f4df6783453716db65c9d3bbd9adbdd286d413aab744bd9ec54ccaff9d7d4f23236ce23f96d2591acbe32dc346c1437803a6b70194dd1d2cc16b6ba65651ccd3ecd0b4302961014da8e6a809cfcdab3ba00ae5345de6bffc30675778b5e6365de11dff2f2a2d4feaf611d6011155702dd0dea73b05579fb7ecac4dc171a3f0e95205644ec429449a8b85a3e63cab169a0011b543248ea218a6bd1ac00af61ba1e6c148fc92088d965f24573844f7a80871925fbee32e659ee113d4a0167e0530ace0a6f80f90fd37c99ec8463ee604e87b3f8352da3c48f177e872c51ba21bd5e7cae5bd6a56bf21ec9293cc723922b4fdcdf85a1e09f2712080f1efab5fe084fba7d4311b9d489cd15bf81081231aefb8bd997b9c7fa01a990fc39c8c6fe44dfbcd566ebe4bbb160f03a35869a8a9046f3810d53069b599014dc6848379dda7d9e0190a9e5837f421baac34fe34fdf5eb0b737ca358d61a9d5cfafb86ce297f0f9d8f30911ebd11bf1af3bfa9be52b3a32083a5a2c37a9705c92943582934fc38199631acaf6dd1d9a090f464246280d6fe5d01cfafca4b02b63e093d1ae6209683ec8b773b682e54b323dff6d7f96145dc677e5107c3197649cfc77769ab8ab75a0c12dabccce96f74ba9d7ac47c5624b60607de72332a2c71a200f5b4dd88ed45db0fecddd198a0ff10832c18801955f73c076883ee1c1d664515398058dd9598b1b1b014d0b3f525f21eb4a446dc4632e26b043bb327b4c99633f2cdabd9016c48e7da70b719215cf47e4ec434bd08cbae163dbc1500cb4f27bba8da6abe569a5bb17f9b3e79f0c92b2607dc4b931b277c5db707689dc172ad312e637e37390f8da285d4140efc54bdd35dbc4fcde0123fcbdec8e5ef6f57656ead4ecb057642b7e1733ef3e7104d063d35405769f68f2c594c17a2a9f74b8a9098d1c1a359519103d3de6173530422632cbbe66eb56eae894be01396f51f4cbab2a8c41809a03be53d35552275c0be7076a85cdb4f51c08192d1c889bd49643df124aaa8e613b0c0333517e828fbf4342b1423b15dd809acb9c0bff4b612c80880d31f6bc825c31a8c936edd38a07893d811a798b1bb3f1ab06f63c60559ccd7461adaef1b45b854fbb17c5ac73fcc51491c898a993ebe9674463dc3ef5de5f798ce372ea7bb61433aadc831114670fd23ae8d173acd24b69dd4bbf9d5f32c140d5138bb588d33369099d695f3c193cc13afe261f62825f7e87cea39d9f2500547e670a37438b9587fff38b1b568d2bd2c149f7a4aadce828380fbdaa63fd42a36f4fc368f9a3f208475ed0e84a9ca0cb42e6604b1200619e9533fc472716fac76005ffe22a6f7ef17a9303f9cb763307b996b4b800b94bbc1f2ca5944ba13ac58b9b3d5edfaa6f265c1b848f128fedc0dc71b4367177709b2d4aca3c0395f4646659c623b0e3e2015125d2da61188ffeb71572c7a07d09d82d65d36b2cc591faaf00e6f5a74fb317f1c931ad226666a85ae4948a09c3178ee0efe8629b32bc1d4f241df364ec57f005f8afae64aca41a19260a36135325eba81dce2dfc9a921a0f3d95912b6bf23d4c06594c16f6e3219802f08ce70dc5e7fec0e514e5058e151294fe04817f11124e68464cd6b8b5cb374656b86ca7ce0c149c852dbed17f7cd84c4cc4d74df84a9469cec831c936b5745bace20b7324984693658fc09533bb40748e8682b1d1e733b08fe760914face3e1e2e2658171800f86d61f1a4cf7803fee5079e8f81a22c940730d11bd577664d46d77924f4e1f198cc7c280b780705e65412566c833e5303de5c6fd9a1aad3ef7a24f85e2806d36078908dcea9da0b3a5770b237cdbb7df527cc51352c76ec09522b6f5937c2cbfd7a1ca631720d54f5f25b8c2c6cbe15d953421f4207ecd8e3f6fc71f47c5c51589724240108ecc9b363bfd672f160bd0d2815250b73f23df647ba25beccef23574b8d2434bf39ec067c36016d625710b67f72236235bb0ab436cc5b334734912a1e45fa3f0c24cbc0edd8691b340095ab7accd6c790ff1f3444b6d678c8b74f2febd2d5cdab2a6d30a99030494c90a423ae7294088c975c5ca52556fec5d40d84ff400d838d8fab1d81571e381ace17d095f491ea4267370c2a090c71af6bc335eeda21a0084fadb13f57537ab0c0b11d748dcb846c51039436fb77dda3c753d03244e6c67d5e80008ee7025cd929938d6839e05ff0b23e799755786f6373b2c4cadb5bda416e967a374dd9985735338cc9e5979a864f82d7708f083191e5748e0238f6fb73fab08625d09675343c702d9ac60b2649a64ca52ee7dc3e98b9bd045e69e6e2e00be2289eb32be50d8001e27e3138d7a7ffb1d255717ff029d16d22c97b20e95b2a39c740637a7b2383abdb75b277f66c21caa1735b3ac6a57e7d4e3881fc3dcee7f1f03ba1a973f3107ef9d1c0477e9e01774d544af1efc40d80275874efa85be12f6a693917f1eb2ea91660c75b6668cd4a0732bf9ca5b420eb5ec588ea8d366439dbae1d30efa4b8a60f94838c662be9c39e83fef42390e26789cf1ec14d4d246f7eb1a761321c2d19d971cef7c2e40aa647cb93a1cc2c38d94ea73738fbf3d9cd8245fa7cfcb473f540d5bab756331a7af743a37b3c8077f19e37d96ac881d360cea9a1930588983fbf639bf9e60e9515900cff2705bb062374f1d30290898780fb1b7deb573b24f5e799baf72b890d4cd13c7f67c4dac15f79a4ad2f849609ca39f763d6ca9b4d57c9c4b780e34f6d170576dc69bf9444e154c58f26a96a04757bdb3fffac02df6f59b783998ed073ffe786cd255e8b98a288804610441ccc43dbab3005e6e18c5c3578695247e01c5b37a933d0b7db2c3826e12e97ea0fb761c45688be62391e59ed7e7a23a394edbeb8fa6642112f569400773585e021e2270d5c216d90a10e5fe8b5ccd27255733808188f9cd3a42675008f800746ac082032259ac8ed344ea22c0332132ccbd5ddb00136e085c76d35502d33d6df6f4b11dc7dc8d9f1327964121a002414122dde7ec8c3364eee559d50859071d88d81d0a59829cb45fb117ca17dc6e14080575fbf3d92b681102afc060be4eb7e3a81c1240643a37f5a0773e8712ab6b8adef9f36bfed4bb38dc599c4b6ee53413b831603c0e4f4f7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
