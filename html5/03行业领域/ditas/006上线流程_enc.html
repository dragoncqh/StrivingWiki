<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f82a9856614f3536c7c87573ebbac5f4178aee745693729817fac8eef804dc429612cda17415fea79f1bfcffbc7fce07abf160ea35774c55dd06dfa83fcf76e6afb68568655154fe1da09f8a7de914e0e0fb38ebf2e549156b312d3203c0eacb1f2688c4e6e07e404c814113a969f4a06f2010ba25fe5a4d6a90341c6036dfc0f52d901584f732e0cf4a4f9ace5feeb9727edbd95bb8c08dd38df51e3f92a2504cb1c85b10c979dc67e15cb705aa1dd73ef97b4b83eeec382af88e82062bbe95a0660fb1128261b985c61868865ec97ada072d7f055815c006011f95e202d90802e4e642c0e8b82e761d7584b1ed04abf8b7a65cefeb0296f64c2472da566a9a79b6974be92a9a0096fbc1b89d89595e680eb09375e87dba9bf57a3a5710882ad5e06b8fa9b3b10951782c7d6e7a97a06184260df5440bf20c0417d8ad7d72303baa19c4b498ef87d82444c0ef4992edf3fe7196438c6ad28fd6a8c61ca31a139afd0cbc22c015f2f94f18e44e8bb80e9e8242feed4eec050f17f75eee913e9cffae58dc3fb5f30b25d9b4408d2faf8ea2d0ab4f25427fa98fb68b46ab5bf91284796a4ac56b939507df0c56cab95abc18fddfd9ce9d2a82841ed54caeaac0ee9e0f81c0cc59c59edfa9ea6ad442e2a606628f45dc5ed6c07d00e6cae2f5774e78553ea4341864a5003d9618ee6a1adadd76f5ed87ab780fcd47d6e7b625ab58cd70e6f906dfa824b2438bee8f13131d6126c45d0fbc931134209dd8c16a6710e1b562809d949d1311f64fa5bed9e9d17f7c4d3ba684e2edee2510cf3c27c16deba20d549542adc1f68ff128569a25962ef8782a15d6339856a407a03f9818a0cdc43e8a79c0029b37f46b0eaee58f9b11d530dd11e645ed7d246afd1fb0d1d014da1ce07a27c50c02724e5bf0323da2e9a6e6cb9bccc906d1dac9360a6f475ce8c0d09938d8c81f23b0a3e73ae739a05f56f8a998ce4cc60a1f589422af1d518b539609e0322795a82232a86e087602fc3037e4515c18a1b7f029e671210017df5dce8a56c8c32b915bcbfe83feb65fe6103e655e2a671b4c121f0d01b6e1267df6185c9cf03d7566d018e06437d00055515a4f72e111370fa07bd7901df0e6ee6a49d75b7b12378d6355a2f60d5f59647c7cc362c9f5dcd9a0998eb87b8aa52f8faec1f4a3f940d08e7544361d38317bd0fe397229d1682c76e18eba6c9ae6c1e37c607c1b8f35d45d856e42bd95928d087eece5c49b2b7c9fc597276bd791167d3d0863f473a3e07434a227989778ba38f4b3c0fa76ea4d6641b5a53f7764057d878b0a5d6efb6fbacba8e92bec903d081b449c6a2863c390d678580c158e19e48ccb3a071197ad04d20e23c27772678427ffe16eeb74a12f5b913142c6206abfe0544bee2a9b4325aab56ad8423ac666106dcad336d474e3e69de63ce51d6c636b711aa4e2f413c3a42c36b866b9c338d8389a7dccf18c8105afc6815b6bc2eef73a37def1439453d27be1bdf01929b5c38df9edb6903f79a607c717e4dbb26fe1d42236b79e8cc328295e813280ffcc60784de11b01256122c0256029a5c31f29dd6c8c2ae5fe655fab4c3b0b962e96ccab2776aac8e3a4a40234be94eda438eaf606748e9951162150d2f32c34d209b518087dc3a8c7579c3be2e6bcd3ff762d817110152b6c373c5de40e49fcc92be11207cffe037c87e9f3418d69ed3d06a8a3aeada68e6b0aa4f4595f0534141a0134db28fafac5ddd0819b2d65a8fb07d64a4d57ce029290387e8bf579be465724f97b63fda5eb07dc8483d89d2e4b8daeaa32d71010f40357a9623b113e1919656d7a599d6cf8f2992fe87fb4731988a104fef53aed052a7869aa709006e66d8baa469228fac0f39bfb315350d7ebef7f28a68bcbeba25b82e893f8818076720971dd8434e852e470e0756d174d17ee91999dc282bd567882041a395d015c8a3a8b714286a03348438b1076a015431e93a79c01a8318444721754d26a8f4cd161fe9c668548b686b76b5df9f92b2d48e687bc6b192a7b3669575205c5d9995d9badebe6d94bfb0fbd9e9b4a7e07ad97235fcc3b1f8bc1f941ad5db98b40cd6933ac778ca16a1e3b82ade793b5a9e379e59b9a26fbb298ac021c60277a10ea486a5566e8e71c003abf95dc421068cf399b4b85f44e56cd55a5e5366e6cf683a908f743c9c510e2d1816b3841323ead49cebe7a62cd123fcff6fc7f5804bbae2c974511fd05e161e6e92e7c6855ac57d47e52eef97de1ca234fbc333ab0362e077a0cfc57ffc6581166e5ab624eedca3e6b0fd31d246883337dbc8d5a39eab4cdf445082e816d3e91b9f8aa9746de61700c64c4ea37ca4e57e9f7abf756a7e6cd60157abcf01828c9ee0641130113cb3f256619790306a5aa694d1f5d9b9cbaffd17e58c910c317905da5ddbe34d1e68874eb4e37e43895eb9843e1f149c1f223537a2201203fb0f9f676e8608e03cf7056bf835c51cb30cb039f065d9c78949c1d51163952cbe8f3fa3f580bc417f9a599e6d2f3afb62d79920676dfe9301e2b7b4a88b08d340c4750abe779b73161db7e63f481153b77f63582245c668111978c86bae9a108f1fdd627eec8265b26b44bf388ba8651c43e71b6c9c2c5af3e3d83c4e95d0d27314379e469824c667dd9b8cc94aa1c80f3d4f38a821d528a22654ce90427c685d8f473fdd81fac4c17562ddbc208a88c4e9a90054eb83d069ee144a01c59ec62ec2d6de8649441e9daa9dc68284c024779d8ca69ee532097be52b7857b8071a6effd7c172a16d727382dd782bda5201deabeaad367959f0209f58f28e2e19ac490b1a30ba551603ab77708e251656f8a8a9ac3d5d18684103e79050ad7b5592e3d57047a8aed4fe6a17ce6a1d54baf715c608b6005feb4b60df16478ace16737764832a2858f6cadcf05c769ff6fa760b3303eacd2f1ebb513c551ed705824d10c77444e61d27be5c60f7bc4e55d66338c942b792e32a0c476558a27cefaa505b3b3ddd31e1309e66c63aaef651ecf639be4b9c5cd12f22ebd56d8c8baf2daceb39114d6d2d4cfef5dfdbff883ec6df6d0634c228125bc339130295db0496011b936acc3afe83171fa02a5cfe9bebba9b2408072c2035009946dc16a10070434f2a2dd6f307b688727162c5bd629d6c2c0173f5edc5dbfda9bb8967313585878849197cce3fe63dcfb3c0d47b9957b0460554b5a57e47722d55eec29a9417877be41facc2916915f5c22f46053242363d44024c25ef4b39481cba1304f517f6edbab7afff6bd4054cca484f3d8830ac5e8dd9abad7fae822fd72de280ec8a5826d2100ef9153982aae0ea7c75ca136d67fd6dfe44c2aad4bf581f768b1884f19b3b96fa93e7fca38dfb1fcd77a9e8d907b34fc4cb80d269d92d6926ac7aa2d74a825efadbf2a352499caaaaf719547971d2ac65b960c4350d076fbd0510303fd4c2836353d27e0af4f7735fe53e59e77e5a31eea63eceff15145a6c00037f1fc13c8096621f968ad60eb39abf6a40972890021b49adc519d46b49b928d4bc94b972791ce243157171a4fa3dcd60ad328c51c29ec80d2a89a8b597383e62c7b7c96a6ac9a4646d1e8609b7993c6cdb7fd129a98395135c87fab712d89e177ca69d52c4e61d3c5d23e16b4097156bcad5e41b32fb7051870b4f1ffc27bd8b13b72213bba0b82824c6d3297dda91b2fff37d4d9c39a489ff6a165d3cad646b6fcdec1b9beba82c12e0cfc21276fbd535a88d0553a3bcccc73baee8d6e72ca447ae437850a32fc43d2145ca1450cc52e471c49f3a6da9d33803ce9fd796fb7dc599621ff7695c7bf906c20dc9c13b7a2650db25484af827c414d03f97541fa872018b6ce41de4dc2de6e755fd439e38a7ae1e4b10a2e2e2ca92bf6cda8443b5dc99a16863ab369d69e7ed94bd5016a59bdf17bed06bf43a28247c11aeda9a08150ee3e448bcc19b12cde10538074fee2cfeaba6a5bc9792210352cd5629e2377d74cf442967f7ae371d27e9027a0079c8de5a11b43651a45cc0fd4dda67433ee38b867043b7fe33bee74f17e3edeb470c81b4f1af3a50102f8125a0193253f0bd314d7e0b6fa7d59380c166900d94ef6581791c60ebd38d6c3fe583e84f3d5994617d7ff5dafcbc53b8b91a875a9dd130e1e26bb0874b5a049cccd4886ad3aa3b0d6cf05d618050b546e5612dde9b2ad7f164600038af6247b4d2dcf22d614ace8a56718ca4de5759e97221bd9eb480df959ff57ad6738aa8be36e48d21f1bd76f01662fa5f1f7ce6e6787697ec87ba4363b0aa6589d57b843261f48a1daffca728eb1d67f5f73c4fa90d9851d2c9fc156cdf3d154fc6d7021581409d60e0ed9e1e019bb09c38c32b877a11594cd07f72cf98d4a4e86d541d60c57bab8fd6db182e498aaab39b9fc35a2767a9b9159066eb1052e78643a441c0c658266a8ed9f51af74c354de7e73ad9ca801a3248365165ea234d43e992879cf3c463a0db4a4bc229a9fc42be8051b965bd380c39840f5fd66df3db30e98d467db6ec9ef334ea937573c62ea3d327e60846372a1f99050d4538d052392a9e477bb94abc69073944d8d2cb649886cadc521739d9c95d3a88586119c88e7089be071d58af429b805daa179374a35a68f746d27c94de0bda6a5e1cf81cb0acc43f9b9c985eab56cc8e3257b784a4446ad916fd740f6fae2fc8c89e75d522010f0bea5484e702ac5488bf540c2ce33ef697d7fc17d27eb71f91698c14bda7b76b4b1c60c41648891c1c6e1263e50e90a3f15d37bc0f7451a962ee817144c288d85af7051654b5bb8f6e530dcc3fcc02ca4c0143c0c388f6a178b57531830a3e80c2ab3f18cb0948fc6e30348662ed308f78daeb7d68a4dbedfa58389442030e25ef6eef18bbb0b57d81d216722f2dce7dc22bb92994b226fa223cc81fd6c8f22c7f4ef1ee25752d15aa36514419ebb290ff20f095f753667ec97980ccd1823acd90220dd8e2b1b4a467b902aa512fa92664834d660bbf521c13c5edd966ee686a4d75023516d09edac8780b190bccca6d1fdd474b8513450c722519106eb56b9efbcd9a0db7bd6d57ec9d1f85ae4dc2bc1c9de9c76756038ad890abab582754fef1fdc6ac9ec900a616d687c09103c64dfe613cde467f7bdc9999ef7794946d242e6543e5968050f30636430409a87d840543012f504f6b01e0246873efedcc3b664e675257bdad3b1fdc4257afed1f44077b1430cb2ffdd39e04135033e9feff1d322cb6d84e50cc11b3bf3f42a6357dbc49c35affe10a644abb199c649055db4ba5ec506e87a1504be4703d7f160d94dc9e27d4bde781f494132db7b46997a78ee6a07f0ddb99fdd5ae914880dface631822ea4d4592f77ceea3cd21d7b3889c1be20e7171e5ee2f938ef07bfa8244f9e53da4428b7aa655c970f411da2a8547f78d0bd010a8ce00393d7d78314720ae09be4453840adad0341b70b1d57eabead1f722cd48fce3c075cc2e89734d9ae1cd6490f33a41b93be907244c28b93474235f5308ca81ecc9f424ef7454a212f8d3921c0a04956a48885a1d1a78d38e806685a81b7ec229371765591e486988bf153e11473e190e9a81d10ff50fa187352a751d8b39094ef128cc2298cc23f925841f28a922b61580a54c6a097e4affca24d3f385f900883db6d6c5d1046cde67d39b988dfc87083db56e142f3003fb119613e46346c9ffde69dd863988ad7b8dda80f715eab94c2df90d8825f44b69f074f7e1b759cdbb931a9050692e6d612825b88848d83185c7f7b7b02e324b10206b99d24abf268c4375ba75d4b8985322286113dfc032b60346b3265213ba2529df6f5d71919c5e71699ceef33d5dc5be95eef78acf011196d9fd85935253c59c852cbc4109c39ac4b1dc555680f132333a348340fae526f04dce3d29e2860b0a0932753b9bdbe03407ee530751773716f95a66b39d810de50bc68c704b761dd71cece5f4231fab48ae3fca86ab7de46e75eee423257ed5bb340e9a4ca8b5de7f3c8d0ed3a889aa9dded74d8fe0f7537f3a449d3f406e35844360c254b2634e6f9e2cc3242ce2bd5b34077507e43b527e8e009a8ee5f3af3b8ef7b07ba5bb83cffa58848156848a08a911a9e39ae35e0d780473220cdc762cb331524ba9b7417213ed436a1eb1de25c74dd617a98d841c88db3c39f80a8223fc1a34e33ad31686a5ddf876a46691e4083b225fece8adc5eaece56e0a3b0abd0f396f2f2e8101ca108c6bcdc9e097d332c08e70a9700ae05d9e98129763f866622aeefd046bc517e7f16e85e00b98cfe6bd557bd6127980adddb69c74be88d779bd6ec863b290a96d3088c6c4cdcac890ce3d2a4f9e25d7650ccedb809b83ddda6306bcc251f31ec89e4bd3673dc85b858b24962d19f7c2e9dd6e4aedb262b60c08b29de1b01f4ce18ed11ef35104f3a8c9f63440dd4f8d8ec1d0e07160b69aa47b847e7b5abc7600ee40e1c62e7affe9dcefa73a2e2548f7826408d1427b9008b4218bf3182753327b184e72ea2716aaf6609b678a1bf697e100568aff0543d4c1ee09abb427db37cf47307c9d1c8067263c8892805c509752c06cb07e7e5ef06aa76b789fe6f4174cd3b47a94b6c4a5ca7fa7d9f807aab58fb5f390922fe8f3543b3d8b26fcc9aa10ab5c6b5aef212a3f60ed23e8bd13cee7ddb154edb8c62682c3ed5f95fb72ef37dff7dbcbf574f21734273fcd4ec1b29fe4add6015a37630b5ceadddfbcd6f19e2268ff0497023400aa5cec7a094957d0ff84b57240707e18ad51a1ca65aeddce59008373e3e8cd97182d66588b827976320fa75f7af74764ad728624a3d1eff6023c38610c4761b292d447a68420b961ab0d03ea300c6d7dff7a9cb658880c709edfa02866dfabbc812dbc943b634792aa96146ae35ec70663b08efe3f58a89b7ee8b6026b01c3f767791b3fe397d886a5bbd6dacc0dfb09e414efb88d730a0dc40107b620e7d00315d244c17f17aa3070906a9ce876b3ab522d16fe05d30b844651a8bea7115be2ae61ea84f3333745784d1da499a39bef8017cd8c51125bf51caf9bd8452ee613434912fe800ec09a4c0a7713ca50da0c9d471137d8535719950d7d5ff78197c2b6a18f7cf1151320e07f21c5b6a512dc8c9c699aa90f9b6fce4422a9fe068e4dac893dea58843565f631ea3571eb7dd39014450a66b764d79be6a4e2ee2e76e52771efb86fca193abe6080947d9b229a473ea43ec6da9ae3c67a7dd8a9abe56ca6ee49ff06dd5867dcb9453eb3a7409f5f5b2a8d4fbe2d9f11d79074e3bbe3746bafb9c97794bf4ecb5b05e9f417bae3fc28e37fb2656aa7112d19c7f7e1a07813dec0ef3fd70bbd9d543789eb751305708ad7e3466bdc2bc745133878bc9ffacbfce615f12ba1510dd6d3510c4be8a023cdd5a80c7c7cf1af28d0faf65a6f48b395b7b0628146c55c6801b4f72a8fa3ee628da7eb93021139c8229a46e5b0a2abab44be0fc261ef1f71c5fd14a26b464a5efe6925be738d00ecf4cba5b4e655b8f092f8068cbe4ac8ceae0f21ba1cc0e90110723a92afc0f6b0397e6aa059ecb7874d7e895b6f13a81b6852f1e2ccbde31f85ee6e88f3cdce2df27c6963b5f9fe1178e448a80567268ef000c5d0731bc032bac3c867d4283c46546a1806325a5ddc662e85904dba8a7dc804a5d0f8d5209332d61982d7d73bc70677417a3fc3b82ed54be64953fff797c7c6139ff13c9dc8e554c6db679ab4ee1241da7eb98a37c1887aab92868b8c0cca7ce27488d6776b69cf3624702827a37e724831b877d18f287e5001a2161b277c03006eed69d742e95cc120f2809e4e14e8dc4f8810ae47e593ba8106e75363571dfad849fc6fb9f903241a79e5d41b78986c45b189a8e92e39dee3d5a2f161f335967441b29eec5e3e786d2b4637f7f6791e9bdafa7fc061e5f9cec84d04ea0941a675ac07b6c924705e9518bf31c614210a2ab0f2f9ee223f382a840645feedb22021c40d55109a0aed5ad839cbda89700aca0c0ab2d3b6985c2a5b3778d6172360fe9c0c3fa9d67581c351cf8db1298ad1704282e5fb08491c5d989dd8f7427785577f5402e25b65bd2a94f9746431a6c8d39f59527cab3f26a1fbad05ce495e85178d302dbc8ac5fa9d5a8088399e2946cd8c0a438f3fcc4d898bbf8ecf3fe384355438961ab2b11f93f42546eb4c8882e1c3efb1805bb528c7273827e87f1eb6ea31a59fc9a0c20ddfb750df6b03302070c451da1be137fd79aad9ca0b9c58b072cfbdcf1adc7563dc8c19375a89740b039a41b138b2327eb18f466a2f451ed7c236db5623895da03ecd3480a64b419d320ffd57509148237e63f6f4f27ce09ad0d3fddabeee45defd153b260c10913104d70b55e209b9ab8e642208c4fefaa5f6f46ed8c4e50fc9c3fe072f82c7096a3dc2eb7e9008106c906e86b313a32f31e574fa7b24bb9d928abae72a466ff8e446feb3cc0fbad0af5dd2a083fa7a6817f400d480f991ed26b28aa655a4098caa5c4ea445682f79e6595fc7c2df7bfdff7c682ce38694bf18498de1b83abff2f67ffb5ab08eb6e9f57e876c21352a9ffc70590e687e408409006242359a874942cf8a0bb710cf2a61e4f25bc72d08fd07cd2eb41f9e1dc911281608c0aeb12182487712fd2e0e83c6d4dfe132cf09f4332a2e6ce7b47741c9da964bf769fc8199256cf82cbd354b82f7ab6d6f191cee65e429af687670a99e063f815c7a919c1e3b369889e39c93fb9895764f0aa38e5b6a6a44419d2eecfd520fba82bfeb1a3453d82528e54f4672c16c6baeb25e2a16c3290eff6cb70af22bec412bc847ed2fb5831d21c7ae497fdbf5e448eb988470442521a0a6f703d529312006b250eb0f4ef09f3ae46db816c011b1738f095ebdff55f30228bf8f259dced874dd1989f04c8bed1c0e0bcfb00269300553a2bd3b238a76d3992e43fcda788a5c8e6300d208bff46f00e7b3a69c03b6286dcaa257ac4ef252dc03ace32384f9ed777d7c36a291b43d8d1ec65a94c6788e169bc68f1fc2b4de60231867055bd7099d87fb43845c0af27046d96b29aedb3b32a3bdbb2472f67f2d53a3c39aac7e7bee2765b5eba42f8caf085a925f43a88d198eb8e8879f1ce75bdc0738245d819617048cfc579b8b40d35aecd3fe508f185dfb3966421d036ba60e073cc973656e964f588e44e075f0ced0a9522aae184c59c33c1eb00ed2d24e20a5a43d7a890579f31d83c27465df9d33c4ef55506a407a3ccf100e0307ec960b5fd341276f4c2e5f9d0b3c165ab099d448b1d61bf99a30cc2ed562f45faa5855cd9813b6d6834d5aa6ca02e8fe5ee0047122fdaa859ac8836f0c599688d36641b736fcafeaa1f2aeeaac160d5a500857f64b68e402e57d6ab12934e7d735c723bba7f8159a948145c0d2e12e340c735a2fb03c767e5607b498b34919c3fa3b3257597371c0145038fccfd8e41e65301d1bc758073ba470abfbf9c416a66a463d1812c7156301f63848659d10f7b4125fe6883828ce93b313b6ee13847b3f5bd128bda8ab0f4aeb84061510db0c79a608186c33e760f733b75f43e487183e7f2f428324a34488e358188cc90e2d1e56a4a9e1381f199c60c6a0ec80d10d00350b41159690ad475ef89138b6cd3ee33bbbe476676561badbf3ff6d2d22d062c69381d075542a546c9b84be5b6b046eea48503fe4170c364f1f406b10b2e1721aec0af79a750c36b7966d6a4d5c083dfd88b5defe45da95a2855959f9b7f2ac771c283e27e688c70dd03e5d6983a099cbdbac0f74a5742a3c79f6b599d0db1474bd988d16b4d4a92e9897835672db5875ff3832caf30d0c3bd22bb34157be2d3fe44af67c9d8d599a9289f2e3fee61c30a7a806433226be299b0006d008c9e924e3aeef99bcdaffa490feb7473e513be342262968a3afe2db0ee7d8e0a8bc8dae9d1808030036f6ff354d5b78a7ec2a0619a9f2ea9d3a2b9ab3ef8cc3116e0f6be1956fdfba2c1b5fce9dcd0039d6b32bac5a71e4f66689a08737906706a995e4fb9446e1854fe317a253ef3a22acfe959476ae99b3da95300dd24c9c62ce79378cbb118878187e531f4907848dc6a2319771ea06a880be055bd998d219a79e18461568b7023dc97d5ef378463b5208cbf3d4c3635df692fce0a3031faca46f9af2b540a7541491e4c4ddc8e0a3576a668ac0552c10ce2ba16c7e08c30bd939800d99914e9c91bf14d153f6f5bb2c645daddcc3017d5ee06870c0a591d6a3a0bfec1876d7ceac7dc2840c5d303f7fd20d8ac02fd48f3ec3928e0f12d18b016e8ae7fa2a5f091db36af0f09570fe63833cace95477e9b3c356b41690a6ba4af4154d98c6c3822c3de40f682bf699685b28175da811e7970c126c7ca1e1bdea2078af15d93c4d57c3ca297e9354fede0116b73dc8e557c765f22aa3eda6a3f6727a1248e0dccb9faf9979e7f3552e07d46b86b88360200c7e35a0358d4857b7c3968a5f6ca2948efc7ea2ecfa3b8c17454b0db1605b737ae41fef97eee3c22f5c25f5ca368bfcb43e17d6ee7d90e04adebe670a6d44c8666b1cd7c6765079fa6666d50f15112bc66147ba55179274fb223c358e32eeb7639fac0a5e9bbcbeb1a59b4697fb3693f9228760f951b6d0fad459831920cd38660e8d43d04c0d44e095c1e0d8ce47ebe58c0f9697b4af318a1086844f83bac39bc89532f8cbedcfff5832c1c16cc9ecb46c6ae0428557a9fd711144833497b8e2e30d186ca6c0545a8936ef958c3100662a688fcbc5dc35e78431ac4865f43fda3bdaf4c8249f1ab8426ce2f83424a4e1719f42cddc7f4adc38e79b9f22a7a9ee75f8205f0a33190a5fd8e9e1c3e3a93026eedb819a496b96c23e65ef9084dd52aabe249ec06d8ec96e1e2f12d5ff2e3c1690b6ff2c617e0bf7d64e41e6cc5ba9c07a82bdc892cac664664798a73c8e2da22926665d31e1f06af190795ec25db12e1531f4fd63e63fb7734061c903a6ce70685f269e2c2093967eaddb24567007111abd60270a1734d1ec6c8dfbf72322cb217cc6eabb9f11603507a0ae11ae1a0e196b08248f81ef34cf502593906a448517b91eec5ed341db4c7d2c3b18a816a0398e4056e9ab5093cde3ba6fe8c5d9afa741ad0aef62499b67e479cf7ed2a1cebd0ce95828c043a07371bf78616e2f94d094367b8ac9470f0800167f2b66c41073eb79bef59a7d742283ca96b6b9e50f851bd8a2a1a59a3c6e029690af8451890ca103d1b8a15cdf5cc743133672d8b9a480acdacaef2ce22b1c6bfc95e927c447270d647d8238bfb0994d72e2ed49c12b2ba0f33a5884224d144ad819fe6bb7e639d35e0759aa9c99039ed8f740f7cc84d4c9ab100630426daf0ba49b8944c917b28bc64ff9ad1f327e9dbcdad2124eb6a3477e5e8115c97cd0e59a3ef0a633d45501ef2213c2faec821a4b79b3188bca632ae8c1a0a41dd8649838b5c6c1b18e4d532342647a141e3fab8e67879c9fd4f8133f6d2236bb20c437506b4cf20d5bce59477ee355ac4ddcb6e89464bb8d49516222965447db471ba69c1ba1a5a34928d7fb2a047fa48074fbd56718194da8c2355c3ca0e5b8453d69a33fdbdaff62ae09ed85b22ae548b8a2e1dbccb4e08c79eea1bf93154421e3eb773fffbc53b0f3c5dc9734820bc4fbc2005809f66d9e500317c2bb6aa66b60ae0e68442f2c39b4b9aeda0dd95f39193d2389243514e487ccd48568814dd014675a68f5ea147e5069f19dbc2ab6d26de4ef5b36ceeafa34ab25361c7bf123a3f77ad10b46a505199e2783381d6bea7be1213563770512da63e4580f804f727165390649b449b000025ee7b8a8b320bbceaf41aa8502dbe23e4c4d97068b03937af0f74b9b48d8e54459ffceb58dc126630c690d89671d4d2db2e92048bb6898a35765478e784e3011649db4cfff4260ed93e1ec208377f3126b2fcef2d1ef685603cbdce67e97f1a559866ed0b864d1a3ee4aeacc63b6f54821f8be967b47d27dc53111290ae75c64057b841052b64932d68fb64c0868e8ec38c3eaea9e297f9452fb718f3a70ff89b6a17044febdd03b5881c77551ec170d51c1a90eaf2edda23e06030ff92abe3ef5e16346d448f835ab169a97e3f27540cb82890d2258aec315c6260e574c036578f91aaf6053c2364254999cd7130c21aaf2dc511659a32f2d52c44ba005130ba1d47aaf15f8937d146f8ee6811bd4e081ce659848fcaad4fad772d610e37c5cf78882718ccfc3842894680464fabacd8d66e96855a1f0979b8d0959aa850adb8bcf256a108be014fe416808900d482c03a953d8bbeb8c748089d9ba03493bba8b18948da8d084a12b0415065b928819b89f247b42e688050bab7375fc85c4a8dca6d008aac61b3739a5da28c18d94c4ce46bd26c29167a7c2e909506f7fad3d212f59489113297a69d76fad35c81ab3e23cd5098fcf5adfa80031eec424e51e07db6e57014d9edbec44e8a8afe5aea719a12d78b21a880e1a962a41cdeee2d8361cba41a3a57c8027221d63a37cf794829e8f2e20d5930a66c36bfcb5763d326e3413cb10e7651c2ca92c14cd2e76ebb641087b6522e938049f1f4e69d4cce5a2e1e283329c59c9cf2bd221908e8cb3c5740056ba21d48049c4c0e220b93e21057f988efe101e5c0fa1c45a31bc4a1d3b604ad52b47b8f38d1d62b4666fb9a353c76a9d8176d0a49f7c56a1c222cb5bd88d60ca17abcbf0db018ed50fc135f65f45754dde66b3756c693b84f30fd3fab7fe540812b256ac037744f7d9506e4b1e8e8ac3a3f1274a6ebf254182f9ba3f3f79d1ab2149b71d78d58598b0a1080c69ecce64e6de6e4d4fbe0ce57ac98f55fa277fa2888deeb85206bbab686554f96e056cb6553683da7fc9484bbe9c042f2925bb8bd92e69661a5cf3ac3f3ace579d3956be32b2ae21c7a0fb202d2b152ffeb1ac4adcc577e888f33c9fec95f05ad9147f12f3c02c987174725d66d6b2cce358f5a0fda730d8f3f1c07ecfac94f3da9b316f293771e03ebc955df1508b11cb7f94b13bcd440c7378642ad02bc223ef607d1921d5b8170feba9bdb86f0f839e9645d2a6b778f1deb24e32f346f8a99a329b528bf3f78d0adf51ae4855647ed7d36290ce68817a91fc6baf7e6cef8e9375483e4d65b5fa773cb2fc92976ac2c6cb51b1bd34da481d0ee27d18004f51a2374d513dcaa1e64ee04dee6e1a9568a3dd170f0c450f6a8f57759bb58e09c7af7ff1cc00839e92132d10309ed7c245d517bde88187e6345eeef5abf643c2220d450f5d3dbaa895e120ea4926c28365890601ca0b9cbdc4ebee680d528ffaa60ad1d91657f5f65c48da22c76c943f30892631455bfabe9f5f5a149e463e1c37e5ea9e991fab5d1a7cebfc9175b96d2a1ef0359b5debf5394a4c25101631609196ff39bab2fa4e1471e675a84af9b7c15f49316d41261c6517b1b1a2ba6c924502af5b6770e15694ccd2196a23f111d6ef1458ae8f13af24911d09de1e67b3b104ca0a26b46c0cb374340172679828b665bdf06ee670ae0300e9680d21bd79ebf0724c59123d4db6927c2ef0f023d6ca287ccf3dd58946baaad0e6c685f0ba86540cab5cbf6c00d890408dc1f835588e8e95021da623e5baa509cde29afdfe7da27e7b67000aba815053a39bff64f33930765b73457d72d587b07226dd5850c420b0021fa1bfb1646e16fe15edc4e826a15894c669acd3e60b0d44bd29b1463ab277f5747c188d51885295c4e3ecc9c13d8a9c68938f12dda590fbd36c69964bc27369be700a2be960341a826efc0e75fefbf6fc23fa22ec9e544013256b10e7767a10749dea709dcf2f9c593ae7d5a52cc382658f9d0ab9977676eb6a16fb6132a37aad1fd6fc20a8e6dfad4a4a57b82b8df45c33ca37eb2b4361c39d17a297fa1ffbc57ad1bdd365a33c87018fd30ae73da4a0f4d459d82f6729b519101767ab72c103cc2569cbc73a7428c8f58980da672fb7e28f65c34b84f2cf84b918576b9a6377599e08b36152d22c495e54e4fa208bcf3e3ac96e04d515f12146175d29dbca67b1d0eeed368f2586f9fb072ef99e286adfa3167e1e0dc1ce799c3d6d531b2d18c98115ec5873657da6012e5b45d296827f907d10a347ce31f2c37e6ad6865d0d166fa0253a672207f45a449a9d2cef7684a68a7215d56e354bb713a0f0b905d85f6793085a8fba964f6c6862e8c0bb03cbd2a78294a2e5b18c636415bb4f0aec240be152edeb2598f23e57115aa455837d5804828ee49b2756ac30d30e61fce93ec6d718b02454b7558147939deb0c1e17c26d50763356f7c6d6849f14676dad6a0893f1efd67cba2d9ba5f335c5447733032657aa458fa6bc5bfff952b03b366ecd608080c1526b098fcb57272f3a7547889880c63f3780f144a4d6b6a451e09345572ffc3e7704d84dacec91e0cb389641615b1162c645f37ea8b7b4b2797c0761fdaec6f135a63121f1a683125476a437dcaacb58c2bc940380ff4edd1a05066a31b15ab8e5c78812cfab2ab0c02cb2fe64e43cfedc37d855ac5dbd2a7d25b9231cc426edd5ccba0c3800214c58b2aaeccdf95aee3b5bb727bce451583fbeb7da1ee2d0ad96ec4ddd7e5a8ad19244f290dabd5eaf7a85b49f6c06953639538cf76251e6ef7686adc45aa9e9d1a7a85d884b155374b4df115cd93ebe00342d14d0c124351aef749920ef035b52fcb162b1a28e4ea8259624e7f72a4f82301b1b1d4e837c8dc6d48605d28c970825543697a0e8a2f7fede2218c96b52832cb70bc6f214109f949682dd78b1bcc53931b8d9dfddcadfe7ee2a2bd9cf3617ad6e27fd2e4c6abb3e757fbb54b5b1a1ff6cd1c3006280723bde923f62076df1b5e30f28f2b05b72e665acd6a017c3d89811d5f142b60b2d3c780f7df7bcd56c96e8352095d2a69f3ec5771f9ef7e00dae0938be42d0a10ffa4aa0b5e9c05ba7b61dcfb99b75e2f39b00ca21d2f7db4fd76eebe6f6e2e4759ee2162092cdb2ecb3c0bbb9b90687bbf31d3df35a148956d5f7bc351a6a778d84ff5c1df2eebdd09922be9682c99ad64c66307242ab4c30ee91f02d56970fe221c61f74617018082ecc2c5373fed8cb4238f68e71482b7429b65486a215347e8913b25fd0accf789175c4874a93e4c9cf57d708db2fa8fac94f1e1759545c90768f13e2f816862052eb870127c248664386140de747bde029017ab63943924ae8f9f330ea45b734d74c36055192f88558a613eb7a8e587c5353d01fc2d0b98e4f0eca3ef82d44a5995cf0ecd06ba79ded85e21700670c2cffaa6e53ed1a609bc29ce3bfd7c7aaa6b2a75663159f60da81b2ed7c010d9203f5e98b76c54c704e87247bdefae7fa7e4c1e3810daa9459dc9fe204059158fc316ba307697b62bab8b9646e4eb62868aa327614a19fbca145c91bd34a30074cca0ecdb7456e39b493014c2d2071826050230d9da6d24e0249597763f4a0d0baeeb7838cd6a51e11e6560914f612769f9cfa9a45436ac7af380014a7c6608400ca0ce7938dfde8234a6c938783cf5db9dcfa124cce560eb7cf759ed803fdbd9cd83122241324264d4cbdbd20aa73318774aec77c0dfbeeef4690a9825b23457015c1c559e57f2472b2dc93133d3a186de7fc926800681204b6fc78c5e06c3a3af708667f43de3f6fe3d4c78229848355c39f3f382bfdca90e933d554ed1c3861f6743283b595da50108e2cb45b3e4fce51f40dc6471b25ff92f03822f7f6ca27979953dc66f4cfc35a4361437ac53059f15bf8bf24cc8091cfe166736d1f97a2dda96f6a2186b698a1a9a1b35bb97a8ec698c1678dad14269ab4835d135dfa8b48fe3b00f551f80310dcb24fb23665873a068dd5885c60ca9a08ca866c4c7e71175e026d0d0c63996fe162ed077bc85d8d7fef42c86ee6e375ade909ecce71ae10bc7027acd5b0991ea962fe52210ecb0d372436638942141142b05dccd11e629a043fe89aea0815d3ad508800bebb7972e2598f86bb48449090ed1f4f5dc1fd2302af832b31fc42af48b62dbf3a56e2b32cf365707e43db798d6ee03c2e7d2252a7a39da8dd5445822de683aaeb289923fad660d54c1aff33f86eaa9bf8abed8c4a9dda68bee3c390933e7157e416fed9a192336955249de9ed148c03cf32c9756c7d6e0cff1b9aecdcc9f92e94cc576a014096dfa61f4c19df38b36c893f0f0f21e114bc2b7cc94c07f9617ece32cf4f653cf85168770a7b86609b2e14f0eb64ce42a6e38c07b6b67c0e6eb542507a67dae1f689cb488c3fe8feb10c3246b3784fe8bc713a42b737797f7ab00cc07a922d1da403a269f420751f338db58ca2c5d272450bcb373d4842627d420f986c838ec255f6e005264d816bdd1ebcddbc7f13e13d781f6bd7e1b9f3c604f06e55768553ce9fcbc59965b129b7be0afe4d20dbfa9ead2dbffeaef296ddc30080516d6e93b28abe166d95360f0ca665a5fab5869671b307dbeb03db9886248bcdc44aeeb28e8d6cc2ed04fcfe93be3e5d42bb8142cd5bd07db6a0b35431d81505bbd3bca1b78991575560cc3162a7c312dbe8793ce00d3405cb31334b2803ce2bc82e1bd76df503632a4943eaee60b458c4e9807b99aac4da43b64120422e4de9d9316f2e6bf80f3d6859c99864ae0e5c3a159b7201c36bf04f1f57e54da132b6f845fbb6dc56bef9927ee2401f64bb89a76f7fb889b7b16efc120719f06406bf569fc92596cd003b274f55f82b3fd54030850880caf460acae8b7869e62844bac55c2bcfd561b38a27d80537981335a40316d1d81188e4fee0e4060b38ef28afec480ec4052ee9264d6d6b4bcebe22215450458cb6b953c6c85d02effcbf6d8f4d212806e283d6850867a156cd5d1203c47c3feae705cba663c38e799869db4ea0f4e2c02ab7d572bae28f07e77ac462ca03b64c9322dbce12c9d2e67dd9a3a442b117a58826558fc141b91872bb8935ec96ad902b300eeb78202b3cc4a3971a1cbb147c035bae11c5a4a3d8328f7e086bcbe6a906cdf2859c0c2fe334169be833fb6d7ff00f558db619c55b290013cb685add1b919b92b6114e8bb6f2b9eb4b51da0bc0f58e1f9fd0a6a7dcd1b5d45c38f508c0f8864b7a0f8de38b0ad4a5572aa045ffda21d11dc07c9f900b5bd8bb97cd534446cccdc027b6979c825ba35f68f0279c736c6a449c471ee31764639a41387a55f706872ab994c72ae3492f6f9f5b657f10fd4a879e6186d59029fe8d1e23ecbfae215786464778912d01abc9478ff44f13d9392f0b958cd5787af48f56e1f241afaed67fd5ff10cb9e0a641bbfbf89527d301f51716bdc0f3b85c0cdb69aae2f9293b6b4aa80a249042b95bc6b05b203200f777a65efbd75bd511bd0cc35a7bf588edc194eb10fe78d8d7a3962620c79f0bcca57e02a66f7107e6068f4ee2fdb241d2cd13db89c4ff7c3e196965a973702f68190f764020d38fdc11d77267fc24b41cd8329b4009c3ad2a61e46ac97036899d0048f36c6b156e3db1341d4da2ca2b9c04193a1e7432f6d9f7b31d8d95f9bd2e2798011479fbb88d0a8f7f7a0bd84092b71169f3056e3dcdea5dec697e668470371870da0550d7b89b62671ef380e19a502470640f38b5efe4edb5d1b06d4e2559303dca148c4225cba386913864c7dabb30a2bc5d9e01a4158fc5e5caaa498d20a7703c3bc64b671be4f8e27c433adec4f5e7586116192c457e22602dd2808b1a72a76eb1a5420fe5154650d4746e12293b04fc749dff4a83aa3e3fcd5248f9dd39a6355cb3972ffbd5da903c36334a21705e4c60be70fbb3a0c7ddbba88ea3032df450fc4f86c592106036631c2e1319c3e6aa4cd724a21defd2d6bd862d676a607267eac2d03beb0fa660520ebb3ce15569623aa18a5d6d381c5e32afce2bd1701e277f7a5c9f5af1ccca81105adde31844e0f8a408f83e1808adc843976dc1fb230e5e7ebfe1f63067ee557f04ab01739b23014f2aa68996008882877e5990c68238ff2a0b5c80b42c71a70c8dbfef0b54f4db94106b48e3ed122a881c6f10a18c2ca55d989caa448a578e0aa424cc9901453b52e2674f629a411a3a62031b22f2cd3220263548f47601c908479d940f1ea7c7df881c6f8e3b2a0a2437ed437b3df940bae51db3c3309091bfaaf06f16b0f1e004f490b0bd7638e2f1db0ae98d165d3c33232ee69aea28700ab77847bbd5e7a60e01cf175d32475044c99bda913780e1fbb0bf844f31d39feebee69888ffc2ba5767ed96a642c27a5ca1543e2a938577ae21c3b12867273bcf7c13b79e88f43c5527b9fdbee5e28d469f50e8915572111ec2051325fcebab2ec9af12e4b40db99194edaf23d97397ea9359ad6ddc407de3fb369e01cdd9471c6399da0974d1df4153ccabd11fe91aa5d0558b6671666db1e4af987b13e1c39fbd408339b687c471bd1ab85fde0340120de325effa5d829143da759a7c3e44223423bb3f6665a595f7a2b7d22eb575c84a333fda7a8dfae113d24e95cfcdf3d64f1f056958a3e5526be8a742045366b468a269d2d9d70cadf6351929ad569a34e54f6ef4ce289499cedd5941d11d881b2c251383a2b16ac884f63b126c033b9d8b85949b50608b3b4f1a6f142f2bd567ef0240e2f91bad1b17a404ac4b759a315a6b7e1bc034783869cc13fbbc17096400aa68e7a5f9c07dff24342c1f8fbdf2f87945241c4fb493919d0e3f384f24705aacf9a9a890859993d189a6f42cedfd12ee6be33bde590d934b42afe9406cf3113fabd2cf1e67dae4fc0624ac8867296489fcdfd71659b6bde625ce19db0e182017f236a9d6037d0ae50cfcc4c3d7f425d746100ad89ca3802518f7e8a0fb8a0299f7ea59ca089ccaa9bd5aad20b5d0580e8c5d314898af92b31d577569a3e61037515e099145e2cf39539d270f61934569595397e3d5d0caf8645104d16d2bc2509bb02357828bf15daf085f19404556e645eb143af84c46cb96827f203bb5db971597274c53e36c7c85fe1470b5866e82f6e2c0587f1c4a1f8cb46a3abe87d2ca89acf2580bf17d314ab886e4df4fbff271a5e6176bbbd9d9d7a7efc7631ee4913f32afa0808bfdaba492d9a8578f7df423f5241e40e23c61af611cbe36fe9073df64aff0ae174de98e8a7049830fbed1ae443bfa0d48c3180e1261d6044b48bcb0422e05dde38e3d49703eea8cdd570a2cd4542de1530b93cf9d463f1d64c892aa09c9bbe3b6b6b3a2b197b37687ba2e935644c0360fbf17207bcef7f280b50ca4078f82871b0a65f7ca932612c2ddf93c8fbd136af940d75e224b5ed284fc0337f9a52953fa93c3449042a66dfc67a2de0a2fc2b27414311645f03fc3591e1186677cbb2173474f90902cfb5af32b82080461f16609738fdf6819b686564673c22ad5caaf0e2978c366385535d815dcec2469ee3b34e96669dbecbadded98a439f184dc0fbe7c565629fe3d0964bc42e2e1eb5165ab705268e2d8aad746a1ec47f8ed1c418fe2a0c324482cca12d311ddb66df7cc2cb7cc86f2cdc83e3fca7aba329c6b535880bf54bd253133b01a0db830f785","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e51cb6d05ed027db058edc159e71b81e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
