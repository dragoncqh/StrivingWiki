<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2c354966a99559b8277cea6b1e57d80e64966dcaaf22baafe7d0a6a528a36bb046e8ef1dc544155e76dbf397b77b082a9cd03a5f3824ee9a7588cc56d2c3fc598849fd6b00796c09548b3652218be7bb1d01c3ab5a71af1d7a9b28c92a062c6e29df78f6f67e682ab5227f1223aa3f3af3d66a33660d393d49fbde927ca07bb8e737fe7875817a7c68c97d3c5d71c6bf5ba5711018c01be05087188d3834839a00632acc627d4fb4365177ca91d7f7a4fcdc1161c08c6bf51ad6e25ea6807244b10d145ffd12da611a25d1ceecb107872b5876190fd4741a9bf4184877282efc95388b74f83995de7fc930f2af4879d012ce874b01e15c445ee98275a695ebafd00b3019a1d87e6089ca56daa7c515312a5a1cf31fdd378439ac8f1cf7cbc7f15ddd63ec9890e9a4ca8657c3ea431cfe4a10797e76f9ab31d9d90d05274629fa366e4ad29a180ba635c5566e5c0a5b15d9865c1f20f69796bc8a32d344c1ec3e5b54af8b6e601889246a0e00572b98c718cd74e6a9029e0819cf4603e30e99c8e4ff2256e3b3f01a4f2db80a28c77f79e1a74c5a688a86bd446b1f6107e5ed7a0fe93a6c313d5516a57861a2e1141fdd8fb83e3493b2bea6c1d28f317e185b17a050f75112d5084c7faa12d11ebc18d546f2b07a0ca871ccf8f58d749f017fe5b8aba381763b19dd60b155c3e3970b542feea6551b2836d9ef9be6614c8650c7150bd8756af5ac09b19023496f8f76eeadafa81b1ee97db014089b9a75a52cbf36747044a6ec2427c82673d60e57c98b025b9307d305c06b4405ef912e3e9fe94a397ed8fb430d3cd9d7acff56634932ca833dca8da6c32728bbdf11d64a7a2b04c022145c9abf64a4ee2e232e78e6a2ae9249d4c98d5593036b3032118f206bda7fef488c2d8cfdfea95d70634b181e0605644943a05638c2c670076667ba4ce2a0d5995cb7ccc047088d81f0f2f5490c6fe20af8bf461d5ddb5c7c64b4126b4757afadcb48aa46bec4e3101c4a0f99b1eefa78043c4f19a025f28fb07ca0bbe494cb656e4c7d21e919d287b67f095022e3bad779e0c708a8601ef3152a42c1aa9b2ef6cd4b539eb0c88cde0e40c1790cf11cb281fb6319038038e9be4330f0dff4d3a4490d7219968b21e91dc0bdcd2af99bd27090497de5329c50464e9ff6d1c5111aa1b628954dde3a5477f61d149cb8472d7e809b84111653c972ca88881a28eff813ad19e9ff5c34eebafdda7ed848c88d19a5c6ddf5f6607602a70e48c32bcb08b31ddcbabbdae5a860db7d05db7ca03c7d78bf2eed01692ca4afe9c627a7836c6345b381e98a878071b6c08316b6789c81473b44b6e551fb3a672c7b744619c5dfefa0cecc5aaf3939ffef775088afce45f7a7fabd310b26eefd65cced720d40f28534f2e69d55c13b4990f40a279538745a432c01731567f63d5f0d6c48c364d60b6844df7b1cd4937be5416ee5f74c6f3612b97218ed4e11caa43a6d771c4428924b921bd6bd86357310a97c703f8b8d9d39a89f4413e669265f6acbec21af01c3918329cb9c7b8a3de9513da1d71ab721b388dce9492f10fd814c3f407887ecba9444b08b473e63343821f26ce09408ce9d47c926b5d9ca668cd3cd3514825fece79d1dcbe79f4c616be58abd62e825b193aaedb968b0d6d32123fc1e83c2c9965f4c6433c2cc7e9cb5bbb52802692d2e5822f1e37b4fd05fb62857b81d1bfd5043096784147fdbe2a5b7e9ebb2fb1e536a854bdd8f423a1cd8158ae05a6a9b6ad4dd5b3728f3debd0ae1fd48c1a36884160e1487bbfb4fc202ab507caf8799d602a41a19da44615a8835fb3691d599d201df746c3a68159b9d615e504c03565b09231096a18d3e5cc28bb5a7806195c88c604270e3b3ed8ec0ecea0614dcbbbbf4a9061e9bb1e13f980244a3e7208013fba95b5eb6431d294208c0363e40884d5f6905f250be9da80bfd5fac90b389607d261161b1d6252def8b584e19170dfd655a0f5502b1a608a5f9a7bc62de8ab6c44c2737bf07d366fb1b4e59b7f18b34c92a14b5f74e9006e6a383ac2ec92d09e3b06b0659185d51777b2488dfe5d1c77ab1c39f7d4cee582624aabe40817a3195876ff0cc8d3781b89ae98841b95f7eec57bca560bfd38cefa0a7c17923d5ca52b5457bb8abcaa945049c98c69b39fc44cb34b7a07d85f4ff19893ba9a37b0757d013d1cec410c0f59a11641a326774e4198aef2c44537696e1c79b96cdeadbba866879ac87a6c0cce5b99d292d89bf18c85799052c84543720263a937a5fafc337f661ebb6def9421bba8495f1f9d6039afad11c8e10f2f064ff492ae9963f65ac36cb0957ff8395d167f5fc74b24e7cd60bc6aa093b0a773df25ea314f391b0cf58bf3a9b942bf4af423816024d5901c27e1202d89553982d6594a56f972ca21d2ded43cd2e16fe5e2f8c227d8c1460fb5da5ca15e6ec93952c6121c4939224073079497881a3d63445ca6aafbbe997a7dec945298b944d32111620be6018fdc2974af719ae38ec19fed94ab00e59ccb4055a4ba05384ba1b42753c25379547cd183169af00d9e83c711ec780d6251fa8ff12f7dfb9c42200ccda0ee23c3f372dd50f6632d50b42304f28992bd776866d430f17a3ef8c5a426a5bc71a93dfd9b85bd5447e96c31fdd30e73c4e3f6a9c677f71dd72c45dbd93d958b74f430db636192d41116ebf3378aff060cc65312d3380042a2d17b092b707d8b14216a7f852968ef8112eeaba263f533750f24d9933d6a5f90210b665a11b401d15a3a9a6498b0ec8d94b07af417cbbc1a6ba8bb251fa80cd2cee5c91fd9154976ec6a75f50b4300ab81003db0258f58ba8e4aebf6f757c12780af93dae4781d991b932c820b716ba0a42e99bb1595eccd4f1acb86c42f426e9e3bc2869ec4d056b09ef68e59702d93f7f82cfd531e5b4b4e221d7bd2190815ff7cee6dbff49b949a3a3b29c3988aebeda7b05b8c0005e6241aa7e2891fa7dcc5592fdb29ba80dfd7867a185d02e23f831b1bfa67d802d4bcccef476eae33e6bc5031c4c63032672945eac28929efea1a4382e660fd5d12cdb642bf09ac5a890ae78622d7200c43315590ee1017b1d6297cc25faa5a2b3dc15ee3a280b32720654990cfc8054ce85285b736befe3d11afbd435085b902c93f3a511cfcf138ed1af5384f831b7e373d3f60526945217df8cf0fdc17173cd039a27b568e98cfa9239736e80e95680885d202232bc319573854d5488b322f1252b7385412a12ce832428a5bc38a0b1ed94834332b555095d328190714eae06e710a74fd33e32011f85c46df0c8f122ecf995889519dde336e2e12073efe5e5d4f9c0aa99cd901dc2a313fe79e90a4a9426248a1027796a30afaf0c5ac87442855de3528ca1526ef855c80b3c360d03f8322e80f1318014790a415009dce1d8acc5050e42966855bd4bdf9ce46a548d710ebd54c80ee615541aa159711ae21d039c8400eee931efacdf05166bceede6f8995c30376703ccfb1291eb12a2a88a3d3efc30ba8cdf75f816aca0639a6d1f7b014e5799f22dea18834c3323b36ae739f9c62a95f88d33ad04e1835b82d3791ad55ca9cbb726260966fdd6adb99ce40d5625c48a07c4c62c6f390dad9de7a23e8ee9adf73ad2dcf48bac73053c318781b41942992c1b6f162caee15d1fb85a26a912a69dae569bfb6d64966be06e44c948d93d4e151191394a58b95f29d324ff2682e4a2c24d9e02274bbbd1f174a7e0ca4a193915746fb3aaa5426d1f9fd7e45df1409d9f74bd969c079751ab4fbe0c931e977cd52d156c6168fb398c361414d100ef4d4ac49348e4b25722ed1346d9135ae73738bc1df67a3ded4442b469a286c7e74283d36e94f3ece11a365e64841a4b4b8afb2e7133ae1b03835848d92cc952c2adbc70634906327e34f1007ee01a34fbfe8323a0db919f9f6c718fc37f478b8f2a2a5d74c3ef70920a3066d5930678b04d225743f0b3f7360a5a07dbb719d1b2f59d027c9918c955f9278ccc4e142b914b3292851601091a205f899087c636bc8ec335331139621d81bc904627a6067457ba0b33caa860ceb81c8cfed2e17a9c244a0c61e8b827f342003409bf4285c18b2aae6795e3b0cedbd2370d609b431afb89256ca7ddccb0e47e26c5ac5e0c050d2ee2642e7c6b501fe3b3258599cbb22aa5e93a8fbaa3f0c5c7d511b3dbf716f9c9499ea4fe8cbdad7f740af034501075c2c5acb88347a44f8c65db1e242c02349ae04b723a3922adc95cf834d366a380e80b5fb7e3e35873dc912b08226eed6951c2ede6591d8ca0823d51546f440a1c1d8cd9bae9a40678508a2fd9076d0c4a0086c4ae64944d1e0c70a01347951e9384274d540e4e52ee8341c3fdfa2507536b1ecef6598d4695df60be079de8d0c39c4d574f13b2c429703d6c6522d45329c1e6de2837d05bf9507beca345e765fb24677829926814f77569d14a5e41f996fc28d92be8e57a845d1ab6d2d6c0afdd1c919fc555e39150a111dac420d15a1dccd9f289397bd38217471672905dce8be0c01c605bc4d7f06e3623337cd40a1bd3c6e39bf9dd7bb9b716ffa897f12a90a1d80be7b2d36a394982453262406fb617a992e56adcf82b601f82b895dface133e2399d8015097b5350d9a46c4dd3e25caba9c6e374838597672a86c88d7abe0bec20611843cfe89b164a820d01cb4372decf62a647439165d15d5231ca48b63a433d38c44bc3b7d4464e0a9086bb061d57e42d5eed1b91d202f164142bf8af6c5e1d581323fa38049191a90c35d8304c145db630700fc68f86a272915c9fe59001cdccefaf9a13fb69c3b79328c0a5fe3a5948318653149876e551a2fdb937882da300ac90571593fa499a76def1493555159a87911103e009ea5e1d59ce33a2ede7d72d4684b069351d14e71e26fa1eb74bd2f2a503e787df75b84b618ea82bb1574109b6199b90b8393ab477de4928563206e3fad0bc7e97bee96ebdac3a863d2496c01bc7ed80cabd77822d201237a7c43b30f155668b63d1c44bf466376f82b30b4a98d17c5f8acce23c036cb719c9e911ccb9739dea7621643d295d47096bd4048c3045687852f13b4817a39762172759b9a85f7600abff5febe3b544680d6dfec31dd0626b0df981e25e10ef409fa4d33ac4eb91340b5e92d7571c593cf643096d3bca4b59ebe4c9c9ca61692ca3be1051b5934d7052cf670bae2e2ae0375099fffb25f6ae78bff2a024ce6ae5e1e287dca46827a39af7a4844789886e7d227c17813c159ee61870deed71735860836449da3d11ef21c778d13d63096f776b561fa022c5e3593f26b17305b898141390c2662906e69d87fb66777dad7059513ff2e90f9c1148a42289fe38acdce55db1fb7efc06fdd497dda0be0795dbb9235a79f97ffc48a302dab01f8ca8bee6f6a0d3fb9373d11d937d0ee9b721bafe3aa4d12f8b2e7ce7bcc65da6d53feadb3d968de17f60300cb0b18c9b247426588903b63b7368ae9e1b4b8021870ce3ac493ab636e0dbd7ff5c6614767553c13b00004885c5677e450cfa9c98121455f779e2e102f3edb3f676f42f5f2249ca80625b208ba506ccff43678b13d0ff4ec94302b01a0aac8a94361bf8ebea433fb72feb3870d734fb2b12904f5df08e44c96d7c134b7aa4886c56849a762a3105e358a56e22eae81a98b64c3c9f0c6c73107069107110f8ff409be5be7ad693237f9d444f59c8fca07c60533681de23cf077fe580b8027513f577933d3804bd4758641104c720c6d59977a339b69a333f02a8bd7737217f42e9a2430471dce2dfd1958a1f61e3f9f1674657960e4df6c89afa0d95a40cee9f5db64f366588476544498b4f050b5ca81dd4b2a4a464af31d52242eb06416d13230d7543d410d3000f3131ab0bf9083245a37e378b31d3f1d137b2a9414f7c6e9fd724d7738365a4036d376a2cbf40f2c0414ef23bf014f8abcd6236b044a8c256636cf5c2ecdb4a61a9c59bf72e04fb5b35217915c16cd04b74281b0c1fa5c45c7e2ba0c1b83bdb21f5984b62677210af3a17a069b79ce956bed9d1a80770b4cf47f698b21e2baaeec505df672d6546669ae17ef99b57439ea090e1a17e819e4fc54385d7512d91a10a67e137114848eee2c070897bc7e03121e68d88c0e8bc7c122fdd55745e7d3f1815b4579465a8463c6413668445fd2ba4feaa0e377c8d49760033e1fe79eec343703bc8838f92c9c23b226686935f33ad79122730e0354da1eae93bfbe58f78d7428c5168a104358af174927a36c4520bd07a33a5ee99418bd81b41ca9f0e419b9127984bffa66e747015fb5619ddb5f6bd5307783e088d78451f9961ee14b1468bc7285fc2cc2407f46a413569a03cc5720d85cfb57f57fb6993e605043d43e1edfe45ec0dc785b172135339db0aa885d9f28c504133b7dd2a0f6fbc4321883531f5e7c9ef24df1dc748b16724c5da1779bcb062536d6d6f16fcc69f8f35b80eca0edcb68931adbdcc1f3e041b58770dea393407f17eff72ca1c6876b1f3ef7d7a8f529c4072fa7878786fd4dae51eb2078c0d42c5bb583222665d50e02ad7052145a3d9b31d4d72ce4d7044b02ec16e3657bb0f52ff56c81a7567cb69e2f8f6c61ea33ae25a57e00baac1e53bd0c9bc3bd65b60ad4e2c529cbdba42f45853f721d549d318d17f84928f7603c0af4986b9c519a0188e3cefca0c2a1d105b56c87d97f14eccb936f905837eb2e43e84224fb26d1c4b5ea026a2629b67b3e76265c06d210efa5395e7faf035958cae1ec0127bcd5a44173155879953ae27359c62d73f9ece010bd3b058261f07f597fcec3ed1e036d4078a0bbcb97c2978294ed661277b4126fa7cc02375dfa4a8b8b478ecf1b30ccc5e49336e8f96b3a11f7ef1695f4b2e50904a2890f19cb8b041fa8be6ea6531a2fe9c9fa51079d665dd6e7ef03aa33f321dd0facaa21af2d40adb75f92eb7f2b7ed1a17742e6a8ff5380b6c0dc6046a534596202d83c4c8858dbd239468eb47b1420c8049465757024538e943c4e49af33e12e09b0c6f6a2c4e9ae41d5186b083cd0d2292c47c6a53bed5fb40bc7c9a922a21dc9251df9f586379eb08838a98d0cb81822b721849e579082c7c29d30926eff96640111fb1387e12be1cc793f3784b6a9e25b5185a40a3637727d1dfc2f2fd40fd4c608a4adca4421df61ba9e2cd0435a5f470ba86a8a90a2d9e83ccc4d316e19d55fd6b73a42e425d5ff0b9dfd85703d91fa5ee8aefab67c2902620087da821ab59bedb1ee83a9dcb6d4f3b0ef6236c6e5a9111bb9a9c7be662bcd77bda1cf5e0887150f0c586028e6d80f70a7f6870ddcd33516474fcc3964917e0213fa79e72c08bb782f9b53673e05647df149e0b21d3ed07690d296d132a30ea267dc69fb238032b6821e68ed1be23eddc9f524e632f3f9f0c23c18d1b092d786650d9aa1b4ad131ad8d8657a72ba6841d78993b21a65ccad4c8443ce15eaeca5b4b44725adc9853579f91edd268865e0321a34bf0fa3a0b32e905445f25fca7c16f5a83b355b6e676dc1239617b3025aa703ef54ca9d6099e4605141e384b07aac1894ccbff1be6e7caa6553fb44e5b015a0ac0e8d5ce0b4f3d16a0996a57a90f2521e0e94d625796788fa20c4ee0fe1008db304b8e5420529825a2c41451d7c3844df5068a6df12fe6499266a09d31e5ae7f1db315d7596899def100e9a301ae65fbfcff036d10175b33f92e00de4c00acaa78e1dda379c3233f2dd0ee16aef03b49334b09ae68fc1d540b79d8c6ff32c27460ce7ce7113fd1d5c2121640d9d16583f4d4fcd0ab623f250c8581c7e89140ae440d29f4eabd11d3897e4dead4902d09542e94c6175e7497e49649053c93c0ffd8ccc59e30c936581051eb5ad4ed6ba82d6c591317b15c5dddb38065e8886dd2146ad820ddd48075ed352ded022285c913609cdee8cbf8220dfc83548c2c2d1701e399fe1dae37b15b2661cf52a875ae8efb05a1d944b00003e1781c06e2a96d194b65042518f70cd90135cd2bf4dd9f5c3e2e4e56a43286335e44037c1093a47a3b1db532bb906ff3a12d8e3c9bc769175cfe9796a38062f79a6f4d9c827f1fd998867c94ed1236d6c6da47e8f89dbf17b0de76c6a578c88cb4ecc34af47bd73ec7a4a60533986aeacdb444a6fc625fc48b40d496ecaf929ebf5a6ae02aaa989b668e93c5c9aa2cf883d4e4a35308e18d63feb93285545a86826d3724dcc7343675aba0bdbe811e596f549771e31eb737c6d9505531f62b02c5119f24a1735d0b7fba767682063fb21dd5824a49f6574a82ee09c41ee0df94e0e7f694c04cd1813174464fea9ad1049e16998ff12bb60dc9a7d18dea07d3d0f7a0d405bc223c4f7cb4059ccba2b27265bb1cab50761beb12bfea10229c8c00d38689691e51cbeb6701e741c7dc3f7d59d73d2631dbe53aaa18df0dc875b7352960297beff24bc58e5c3e111ef5d632d475532c4dbe71eb6f88f60030b2b4fd0428768fe6d281d59b983a5a6c26af04bbaa9f55a31d99749583846ae7257e8d982d94301e95edf35d65edc1805afe1aae03ddd2d00ffe21cfd79e972c2deed3dcb10de06a28df3b68755f0bdb24063f1112514dedaae092d4726a9640a86a0adabea6413e57bb009fe1249a4bcc468045d1f122ffd3e1e80469ffe202be59122fe924488e2186807f632615322b51d82cffa38ec9be992e9f4e844db3d7735febfa386441e4548d071e43441fc4a64dc8d921d3184a74b7611e95f31681f5b02945a668532b93d3bbcd8b805b5c2d8c472b7f06a37379ac8984b13fc950d878ffb11bda56d99841b9b445e11ac031d0a72d84a51e9cad4f4d51d692411a164428449255b130bd6800548c1f2724ed14a1be79ce013de336567544da7d0d6c679cd13d03688625ac3c4389cdc94fb0507e631c2efbc7a06acd5c5fef280fe337c36fe028ac011e530c96f102f10da2b067e98053de7457427c5785c7cba5317382cc14a4dc61887aad92f9db6e7b6de77a5674842ea73e1424479ad4c2c627a26333a5f94f1c26d968627adbae80cd4dc3a7bc30fc04958d258a6f559a347323c4a6ea5aa285f9672c113be463376eb696017a07fe88530536515a512cd42d9c19169044e736db195fd37a87e58a760bf2aac3c2327b0e8e72f78be614dc392c95e3a1bfaa0fe200feb12fca77a12508177b746cbb87e92b11860ca4eb16ef70947b6a86ae5a2c8a06acc63b857df6a05f86bdb8e2771fd54e288c73129f106f29ff6f4775f77c7061df22dd8fb6b73b401f8d6b057840d0872048fc7be0f61897d1528de1085cb3a83718baaaa7dab7873e21b3a084a5ef994709cfb99d2184d04002a6666531b0475d6ea2e787e90d94a9d20acbcdd3145a3beeee6c436a7ea15a708b5e5b06f02a6870f01dadee6100fa7cb82db93e00733d882520f8c3f6bdf0ec2364e591342a65c9be3211d3e289ad04527ba3427050e5a8cc413ce0322cd4eadaf68826307b9fa507f39912d9841b3c010a8c6635207c752cca516cfd6d2534a2e5ee3de8cf6f8f287e9aa0268424d67438e2136f43fe9267fa1a03e66d5ea662bc5a8dbe335d0e0dad6b5ab5fa7375022250cad8c50eb72018fd71bf240d02cefd466994d81d68db7af61395bf195b66bbe082f7ac78981c03ed6a74a3a78704d720d2df28c84a6eb9d1e201b5a45a094528843e5176a03f546e426679a2d3ef24a035586575efc50d97ccd77b8507820053905f8a7bfceba71673f47896b5b8fa66f304e266158f4ef48ea41409aa99a766fc6d83cc2c7f67a03bc2e8bf20a862f2850864df0a22ea6e0d8e2bfd91e23a303044687841cf6abf2493f91b5924f8d58e8cf72b0761c6cd4e521920f4fcdf1eafc166e7b390afca5d4a401d03d744272ff370c57cdc022e10706b0459e3b810d40add002ff26abe263e2493fa4d1305e43d741c8a631ebbc9bbf593eef13fb8f7ee63870a0ce8dcfe177eff7b88424ddb976b929af0fce37f49af37ad05a3292089ca9b98458dfe55e1aae80d0073733dcfcc14ae84ab033f9a9a29415eb43e15cf14b7b27700283a9bdb366f3ca1dae6a627dc0c3e9f53d471884bb19e11e0be55f8334d1e7e4379c7436a179085b4f36afa60d98a827e6fcd4d875930a001c8b48b1024ff5fc39369d2d3e8577ccfbeea894d3684702dff774b3e9fb23104c1f359fb834e07e262c683c10bf2ccae925dfa415cdb30c31ddb9d9860784d51aeb72bc5b0606d0344c05e9bc186743a1973f210e210e451e29ec7a020eaaf780b29f6c42157e92f69c030a429c5b68ce8e4cab10ab48ae95abc4bbe33909336fb08e1ae9f14d0e3458ce49d4e4723a4ea5253c9af6b6837c72ac60ffa7c2019f1381bef9afa3c8f72d12846fd24f5e938b25d7c51d5ca660b85e57f75c2154ed9b53fcb17d3cc774a7463518a3580b7997b681d3b69202ee73578b876c8382ed4ef6ae6fc3479bbefd0ce6bb41cd1d788f0fca9a356d87ce160d8ec21562a42b76c4cc2091ff1126df616cb227b2dad9c3e72bf9f871b7f1c4833c63bdf96e6ce5202b22a85422b41c7d111e5c1f3255af1824f3e1722ae1ae3492c957721ecc965ab681a315a0416e25df31d9fc8948d66a6739abfc5c2ca51125546e634c5ffbc8e6e96a9f10803e94cbc0da6856e908fde616a8a8fa48dc487620964591706a73d83f9a9142cac2e37c04922c96f9ec6fe26d4a50b8b89353c9f18a54aace492b1bc1c1f25b34974d553f7bc8e2a245de47c442cf9609adc99baa2943c8d9b0c5bb5fe2c1fa5b0e15bcb2aa3bdf8d38faf2c16147bcf327f38d5488af497ccc19dd838329480cc7dc770a256812d3e9968d2b6b2ebcfce0805241ae7d0897763281a2a7961a1970115708537272e7096950d8b361e9f1829ffcd56f36240e150c49845170771cb344d666beb451d0bc2f37692a93db3a49b88208c9a2b56dbb8c6c4f864e0f5e95262cb06c4b5b7f8c91fca0b01c4c1f612478ba311af323a7cba449e5a31b381fce5bf9e9ee7acdb9595c16efcb135bcb5c2a247ce7d297b224d82cdfc11e9550f26bf11b0b556bfdcde008ba16ed1b1d4f20641f1e5a54578de9a7fd9083369c3f51ff58083bae70b9d5d26357cc709e74f64f50f20ac537f0eaa87da8fa011164665d8495fe2c2d35a5d5aa7c3fd6a9d1a628e055332ca5e28ae8fe9d1b4443f3196739b5ab563c74d5ef3b09d87c4459291ff1b56274a0e546d9c10d4da6f7d1206f31ec5acf7db495283c17e03a4df611c60aebf1459e979466027104006d88b640b8967e8d5e8702e0f1905c03397087ddf8ce436f2b51afefd2a3ef2781c77748f7564c0ca0dfe13113deb66cc3a0fe0a15b371419f6e0679142cdf8246a91efd184887c434f3ea9258ca9069222e8cfd8ba5b1e5d0827da6f67b634bf7102d2d5500019e16acb105c137804c19c3229e6a92e03f6208194b035b4ebf4f95618cfc6bf31e48a804bac5b9f9a3313b5f5455a2f497c764d5f03db3f804a2c10c34b3d0c7dd8db2b4967d2c1257a7902093850fea99857f97ffad35effbb9b325572797a55d7c6df29cacd186df18117a8ee9b3e07100795cb4305dece91d0d3ae2110514f0d959386f90a6db77b06890ab1f571b6cbf8e59797633a029332af47eafaa82a9674c9296707bc39f533d927feb76c969747ff82616cc4cf21c351996259ea08409da0014e8016939765419e088d2bc2b3ce493a5ae5dbae38acc1eb38a327fe14a91d16009526bddfd877bbca6819f5a03caeafd610e295fa81b4dfbbf15164a1e1cb4c9802f2c8d53180145f89dad4ead1dc12c8df382b81b057dc4e1601b3ff4185ef4ca4431390fac5374a9d2bf2d7ecedd81529505cc993cc90dffa72c1bc9b70840d249484db91eaa99a25b01d755b77304afbb4511a5b706535570a1f8167f051cb64e949a0b0c2be4e8c1bce3c4d818bbed592a4dd46844ebdcd47a46d48683053e4870c88980d9e67f2754fd753491010693ea9fa842093bd83d36901850254aa3564efeab25846449f940b17c8196ffbed23c4b63e627dbbae2733c0c1cb814cca9a4bcd1f5c4078fb705af63f5260094a35aeab7ca1b7a6a77eb3e94c8d765803fcaa2daa1fb862fed45c7ccef4331ca6ce2ad360a5190725924d77e786240c7aa9db828d6dcaacccb9e7823419664def58b515cf53c35063563cb515919118718d955ba59c6d559e49989eeea30bf4dd42f616441e83c6f8c430236daf23bd95e1c555e863c4799d195b2e1d0e0282b42ae6064a1393b5abdc41a81d19fe3c6e253475507c65313bd48dc5e2003f113fde21e688ef550518642683356debb03b0086ee4c9e42da37151dcb5ec2ee11c0b7731b0669f5b3082ec28073c28dbd0435b5f1251ec232b8fa8dc136b16086de217d13ab9c35e695b8345660fdef489c5d5dcf50c43d91ac870cbb09853005c1ad986e484ff88503d0cbed2827bbf7650cc75a8dfbb12b6daa7df0cbf39ce5bc134239b2aa6499985f8f052440559b94f8e12d14568f288980099200e7446ae1d5e95c2f42d4dd5904704e51f7e6984bda52caaa8ea177cec7f62b85ee31e1946b64179960b67346db336e05571bc343d838395772c46fdd69943cb9063755a34b3586e04f8e8e40059d63e676321ade023f0328a52ff8a97b15a86ddf25f5850aaadab31c92ecfb45300998ec60685143a40b0ffeb4e1b56b45a3078cffb7754e862328bb3ac822cc981edc860b74fceea5c4eeb1686cbdc028c4dbd1801609c1b7dc2f71a27c2f828c907d80f2423fe1e92be5f5bb1fec647570493afec3b852ca9eb145a1d441036b202c0bc3b2a5681ac03f2b17bee63c309ec314a5ceb89315ebf18afb220d938ebe071ed9b25735dde7a6fb02d4a322852285e5ba3bd17f7ff426bf25470771031396476717a3767fd10c06cef1d3feab48fe3292c225300d910f9742e73543b6b0ca710b2fce8b94aef882f6f38b0c8e000e6af6aa7facec842e2df7518c7830c9483f6a231bcb2683ad9ad2e67d95f0f64cd7e783629da73d112c17c15207e40248f43c1f53dc1758cc15e60c58641860c03d4555e4a0d409aa59a90bacce7022efe38908e8a629cc3dde483a97011d73df73f3d16ecabad830ca70c23606ec1f9c42884f39ee3fc73e4caaef60b4c31a5d189191754d6ea2f91c08412add8ac00a94b51258f72792120b689e0e7bd17930fc62ef9b39b004382a6d65a5e1a7fda4859debfe1fe63758fb12235bcee3246961184d371c6db35fb22394606ff01ffe64d2eaf9ac415b37bef52bf460e9b2b2e9d5d74fb77691e0ec09f517226ddbccc4782421e5091a774d38f3f204c9583072bdc2d81f8d417fddcf07b96ec40f5483d1c4d5ed0b80215c1d275dd9192bb525cf06d56e0bb7940756ef961a0ce48e72879658968f9f47ca014bc4ce98798ec8e63b390eddcf51f6ad2b8f7a42565e6e987db687f48866e8350b6119ea0420a2cca7f08b9992f442ac8604c338e68c2399d0a2e93b3f6cd38357532675c56cb9b69cb36544d86075a4665d074d61ed982ed30168ddf9d9ee6fe9b86d26d7de12abfbc0085ce069882a8ae33afc30b040fa8f57d20932424a34f25f7ae545c2467e214ced5f2664a4ec8912edb4187700f8dad356ed735720810397ae56fa2859f54846cc645e89bf56a851e010b57bbaf161cc23de255074c1a44eb6a34a4692994d038ca58608f5ae153a14fcfe0c89d0444f56843af2485ff91e1d592eb9a342501a451c8c012b444b8d215508f38ea988419152409e7cda1664f61301f1e5db4761547cc5f1c543b7f7647f3a6dddc66cb4c4369f544a8e755821668f0e9718be10690ed6f690c6ea1134c56eb707c900e0128df9fa26399289246c8d213ccbc767ee5a484a2c0e01bf52786861d9664cb927f24c5d70d44de2f80fbc4c5feb4b5d28f0cdc2503d3ebceb4832cab441fab5f14a21ef5eaa769a959cce9a40d98a0b73ed29b7b8cebe83116dff9a3f0bac39b5eeffe35c3863afc39ce27f0b2e4f8a46320f1f600dab6040235b3cedf5e4189b184e823b96fbf3463beef167d9ed0292c471090630ab492c46ba76dbe2fd5b488b6503d2c641c88a91a1ac93bf3a8b741c7dae7aa13a73f068e6e5b6d2f1b5a7e616d17e4bce0c0759f2f0e48a33cc7596c0d4718b5d343a01967ba010576df7c957566b7efced40f47639a54b1ac820592a970b9ab6fc790e1cb3099a33b4f6d4b4898e92c0b05d0b57d9046492c513b3fd2a85240d3dbde995c0717224f35c815fa0003afa1a5f67d558f1618f386453fb058469ce613faa3421d84e944cea2215020c119c3ae920c5d5f5c70afe6487887494119642460f4949e7d7857223e6fda50a41c02369164b1cad5f705875cf18c2394d150be1c188a5e62fa44b4e5da8fd7f5dd88f1be46618f73b6f1e4ab64cb13fea3bf66f0eeaca5dfa2220c7a44fba948ef554b8fa184108d69f378a5329b79a10d4781cfa4771ba30e383b63137a5196784a0849ce814f401c92f8235efc07ca6d5d3eb08e51e3163a1b763cad375db3defe8de90408fadc8df79515d7f6415cd2724df07161e8ef9495a8b5b0c9992faebc122593ed3d1a39a8f1ecdbcf424955a4d254d06c7805f499c820372ad0f90bd381dd12ba8f03b841b5e999dd93e4e9dc1ea6a6ffcc7db4c9bb4ce9c66d18a0f3856740967dff15c6a0e9563141e36489cc0afd766e623c2041f9ac33342dfc4c3330889895775086cab0f51bb9f47413c396e02d01c698b2442ffe566e96a56c070dd2e98b4c598ef3871b29eb03b22d0b8270dc405766c74ae308fe5389587f691ce36c3b5e847d691b625454548ceaca70c5e1717860b14f257620af84003f0387dbc1dcdd0c15a4a13c7d691b850e8c61dd7961ca8c3b05bfb5ed4df8eaf23ec17c60cf337f3cdb812cfc8c7abf11a5805a547b58b7960dbca14284d94448c6a88c2435ae14ea270d155d136b660333d2e23e66944664eeb9c33f84e5a4d35bc9eb0b3e986139e2800de3ca0c6fdf0fdcfd8cab0880473286043b6f328bf2daf160af3a424c403f69bfefc0cf62211d61f39143683b26158c248d6a67d06143547976067f3f554bb433661453c52d97042cd48fafd34b34703a215486457188d4789587bd477499b2f6c164b113b794b4ba59675e3e066223f6cb09ca8f89cd0d719954e60175123b70295902bb2dcc6739a8771096a3924bb993f392057794a2de313eda66699f8a52b61172e74eea049e8ddc39056f2f11176eedc6f182d3ada985dc8427c334cdd211dc901fb1c54b521b0551256db42448487bb30699921a59e9687a2f51059ee8225b3bf22c8b8ad3edb952233b3175cc78744a0dd66764f8ea80b419f9aef7fa8b4c230af10515f14f77bfb491b65880ae3e20256a53801372b5dc52487b7c984951e533f14fe5a5731ab5551f5072855f02db423008fb72f98bf36e4615c2eb60bccc2cb11ce88bcfc8797db2656c145622b6443b9d6259e41cea89eb188f8e8db1a5d3e57727dcea55215e13d0457c6100085a94380f2cb0cc950d667b357781b0bdfae3f007f8ab5a4e67d006603afc0a814e3966535eeec4617d7371a70d6354ce539529d8532ebaff26daf70991eda6961bb2a4ecc51dd603e7c24d03a89c191d8cde6c9b9fb519692c6b3e699763bbd951f882181eb695957f5ef2c1da059e2e52a1f0b7c8c594e7d66060e3d93ad24bdfdc6cc2529918ca588318fa30dc500679daec46cb8c3f6901f2e232dc1911ee16191ea25a154c0423b7847f4ffb59942eab2ff4cda83f2783f6920d7d81d1ba6e710c1246d6c1b55a2846f69e2497074980d2e4920ef46a4458c9a91ba4acba3775e355977c149e7c127b92927c443c3434fd4b4e7c50bb131c84826e9297da69583380a97e398ff5f5d758cc07dc1e945f35e8cac16c5926104102ed65f03518e481b30e62567a0e023f2e47677155f5dc5e0a6353423e0f932eb4f414bedcd8b8256a51a61dc2fdfbaf41f5c350fc309ad37a3b35348471a551e484e397b215d13871b49500478b24e2cf9e75d83bb7f7360a9654ec2951a02d81e581be9af8c085342e2c927c95afb8f1b7a09d55cf8ac9a64ca456db4f346246d93fae0c73bf52b571da1929c4fecbbc4928ad157c9a0e973997e9f9549d311892d2b54b145e22d3f435765495a1fe3a940e711cddaac2bd5ef62e9742b0160433cb1bee6751f95a18e9d0fbe7f7102c66fe58d9d5733d258a7cb265fbd4701ce844dea38b126e08f979b3ac4407dbafaf1a5ebb256ab1b085b011cca6e19aef1515c587d0aeec3313e0b9568ef0ba5867192d55eb4f8be36ddad42f2f33f9720edbb725cbd451401529df99a3b391579e38ffa1d1295d6f26fe22d1bf069e2b6851cb0842276050ee708b46179d3e971fe22bf02950092ed2cde10197e085dfa407d5b5a169ba3a9db9f97734c2224e632e9c7fe76f8e3b2cf28ff03413c86f22d4a9a646b0fc2e780ea94aeeee1dae3375f0e0ac0461345fc9ffcc87a6195927e0371f8580e64b4af2d9cc4275f92af563a3bfc3b5c47c943819fcf84015932ae76290e3f4f05efad3352751c9861a762ab5ad938403ca5c491c47a443c3aceb99dc8f41ae99a99ca546b9e01383084a7141972cc47e43247ef2a4a9ffd0ceb00367686e2b1715e4074509b8d1480fd7f17af72bc5fab35fa18e3e43ae9c578d5ab105a461e298e85c5c601325b242a0d4c368752ba10b26535ad23a4d01f25301b8cb20a24698d92ddcbc1005f5fdfa08fbb6a625637b7bdecd46fd51edc0ef2ceb53d69f602b3e658bdc41470b0a7c4dec642740ac24f906b44e12c8da1ca512a2c99143aa0c0aff541daf5f93a5b23605fbee5763f778563a5ca6a7a34fa4bbfd1af85640a47f32be9cdcc6d7633e1e3bf841b1d95ac658dbf34318c55d21305e0cc09b64318f55c0d37e8564ad3210ef1d0e1c6e28e291c523b79c05832dfe70203461ff1d8e8145f060c7d76db35399055e5cd20c03296388ff6016382b096a8334ade92d5ea7f1c19c29986a66a786dd964dee3b72275735b3be9c4e1f01bf065923c1a92e90739822f53f37f23032651045d3af4a43d506919533d91d2c012c14e68f41a97e80100ae4d78f29b5cffa9812a670911b2868dea93a8ed96e639532b87582e8079fcb7652c60522033cbdef662966c3dd10cca8264a2766a055afd2ac798a42e46868a0d2ec766c927f234181f423cc6a91e351ba96c543bb326797e574131b8c747a83212816fd5aed75809b43fc453ce0f4fedfd58e7fa08260f2be3d872ef15c9a1c52065695decfb75aa68daf62fdfde3a7afb68c23f7df0daf06ac159737df6d3ec66188f8edc722ac6469f6d356f585e0f581e0dc28e29291abd177ed97183c7e8cfec71688ef92ea6189e7d72ed2eb83b6e9d78fd5a1af2123766d570c11ca6df35cb704007b82601d22699ece33b7236e255bae0ac885520a608c2956fc487026acd4081b294a4538e5e9c816a6bc9b2b08eb1e05c56d66adbd9c5a2f43bcae94e2e2599bf184ef69722347dead3f728998f94744d9d3190c63508f1e2118936dab5b0a313e55a99921ba59f089004ec634ba1e5e4e437bbfb01b6964d6bfae2bfbe18a6c561e0b36a415dbb345dd2cc57a6cc71b0f5292cc6022b1213fa25569cde5609d6a5ded25073d76496484f8d6864eb822ed5e94e170c9b673bb7faa486ea609f8acd221f75bc8e65a08b16cc831d3384bd4d045f10ed337da57a4ee9dbc84f323c2bd5cebcd2d896d9b28849e89790812546ffd87fb6e9801f1b8eebd3441a2fa27e07f890779fac41365755f5607cfa38b7acb8b8f88575c757e8ca839b3c15bea0bf948a288b52113be977f77d8f67dfef7ad04a6215a420e7033dc2ecf17b85e2b432838c0926c4d5f0932eda3c7dabc4a9dd00f72ef8f99bcf6cc1bae79936d43102bc32c5beb4f040e83744bce01f1d681e118ef382440f074a8bfb2ae9f45d1fc34539ac4608e4d6c0292fcda4303319383708ccc615c6770ac45dc7ac12c0f7dae337c988243a1d66ce93790ba7b4eee05eecc1f07178192552f2e99b46d3b811d42dc9ca61ff85ffa7142fd7d9c1ab7521dea2fc4f3520d17b791406dc3e5918d5bd76266fcbd9e30d89cabea33075bc43887e2d43d0a788c77798d525c569503d68a537522cf2901f56f8bccca8eadb9544c882a0776cf752e73a28e63a402799771087de008ffce3dcf8c71d226d7f15cbd2228f4dd492f71c9e884900fda6cee1ae6207d1506abdb7d448a547df0039d6f4c37de95dcce8c451f210050b1223056caa2772227ce97406f44a78726a59caef3766e1911aa028200d44b11c1b6c2722767887bc21fe73e652eb9566575708577b337eb03f927704f667ff7b742380b97fc86c5110043b8e138d47e82081c556131091fcc2b5392c817449383d941663481037edca5cc637ca7aeae48dc0bc0e2af8be9518ff7fa6c631add11cd35360e82a6cdefc7b18a8906b8682d3accbee96045f88f88e45caf4458d488c9a813609c1069c1969a2f223b96ffaa9af8dabb54ec5bba2eec8415827bd39f6a4e32446e7e1a57df95123008ecfd3ec81dbb308ab802c5b2e4ce1c80023e952f9e21963dd0e36786e5da3bf4299ead645ed73bd23c0146a43e1a5699482cf7c3fd7b2cb9aed1ed3ced3ad60b0c6ab62497940c47007cf55d30bb251cbae80cb93aaea26edb28e83549d5cd2b1f05bc9733ff777ddbf14638cb7267d542e573155aa0510981b0555ee8c2b9cab83a4fba1d339ca108423b2f73b2693c8a5e18686585551529459743749dad9c43cf2af2d1c83fec1a24cc08077a2b7da0f68c407bf9c2542de54dd0d672f81826bdb52cd0e70e329e072d27894a39dc4918904efb013f9cfdee7126bad9ee45053545483efac4a16073cfe5554ff13d8f7537db9056971da89cbab84420da283ecf35270b50bd485e660d6ccd211719101c4f37d4c0f385ac2c4d2bcc84b8db1f4f7c249d5e99951810c31f1f53808a03afb0d5d434c6b66783d41770badebefe7064ada7796","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
