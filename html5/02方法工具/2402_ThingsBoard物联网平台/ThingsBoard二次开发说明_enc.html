<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"69bdc62fe55fc39c7cd0981366855b210ae2a96d2c91eb4d40aead13a7eaa43c5371368d4c3cd6630037350094f35e77982b0b522020288fe8d7024802947dbb7e04f82b002af0408219cde2da9b5ce68d81d6c0370397dc4581dbee223c4cb1fadeb6f3f2c7269c093e31235d9320fd974c7d676df9520021f5b0831b02c251c1948b62f44ef3f9bf8bf799c3cf6da6e60ef7576abd6c7c9c05ab8d008d9de46bf62ccea3a28ff56f40685fd79e0b20e542903bbec6a66dd9d30ee165996f4904390ad2dc955cc0d9358df5549c4895fd74c8b746b1b10e0b4ebbd397a70bdf6f25ca62994a755ffb2ec9d9473acde4463a3da01cfcd1fcd840db4f24ec2d898ea5afe1fae86e8440bd098000a5739a247c8e4150ef2833ab9f1b4aa6e9b7370cc5f51680e3fb386e44d8659c6145f073a6c01ceaa6cf4afb61cf865ee9edf9aaa63b1cef60e8ba6e5604c7d35516d88a578377bae02a9293185f3c065378778c4c27fb3d6e3bc0a696c7f6f62342a47f579e95a57a0a44161d31a0d3af2ca71485bb157c7101c9d516cc141c73b742e62d2f997b58f3157de43f33846d4ef2d1fcd177ee0885694a1ccd9036e91ace0699cf68fa636f92684ecfa239b02f79d03a4b54e8fd1d45b3edacc4f0bfb954dc9d4513d1d4870abce46a5efd27fa771aa64357b5b147ee6f0914911a61db274a55118a4404c6f4d179a347ae5825098f5799a082469dc32550e0833896bcd422fd57a03643e1c3805bb5fe9e1d861b57a6d26416b1a0e68420d6994668242c32c195f1d234fbe796663719fbfb742090416dd11998ac34dc336a2a3d113bdd1df0e5bdb4c3ebadb1178e7309ad62a7b22415140566e835632fc157336f60a2f5b48cdb589b41814924bb96d4a3b4f2e805e73ecf6acf277147f074060670cd4dbf7dba1d366e29c41649495dca388a2dd4e646dc0c038c28d848625fe9520d5e3034ddfb101cd8d970da3f3815fcd849fce65283745d8150e2aff69c71279a1efbfca0bbea8d14e8aa491a74113b28e3565ef9742d2aa7d54a733dce5b24953b11279ab19b87d26687ee9d4c9947d45c89a13a71ffc0a52923ad263684b858b6cb5725597e3c658931dcecf7263d83217c8c5a22559c71aad7f271a78a7d6a719acc106ea3119b5241e5f0a06aa4616451b6d9760ae835a056c3e8ba484e47c06e8a04021e520988986b87d3acf2f7f10232b8909a4a4eddb21994be51ab97bfa0378e3888b19e9962c11f1eb7a5cc59425fe8f496b3e448aaff0d5db410a9aa2b043900fc5a54b3d234a687c696499c745bfbc083a4a5e0cce603b7dc4b84e08ffd6d8ee70a81599642effcdb2bab8766e3b8f99523fa26e92464c1505c32c171374aa5bde85ea9dff621a1bc863d5c5a0428d59a7375039919aeaf46f38a5df21acba95e25d85b6d097acf56f1f158026d7522952a3f9f562fc7d1a4c9e306c9abd0b9226b158a764c306529a0a118dfe6492dfb9f753aaf76751b7eb94a490cdf3f6daece362447daa5466ba2d1daa7f6fc45e7c62a97fd6a94a51287642cf68186198b5ed9b93f690eecc3495edc42251d5efa7987639bb8258d5e2e33ec847216b51cc8401f95de59e2776321efa1c4aca77b2322fdecfea118845489b23672795fca74109cf6c5806b12a9d8b49541f147fe9a4b9a70c6a00938eb83260675a04dfe3304ddcc64ad9485617c8b1c3231db75f51d07f9603ef44e366789dc869a246c9b48988c71c0d9fd8c3d1358e544ce9ca02ba72aa23323203138311bdf9eaa89def67a9755e6e42addea62d19d60775909dc07e2c64c53a54299cde5e2b5ec9cbe5012b92f2663bb2415d00a09ce00b7bba4e9d0b8d2c2baf4666265d92d122f8be4241f878cca4d27160b1617bf55139c32adcfc22d55ece975bfc5524904c70012c9497d723eaeb423a087c843bbfae6d4e694201043a617eff6e92129621afd4cba214afc4b0ac0c079143f2917f1d68a5ffa1546967ac8a54adba60f1621e180930d6987b82d1adb8be1821a7d6c589af08f59c9fbd1ed7b76d02042a5b4e3a0b401789f06c4679f35e37a0089e587a0040b086e3ac9138ed2ff13be645b8ec9bbffbb6620351a3c8a70ee3d49b0621f30af29a978a7d1443cb5f44ac2cc6aeb3a875c3e03308f75931ca0879cb75b2a9bdc76cc63529b265e92e8d53f3a9e575b3105702657e55c7f49870d113a14c99cee4f8b9b6cadad277fc6c9ea7408b90499fb0f4a6d8941df357f8f32ccd672e9a0e85797faffbc2052d5ece87ac55efa0bcaae5ac0b7a6844d9c71c387056f0589c8c86af2c6a4feb3ee4c2fac45b47ad9737f073568b73c6ffb9706fb99dc0c9d1817db1bffe1b540a1015ab7a43947a929260971c78525aee0c54b54788ed3929f2a54605ed597b5dbc0b94bbdb378da05a6bf274ba04b64c3dad91714b341233f0417cec42cfd60a98a7d3f4bc6330c66c4ab0ac187d120a50c0e7f0b742cbd74455dbd704cd3e778efe19b6cd89ec0ddd818435ded9558479a7839ea6f1a2c6e3b3b3e15c05e7789938577ae71466753b5947cfaeccd2a51fef053e057bc6a23003f0ff746641fba3915f8e1c76c349bc23b0f2ea2932f692b78c7996d1bd45f8579f70bcaa8adc8bb21d357683e9d801d4301c42fcbc0ce67cecfe582dc6b2f2e8b672b93dd7a03a7e60566a6e79ea4104ebe5ef3fbdca66fa513749a4cd9c3fca85dea3ed2d5290f2e9b9880028015271833c04e41587ab0d686c4f2c18ff18cc471c5efd0044ba29a057c547dd795a77840cb24ac3436b4e73f87a175972210c83436f9fb0729e28be6d498fae4e08e6f27b5a1de8f6da742ace26b48b4fcf43c50bec72e73e0e8eb9d19fde70391b9fc2aa4f32792fb9880631b9b7e34435f98e5f4ff087d442035100eb138c876bca1e944ce066a44f3e1645736ee9b12bc42bdefbe57df9a114bbbeafca33b3696ffdc542c5b00225d396e23b7be6d01d82de2dee3644735b47cc1a8093837c135a4d11a267572d7404b9f4da79fd80053513970e4eb2981c1322f43172fc8746c2c02d49f46ff5b5025e106a07888c452bc9f4745a29d5501e7a6153a933badca65a262a7945372481147e91e68f4b7123ae120e230f03b5e90b7566457bf97a376d1c52f1c84c66891f5513242633e60fe55c6c390736fe73f7d825a305c8e330e40e474e41e669b6f5f380eec6a65f118f5a16e974d7cf95cfbb2ed8d5371301360a88c22ebed9d95e636ddceb3b4be9da4a260a468e6bbf0771e0dedeb2f848ed69c750f99140baca69e7de1e87eb574c42f7e492c02457b28943248364460ede6b44ea3e5123b8d10c20c43e041ac5f0d34a8656d026e174d6b102234091dbf13c719666e3ea0f7761b7e48ad59863c6b243e386b419822fa359f67430bd16b356bad0a2272905fceebe2b735cc3e3068d673bacc7d8e32fc9896156910f4a6a67409e3d979fedd9b03dd92d9b6ddd0e114f7c01527ca231d7f478c5cfc4d15241c3b132abca84e1fde5d54cdd3ab6acfd7613837413ba6d4887772407710e6294fe28759a16f07addfd4f53da652cdd84579b3991d52c06c32805f7175e2d973997192cd4f2eef73842cd05600b849e9e9cf43b192ebc0a85bf057b8ecc535457288eeef83a12fdef510e165e2d33a8ef782a9601a43407ad891b8eb401bb7ef4b48f078849b0f21a2e2af0e882d122c926f6c01b5c67ee638cd0d536e1d1c3c9e2718cfaaa9c39fbf9c1bd3dce6c558e889eca8fe4e30c9bd75c20de4c938426792f6f0516c342bfcc501c3aee332a9c95993d80191b4b4afd0680c7e5e5e36f3cb03bbd117755fc765afac459651d1d742a1fdbd55c2ef7aba38c75d58f6d4477a39b835e73d9e220e771d5e74fc09cf792d0e89a0f644e5a33467953dd767561d5993d72ded363787aed7f7a59aeb7917b0af36ad982bfa8033513d936852ea64bcd0c0f0876f1618383cf13866af6d871e2a7474a2938f7102468701ce06fd97ee5b81c357ec26fd0f3cd83ab98a8db31348e8e058d511844d9f381a94c1445b8b2ae6ed9a3d6daae5381dd05ef71f35f4bebb929e6c1bfd2f9ba878f0b93e2f1f97b7a3f3c752fb99814d773a8200f5d8aab6c78e305718e900313d0acee27be96ecb3781d587947614547dceffbbce21082c8f689da6ca5d3c9b5ee72954fec0bf68660827493bf4aa66db96c108caa5e84d967679a4cd47a2e119f8430b550e5e1b761d4c0fc8119ef1edf74b763032009f7237c0d5a5e547233b8deb6f6af29b12e3a79acad3c612f3a75e8692f9a99a37ee11debb5dfe3fab3e5da922941c0d2425d5e1fbb795c5a6eb061e8ad528240e5f2dabcb3bd2e6eb707de281a517bf0ead8c4c8d7b82b9a2b4812cf2a4b92ce897c9498e8adfe8dc2319b2c00338a24c933e4af9882973ae0e973cf38cdad123beacf805786da45e4f4e66a4cf28146270e24a2aefa82e2102bb10b8bf5dc694f784ae7a52c21d2a4ae0de9790767e8445d0b13c2f78ede6e73fd5e8fbd6b584cfb8cbede870fe55e5b59ddd630eac7e9071d33066cc848faf4f7ed8dee665de2909fba301d49ee12540149454f614f7fa97d15a5ef7269924a331b8a47975ea6f45b7556f15aa91560793fe608425a99ca9c7c37f4c540fd7affd31d6a05d7952b039acb0bd70bf22894cd544ea8d86d929e395f151f63cd8b2c707ac921cfad15b24188294e925b8f89710a175a155e33f6ace79fe09149e88fc518a6909bc016259400e50f6289a8df0d6591f6f2faa4465123726d1926b0b5ad9a61d736600ecab3a5efdda4c8124efc347c8461015692392154bfc8c4536c70b4c76a9303718018e76738053907aba40579d800421f13d85378d4cd1efe9c2c1dbf4f7e91094715b6a709dfc3bde5c8cff60f73d4318cd04295092d2853d64d4cec20c9a8a610934ab4ce4334ef8f793772c32a72283985035cad97c00e98313b945f80b742cfe95fbf69ba72b67b21360a9fc3b5498eae1e325c0ebf5abc2efcff836f07eff0bca17d3ac25aa64854ef68d6b05d1e1f60a50458abe0951b8cb2c8b4b4e35592d68848c8346ce237988d5f8dc8bf735bd2ee179f24df84207a1bbef112b330246c57bca21079abac6b6c10d169c3860b64f9bec89d048878e280f5a71804c15c880a9fc5f554bb07a420b456a25cf74490912b679c542192203e375e3bb1be76be40e38ed203ffc424af512a3ede56ab98a8ddcaa4a65ad15e667023e0b53d5b910114527c9f3f488a9ced25df8f6a123bbd9ee2f030479914412c4561cbe147f8e8c22c27e56578e16f9b8f9398c08859acfda1faa5d0e650353bc12a2e8b85cbef5aea44729c0530ad9a5987b87c72c629d026fb800bec8b9ea2fd7a31d6cd210c30a6826253805824b88f51ae83df55f40d0075b3596036189d10a1b74ad325ac2d5746abd0507dc18ee5f66e4c498f4b4fd29ff114f9408f21a0a1abab1978fadfb97843dccaabac1189bb44327b01f6df6cf2bbf3e6f202caefdf6e0079c2bb83007721656a3342f6dd4cb0e9bb92e4099119481e490b1f8cc22635ef36f9d8c5678d245037cd3b00e8833e735157bb04c8cc5c5047a57e2273ac00215c217ac26664cec86e33c0e351c9168483b05d630b60f754fc24bf0657e7296d8dd7966b6f408a06037d5debf857b6b1fa464a3010986e34d682f438a0345e42688d46da1eab13e8c7c1161881c4838f577aef03b07ce1733f54856099ae57c53ee12ff75fd782f558cef7420fabe0ced2e6e0bb63c2bd4c8d96739b78a20ecb6caf7a9ecb5a876f3529714db003a6b55ccc5072014eed7d691adb87be876b75b2a173c3d11c11956b677d85d80d7075a4c0eb6106b4377131fee4afc70cc3339ab1e04a357076cc7aa2be1e94731c7a9fbf26fe3734faf76da3de68d1767e80258ba0e16ffe103d7f518d15908ce7a42c9584978efff66291612d778741339053184972650be17b2d46c9a03c5928b774d74f804f17bf14bb5de8f629927ecdc741aa786290c04c0e8384913e050a3e7f1594f15cd91087703964b6e2d289d2da4525593a89530f7077c5261e11a63a0f257785c3400867db4b828c674efffddc2441e863231cf0f8ad4d22ed59cf49dd24554590bdbae32213c2cd9fd0ecaad9566c061bb90ff0722b29e1c124729f39e6db3291b102fc2f2c1f38ee803eaa09c08515c193a9bc62a4ef79fcd35c5ded200068ba2b3a18b77bc02a344bc1f738a1a2e2471999c565edb7bb0a28987e60a3464331d9e55b14e0b1f84f63f22a762ec75741c539141d3deafbb16a3f76b6447ec1ca8715ea311528eeb52a9f84e49d7245e911118060e4f9967fc723aa63c32f5e55d09b0fa6abb242a817b62359788633a7ebbe1c0c35007d2757cd14edff2d4eee27d833fdc0e9704072f30f5902713d7b0709fba0f000f045d96a8e2b954a03744241bca2df9e809ff6be51cca32a47e98be67a63e127e24431307e203aa348fe087470970e055a0ceac62ebc49577137998a36e0c1703c5d937e807436ac35c9ca453b7fe8d517c76f9058579114c0d6fdd2e05eaaed94b548d8198dea18f82c01151e65b5589527fc832ae2c65d4ff6e997cd8792a14142eff45d62a8981f3f615f4a5929304eccc867ff99b74f331b941054e4d54d2a12f01a45759c2281956903f6dd9481496b13615267634c106f3ea2345e2d8bb516f9a4c6a30205a3a9c0673886179fa40784206faf903b7754c603be7dab6a54608bc99508b4a7d2f2bab52a205a8e98c92f213a0a7c5ea1fb5cd68ad9a66a2dd8f3f5338723a6ed2fcdf757bab1011334e91d295efc629997f95cd2137eff3c18befb3c27e665d0a8a540bf8689560de4d552b6c5782455a56c01b85088588096a347705494e4eea6f9fb32a65c0b571bcae4f388086e08ca242f7f788a21f8823e30eb226a060bc5a7428c00a2d91fc179bbe45a23a3d59add60110c5633e4b2422fb397c76432be2cacbd1e79aac7ee127bcca5c64dbe03c4f0c573ca8c6d065c88cf78b9d9547454bb4af950a8aaf8598c46c66ccf15333982ce0707f236bb152ac983216ceb923acec2b3b570c9e430e03ee5a4d4844fc8d91440961cb96cbf3c0a650b1aee55488cd219d1bd63a293a571f2dd4c82e200d82240eab47a8a9026977beb459e477625cc7fe1db95a935409bde8fcc644fb48e0db86470f1dd4fae74f59dcd56cf6c332cb1d841da57ff0e6b7513b61da6ec9fde73ab921bf8a86af0dd6cf3661215a9fdaa4f38f369ef2cb36a051096b4291b71b46dd2c242afdef64cc8522cc47e7e19151bbbd0362589f24c202b3cafca33a98c3bf570386a2c694f7857194c9209d3b62d32afba47520b68b886c19c076de3895b07559e8bec2089526cf1769903345d852de102b2c3f433b00b3420bd6aa8e0eff9566cea03a27e63dbe37847ed7c77f93937bdc61ab092b030ad55e80957da067981714956f9d5e2b74c388697155d8bc2c7b9f9a3fb93794aa19c6180c3a3cd0bdc23b738e5ac753080c49ae2736f268e9f87a37723590cd3386a912233ce017f20fec050ea8040b364fd6e73bbddce0cf4352e417912d24a71711c674aaf451cdaa9e9d59aee8b5a62b146b904669a1cc053f929a5c3904d7d059c4a498a1bf6d0ee3b950ac37dbb7867374f58cddde49a788bd91fcc1d5f81c427ae4e3e8daa91579649f3a0ab839a1e2b2f2890223e8a95f016eef73c97c422b61f8ffe5dbc914c8ccc39592f81840fa3bb72ce75ff1bcb95baf9e1dc418d15550d1aab04b960d65ed1fae60dc52ec750f1e0d5dad4ce46e28be8b0600b0a24d3a562665b024bccd9b490197351e52943b3829f10e445ada499b047f8ea3beb00b98026fa501a0d33bfa63859e65763bfc9440e6d62833966f1cbc82f4f7173e7573d5856bed2c2edd891c96f69c34eea9666e15d176d4c9bba6e4d9e039c0bb6e02ed7d17db358cd5ed1370a17b231ded7da40f71de678280a66467718bb6c15654a16856e4e0dab17a804460574a73887beefd74d0b424eee23a1b87e036742573bdd2c5964d1fbca1713f308989e39990ad372ae589259f122ead0562e43817c392bdd7b57de635109761d3c4261696b946fc45be04a024367b7862ab816923537663e2f44efa9c8a62ae505a20db73bb6b229ca890d176333ea0ca93963a605d36c27ef7ae0ad6e04b2da34e8188d38d02a944e006d3b84e646632350260f58f955c0f1183ec5b6ffbb5e69505e9c4f3e03ce4d2962ae07f2a77129f41523a635efc8d458b7237a1664b21a7ddee3590d26218bf1c9dfc261fa700db352456c472a1e1d3060efe90c586f0e879e0ee9c78e7021f5b61eb493e756cc106b3516256f758f5fed3d935a2e4c3ff3e0107b614f47f5f024e56e8f3e4d477fc7303e0175fea493831a577908ec41046d06b3883a04f950794e876721c8ec421e8a2a3bdbf162cb86e54f28ddfe8511c3ca852d7118a96cc8c6b3504d182dc413d36e842c8b524d0679d82aae324ea58c8a85e80c426f5622fc5392ea9bedab48d5d97fa884c536d89f9fbebd5da5c48375189bf41cd73455bdb9398ca90fa794ef153c349e618bf95bf8d5d44ceaa827372b1bd820e64d2d5aff94950e6007d02a72721973fef8a151ff267cbf135d1f5b8279238baa1b2839882200520a4a7612a361227be03762b19cc6cbe8c4dc163cfdd741e6b9d6c9048f1375b172a51dbb50c23d7e4f82d6bcf07bdde85cb502f37825cc472a89d50fd5562bef488c6464d0bc87577cfa5639dd7e10a2f711e7cf4b55f8444f985ea68b3a2fc8a649844c25e7a05172df544d08772f1519aa0af4bdf9f22d9f008630f4e78c482dca40b269cf1de4251d715ed8ae6538b784cbe95c52b68711d5e5db66421097440d26bd21d444a2367e59fbcec838f558f76078aebbcd8abcb3b050c75dde4647f5c8557cc444d505c1ca07725f7c21219892d2ece613f167b55c8bb063e2bc2ce709b4ef7cc3b2c470f832abaee4f4c9203f9e8234bc0be249e4f17a15da32d9aa985f876e955508ca8a29467582c696462903e6162602a72d364ea8e6ecc3e759e826c66014f12cc556b6c595134efb05ed3312432e206b03d67100d829d35480b8d3efdad9e34c74e682fb1e9d85ca0b642ae6504879ea1a5a5cc47dcd0180cae75b597e0b9cfe0cd65da131a60ff80b25e334ebcad32a067ea59bd153c8b56780c0d5963d6c8db9287a8109ea3b8bfb918d25392fa14d9cde7c2f1f85c5b9b8f983465271ce3cff88ed93284242ebcb2bd8669ce4873026623c3c7e0121d35b2509fb2b07de83d7ac0c9e08aec8a63315882e397d94dfba98e648ee2a3a1a5a6d9e0b873702661d54252b1fb95b2178cebf8e58e33ee01bbbd600f108bc3896498807d0e052835700a1936c7892f8b4defff50911ae1d1764da35e93222f3c6e59e2f7c33d205b464f0ee0d5f0a856fc32fd7fcfaa012c44a854af0ae733b3e11f430fef858eac2bc48e97c56082e506951eb0ddb5b1b600a9ff466e924dc4e8df11b8ddb33536f8d502bf0cf407cb4a6b83bbbb602c2d1edf0364f30c318d64251a4f77bf1c1a9784f529624944e9f3aa9c7ff3670ce0a772e9f5b2917335b25cb8d50bacf4b8426096c367653cd056e2f3b1e23b61e4a64f19b648805d36d70ad72d4aa4311b4fedbc592a5cd8ed8ea704f132de521e439bc79cc94301b0d3219d89cee3cef047d13c32a7e957874675d727c992ccdbe662b49263c8f0f87ba01077f5c4e0adc407c2b0e70a3e36916198b30ec5628e3938e3dda7131695799793e53d98299b02c5a2f4e75c663a2f6f4c4ef25fb3bdca71276641a16c35db5dc231c01171aa8fd90917fc5d396c91bd4861608d25e96cf0e60d39f8e4fa2237c4760a0272be8b4b619425b8751f1247fee182838869cd9e3363aefd60e17439907ae449ec44667a9c60407fbae38477498aac33e57168046685b6280ad7dd71a13733c6f4a2c129cbe39e92b974edda96814b94e564e1397837c69b845ce333e8a465cd3a72bd3c49494de839dc75b0ee9cc4c71725411bd18b534e035d4a05b5208e83a3df840c156ae985a4114e6f9faa79606b0af91824f80481ea1ee79c942fa1befc42f3782110439d9e7110ae13ef4a2f90b53ce810122fb3854f8f9e70d97d4ed1351ea9d844a97305aa6dd8ca5f0c82b1c7c2f3c6a442d04e15b911890fc5e6c3220f8f8016ce9dc65f51e445cf00a05e6b789682b250b4f72cd79b37d3df5a947b5cecb87a34ab3f0a54382ee0761408571d496129b7736338a48ac4233ea12959205dbf53b3beaa40c66559885a528b2560f3b8d2c1e22f33944cf4db0482e04473ecb59c5511b6db6569b86ea8aa207f70649e2718de6ebe4e8693e95e43eff165834200414f0b6299de1bd503f38d2f504fed65f36128dac5322d6425852935f4a1bb91036d873f1ba133e1510a92ae8176fdf281885f764bedc2549cf809e23c65d649c5da4545a8ac262d1ac716cfaf5f826c035affa92bf32e03729f012264f134554db5f463dfe855d053a462c8bbb617a1c17bc50a7c2d8f28ff99ce9332fd2f272cf17c73e9bbedf5f2c9c359dae9ebe80feb66a6959784809f4d47428fbcb00ed14cff509a85e62a418132e690414fd1f8b0382808d1cadec134fdba0a4ce598922cca54718af3ce3c560cfb60284b0950962594a6ca981ab62d05d15f536eb90d03a6415a6b6ae3645a9fea391d97b2ae09d8ec2fe7ae2b4e32be3191bf894fb1b36fe06cbfb76821568431d4532f70a0124439d871a397bd5dd80e553915ba722aa25f96bdb53f84efcb22f04aa8777da4b3d26907639cda0bc0be492943d48cc7279fecf8d898b1d223707636f13eda649175024babdfd0dcf548446033d1dd42970139d126a8a7012085f5152a9c4296cbb957fc705f6307e65c67c46071ab3b3eb210df8590cc342e75303af2d22dabf523c2129eda18b333f7c830873706445d9aca46acb9449fcad55fd1d33be3878beffc980c1f7507d180e0c351c859987d54f6fa09514ac00375c673c1ce8c107867fd5ebde2777c3ce2f6687d9d96318079a065490f20c9238e1436710a8cbb6f8b32065c8f9a83943c294ec746f408006e629b7e0d0cb81cd12d70a755b0a79693e975ba2f2b8e507ef3f493f64efdc0f09fb8beb323f628e9ca1d90429c95ed11d3f7fac700700159bd69d758169bc4a1096135369c3b3e5ddf41ca1176605b23ff82aa8bc5b9c3b0c88d719124dee453fc7ec01f293f39909e880492641f9f39d86a9702576dee8dfdfaf214aa19198e80d8ded9e0120c759dd327c2b343d956e791b92aac975dca9e411cfd499bfea8e82cd8bfe572fdb5b9fba9a7259accf4b32443a5f18a13fe84de07992297a5c07f0b21c794e0a4d9cbe75ee6302d8ccffe948c7093bde601c5709af4922b3c57a2052fb6c09be76074a9b597053acdfcf339969fa9983450bfe4e3093235891bfae90fbcd091528afd789040e4463e31cbb8d73025e6dd154b6dc20f7aab5781c51931568d58174afe08ba5dfc6e404ef5e1c8abcb7466605dd31e3d8b2a7e77b4666bb8c065dcc387ff5f5dfb041e0d4bdf6bf5307b9c200ad2aa653607607c36eb954ddf1798ff67e6d4eaadaac82e104894341f529398132a35f55e02fb003d9d32da1a8fc58b32b830440c0c1b901d77aa86edffd58e33eda71633fc36344436cdac10ce3e5f0ae54d5a5ac4f24a5e5b1658f6550e6a275ade5ca0d8c6f36b9a72bedcbfd2da41305a76a4f420762b0b3f5d4e1c8bb5f6470ffed90ad6e086bad8ba06fa6e1191fb1cef5f62e5c21fc67667ce416731f0343a88d8f84303bde778e407441087458aff60bbd27500794224f46033642e8a2ce36d36726d30b83f101b6701685604851f6bc7471d5070c7bd8c5be01e65fc23bc8cb8498462d717a156019d1b8fbf1202750b7e5ef01ff04ac2bed07d807c6395a452a903b6536699c24fdc9f40b2d2bf6f4d4c4d2dcc35093e041d15f03010893c801cb957343e9de98dce17a402229dd8a65974d8e026c5ff10985cb3001579070598d627ac3dfa3293d5de9bcff608dbc6fc98c563b616123ae1b3036a80101d931888de02abb997b1e5da068439892af18266404451eb7e73bd829780543a1fdc6822cf7652205009b8a9a6c24deb44474c804734858bf03edf44839968b3efc8329a5dda4636f311869d4b30398f5bd6f1658bb7f36c171c5469b2a2a98fb3b580ea5d10423f63e68352cf59196da9e046163907fbdfbe91ddc14eb6b5b8234e4de005af4ba6985568311aa80d0c1cf313adaf5f9d0f28b2422425fe819670328d7f032680aec31a65b12520bb74665edf62407d7ce2adf3a04e1a408c3563e86cc1e6227bf2991b3ae0c5916adfe8c95764a27824831e580796fd5070638f92f11c73081a6fe359780dbad97fa1cdb085b2d345736d22517bbdc489d9ef776e8a22d8608198dd903658c2cb22958bafb7ea64527317c13adebd3796475c436b803895706c24909446d863f9df7b1b754ff2c781a1fd27945ef9b65b61191d9938803897d2176e8da9dde27d2fe031800fc63f61e5081824a0da54f12b46ffb5f287cbc1da9c370de000a242d48a90c4e857692bc34d41a9fc4c7b71bf9c80ccdcc0c0b699e24fcd8de6b0066c24a565d0e88a48db9d937d1a04db1f83d00d6f8b8f97a61fbc01c6f35668c06624c7b1347ad3eddb7725263be6ab7212efb8dc432fb72083c33fa7169bad273dada9e154e0393ce3db6a5eb31d64df52aa3438ad03b92d8e3e5242a7eae830bc5e785a230a18ec5082b3ddf419dee18b2e683511e7914de97d24f958de4b720ab0003ac474a06b2e0935ba0aeba5bdb45224cbf817f55d20b9d455f5db5850f3ccedb8fa356bb80c6243ab4e83f0c38bf707977ee3f645585709df1d0d25283bcb06481d5c939c4b189dc227de7bf82464a9796dac47a2b7319629e9323258cc23feb670578b175b2db53df3d69e6a0b12a606766f422d01c5f98cf56384b4585c562c276b9bc0e1377813203cb98e67704ce20f8aa80e1951d37058c3191970cccf3934b75f816120258b5479d322e15f0f86bc7d2cdd9f9de9253a81af8be2e2bfc5221d717231c22c3321794a3e3731dd9cc6b7e107aad8297d119c87b947944fc833c2bcdf6a99ef6aba085fa898aec23f6bbaab7904a5e2f3a23e5046f7e1bb3a5a451cacbc8cca16d6da29aee6fbbd303f89ff157e738d8a483648cb8af32c2264b4b4c561e2b2127e66512ff61a79368da50cad5fe5d3228c8c93e247321e48bc9e32705459463e33fdc56e426b322030cab1f9b613cd03ce46bb58f656b5c06609d747cff89b737f12703f96a634fcbc290bda8f422612867da66f9e3451b8fff2850a07256fbc65a2991330739145e220c067d0782a93bbac933b7450535fc2f20b959019344b170dad2d3a7266bb7a1fc36cae24c598c9c347e031f0380c7b2e2ce9c6dba14c959c34489da0528beef125e756444d7e1b3db258ad718ec71d72b579bc334db89ca7dbeef4c441f2151f3f2f0f6fee6ac28c59bcace513efafff58793f9578568128c2b497833ed55b2b4122af45e8b19b8d8d96a464ed301eb88397aacd869fc9ac926556ba67863b39ce9f17c71cd29d654971f9c6ca4ccb73f64914c2963f0073f883d0e6c59be7343ce20f3e6f7ecd48579814c6a3394fb1c15a3390742f7da9315f7b4eb36745b747405642758626d8b5a610058024f49236cc8ac714ca706bfd7fda73a82be69a66bc6d696d11a9e737b1fc35e746c667073d24f46ffe4544feab7ff135cf766bfc2c0cc66c75abfbe852f24fbb2d2486aab5ba5c72e296620a456a8d978e3d09d24a0e1db12b8f9717712009a63722a1bdd739b7c959cd76bbf2247ea0fc1307075a7bc392700931f4343965512f4d9d69d257d7acbc8d132e7f09fcbb12a153475ef24dfd0644370a32f75aa936319680472fa070ed7ddd7dcb41ffd1ecdeac1e3fcf055026d94a49242d3e2a1352b37aa580addb012b0cfb2a77a58cca64b59c4ac5007624ccc4297682059f6ee6632c5580a4fd56353cd1e7972efee60f4bf1fdb6e2abaf7fc7df32f6f18e8914016c11e9ea1fdf2bf8e6c252fa7715ee4c8698aa5e3ff0f393abb06ba9b71851a385c91612912e1e4f2014ef6001fd1d116a259c8e64f6c7a2cbd95e60e7302dfcd3685187c22910d4baedbcaa3f1d53cf2d11de66b05fe7991771b6261b34bbc8a5bc30a8e91d5946735091fa45b935e5d208d7079c3544d56967620f50e628dec5c5b1e4712b41cbc67224e254e18f3354e119bdb759079759657992c24a52a710974edc264e3c1b272050f1b9dbd39f3dab4fa90bb8caa3eca868433fe0e8d5d994e7ecc44495658c63fdef1373eaa267d88b2b5a27248a2ade851ea10c3fd38a37d1a0e5bed6b0792524abf25488b9adca09d949632342b00d97bb5018e66f08c0f1715bdf42a7ec1b448bd9e2de2b3dec7f458d07b13c40226470fb04852328e7e7d4683ca2bfa4de82ade9b38fcad357950b9d1e4fc4a8bff71d4dc5f15040a3fdab6938f3bade9c292e65eaf13706d223b7f179f2a974f25f5e23f6c3fcf3388e5308086f42166f5ed115889871f24e45a776523a8739eaa303f7cd335d4b528a71aeba17da978a3ad4d5a541123e44e5895c0e1fa0a7ac50da16036726ef7a42932dd0a7431d160ccde15b1dd1c389a4a51011fc12f191f538d7d88e877172290145f53af831d6abfaca994f1a7c53a269a716254868e281dcb7deb3db33bd12a28f207938de46ef8ceb472d1fc69b3807f3d2c3bf84135866777ebae12b23e9cec34715ca9e3887a59f7ac2bef597e166e7acb485b0b60d8dcf4f6d34502efe5a1a6c0853b9a663741cee071c54849758b20d80c7593fa866993881534b902f8585ccd2d86168eb56385b6c49273d9a80917e6dd3c3c18498180383708573df55ecd7ddd438f4ff2a08c2784a18d84a3f1ff35c87397b35805ce403e8de483ea27e97d43eab1a47bd5282e90434ffadac26b9afeaaa86ca4f77940c8f3916fd986ca05a0017d6119b2949931c21216fa6135b5e245adb171c64b94d15f2f22922ffbc62fe7e95877b1dbca836e9828b15bdd80e361fd62954e1b8d42846a75b7c7042df1e2aba2a8e7d9569f2bc1188161c5eaeef9c2a3c0e83b8b04d2f51041671f94dce56315968f4eb3ab94342183199839db1b28ab2e102596bc9a57bb20d36af64db8e8b7317d2af4f81299bfd04fbe5e7e44d82815c09dde174e4c7cd23e30ca4b3e4549558ebaf05ba625672ae54b3c0e85f8b4c1fcb6fc19e95f35677d98349c567539050fc51c4e086d3296c4955aaae29fb61fe2fc4d8fe57cde681daf6f0bab76ce2603c2daf5a79683b99e7718de103e53dd5a1cce4e8b2fe2095c6884a66f83bb053368021fe4883e01bffcd1c1e291e971799d220ae9bccbbb03779393a9762791ee3acce83e7ce84f8c35310cb4004372a3e0e5a92fa6b0aebb38147e27e594f3e075508dbe2f802547303ec82a5260efcd4987de8b6ad9ef1b768eca04f8b2bb53d3b15a194da14e3d736699a93ae7b45aa2a7614911edbb97f8379951b58e27f515611f461ca9e8aa7c259b4b1ed3c768f5b9043d43cac814252fa9f658190796b42da7aef99f29cbd826c98b8172f476de440ef4debd63971139530aefa057bef08e1f5195c6184dab0fd33b81fbef317ae7d2d58b9c4f7acc3a5c08f4673ff0b83b14b00d398f3ce1311d291cbadc429391ec9c979d8aa16d38bead42a47e6342d71201afac83cf9a57a6e00d6d12886f66fb47af0fd9fd0fccb96a4a45037105e898ba669461a4fd3c26a6fe36a34c08b9af91544ebb195ba0174e97c0b7050b13170dd020237634a667a21a8d282d8d49aa615f17f20830dd148e32f10bf6ec3929056924962def1f197ccc8a2b6ffc4c3bf359405f0e41fd25eecf9ec1e5f4a3f505466c160c6a93d4ae17c373aaeeeac5980b07ae64a4465710aa14d0ba5e06fa3e24699d8a79fc88ee350dbbace834a0ee13932dce8aac66a1ed4530e3ae685475a44f0fc32a998c9575018b93a67861de8087dcdbde88f1db1fb3f411bb625ae259b693d88315bd9bb7f536ffc2bd1a0ba591054ffc7143b965b79dae24afcdcf6fa90bfa9c09629611c94fa65a69cec8e96ee682c467d7ee6e1b6275599a48fbbba9dee195d3ae4cbbb58357f35cfd86baf2f5a1cebeff416a025460229dd43a09dfb22405627d0a109dda0dd1356cea3edcf104399b9c78bbcd8d64e3ed32791773b868854c4269e0bfa51465cd1e5c58ebed322718186919f9a1aaf826b69044d714001e1e4cb501be5aac86c5abaceb14697b661af248b9257d34b65983bcb1a2ebb8f3edc9f83a4caafbb4791ad21d0b4fa5a70f8d7cc1f3498a939a6aff0c0d6210be1954bc32e4af57d8eda293f29a8f091f6ff9ab3cd3fbe82c4cbdf9da05dfdcbea52b088e096b822da24891916ce41c8b69e459118c182809d38931a5b2e1428038e64c07b6b714836648ee631f1f52ad169b1f3798f4f733bfa00b5c7a4337c043e45d787adf020e5c3290f5443daeb566811b48a721428803ea58f7c12ab65b34d659b1550d4e01c6ab22f41c27c145186f58123b3eb54a550d16d7ae460ff3935d75fa616103414a0cb2aca61084c0228ca30969e138349c97413367617cea9861d8e6352f98c3b5e8d4f13d70227fb172d1b5563ad785b1dc4a30dcbf948f319e7d1bbb417f80cb46329b4a5ad5c4d06106de33b9b0327967c858122976e5cee08ac83b44ff4bcb9e721e80e681de6702f6ad3e47b71c36d05bb6ed95f3662f7fe91b16056993d57054c61ca4a42a8f5bacb2b495f033de9ada0b0def83bda1bb9dbaca10b24dd2e49dd04eb259fbaacae375366deec846a37d4e4689f956c9dcef4b145ee351c962865a6fbcb90a88ead231006a1fa1e0d02ef9999d2ab80d02851a996383a6bdad015fddea7c350f99eb9c927c941b63cc01cb6dabe03d64cb66793e645078d689d14677dae08b7c397a61f26fb6fafc3afed4298f275b9e21e6a0d7b11e759802ae5eba4b110c469cbf5933d0fe6cb733269f78d4270806a132326a69f2098adc6d2754bcd3c01a7df49ee932f0aa25a767ed8093ddd5f0c5f4441805de05a038fd8885a13e52ea590ca4e57de964f2508a22712ed5c4581fc2ef866f5c9d2b4b425c16ab16498ac5849cd2deb146eafc58aad3632c2754731281098bd9c24e5cb0c3d68f93bc5246c5355fa4a925a69aebd699abc6dfd1cb1592017049d9290edba0f58e7a53c9bd3294b6b05b2d59f076ca99b461272312fd678d294e972ad5ac361b9e00b160a8958022774ad807a2cb2687b3acf3ee63452e10b7b7f366720307f4d71645146742305aa297c603f5d366121165413fe3e26f5a9ecdc1980bf361bbc529ba3c8cdb3ca4498a31d6b48b23260ac646930dcc968b2c29634e6699b101fd7909bc2280a3c92ddaa00e34dd7ded0615cc392f4699a7aa1b098e163d9f8861ed32c4157d260b83f5cea06a8853b823c10ce549ab4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
