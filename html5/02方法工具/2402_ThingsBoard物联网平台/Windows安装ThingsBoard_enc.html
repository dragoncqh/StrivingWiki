<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2a0b4b6cdd212b3d7c87cba2390408b6f88dada222ae5d9a1bf67a01f3f21f75196692b4c1fc2cf88a460e3b71da97a3f7eb7d915428e8213079cf7a702c5eb65ea82d8725a6d5cba8c45cd7caf53225e6f7a5e32afc92c10083b9af938ce4be9a67e76db81d00406c71792601b3dd3ac6875947eacd41ffecdd86b2e66422122efe3658dd6704dcbbafe4cb784420a3133cf4e6bfb6ffa95523724843760093c40f67444cfef0fb62bc428259997c5dc28afbd0b11bf2a1b52bf2242675a52d42fd7561a0676a07c660b906d3996f68891a2ec7f89c16cdeedf7da02d06876dcafc6322a934b72375587464e2496ccaf45464f9ae36b905738c5c76018ee2b6c9e87c353349e5fe45e048dddb62a0a855ea8140f726c4cd205f65f7a49026be225a1a59e6b346f8f30fcda86c3971a8907993057b37d8b8807862415e59822174b5962b53411629351f8ceba4be3f9a8e7f14b30664dd7f2c366b8614efaf86c0066fdfc095c887e50f63d918eda6c74d9c606d52a9e7a00671f486c6cf604b80e6bebc9730c3e7b14e3bd3729837bc596d564e21b70952f962ec80048cdd5934c5f70bb903d735d8365edfc048764acdf428e285a8010137d886652d1e9f7ed0204a5fe8c5cea0d59a01767e12440408129dca9ad6316bd8ed8ff419c3a5c5a3c5fad4fb7c6861664fa813090d8fe5af39f44271f40b57b695c29d094555eb2b1b214f171384b073af16d2cbf415f482a08a0dcfa6c7b6e8256971109af5677f10d0ccd154e69792c390834d20a38b5917a0fd6206154cada73428607f1f16fdee0dfa3b02be36a7b8f847faaadba809965be79fef3c0f9e26c9f83dff6b3022d5354b84546d4d7aead6f699105c51ddc017fae00aac94985972fdf1a91ae0efd47297c3ceca913621669e9bde4fa0ec514e802865a0e4edffb94298eb92ec55a2ec6bbb1152d8830a23b8c5756efa303776e47ce079cc7d9c7522b63dd5c171b99096f08cf40dc96275b9d5b309de657c08f3ece5c8df324f7b9cfb335834a51a28e9209626fb3f2e827c2bd0b0ca1c6e70a480c445cf9a0e80b22678da3f29da80d76868f372ccc636e36856651f6783671e80e2812ccc46bc89811e0e98cd6b1cde13ca4f8aa9216bc09c702571b9c197ae46732001bdd4410ddf0a751b680d8558be1fd42d9e39d465631cc47a3b2f35de915c7a118e395920f0966f42ff822c2e1e9c3c88da84585e82f24652f4145a92ede06e763a244448fa1f098716f16af35be090cb668911c6915feb20531a60054793dc6fbf30377fbb7d2c2901b3c418dec3a8f401e36e9dc0643242895e384524cd84a081b14e58b4ef2d5ad8195514fe51ce063f28ab867a5c0b1ce54d4ad5088c0baec5d030d6b19ddc9e704f40087989ecbc89809be74941f833b7d96c605ffc74dd6f8e49d2af5ee12fea643dc0d2532c37843491d6fc6422ab52be3a4bbe71cb16396c9c005d8af3e6f05248928983a8942ef786078f4b77d52f24a4cb1e9cd8cd017e79d2c3a902ccfd98ae9627567a355c5e62543d2583f72ba581f222fb8eff7852d024e4b24d10e7d6f5f4724d39fab28bef3a07a7be7d634e892e947ea907301708bdb55e5e5154bb01dd2fb760ca5a8ceceafab5ce97297c767946c13c19247d7d3e35f50e21edc0414c5e3e4679f5fd5a48a07153f77129c3c7c5602d0cd35377b768cf763d1b830e58a375a0188b55580b800ce6bcaad5d779729a2a148e54bd0c121155a511098069771c41b57c506360aad0e618a0a0b15834bf1bbd4d3d7f28d299cffaf5ac02c20641d969bdfc0ba465a0d0de49b5962fd53946c6bab61214b35906eef87e8ef8df20db030492bc19cf03ac1372f4749d55f7f84ee75cb8c32af5b16f926bd26f6b6826e9247da5499b9518389dd8cc2e02c187bc5dfb3ca9e25db0fc0e56d46767ca9536119de4a71c093b5d651cdc8db7e2db052debfa704f9920eef2a8442b452ba98f476b6b2052fa5cb9bfddabb57643d4365a291f05dcfaf4427087ec03da6009b35cdeabdf81c57ae5a56b0874e7937acd16157b8bfca1260a2cd992a1ea30097e8a2209cd0c99fff53b6eaf273157b42e7d094460089092a8e7c40b7aed3c7f14d943296c04ac78ecf87fb017aa18aa6de12ca42cdda24c0d8940020d304ac046c13cc8c1faed4c7dbadf021715cc74fe6a883c500c62ac17b4525f6ead11e503683d299cf10c39b5f5a54b844ce89f2ec16af6652313dd3d9bea6fcc94bb3566b2531492664d7c501a34b5af694d64df7528e1efbec31aaa029f5a972e927d73ccf74297af7c2115f125ab13434dcc422714d4207f3bd0fc61dab3fe413390c9d7ed30c2f72544a1f815ba4ec31fe0752f1325e4e47e79161cf77751faf905873845808737a14cdf569a8f14d81e2301e1a764e8759900921a6e218aa452afe050cbac2fa777ef59a721662fc37ecc7f4926d48377c69246d2e862524d9ca87aa6df5f83df6a8c952078180570d5b46137c30341090c28c5235d927c5c8e4d37f5e0d65bbe4b202e2acfe5cd996d5f8d59a90d056523ccf54a83392287157965062f0af51fb7ff5a6ceeebe996cfeea85d50b5929f8801059ac92ed6a20542c99f8147264ddb479b27a631ad3831bc1b731a1cc37489869f83cf05db380168cc34a2d95b970a7491b4ea88722d8f10a94cbe18a8aad510c8a5978bf359e59e3743d3a80d2eace23c89145268a3b83d807898718545d70781c5fcbde67f4a1d2640aa577fc39cba9d0391d3ba989ff78096ab19f3535259664876a5a32a15a727c1ff1355166a1815863d83da8cfbf1c02254020d6f3357bdeac8c5ff71490c31f1db0465de33a914033137d82c91984e70e56585bb7ef63048c6de5517b178209d5c25719e846562af6aeaddf54e5e4e0b85cafd02f09d3715610f0fbdc766e751ebddd1a39a3a2f60de6630175325d9890171c6383d9b82f7fb44ea711ea7efe8c7178b8b2113ed46e3432cd40a641af2eb3c611c5ccbce373e0ca3109dd37fe6ac72075c1aa0d017f6a60908ba2bbac1317f858ded101acca51d4c5d0491b57c32a9942611651fba7dc1792447ee35ddb12a2606d2927623f6c400dcf1a2b5b3c401cbc3467602fe390ca8f9c6642396d3b63a947ad35ea49ec22922a1bea0f3b1474c391d9393a8718307dd922709b048983b74c25fe662817fec6d7103c2378ed51d394c25b5eb8d097e191e613561e8040e5a6ea4883d4a84c17ef5818ff9dc01a8988baf4dedc7dba863f987181c925e21e54ed34c3f8098de5c1d3e0732bcf05a3cfebc156221894c39a5f25137c52da208aa90d67cbbb2448ff958737bb2b86851d6da16f496aee8017f2458221c008b01a9d20a720c54714c0ca9bd8f00c9ae25b3b8c26301346346c4d2017aa811fa8ce941c8ea905ffe42866c46b4cc43fcd32794f62af939897811accb5e7134238bed4d280a7a4a7397c757c40cdba38fed0ba275c51e818ded812df864c1e2a5180baa9414060d926be0d5e9321e83f24f3cfc5cc0cac73e0ba7fe2dc8daeefa658f158ba8bbc09b214357396e5a622ca5c21fb13dd8a445a69bce933f572ad1da7027142cfdad27c19db94ea9ad8c72010821cfc1d819d2c59b2f8ac79e003c566655caede9888ea2a99875e717822da28cbdf746f422fa6f85cb9fe7275b0b46d33ac88222b437183fe129fcbdcc4bc1767ff861337fe2704012b89d43919f0be4364944cf77670706cbda4a986b1839d9a25085cbebbe3d2191f8f98331098a21655fb5cda134a5accf11b99ab5dde02b6b29639010c3aefd1c048ae1b044bcdab652e2c111d9a9c699704433afe12612ad4344d1c76a2273459cbe51ba9f0c1b0fb06c85b57465393761a5c6cd6f19049f61a48178463d53adf569338059dc4b58c9b6a3c7ad67c15b015a97196a923b3681caacd308942c6ba8bd4662d5224af3af2571ec05f37610e1e0a253c562040b64d86f072926f31ed9d4ab578b1c71e726f438431ed03cf8b28598ca1418e3703603f59cbeb691eca2897a2802615cd9149813b8c527336db547617acb125e0b28eb12af083fcc11d8ce8d97c5d6dea4eb5328bbd52f5fb9d9b1dc0e9d880d457478d40eeef639fc78f5afaae40fc2c327a64e52eb61a052434d9458f12ced3d84974ba682642622e0e569a501cfcc893dffdf12e26e293a9b670f15dcbcc4d814b0be71b85070fc44cfa5f7f6a7965e95a4b4038a764ac7b5a12c7f2dfd061dd3d5b05e7a0e602ed727c86a08ae4c56a1ecd81e61f182fd5736ec1841a798a394e05c98f9f8c8beb7b1def299519a896b5cfb5515155a5b6bcfe0f0207b5e5649f21a37a41f0dfdb926a1364972c932f6748995c6197a78cea409998feaf9c3ed7fded9a06edc7db7a1a039ee4beddd3584b4a5fb612f65405c5bb194912297b7e2f2defa79a0bc4c8376a3276b281a3281f9c0a5c1db664991ffa9d6a44cab67380b798bf61f0e39b1991cf70a7ae1d0124f1f09f080c3fdff160cceee8a87e11a3dd15296c9979399f59c77b8e2e4b09c15eadfbe66ad67fb3f19fd9534285a6d395e9d9be6f8b22e97924f9f6af50468b2b0b5c26b78cbda9c5327e57f3ae3a540128b0db7406ec579c6b5c70791b9580af90cce61f4cb1a9eb05aaeee7058ee593b0a39700b90eea5c1f2e53501ae36872bea6b3464630f01ed0c2e4bcf482fae786b7bd25dc4f940c364670c7143471fe1167a9ae7c21ae2295849e6069d7953a1247639434e18eef32889af5dd2d3f5b28ebd53073328921056a42a13230f87b49909326fb3305296671e14d70793514e19affd0bb2a0087a170c1bebaa0a25debe29d5a0ebf960c485fe9409c9f52146320b800a4c75ec70efb87c65082d6f6cf0b99c2d13c3c2d19ef601e2c81210edde57b2423ee6f83464ddb25b269aabd50600d3ae0a304535a92759eaf861f9bbfe9f199c49af2f7071b11254c7a5903f74b13a6d73bc314cabae6f380e374f0b4c7123294869bcb6c9edf6e7387cae80f40f508c21071b94a8879ee2a31b9ac8b38874c9cb386cbc759c6756fde01d39065bb3e31697019c0bf15efb6f8a9de1a8de7f32d40b3d70cb275d7187e3445c7df5ed4ae49b0be35eaa8d69c488f06fb9f6a272e94a226f8a887c35d3678d85a70f913777751bebd38d628101233128dc7f6d875cb91cedb73641f9f7266fb8ce9ced481570b8c9809faeb9ae6e8514f532a5d3ee5259cda1a3e681a2f048342309cba266201731817d64b42fe67d5eaf29815d912170446191bc85214e456cd119d44076e0f1995803820611ed286f2cf169a8952978b4e44ebe646cea25fcf1fbc34339806a3fef02395a9095b789ad33ce13eda29f2bbcab22dc18fa5ffb8d33afa04df99bdfcc9aae695e5d6261df20e41e62a418d97a0ae59aaefc43e302d05b3fff7d9e0917e263cf3d6c89f103ad134a37afe142a54b644039c8aaf0d738dcc43101cd6d6464f1af349dc3a7abfdac50a5f4d4302c91dc3a903e877f99eb5f3762b499d39d299df90806afa9d66d63ea36d22f26a1f8ea3a134eee922d5b9334e30eea65c170a3150d06bfa4eca31afca0f7464e0ef8240ea1d394e6957972a22abc86614f00a9a246e780e967f04f946fa139786a49739f383c7d7346bbbff3faefebc7641ee8dd9b7522c336c3575738af8db79519c01de4c00fb7b1521df78cf4d974ceeba80192b54b46770d88fa6632993af7cb7ead2cc0ba7025e8534fe3c5f2c560ad6a5567f986747f86e79cf7859fba5daf017bb9760557992e33fa2afcd72cc744487f4f981db186772cfccbe740f73423e07f6f474bae4d6d073c5b77ce9104ece74bbbc9055b7c5f1560b1f5e71162c4c49d44538fcf94d220ef0d85abf1912245c54b15c841e4a2f14f51750219378e53a7ff9e755c5ce0512f89753e6bbd80bf7dccb2c73011d1e60405169dd6c075f9421f40294a39c18152a931be3aa52f92c6f99c00d0aa82e3224be84c61f1f219b8a33f897567b8dc9af54cd986986b48a0819be135ded2b7d8f9c7b7b982268d0da7bb4445f74da2936d15cb6b5d797731e295c3e854a5c3ae8232342fb88a14c68d54aa5b2d3b2a17ea3519e4eb60866f935fb986d9a2442beb7314b2f371dc732783407087d8def8e00c54733334f0ccf5c233261737ec44cfb95a17202613cd3fab3d76a1642a97299f609b783ba541b7bd60377470846a46c04d95de195cae33d54c4375310dff3e0ede27a2cb399f156228eda9c5d49c25a59213fa851ae06d677319325561510fbe3140882c8a0b92e3b6be1e0bc2d79f979c8da05b7aaf97e49df265487af4e4294f245e106dd3b30d4aaa9ee3da68774dde721034a6723177cf0881611380c7893afe24c4818813e2923457fdbe8cd75b97ba1e25a9d5cb4a45850d43d87dc98922f6b8e4002e320658b649290b4ff2c585f1594edfc334ff4658ab70576238af5f941935bf9f357e8fec0c74bf2b5dae372ef8f9c8506f3d5886d65e08dbcfdc0f8431d141381e9f6649e0eccfcf12baf0d31e936a4ce3b3e8230cb62f906e7ef442473f2566216026ad2c1733f23ccda8c87ff76305990ed1f7981f580999ae62f68196d0622ece1eac82ffd81d5cdf0550f8ad39787d1c76f06fafb6aed22d25ea5002103af68a09c971f487f8da1ae971243b8b3ca4ed202f394c7a7e9ff99619f9a5d01e652bcba88878c5524149975ea9f2f4edb248554f490c69d4bf1644524b6bdefaedae692d27eae0ae299fce2efda0f1d13f2bc0b5342dc0488ed78a1121377b0e090311cb8a6000df30324240c878c33afd1ea445d3b9cb27f697803119a2aaa7f33b27bb14d55fc6e9e21fc9dbe831d909a9980e2e910bf885abce770a72768829c3a15c26971a599941cd49ce8aaccb2dd7614cf3c9c28ca66f1238a9ff3437f243d7810e2b0ba1936743144db91049a971661b34139a164a49abaa4c79957918a6bcf973f8cd99af68c0e831e7200808a77627e4bde464fac7775ee0ec03bf8646c6a6540bf15cab945fc133fe544dbec1461d4e571222912e574fa4e998c2a0e3610cca9397e021930112ff0ef9bbadfff0b6c1cda22665df66f4d48fd8a01876949633d1cd8bf77b76cbf879ddcf78ffa56c48bd8a083d067d30791b66b35c039588bc9d6eb24b1585a42b27cf2c32ddb4e43f257e4e242a694b6f2452aef358dc5ead3b5dc97f74ff8d2af50e1a05cb00266e0a7ef8385fba50652a36b059245a79e96a0a3664915c58f1b01944d8f1dafb82317e9cde84655e8372d39beee7979e317003d5bdbcc13f53f721df11cdf70fb91ea3c78fff79acd724da0714f1fb8093de1f16dd83e364cd451bd0c70983ec8caa2994a4a1cdfcfd2d08dbf5c1781eba30288af5346c67d8743c8c7b5c9828f887bf1a81ec9ca93b3eda4d716d3839a988abd85812a84a2dd7c6685a84673d76d97880798b13035aa9a829525600d1986f38288c6f491434fef0c7b2c8429d34a28f9cc62e300d1ad6028fe1763219d577eb4cf445c825f7b04d3144356a37133eee4f30d8031d1c4dab86c7b5f9afc02aef05e3526f90c0c1fbc8dbc1b278e76bb80342dac19655e237ff6f0a45a5a79845a3b3c65ec743399822e9cf602ec878b4bcaf1c699966c59b25ee4830a3ea4389f426ede45c6d09aa5123736b8a1a3b564438ca5fefa2cb6b2e8846612c15e7978deae7f51420b0bbe28fe0a7d127bd05554bbb8bcac77a4e50b53b09a48c5feebbdc97eded1f45f42359067434b9036f3fd9dd606a842ec2f1f084ee468b28c4619c1ec3c8c47a0bc3ef415f37b54f9acdc453fd2ef904118ad28b4d0baf8a5f0efe2115c844d2786c3937e26fc92a4b762c03288d17526d95c31996441b37b8648461304f067619300600d57cbf1cb885bb559c5a00b42d3d0761c4ca7dfd3831967b2eaecb8871782a08820ed6cacfccbcdbce382c58faa1df9eca8015b694cc6fd75831bac37ba996e41c739a54537bb08f848555b951bcf6c502b68eb07befa0555c48f4201727690e9f10a757fb490b7795d472f54f62f79ec6f11207ba41cc6767c41a1d1091f90997df43054fd0b9d3018be628d57ca8928632e5b9602562fbc556ad7b6b04f2626a527e265c386085e1887b777508773b81a4d57e653281dec63a11675c00ecdcf5deb60feef9be94bd48a726a76ccd04034afb4dfbea3ceb44354ea6ea2773b0f184d03d89b9d14a9c3aa4dcb7ac2e9dfe6103101994895c2eaa8e8ab3ea6c471f69eb99c83945d05cf56c25a6d3ca6c8d6084a86a773ee030a377eb4cce6c1ca6fcde4a2001ed89673da262a5c212c77d330198fc11465b1ba1bb75c1670cc7ec5213989ecb8677efc333e9fb3af8831b9541d306ccc9940667b70d2a7fdbd941352cea740f500c6e764b8fad3661ba15b67918f0c100b6fef2f22537920c4cd3d499e449ab4acc037fc100c82f17fbb06b7f28bfb9e8bc78964cfd14961d438c31cceebdeb66e32427b7fa0e9754ca64e47cc34cd46cf35c9189151a04b9c35e94a8f02e0f09c9493fbb6d81cbf42237312d21314138b979cb07b07d2deb06bcf37a8c7d174140752c63afd9e29ea4d3686e1fe6a950e447cedd5bada1ba3c96a5b6dd8f1e70ee9bb70c129639c0ea7b01b52eb4c8947c307fa0d423385dfe974546c54bcb37a9ad8daf1f011c8e29e5aa537b39a871000e8dd8d48b9007b0a3598a3640c4a74e32d1001d4b713b837a9b7f77cff303e4023a9a0185040871fd1cf256d12127bbf85e74c668697fd39dfc17ea5b21c59a772782d2fd607edc22cf7a898f52395f37eb3f3eb9ab987b7dc8e2271aaf07b4cbb443b480732c26f922c5bc5115378ce06f6af35f2ece63b5cee76639e688d8ea7faddc520228e91cfa88e9661a67560530c9702b2991ddc4eb5d246b2fbbbfc27385ded80b81f9afef78a488d8ffda0f3c2c5d3e33b0cd0b83da5c2a7c17eba69d45093a587e3228b17da25bf7b9d2843ded09f4dd9e836dbfe91b8d13bbb3ca3ed7c2cb275e9b278ee60364d2d3ea048db83bc9cf98cd791dfb35ab02f55b25c350fbb16273680537057bd793fcf8ca7a1bdbbbaff4be4b1227d37a55f9c3cc84b3739cdee49017826bbf71ad16f88f9a25471895d11e0ca46926910d6cfb009682cd310aaff9911db7e5628fce4cbc6ca84b16b0fee9174bd5cdabe3fe8fe16363e03c30885122dc98a0b9b692e522a89c7aca7734381ea74f78bcaad2986489a1002c7d412102463b9486646438615e8f6acf6a5ca0a3c481f418d8f0fba7feb69c3eee9932b06288481c4c2f33143b4c195fcd53c93380dd0bfa7154d4c9630591c97ecc8713004210c6771b20a63aaeeb4149ee2b4b7f176e499f3bde4b1ae9614651e5b1431d087abc3d42f441fe1c4d386df0e1477c091b4198681e35b2615c91df22eb57fba9918304287e0cea4296fc1a29366d47d12bb8df70c1550317e506dae843b933d02c08eb212a9d1f631cc0cedbe5e646d8d3b669cf0d029c08e65f679cda5a92ca55e44e6ab39ff71051f7055857526dd9fd87a233d4f4586ed783a48701b166c1cb2f100f55581b3734f74d9417495ccef555a5c30dee4e55ce3931518ad35d414246bb99c38c11df95d3afe2045db4b263dace7ae5d150f2abb99275e168c0f93e9c358dd92aa199b92508e1a90c88c6722da497cd9b06e513f303a64ee62b2fb806294e9ef5310b9fc68b695f7b9f7a9c6d2a383e5a4ff3a64c57e9a4e3e3e912f58370c27e1118cd4e5ae8edc57cbe462426f84ee12b181878b99f04d31cb461b9160d11abe9fd72c5fd1342c6ca8b918a0268a77dbdddeaed8a9159b1c7afb93822d2a5d3b944dba1a3df5710efbd8cec3aaac32f3080bc8b9763f44a0b37aeeb3ee215374896fe7fa029afc8a51d5608806df4cfafabef6685e7ca587e162f15c6bf91360bc0343f715f4cddc4b4c5b555eaaad0ec669cd54d1830562ea9c2117c0d469f4f6ea9ccca26ae78e3af45cecc6ae835b065ebf8922569d66a3f888758d801b91e6066091d03716171b40ada5d246f92c9b8087733498418e21a51d07a2025c63e34d53cffc9fe0c52d6295ada0b3723a4099ea97b31c9d928810ba574931525d5511a8dd7b4592c16dd116d2e6126bc54d71d25242d1977b51f9098a65b39c03c723deb27450b94f9a549aa91114f266e7d25394bc68f3753a61ee6749bcf770e89def3dd850ad69b2b88a70b33c67c8b11adc025afcd4b0549e713428e57d229c5f54c303d951a7f3b215d349ce95784a6859a5da8515687703e99ad396b1b8b1fd186e1be8e8b2c0c7ad95f20ff6d8ddee564f24e5f0fdccdaedd8dd7fa5bd391fa5541562d6ca21e769accc0a9fd0fa034f832dcf04204366aaa2681d35cc1fba1dde54f9c4c38884636dfcf6dcadf5e93cfa6e8700d0b98aa4fac24e7fdb5d8203e91b7f3a372938c1222cf35da86bcfbbd297bbf7251c79b0794f438850480ed2ac71cd829847bfb1f7b2d8736da9cd73b5d97763cd05486e0c1859037cdda42a3012c841c3c5758c8567495ee811dfcdee8598e29d59838f0963a187fc186050a769185886a92e1954bf835995b0d004fa8c6a8fcb9531ebae1d260ebe3324ea4eee9401969f3ad922102ad9ef97e9e7c0ac6780861bb3808ce8d2db656a5840705c43cf8f1e9f4062887a66cabd5ee2d9d57d876af34160930485484e295c8db5a9785e0f6e8579a7e92340c054ea60877f88c4a817a2cc033f7955676745365905810bb8b802557320b25f0fafdc03c23dfade3ed9c93b8bdd596236e16c2add163ebdbdfa7012a4139f2929526046d2ec0005edd1dd1d08574a3db70dbf38caa59f73c61c64797f05c18835be835c14ecba4f23ba1d7b59e9ee58dc0b874b3d580c6718d21a0bb519ee902d6473bd5847294f48acd29d58a2a276bdeb3f0c0847c2231e89b5ef25bb59b294d6b91d646ea708cda27fed5307caa0fb25c59403d1f5d0495a372001355eb0362ba192bfa16b32b906804697b4e2e63335e703b220ae97208c61b5d24e37523463571a6d69572e49bf1776eb202f9847269f202c95aa218f5424120d868093386ac4fdb00988e64d7ecb5fffb6492332be495d1c29c01505e7523be881bf2db3140c4e32b85848520957d575ec8390e38bb384387691c1d0a5666471af47c25f996c6239e53d3a0e2b62be5ce8ba7eee53003feb4ec62544ba603da80e588281d21fbe2171b7caf21a79ccd477f0029ad1fd3a9b387753cd32e1c332d719bf8c779b62d77f737b022b14b91424535bb4c66fc5157c0e76655f138d50c64c73839250ac81f54cdce470fcf189ba88c4e4846795e8a642da2c6eaf35a922694a7536d936128583bc5a12b48d94e5a3aee32439a0d06221cba038468caa5155878229b32880cc4be7fbb9e3570a700202ceaa4f2b68fb69d891a1d622b8da829adf2c7fe612edd13c8cbda904616ed5a410176ea50bc017f7941b2e2aa0733e21c1ec251791692c38d94f26928e7e13bac1cf928a0e651fbb471f8a5364cb0a56607f6d296a0971822d2cc8d36e99e381ca4525d571c2e43a3edbd37f4f6f5dce8d3d078c8157c0824d9219b4b4df691ea624a79d2116422777a57bd91871ab7f2a8d95c2a8e051b73168eda6d07918f8592ade4e242371836097a189537ec0a7c4d1bf6f9cebb9023d81e6e2aa44d32872a39578d7d6d6300d51fd4fcb50467ba8442e33c8155e4653eeecd367d4d7890f7ddf95cb659d7159ad391d83ecccfb2f3ffd696858a2558e9e02e88d92dde1ad27f2ccc2716fd5f4953a06b0f9f6ff9bc31cf23e6dfef168d026ce1bd97bc8b0fdc2d0e156bd5d925319916a36b7fc153f2038da70869df41776bbbf26202e1999dfc3a19bc595b3ccef6fb1023095cc643257161e4af004dd0890e560e134019144679533dfdaa6a5622f2006433607f652e2e94b694fca0aaa143a4317ad041142fb2910edc3846e17e15a958dde34465a97c01a7b39bc18de2522fae2a42efce2dcd304a87710048ba36d3fe8ca97f491d386b088b4172a4bfec0f294aad649ba15750e2aada0fb97b1bacdf1701c9130cb859f5fbbb12c751072a1169a62a22df57a814876eeb2297ecf60404e7541c8f5c98471f69bb5f0135e3c056320b2baeaa36c3241e210f6f8ff61e2665d5acb4b507d548f109542390b2dde3b438390484cb13fbaf3ccad46724143b921d7ab8388ada82aa1e3f7d467ac8365c8c9f180ab7993abe61d8f361d7453da365dbbbd380ec021e2b6d790e9986f9ef63f0b4521c179e3b625d7457a3f055dfa8088c46ac50839c7be930f059b5ee25b0b35564d2275adc818b64b6e77df6143ee14f05d65f976f4c2a662a3b5e77d9abdf2eef0204ac675e7252a584af819c2d9fe8b4c0b5adc200b65a93fd61586ce6df4274292671252f038034bec84021598e762264af54f123222e29e5138669f92d056485d5b8d2cd24cbbab1ad7af88e6bd79be10f5baf11dc25b5f4d933a1b3763bc8a9a883fba9f0577da78174cd060a53b1cdf2cab7c0a80eb17d3c6d4fc70ee024159e71cf54748cba0637ff4d53c50cedd73a42b3f436b17df6f0ad246656477942567969d9d1bd2510c3f70552d6b92415c571cdf91d89e972f3dc0450ecef96c0dcbb79beb2e7a5f6ea7fa0ecc8a6a1ea9ab74f5dcceeeaf3df9f2c5fcd11c7a7bdf0afd5fa1b6c62ef25539e9aa5035944c879e6b5d47ec0dffcc7057d8a68b4dc1fe6d88caeda682296f53a48074948a61fdeadbea8e9d5cd2bb651f223b852b7af4b359a92193f05c0805b50506b118b009844eaa5f39cb7ad4e89ee46d92b12cca5425aa0d1f39595eeee9d4b306bab3127a82e750b49dce444d4696d6f71e0e778e1182c647c483ec763cfadf3a44a8cb5fa419210f8bdb44478acb28e5d63ef0a2a34906e8364a23afb61032dd28535a254c613fef0593a1b2d270e0013b90de372d167c7aab293bb5904d990010f4703b3dde8cc0dd62342d1625ab61c0a146ab45e7f2ef271f27af4f1d6a38b63770037739626d426925bfa43344841cf9122439a84b23a80025a834e3a80659e30773835b4171b51f00f3699a5a3c36d99d55ec6cb0123912c37df5d61174fd978ab52a2291f7cb8ab87df0f033eaee44e87bc2ceb590f5fc2ac1baebb92cb2e9f50c6ab629303e92976d7e7a7696a8fe0ec3fd0d7a18a2c8056d7d73c0bc0797df2ee547601e6c0d19ad9e24d3ebb59d7cc2b70df2f97aab188ce587a7d43e87951226a13713f7f1cc672c5b7fb9a8e30d143578c3451d10f6f63057c07059ca88e8bd54d2c16988e8a0acd3da459c0012baae35203319007de24d0d9cf5de5b8408520a7b7059a0b201724b76c43360200b78dc091b4f0e28742b63fa40230a8940acbd53133a14ae9d935b4412043cae795eb7fa78ebf67d2f1b0a6c9a58fb098d84d4109538e3d9cf83c3d578821ec0c49a62efe50208d4df493db47e9c271037d2672d9a9df4f0c83cafbab127fcdc38c6537f365c65f23b293fc8b15f16e7505fedd187ca4341420a1f9ef13230652006ee12df649c65fe40c0a18dbe88a60d00ef0d95354b598227d55f67071ff95d653b7c0979861bfda914aede7c5cca922f0368fae89bf1b4d600041061e4e9516e76614eb870d01b37e634588868cef6194c4a3e5b8b62af36094fc2f949f0ca8adb541b70ce0aa40f7c2c39960230ac0c968b26ec64236aacc82fbf4631156d9f86b4d59068bf6a72cd9fedfd2fa0986bd734982f95fe54630969493502341abf36d473d12d52f2ed1a2b359c5596ab154a4b653a05e9fc6998e06d084d299a8c3f8ccc58da8ef62059d35a1aac721385d2f00d57ce491c8a5fe1850321751e835734a1ea560e21012a9b174a203ecc92a292297f41f2d72e787008ecc35cb7ae1a96d14081551a67cc0d67c9e32daf579d9928c165d2582e0dade1ff22c0dd6a16d975a71022c082503c3732c4e05fd8f9d6cd3f4d099a9c1f886bb8489ce42c609a252b28d01082a239294a53fb945d987a407ba717164e53b6ab6972c0d2dc74c844199347c9933f0945e74abffef86be4078def969552926ae933f48d262290810436393f74c92c8183294b58f267149b9861c7f1049ecee0eaf9c8dddd975f5050520ef9648d897386c55b31a08436c2bd938f8c155d7b9dbc167dba0c324a26b486c42fb4d734cbbf6f8a20705d9eff7be6a48d9b2cde7d307ea0ee50817aae4d3495a82b9684041251f00de3e6bb1ac18d37a291a3a7ff59627394e14f42b777766a8d394045e9c6994e9ecc6839e049dc9d44ebcbe504a5b31cd791a0b1082615390f887ea4463ff7da6a3e8848b856032e8fd61c99267c9849ad6da18765206f7844f5643340566b5d8b13065dbc5ba813cb22b27240d3b447a9c3c88a17b63832dec069df168ba919a719a6560e5935b403944bba6361ca804bd9a7a964663b2f4619f39d518a13b9d0078fbb34eba1f705d5e56f758b30ae47eeccf99ea65264ef70d577193637a755376d405401800e18393329f59c99b253f5e825fdf9eb3ad54384ebe9353cee5439f8b9411b766b4f3a6be4c32fbcd0f78d7d20d3a7a4997ada637524be2138f3c760a915067b7f0641deb4c77abeb5c879d6313b0a2d37850383e970fec146e2f2a7f185c3703c48b3e3620f10d02168b0a9eb00c71cb9a6ea151370a8c008e5b2c8fd11c5e943291115f74e2feb21d43b44c87f53adc51c3820d412e72aedf033c90c526cb19c0484125914795b7c7944c03d6ca117e221be085c896763909dc14a69ea7de37593f0d53bc0265b94a7d5cf6b50102946abfdf61ed8cfe492b66d06a77cc0e934b3538b988d1e7335d5746005d3b408be6d1b3ded1ab09c538d71750594f3f385dba5e6af6b625ef8a933bf9ccb643d4608753fc11c6c04f1aa0267664cd2af8ab397ee3a7c731138b208e57572edd683310acc0f68226a2e8b42b7d90f23c5bedd4e5b15b2ef1c1b03c61ff4611cdef820a13a829351e42be731bb58ad77f3fbb5f5bb182a86377c99607d397b2a713d26edb3d8ba844e2adf4ddc4a8dedc1680c62fb9d24edbc440402783b20f7f015394cf68227e9c9ab30c6d92cbe4f9367ddac922ace0083d5825b9c4dd3cc50a48f78792a1fb6c8598faf51176ea414fb07a5b39afed3287e0efc77f47a66100dbcf2fd79cab0d8bbe5a0ed887f4a5e2997973d8f97b03ad69aa181a444d2929a41026cebf9c662549c4b48ae0b4a00829fa114c4549041b7d9cfbd0f349baa8092d5fa853c6d12e146dd417ab998470778869cc34a59f29fe699be3e6e7fb56042bb59d03c31b2d63a30a3928768a49b731f79046da57085d310265ce6312577af023e7fdaa3710c0a788763bbb8814a0787461816caf59f3798d8ea433f7ea86b3d9d9063cce3190eb7afb67d2448d89b7882230ff5fb3a8794e897cd8e94a06cb3f67593fd4f66a5d944e4fefc3cb85e1eba48b61c536ea63a1c97282c3ee50c9e4b11414d75b41c8067a97f80cc2b4b0f72f00e34d1e2601648ddf6be06490fbf82619513458055f132e44e59c6d310c4f3adebbed5847575047f56627f1c8d98f0e3c43c05200edfeed7f0ed3fd70405af31350b93c268ef43819355e936841142267be4c569238a9f11cacdfe2b959cacecf289929d5e7aa66b4771cce19ebeaec5f4a36b1fd037870fdc5366a568d116c3a09582b8e0ca3d852c018b746ac9dfe2fcdc552a277f2df101270f557205ff1e46007c6c99b9713f1d42e7b68633a4c0501c2436c3e1ede756a2bad6a9bfedcdb64b03c550efd4bdf44fa9c48fb8285d10b203ab1251650b9dbd0ca1a5e412196dc3786a09da34c3b4342a2f67c633e1343b74e51909db79d489d581055977a5abf46818e3a2f35b0bd4ccadf8571dd08f7d653f1beb0b0b9c64bb5f9b7b58322f1a1a6546ae73ce807cb9548ff7235c6bc136a94751d3aa25c28fd90b0d0c3f82882d307f7ddda429b8344905dd819bd6764bfcd32b91495ad97edec679ec1b3e32664fda684b8f8071e433eecbcd9dd93c6813d0160416d0ec6fb44165a21d95654b40a5404b74d01942c7f7f74637202a589e02b357be5663547fda4aba9a2ed9c44c440465f4d236043c1067c870427f9b2d563792f0f6429fc5dd37dd3c14da34f04a7d674b713c01523bd85f92a9f64d4ecac514b53a919fcde441412a0dc7d0dd3a5bfbec46f91ebecee349e0540268a3b009eaac8a6afd361ff70fd435172877a7e4afebd51c13245d4ce729c16a9667bb339b9f4267d805d9b88e309607e1b248148d43118823e63c58f1cce9139ea269c8dd1362bc733c64c02b4cc229b780c2f7031994e84b12dbc31a6731cf4c58dbda772195a10f2bd6c202aa1f7e299b60b781a41656123c8bee075372d857229efb45d51ee76f4160dfa95994d03af36a5e947df6b4b06f015a5c1687ef9e4e7754594f9a2be120453455b482d3516b3a90ce7cf52b19abd88c9b285bf17a756f0b02f7f73dac2ca1c9b9074a876aa8da624a25fcedbc87732ccb96ed2dcd5f54fa61731c6d2756dbd057ba543513fa3544144d07ea57735192d8c68c61c46dd9421c4c5af38d5b341ae4d67806987b1c72370da33e1e0446576cd3d027362f042c7afc0741e6c094c92d56b7d4fd0c22a8715a726481277ac1feeec5eceb0afdbde7f0b27985d9ad1e9acd5d61d1723b8e85376aad221895ac9d646f28978fe77fdaa92e5c07819f14e69ad104d97d121aaecda40a945c60475d333895aa8c3881366ec1cc5f954423eb3ccb7adc46e154415f99609d41183dd524afbba574309ec4c4f696d348352e1a6dfe28086d037803cb8cea65bead93b73f553eee2d47faa00c741c0f0c94e7cac30b52e1a5f3aa705fba753de52f544d47f01155bbb66937812466fed4e9d836e922810da34d8c3b1b799a43ea434e9b321c6251419d299bb31ec6fd124d1881463b9bc256220ee485aa9fc0ef4d2c69bf890ba2223a01bb4228509301830973acadeb8cd3f291639c5d1d6f30d5e463a92628e23660b3322ea30ef68e8f04a9b2f49e55ed8456dfcc6f65182a84f7900fee4b0f6f9c3cbd359bf91921e2be00209493e52814a8699afa733d638c573e46058939836cab704ca3c3b7c49c7da79b6982bfb38f0ddb7ed875e0f7d8ffb8efb158769ab18aa5a5d2d5b0af98ac45578008a675912c898e6ecaccd555b6d2a4a2bf64599b4878f17ef455f5b53ecf7d0d64ef61b67832341aa2228f6a65c2b682dfc3d35e5ad3aa6a6198bbf980bfd243d2769b808d6064ae5aa111a45ae6cfdd889287f09e6f3ccf20e1c3808c331f78e906f98a4efb280bdfecf71f612778d94b0678be352454c21daac11349240762120a2a36b5c800aa186167db8013cd23f8f32dac584dce11d5c0116804e1700ac47b94f65c44b994f744c4e9104420425968966500af253e1efc310ef3b7f804b7f79dd44afe6584a9999394044e2a18f188c50bf4ae69109a77acd13f1106392611a0382f6052847cabd80b1d531b117751fb2e9ba9b54413adb1771c482900f9b07cf4c7e95e0b116f7a32cfdf5e265e5a9b4a3471fe556fd25cb23c9f8d9297e3f3be769c2c627ffdcc96c052ef308b857ca85d68dc5b2cbfa61418116e924432a1d373b4c9bbc004b882d719c515c33078724cd8cee37798f8b03a47bab4c6795ee7c5ca09d8919b5ee7bfc471228b0c6bc29056c82b7471c528c587e87bf1bb2756c45ae10060791e35c0005a1c279d1c7fb3f73266edc1cb36381dc6809b6f0ccb617e0d5c2dd9dd84ee92c20b0625c9b66827f0c8784eacb7f679612eac0347639f9a33667b19dac71c35737ef5d5739e9799d5709a29c1b78e3197cddf251a80c3c7265f260442953600466312a5d0a5cf8024fd24d270efacc7c222d11dd8ab13f3d72161d3f06220959a9f91b804142a4b3b5c700216acf3c4b0b6169081f6514adac633fce1ed779ce4be1f0f2d3aee531a58752245eb80b3154e578efb1a7e76439a367b2a7cd8817c4748d972d0e9ca5205de293b90d4f9e440ede04fb88181260c9c18d4480f42872836c4ec4c66e17b63529db077c4dcea0a81ccd5a356a6e332d6e941d74219a775c1f231306d96a954af1b2b646e1078e1f862142517d9f080507c0f19a8fe43d1ed0178e458cd3ab19dee2e3f245e4a82d83c10b8b9274d92fd81095e6d3e72d550fc7d32b9f16903ed916e89d58c95c957e2bfb7c878a22b7eeb14a4f6b19ddf0dc65cbabdbb83e5996d5c89e9610318fce4b7d1d11b5564926ded9e2bbaf222cbbf78a7833c22dac1362b1a4bda4c2c8ef6cc1ead9c731c219b1a961c28d061b0fa02a11feb15d4a4fffdf8d828f98a144d8745f948629f95a434cb23b913365c46d761d431c84c6b6ec37f8510d22a90df37d2890b772e2a2859396c6dd834ac87155aa6d644356283aa181ecc8d0c1624f75854f6808e0ad2cd843bbad8c987c5b162e6a0d69abc7f6675d61da52582a6a9f2d374c1cc60daa32ffb8166ad19968f6c9975355706f12724548badc4771012259048df6ef2952b5fc8cf54b47dd80135d33f9e52d83ab31d0ca0e32b4ba427b4aaa2b9429d5347fc65c56747468997b7bd33367f124d5c7c16cad871b4882222aee18b7fa2cc4df05520bd18256c3ccb163474c05dea3e578abcacb349287879e25ae76b878456b45a261e1183a02e8351e51ae8f036d4326985f07f3cb0c4d7e6ac1044ee5d1c1079a58b8ba9e6748eefc9ed0ee267d22a7d779ddaaa2bdf526489c8ad649adbda247e4b1f5e9bf5d9ae4dec744544d1b6e9dfae9a7fa29c9440c1af3077eaa1b449455e6c26c97a60a611b33cf044cc990c2fe9c0a0fae302c88a277cf5d2b42420cd2329b2a410c36b0fc44761fd16b066ce59232eb207192b18312712fe5c744516f40613f8bfb7cd562c7f12bcdc075cc2e8b407680a76853748acd049a692e12a9b4474223b636d86b5e0dc0cb64984e11d507c360f8f07c5f4c8e9dbccd00d9ab3304ecba8cf7fcc3e851ee0ca2d9ecc6453e8acf32e44b2f899de57152f1a92058c7f4092835653859e929e0fdc6634d1b7a02626c27a7b11ca923ae2744bce579483b7089d68ad81d16d9691b2963cb2047ba45383561d157068b7ef15c4e81c679ed2722c1681ac0e90296687c954dded580ab374c64ed862b2340fbb408da6078d12494a6c49d9329555cd1ccb263a7a3fed71555baef65bedd24a7dbafea4889e72fd6af5909ce87b40de5692f54e0c948a4061526d743ea0c3cd3d862e3d97a17a47d124898036797afd60de5b263714fcb9c64f052a4698a9fe279856398b6d633f553f75e84f2e6d5069a6242d51a146a1e21e54229c257ea411b8a8ef185332a4aabd91024171a06e0edd6a51a355e20","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
