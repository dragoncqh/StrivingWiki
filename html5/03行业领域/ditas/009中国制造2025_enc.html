<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0350be9fbf0d5fa93a83d00d9c43af654e01b4ad709592f65fcb5a035919e75eb21570470042e1ec803bc3f3241107c1a45b21296d6245014dedec35e6dc53e2e0eb30873bb186e6e02f2d4f9e428595cf02350d74bc3f2979c13ded094705cc01bc7bd8722f57ae4b537ffb24601c9c7c997df7b44e13c75a567b45d39c4c36d278b6ad48d60d397da535f8820e5c7a95442c1c0eae20e276a0113171f2108daf1c4dda150b9ca91f4afca3106dad28ce0b729da10c3c8d050c1b48bc26d633ee94f338b2bece9765b23215108fc0272a0ef629cf6a8eab04251ba0590c3bd7220e49e2843fb7332269e33f834722097cc95571b2105d181290904d74bc45949a19bbbe948860f104a2ba71e075dd222cd9f8fe015646536e851e6e77590aef5bf0277f15d9fa9fe36c09690c32291f956948a938bb6f5ce4a14211e95657fa5f9d03989b3edfb24079ac73d712c774d52fbcfcc63c3bb92b34dae1b0129d54e8cc8d296850ff07421a4f04053bc24c855b7f742971bd543c8b55d6aee19ec861018c3bd7b040a5d8b00e19037d27210460f56a22ea1d2b34bc05f9d3d4f4a6d5820384e0ad3d695b0e3825841884a09be67d39e8133cf32ae60bbed134a0d949bf1d7d5c54b3d916887a8f4f274862748bc5c5325672867cf5b6223fac32a228db0b011f6e7b4e37e8c6ff420c6339c792774489fd3d6f54c0babe3b0aec9a45eb6e69316538f0c958188c819e3ca6dc11cf444afcb2fac6297a7d5f00958d57a0ba42dc44026dd1fa9ecefcafd033c92e7834a46b54d361627efa4958e03fbc91c6b4da227fadab2780b1cc20f2fa1957f57535278ca72288104357d6957c2b32abc8d39c769bc5bb30f90ae8605b746803f9736b1f925fa4d04d29878781da258f8438b1a4f5d91cd0aba4ed202bc44525a5a164444560a97f3e18fbf64983e070d41305ff41d898bc03ca092e24b865a2b8ed8613e4c8c10218e11d561e761d9ffbd702a1dff5c4940c99152c155058eb2dd3fa5e3e15ebd96be64f48a5796ffd4c40a24f392d5371ff6c214d8f09fca94f2b16f5e80e948aa4172b6d290989b5c71ba4038d06fac37817fd12f77930a6018c420e1473c06334770cb82dc51c45d23fe3d1ca2601231d3a483a84a5030c13943c33bce46c65c8c3446fbfb0015950349278bca2289a7a82c100fae3fd35753b6b399ae280dd8dd5fac3781f29654e62d8b300407cf1f36ede73e7b46cb1c14f1f242fdea25da2a6050536de24c2289aac1d4b792264cfd8ab3e1928e70f77f1d9ffe122d6854c47ed108e1f7f42f2f068bdca9f9d90a0a3548de6bb9e44b85453989d478bea12146688fef49c67412fda741a28c5ba3406fcd00c3c4e7c802c07746ced46418b2ef76a939695e6679e6546fe4dc2ff5d962ecc8acf018a27cc3b9d550546d80f88746533141898c3fb2320b6a530d05cfadefdd0887aa242560bd4a7c6b8515fdd0d26022a6c4faf7fac8f9b926dd167ed1a006d78686635ab00c48999be19437f2ae016e80974d5a2d179e818a0663ee809c30852be00707cbcbaddfebfafeb2e462a2efa2e64a32b62b7bc2aab7a2bd47543f8b0649c9687bd25a94795acc47d24671692dece9ddf91b078d574f8b650cf04baea92ceae92ac6bd7bdb2ce7f0963ba96343d2d63b2363ff04a45ee2c0095b921da27ce2474fc833c7ffc9ece344b9a56a1ff15313a4b1de4205a923149e0041056520b68a20d2d36f58cdd8f17047c4abed25360ee9ff805bc60b37f5d193e59b0dda85bc76b638562b3f942535230390c8f3cec05dd8224e4a9d26a9475f637536cfe9bb07db13bda851139c70838b48b6bf01a4c1e4fea086e3f98bf353bc9df8c15550312ba64210c9f816531d14464431de09c7ecd8bc532b0c22c5b16bbb197a8a9f53ce8fdf7c2cd9e9851713fa00b3f1463c48b1034c907d5a92ad7a57caa414e51d1b08e1810a0ea1757b60c968b3f5f77b5b6b5642768ffdad91bd133010d431e818bb68b850c4607cf7a48c82be6591252570ebfa6f5b3cf6ae6128227d69abff7bec21ab9fecf18766913447a0251a0c3fdcd23a61375ff0ca1e27ac31a4d05167ee4243640f9a26af616cce4d8623c73101c5db7a6f47807dc649cd039de55696ee34401685cd82d3c6c4a0392b4201ed18c9dbfeb74360d7b301625cc0c1bc9962e13ced9d05ab0e29986c0a427de85c619ee99faa96b28b284f9c72b221b37065651be7c23f95a47a923b69e299e7d3b6c910aae5faa8dbb4d0b3f95b48df14e0f0828881eb539a8300e3264b001af6411cb033449c8fc30a79dab7df1cde59853f61dc63622b355491c411a292262f251e8ab8438c5cc4a1d45c49e9ae49e91d1b8c3ae84c711ad410be1024f60be8352988ac108521fa26cff0ed307ee851b2194eef0f4bbbdabde9b5d05c54b9c9156bdf542152782cd3a80469dad8710ef3ef1331df1ea65c21ebd3aff96970d907f54aa593f4e8503ad151e7796bb301693863aa2dcdaceb8f447da9c3c70621c78b38b4f44ee4e7806adfd40145f0ba1a0ff7280e5aed668e49c15dfa44f2b4fdcfa85c6da70b249412a7d13bc11ffc3a6b8813e10c272fdd5f504caaeb44929673aa4c3230f248e5749f8c155e81f0a89891b96ab46b81680841b5f66c880d96d04144d4a7d31070761f85e7e07829c675a240f2f0e0261efcc6b5a4026de60a4cc294330ba6444c4b02773f498fcae875ef49bdaf39b7d036edb6d89be6a740378c54fe12633ff483c2262f973a90c30751569f9494d56e8f06fce93e6cec7ef852da3afa3d68c8bd62c8957f0186d6fc9911cb72f6841082dc40b5b99cda696c33b77918c42bc11c3b9b9b40ace224eaab368cde0e81a1d89b5b6202d73fdea86c6567d5afa52b705ddb39e5e3bd8f17c609483203eefed05e92e238857e5563fba310de944b32b50e87794f695c7e6d306d7dab303d4ac3a2445dccf4ef59492ff8e469874587a3f89c5801687853dc41329b4343450c0b91123bcc294293dc47b4c72284881914b6819919ff33be063b9af74797fbe8224cdb54c388d5d62e4409d2e1dad619215c4e1f3ee3ff6243cbdc1d5bdca2e6cd33f9d563c122551961438fdce4ff5919a418f4de9b0ee9e297be2a5fa8a44a39659a8059e8dcc6f7fd8d705c03cfa6c7fc8c8d2670640fc40bab1560876ba929fc6f11f02a81525ec2b446530905f92336515e1f79971153e9a80808a209e6a4058b19d2776de30d7cd8fd585620ad67305f690a79ea2b8a190601c4b124a14223daa6daa204fbbf0381c1debefcc1c156dc43cac9cc92ed94479c0d3214c8c31676dc9a3dad69deb83070124c4fe638488b8c803a6c026d6956e64a50a218b3f857fca2689a198cc540ac7f1e20113488319667dd1c9f012f7377df357d225991e10737cabccb7de40e482ced40e230c289634923454aadf1c51ac1273240c0a9efbe5bb4cf4941d68f8ae56c9b7ed16245e59703685081abdbaa7b75446c87b5429106315714ee29ee712e9a471dea1c21854ffa2299ddb1843cf8493d538623b37ab9a57cd486fbc920dfa5c7569addb374a4bb04d6ab545c8ab71882f9b96cb111f09b5f29e3fe84ec442406363508599c5e6433c1dd1ae9934d53dca9cd5b179451edb3fabae795fde31d71cf3b69ffc5a1e62bb460be4fdce18f852aa22382fff07c5dff31699ce53db5caf337d57cd201ca9a015c03db6f84622eb8b28d47a3411b293768919e440dbd08a383191cba2a5b8a6c0ac5f1809463843e5ba8c293c95cdd651ce919ca4e677ae330b7d4e49e485de9737c5e10e6b6cbdaf2afd2704e315d5c21a34151d5698bcb0c9254d97294f6b00831d9c74904fa5c2b912c5469f9dedbfca368234e5fde0cb169ce8ef0c3ec93e9d6ca4eefdd429380880cb872d3ad04e8c39baf6ad618d7d8fda781cedd266555d1a6b7c413067635149b38eef29393a35220029d05f84eafa2bc7782022c24b61b6879b3ae0c95681387e77613513aeda81490fb36e557f59a7614dc3835ae457eeb324b41f5c4ddea8b76ff0bc2e1b14e2831d9b42257e36f91af2e2b066f93e4cc9ecc481c9a98e6b85d6bd047cd5db55677518e342ab0dbffd6d04f7c702b7571e7e732620d25f7e60933c3da2be43e923ee255c76272f9195e3e4359d1b2d4810fbce0837a4eb8ea115eb2de3e12403cc5f558e27a0f3f459a8c392a64bd38b732730a1daae860c9e712f3f1b82a1b24f92e8ff7e26d9e742cc3235f66fda1af4dfee5a9f6c8da17c233aae6d5b5c8fb787552739d108e634d17375bdb497c83657959ce996c60c29ff4f9ec43b4ddceeeebb99cb44e471588db499da61455e0929beb2034678b85e5e7653dd8a30236da45efb1426d426c04a5badfb30c6592745a99f75176626f632c4de167bca83d11a124efb5514471763c0ada0290f2dc2310bb9eedfdf3a93b1cbbba4e2552e7bda42396c5bfe36d6ac0ec5c32efd3278210c59bf3743e9a16749d9445c2fa62b4ee27adc42f18198fb3e60168002c8df483db0a2d4240650dd830e0ece87f66e406a3e13228ebde03818f665d71ed8de696a7b139f173f643ef55e1e297a5513d4108c14dd76cdd8c3483461c29ef3805d5ee7ce0eb5b3ff35e49f475683f1143b84eb7a9f8d7e3ed40dc3d38308a1751ed26b6aba26303112cd51ebbcfe847611980a33d6586ecffdec86e78cf9b6d96b63fe93e6797d8e0800276fdb655be1953729511f13d51f03e04a55898f56aa9871a36cdbbb5e26e854b5ec96865c511edb7b07d8ffe95411ce9ba71f70cf1802de5638ffe3b2f4b54dcdb607d8537a84db9d3553a8a91ec3bb53d08e6d0bf56845ac04fc79d9f5aa50fc1b4a610a09b079a1b8af261ab45312c6fb03c45e85d9a3782c71c45622bbb6861a30dd5e580c08983b8f4deff3d9e0c034ee5869d5db6c8f74f12d94c8ea1501c0512a3d7546ba91f42b20defec2e5570f9492d2eb61d370daf701dfdd03d0a005f77b0a06dc9319c2d2bfc5f4f7a75ba02ffc76f801d2175a873f72efdb0efd9067ff3c16027c2519e6f79f9028b838f2005308e13ec1185817b87e4492d9efa5a6494add3576d089ff2c681bb5380dd1fd93adaa4e88b3abba0790ef7f940d40ace77f0c3dec56d4bcf0f2c0d937c8f09f7d6d48b04754608d03f8bc6650433da8af3618c025a767e070210c494f85f2ce41e104429f8a382992d35fa47bdb5bdf8f45335b5bac6fa2581880541c78661f541ff108fcb14a0ff9ce381bc59b3a5dab4dc54eda84033ce96d77fba43c5f8d38a0a49003362ae4dfa499c7a09714268db2fa657e7020b8c00e044edc3527445cd17008b95233780fcbe47f05ac80e6dc510da55795d2aafb12917d3079232232d48e404a8db9f0f9d0a98250dd58fb89d470aecac91ea99826f1cd8113598367c301ac0da29d481914f6ec57fdab9d1775b1e4b4558131cb5f83182b45207b84d8dc2adf78b333b39f1e7ab15801b3eb6a7613eba629f569329950f85ceaf374adfcd1168400cbcea22cc5fabed0eb4ee6b48a61dd1fb6cedb1df753de55eadf003acb8876b989ac8f0215bbfa0dfee1928e34a6470ea483aef20613ecedeca47ea725ff883a553253ca38db647efbc37c16892d3784bc8d512cd51767cb3877966d52f4873613a46327e8507f1b53a18d46fb899e10a2a739d08b56f0bca9abc57e2ed9b0debcf7bcb03bdf722eb6750c40337d299af685beb7a740f7d6f3057d4312e2997eff7c12cfd608c297b03cecfb0cb5aee0e1f77d13626247465feaf5b819c5a4bd3343dbb75cabb68aa1e9e6e94b35975d22d3f8e1a73246ff9cce664c47320a74c5a8f430ce3bfba5976a18c394edd009977f200e1e2bd3ebffd548e9243be917b093c652a325741dd1d6184cb0ae75ee1fdadfdf0d41e0a70967c508bbeca707af9c4837bd821a4d4924436dc6d8bfeef267b1bdeb0cc2db8b14927e1d031267e499278ffc416846c537519825580894f985d54d16706ade48ea81adaa98f86e565327605b53606f2b8dafb9a1476fa613584f387653a39ee28b2292705449b767aeb1ca93949957c0bf2211d375b82a75935b017bddf8c9114d5d7f7390cdd08ac0434bc82205ab822c11396798ebb7b39b82682c0ccd5412a478031c8ac25847bee8a4907637d68067b3c712942d0422b5cf11a33e3d1faa57721b3f2369d0aa1712f05c3221df51fdc3e97fcd8efb5b26f6451cc796f5347c3ad7252c43fc80f953598fcd652844c1590e2b3ba1efcad48d8ebef454b9797b8c090278557acef091cd597bc5d018ddef3b62a005e2225cd378779c112c68d09f0b5ed39671395206b92011682c1e52fd61b07b618a258b6313879b191a85b38c04ae047b10976fd6793288ed03e8897a18518d91e6b882d515efcee8357cdbdc96b45887c4fd245f3beba9d7cf22332c44ac49b5b125811cadf72a73ac0e431754e18b22595d500d57a95e2ccda66dd90435f44eb18ebcaf9be6623d1933db11730cc7b39fc69c9d4a5f8a4624814fb788cae61e12f4425cf49fd7cbf44291416402d0ace439a359f0d3535d44530fb5fd45c06ff2109851f8693f5f8c2fd3f36689d061c5a6b44bc12a835172f19bf08d409d644eeedf80970df8b2fbc50ac46fc12498555dd14285d5c8dffa4c5ebd9747b06b7f6dda895571007aad1b898340f2e9d90c176f8b818e2e247fd1933f130791677819b9206974b62870ea45f290e5f96e5b997abe2aff2b42ead363d7e7b1f18a7ffae48e4d91ce63f475c41a12d3bd5c27ab5afb0b1aa0618d204b112204c5dd46a4756f37b640ebf5997b382576957bc7b452236cb7b1b642c4df7b0498ec258f5b3a0d1fc01742bcefd2a19750947b9b1c5566c15f0da50907992bf52f1ee5b898cbb305e17a62c9d7ba22ab30a1a79066c7f82da294f59d7cc6b0339cc3d1127fb9273d72d61cd237e16179ee6e0660eecb47fd43321f736e3f52776c630c1d393fe1f3149f0794d0309f051ce8d157a84b3fa3314f4c45df5eaf2d0f189fb02b2cd21cd082495d95dd8746caa4721717dcc7108f24f19f54eb5f21cda141386d76bf013fd6245f96ee8a1f00bd2bc12cd5c741d2e572b75cf58a4a36ba2cbdc4d9afd33eea2ce458937126749bd39b78b947365d13f918761db202afd92f1f356d86573e43fa5f047aac6a5748cdae54fe17bd3131b6d377f88d4595af2c60da462124eb31490818b06161f701cc64e5843e57721e018092947d754057a818d8a89fcc1cc340a73aa8c3b22bd1798fd55d28605fac6aaf199cf3c200ae300d8e723d603c44876bfdaaa4038c0eba473aea61498dd41ecbd0a4f6920f9615a39b44625c60f487e6080b7291af277ebf0cbfd33fa9e3cd424bdc8edb0f1745bcdffc27671ec1e09355946559ee25ca74309092067199fcd6ffefea75ef0242ff596ed63ca8c7dfdc05dfe7283e02f8d899516daa0a951890aa034cee176825cd922697ea2e35f93872289066fd9a99bfc82c936e1685dce66dcc3907c02af96ac31687929cd9d41eb23ba3d3de1dde9ee97b80fc6f299c619eac4b5ce0098cd8bef4fba80a7d50acffd2887d9c56f56660eeb57ede3616a519371630e3b02cf0f721e189cf0e0bc3c3e7fa58bbd9f6c6f1791625dce4e4758165d36dd67c1957a5eb3625758e7e86f60a7aacf971be4ad58af70026ca7920ee11840829ede7fe86a4d1a616a070a44b56dc67292595604e213f788c928f7a6d48f00059f226f9ea1c08703561386198c78d78940fdcc3031f15eef1f01f61a339aa96dffa677e25c10ab9fe3f045f639022e67ae8c79c878306f9a51e140480989442b825bea04edeb46c802883093acef89e6fa2c66b52661c5e0c3318f237f27b74057f555adbf88ed590cb6ecfdfd62fd06867fa10dee4cc54c1879f73682a0000516e02fbbc7e14e4f8c911aa9e2e4254520e57fe6fe2afbe89c5a21f0d9c69a8b87349c72424b559c8d0b45f7f672a67c05e561433e85372882925db9d7101b7e8046d8f01a2f141728c5caf952f75522e95aeca05eb5c0a2149a1f181c0b0813a89ba2e0170715f86c93c2a82d3a9c15f39e4329b7b2c795a464b6b9fdf8f3ccec0f4244e39452f6a60f89fcf2a660022afe7be9902a11d44d748afe98d34681162d05346bfe415e2343f2825acbd847273317a7069a7592716ad347226e8f10b14e43cf2054dfd1e10a50cba1a87538a90ab7f8ca6fce76892c0a7720d9e3b30b51ada3ef86231cc90f16b839f9ddf145d7d562ed31dc4556e95b1a903ef7529ceb5929d78fe689112c1d58382b6db8721a38d18eaa030d6690f6bcef2e6af10bad0d2f06149b25a64581b867934a3b0a00887afa2e2b73679dcffe4682eccfd06f00da01637abaa91bd1c0f654233b1715610f8e26f9e2283525931e3d523381d4c9eb1dc59816e097a3edd5a34e46a51e5074ff8cd7b50978af853ab606dd4721a53e90a675a87fa009db8910dd82b74d1e6c9c4b26b5261c9e860566e30b4a9d79f927cf626bd5ad323f3830602a5d7570c8997c4779ee30fd2dc332c7acf85d4e7961e97b718c35a8e1214c8275132cc2b0bd4b5d3b85034dedd7418b5bb9112f23cffd772bf21d4240e2351559bfc3da6e05b6b63246676fba0d0dfc6b72adeb49c477edf85ad756a791dfc22ee43e7011dfe69ce529b5617c2a88790c9249706591b52bf09064db5239ca3fcf83606d30dd70269f27bec5e95aadef8a3dd7c3ea6b594996aa0d2077c29efc2fe9fce542a4ec74c67d3e190431f9f9e3caa0c554572823d0b6fd47f746b1f4c2aff4d9f47d87c92f20323713c5a8f5d81411114dc0a2748eb2cd70ce8229ac6a34870550a366c3bb3c527aad6e06929dc656a9666d94d06612b7203e9493f5de49eaf9ead3c9bdb53885de8133351a05aa37b49d7f15ad865696191e2aa5992f93ad1c401b5b91b35de27519fd6741a89dd3e36f45bb94e5486e2dcba0e36ca6f1cc69c9b1e913fd3d33cbd30c53aed393116fd6191dd89a06f8af037a3e46a0deb66b377966d2d77714f451aef08357d945da6247e7fe770761c02fa37f2d9a0f03c17db083a1b53c1c73c31cf4ef9e33e0c204698f8f97d792736a7443ba71c77e09a4eefa5f79eccfcbe4608cd8b1ba6972135bf6b249e10a226e6e402080abc9fc306015be70f4e486bf7989b067022b86dbea8f60a97b1fe5cefcb18712ad761ef128a219e5272b8a4509acdf8c406c1f3b58138ebfaeb9e7e5310fb0e00428376c74d7576d505991e7a1224d807aab66986a1c05b34d4f9b74b52318453cd9c825459a54697615fbddeb7e3ff07dab5acef18ebfcce15c861de2fc4ac8bb41ababeee8ced65cf5efd0ba3528f9d02043e96ac619d468efb5631ffb0aae3a7ec1664e19dc3f7c013f34a076a05568c52c375e1bcd28ed3edd62e70c020ac7bda05a0f941e2cc1fc1542f3827ba901914cb455a3d77471cc62f1b92ab65a507d6ed42a239baa3b1d519b17b7651d4160919fce9a8164ba9a029940bc0b571e564d8a10b4a61be25ca03cfcd544bb98ad3fd5fde2b3e01cbe5dc83d071659adff3c330dfe0404bc0f770b45f716ef3697199782dc7096255eebbe8ce8fb07e1c2a2cf11b6035a23ad3883e70c8125427f3ee5c8ac16b575cbe354093b0b0d58943d617599cac8a58725f004104fb60908d009312f8d1733a048cae8c67147e0d616a1fe331b092cc0bb0216d2eb4b98ced5054a29289dd8bc99e00bc49497f12df2b7915e6d6c480583a4d14d3fba343837ba6ad324f8cefb2d7a68623642d609f8fa67c6ad7ddf82d40d75b4efdcfa525885194d79d2ae99ff70bbf90710f61764f6987b7ef0d51c10764f9da3ef9be4eb206dc071b39365cea9480f43e059a48fe36dc6ad3040e1d62dac8111e3641ec860f16e09107ba367cb715248d6849205cd9bc1a17819b4b20c75e939bc228f8079f48cb89119187412705f9523fa757b8c9962c5880c32691df6075783914827567360dcb0cea36d46561899ab41d7d4fb2f019d4fa95cf53baf71220e709e6bd19c8fa47db9348890823d084e9d675dba93a979ef814652f024a27ef6beac7d9f1ac55819e24fc5c480e27baf4f13b000c85ff28e974811bc01cfdb92c5c81a53cc0037e053da084a4fde24a836499d5e0165def8b2e35d0aacf207884078b71f64e8957d182be3614cfe2276506ac979dda4735517715980755d538fc9071962c2fb25969459dd72b46f07ae222848ed9f7a1b5ab74341d16161d1b4b07d92e6f35711a093e6753e7abd932a5f64bf12f370d3321180fcaf086ec10a61c704f226fe3df404195cae37ec5175dd89a16a8e1459b9f9fecbec1ca7496cbd4d41a746e76d567b5b3aadbc7006666491b62df52ba53c993fa7fda0f6296c8144ca02401d37742db32f5b0d810545931c13607e018c3293c2b3f285b107a351262a0b2bbb7afe29374668c387c176ce065fd32a9bc2f0fecc2935c6b7d28e6ceff3c038d22b704347e2ef4dfcdda46cfe872bc59e18682dc282a553cb4ef302b14cd70f9376af88537d7d954e9b13f799766fe6f282a5e8ba239c20006d01ed0831e11e08f787140766bc3e260776029e1c38ce3384a69a4e75d8588d292980586228186001f5651feb6ccf4a31ff2578a53e3402ee9ab1ac1065c42abc442998125141b5b9f4479ab8dea2f3ce4a30e1007214fdb32a8512f0f4c7ef97400e90c8c7e3382c4e434e574d5cf1ce3e4c50e58faddc1a37729feaace4f4721e324f7c9de21d7a5cb306cc1df92090e0b7b73bc25022b49e2fc857675c22aaab35d528af61ae964877bcbbe4abb914614167e35fe09a4f832b8eae74062db0946dc50172a9746be9c08c7952263cc9997da1e16fca69dae41a06167207ca93bc7ed0a15d5afd67c48dc6f47279958df4c03554cff502ba7ed0ad06416790705fd1eacd8c193872a03ad6dcf8b46f0a33587147a977199b5c91530b63b6d22353d53b88429431bf5b655d4e31723fde7d670f5e072576b3a6f59de0539ca3d37faece130a4c4ece09f202c63172ed7c3f9ecfd14978e752963c256ba8937beadc4bc09c46c4e18956a81f48941dd47eb4b284b30651bfaa7ec5bf632f8e765bd8993e7cee4caff406977712452140a301c069d3d19deb3fb1f92508dc5b275ff6a53a9468e5eff4361e833a5f6452768add0ff9344d40b7c108515217253bd85adbe1c429955749652bff726c70022ec7c6ff51c20788a6fa1fa8699f7041a03250ea12a553a79df5589965f8f07f1d443eafd0d3166a960171570082da4384675cd2a61bc2f2f06318ea755d132f1d47ef8571df6e06ca123d33536fb16adf84457e518d43a7184010abe770d0922ae7a1916cbc68968c304de53a0a9c707c4ac3e33c27e9d6b5dff9ffa12b559a26d419d9f549c1217e89b3116ee2e744cc349749869de8cac4ec7a5062d2a2a20f6d418998c6a82d7e0a679e9fa541eb30a5799e987b96ee5226869a380443e625f97365802f3cd2723bc0f39982a7a731a564d5d641a66866e9c3ea449f0e961adecaa881526ae4babe91498a40b6202fd0b4563c6024ee39bc9893097f3db51b4d1be406659e5899e1e26c9daaa48c27e902eb14f4dce3cbbf30021adaa69e19ef0d7ce3a1ee2b8e07c9cfa3431e241975ff0efc8e3f7e2d85375497a2e5181032c1326f6f947f9f33f3ffa2d7703c9fae45c10df0ea941b6402820e9a2dd6de69e710eb6794a242649e8b2603540efb6210b5de2e255952555ae6849a2c140be1c7133cc4a873f0544eb1f52cdfba8e7621ce118b73bcf8c4ae4cfcea5c282054cad40c5b3eaecb7fff1322351513ac52cc18ac37f8c6af75f48cd86e15408bf8f1b14ed9b3a5c84c4fe9a906399bde12ea4d6f7f47c37dbf2a16e6072594ce1885d1306a0fdd10bf75961ad9aa6bb7fd6aa546485ef489935d644b1e9fd897ff9bdcd0be43fc41a6062c36bcb216b69e6c4539aed3eadd81edaa5d2df16852b07fde0f5efa49cc75851bf2bc71068f479c589255f70ad90ef19a5282a9f79842408bdd26bc282fbe6b69cd997a3da9c4645e2f27e7f2ae5fc153903bb567437910df6ca6aca6944b903199c550c29538eec74f2bbcfbec65f26940a2a5e58e121d3e8aad7b73261e4fc3cfabc288021358ab6737718ce5327c9e104d24fbf3070eacba8538056a0d5d8f99d5e0611440bab241ce103d53ee2f4ec9fce12cf31e69d4e4203443afeb0c84c92d4895cb4871d53e3af169d18864c80b080baa128bc2b0643bb9b3a1004ab68a429e8d39b8d29f1339136279296c3c51a25eae20db253aa648f63ee41a91f90fa38d187050061d26e63698ac40ef4605f1227ac9ad5b2faebaea1351c6fda8757928d69e514207c6aea997c164dd2093361572eae188225558547d097970dc727ac96f60978293d4c05e03fb640cebbb0b803c07715004574e957d1fa12a3088eb77fc3edb598824f7bc1f2fd7b34b0ebc776a73dccca8a6f529d79c125c562186814abc95342da60e07dac966d7d64be08800381e357070f349b859f6be960e730778188b7f00c36583fa0b8f4ae7e32bd964dff930adac56a170ca46e398625c4dfede47b60be431b08ece408dfb611b559d4ad40a83e678d91fae4df18c6c0a39dcff66912b9fa287f5b0a0f9b36d26cda426fb72453d05a976b928afc311ed9dc57d1b9c96b700951ab899dc8e4b6a220a05bdc27c37df456b37a0ba82a682447ed142e9708b50bacabd11fff99e3541da0855bde2ca0883f214fde1096bfcb7fe057715d253c1559f9c805c5e156f7e84df090bdc9d042254798694174dec424592210cb238843119ff41c519e39326c230e2d03d4ffb5a51b98b1f0559ad94572a9b7b67f8391f383974c26482e755cab14240a6541da224daaa304ae46ff69ad28f801229290a34c721a699021075fe0ff02276fe75161b313d56e3fdd59e45a4830c1cf6c10a9e134ea1b86992c912d6d112857ff29c89bed8d8f0e51bffa38ab84052668bc1104ecdc9028c077d169f67c6a08f2ea71675302a743bbe80fe1b4df0f244fa99fd7c226aadf128cfdfd52fe62b3901dfcd354c53b9f728d7459a9eb8621908d85d30bcb48e2e6dfd9b3ec20475550e5c8debe5abca63cf23876fed6246d8c4e4a548bf725df52b261164daadf884082e8651214d9eda981e6be617fa5cf3e31f7131e2e85be210724132fa8cc7aa30b6721dba8a7e5db98527db03fe261c7f546294e659d0f769112c0deb598f0797953f05be9b274b57c6a18e3e1a81eb5490cea453b4552ab0f69f518b94cde2d3dd23c160c3f9c8814e7d07c9eb30f8fe4bfa171bb34b7cadf888aeb6b17b73f1cff65416f618bcd45c711488074a5d2a00856b835e7e8ae1603e074e1291077f7446aecfcf026904a46e0fc007a1b27303f5df22b833db510d1a9d124b2dddc6eb89f8c76cebeb2d5171516eb73100336d65e841d3d04cceba72272d7f40790fed0af86a0dcd7680934455743290ef59725d5859ce776bb363d4b881e7b151c04ce0836dcf91013ffebf4be3e6cb80be21a9e406d1cfb69bc49e401213836b3eb2dce931c300ea922270be6ab076beb7af50e07f3aa1f7e23e3ed7757f3a2c452e8f41286fc0386d6d7f0d63f310a65535fcc7ee5a4f605afce0bac575d0c052e5615ad4a17101ac583086905fa20aee6a8bcc776faa3a6bfef49d84c118f7c13720c5cf10c77e03f6fb72dc0ae5e2ae6139338fde6afc6d17f1ebae8163e22cbcd037bef6fbfd5c2bf37b61e61d602af9b7c92638cc83507547416a821ce12a69323da4aed2fa90aacc2e2d121863e79e7641a6612662b966364be22207043d22fd84bc7cda60d7bcb6eab2c40c87864458c213877bf365e67d85b594d7468a3bd972a0651790d32040491a594ac9b0339dcf4a43587f606f38dd5247d55a7cc419bac913e74c256f4f945d3f1b546dd47d948e6f023fb3572b7a3c320145269835b63c69fba9769612a24c0f4e4b2d554d14a417ab00034ebee32972d1d9b6dad732a81ee6acd3be5b7fb88d3e263d52e7a40ff5752ac1252d7ed1dbb3b7233bb70dd8dee8e9a331fd42635b80c96e33e0cc228d44d5c4a543cf156eb2c55fad9a20d2e022ed8ad12f632d5ab72cd32a784ce92c701f806e4dcac918c212c0cc9c555aa0e88123f8a95a1d81f94f48c04587102bc54465c06bacb8e9ed998b75ff4a14236812785887a3bedc15c6a3660b85ded4452971b7949c7601c9ebd9fd5a37abd74ba2d6207b501c9081dd3354334302be591bfdf067d6b299cbb2fcb676ae75d479c17c4fb6b59d59af4e1f2c954d40a336ff206d0968c860ff9f17e77de6e53ddd25da749923587db0341da2ce70259b00ce13eff42d6bbeb2d68e29929efd71f494ada7d09c749d906677ee5632cf6f233df07135db938e343e1194cf7532bb477e3e5d243e05319a1ab67d6cd2de7e65a4aafa69aeb0c9749905fe788351c6afe8cd8a60dcb15615ae410b267a86b197cb1ae1fcd4d05b8512332226fadc7f7c1b80cd2f9e1f57b823a099d17c3a6d4c2d252c6fb0ce83c410df6aba0b05fe2eacf2c57644f12cecbf7c2720d4a5cf527221dcf4dacffe7647009d58cea2b100350e2f5c7d5c01cb2c546d31eb50ee8c66df6a6e90b6ff0876c09ea426821188db42a8ef703c1ed4509bd308d333d46271071f5107429c01f00284e98deff6647c5d9c8127abca6e57abe7493e364d65091642091d125706ccef017143fb6ace315ab466b7c2a2f6d82782248974c57d13dab81915a09a72bd3ead7e9f36b5a1ab4ef5154f90fea513852ef77d9489924f7e672134bdff64fcd8d7f9d2f036814386269347a24b04059932d229afa02c2392cc84100ad8e58fff393d91b964212c563d79933099bdb6247c86b619eec067cf734f23c2a5c6d3e0b01bc066bc7bf0f21df9c453db950077c3ccb64d78685fd25b997e2706c4ad112f779b9c8e5c4b9c3a516c2477e70ea632aeaa41a6a0e481a79e68dff42a2723e4ffb2432991568e1bb43b76d3463aa5a74537919e6c2f9209ec0edfc6335280b06eb1db6b46e3236563fcecf197534c9919a60186b7046f968d49e05f8ab2d83ad5d7a42d6a804f789fd4566a2444de7b05e48d52973e6fa54c3c86198772f14a5b5c3e00bf21af5ccc7ce2a8c8a151f6579a298d2b3b9e05f53cdde2469f12ecb4e5ffaa594183fe28ebdd6af3d0109e5c89c1b0ec7fdd95e7497e1ddeac61f45aab00fbba04c5449d9437720c9494022d4444fe1e433aeccf67dc2d2c4b3aef4857d8423d4ce891d76205508ff6cc912415fc055991ebd388c6c1e2ff041c185dc7b622065d5c09c104ff2e3d1259d474b4ee0d313d171dd44c6ded60e96c3a2165ed20c4e3cde9e2b3ab03729f9c7d69d1d2e0dbe6cdf40ba40fd59d829f6cd276b8d7d5cb2f65edfa915c15533891ab3067b3d3ea9fc32a8c213606b06e45ac7a7a79b6b202280cd8a679be32f7f6d6ba18ac17bcd2e9f51e9e517741d852e647ca7a4a4e1658f8d4ab4e28362e24ec059261fc6d96e7bca4e7325e270a838c218ed4e4a5b0a668323a1a0f40637336d349faa8db7571e7d2345bc3580377bf128795fdd4d0444bc129c8f7931b238b7345272e0f52044121d05614ebd87b25a251dfc709b261b7bd152533498eb0d5b4e9b7d1777b264421f5e9caf3117b2aec176e42ddf424b89eb880fb8ef4d85f274546db8717e7eaf74fa91349e126213195e66b1c8d0743036d2f6a4dbf1f877f99b945b06bad82e856125933c9600c3e78ca8574532bc626ca09ff39998450627b0c80ade849421f681e292e437ed29bc3b1cd43fc655872c3e402199780944a6422dea36cb954948645282899310f6fe2fc740a1a44ddbde5781781487b4953c77bb1148ee0511fb25f9678a71239a1c9c289202cb45660048d2d1d19a6fa171fa653370c8f672983fbdc102834f333072ab8ae1a400a71aafcbdfc6d99893acf7f27956a7277fac3b53e885cb871d1f9402421baaf1026d3956ac1508b619a79acebeb7fac42184002d0b707927b7a7f7b219fecf6c23dd2da75accb9d320d2d42e20b0e78dd62ecc438ac4e3d53d8c2757eb45131ebd190b74b0c6931ce8d68cd63b918a265f294fbb9ca406c346254186cb9d12e3425814d222d729c46eda00f183af8be44def5aad04bcd996650c78263ec475599f776cc51847b2f0e7f784f091fc58129faedccf561144b1c551b5a785098fb06de43323b9e7560e53cebb977ea40657afe958ddc3ac44984a77cdefb38d8516c149fd1d861b9664a8bd2c2296a590addd9e4cd3c9148ef48454f7155ebb4ee4b8fffb7a6ad8e90deade971ed93e39fc58589a0e0f87978f95bf85d2cf6462c50af0436baf1d6d117fd4597c3bda34bd384265a2891a55f47c6d067adaebf2fd2424d7d6d3fa32e2b2db7ab400c2bce68fee0ff37b366fff41ca1d8ac7b033bb70d995741d52abd392e3116b4cc11a580e1a6a145b9e3e4a3890d5c9fa688cc5720bffafa54a6d0631b6b1b798f4b07568468df21554e2dca0ca4bd7dba4340a3081bccc48234206e269b56944b7e54dc08f2f2a03878b08ba8a5da293fd2624dd7eb231ee89e44451a272386caa5efa81e6d40eaac72619b4981aa8dd9fabf78e4e7e4ece032e562357c4462a53aa9b8c3a73d2b3895762b82a17e2427af8d456bb3e3b20dd6f63b9a9d9e4609157ece74ac77a4d9f0cc40d892a02c5232deb6b87afa9e23649d1c86da87a1ca09c0db88d8119e5d680518105aac32b8b550819ebd18cbe05918810db90d12b9a6dcf98da5a84130cdc60c004ec2b40484b995a7e83d200c6d9e14fd0a2e36469171af37e15515cb378cd12418025e46524dc002a420eb99951e19bed4be97a02db8318193da2f5ee6c535bd00743c93eebb804016f836c3b53c410d7892e4726275ae0c64f567c7c37d69482ec796276df3026270fc395a7900326caf3b8af3bc13c7c86d98937d2daec85730f0ef8320265b1942c8a2f71c1c44a2316427dc04160a8b9599c198d4050065177e3f3882e17fbc2c7e5e0f536a66d863c7026f524731f4a2d6b9f226e584f4ec454f5ab0fb77c33335f4b93b241c9f8bde074a31348e8842dd099c6c5bf764d2c54343d439e28a78bf790036a673e4d4833e33685f85dd279604538760747c4fd58a384d718c1990eb73eb671cb354126f0a7bc8c009f57eb3fe81892486bd32217f21395ff53ed3bd36f8553227ad12760756ba1190835151118d07bf30073807516efafb03cc17f0a0c9363dda461702e5d715e3374c4eb522e47af3c2f0e28601e576ae4b4041b0259d9d944acf076dcc56b9be39ff86cc24f17437e19582e127685bfa5ebe0253024687ea7b002220167ccba0a4e6b7bd666e3b15c52af2efa4aeac87b3d6b5748832046b659de7c338c129af0d1996759bc3c219db642c58d0b43a119ec627bd6f60e42452b0df1df606cec1aa762fec29fc5a557743761cfcef38b18c64bc8cf4a501f0eb7b72f1825b74909a9dd07216a603d5a44c37f7c42b664ef0dc7c30bcfbd1e9afcf24fe8d9545cd5a0f89c497cafd0f34fe429ff819c2a5f953d525f257fb37d2a81f3ae76839755fdbe935408baf08d5c6831153429bde4dd1c881cd03dd8374d3b70a444eb8de9d7fcb46411dfa3bf17ff9caa45b5fb90156e7ee18650d6f26eba4f9d0dc795a35bbc4a248d6c1e70e0c1ddf00dff5f2288e8886e7f010aa7e7f4ef468e2b64167243195779a125e1aa3421bca473c8c4ff5f2fec20d4ebc7afe87aec65819fe1c008aa1559cec747ba06af0d6ef6e42123f857497642c4fb7e697470513fe4ab641ccf60e072cd8d544370c27bd3fa8668b07331b56f6276d6688499673b1191ea12bd97275888e2c1cedf6eb94a2663240a1cb0957af427647c7177b35711107e94569abd778b303eba6d237cf12a1e1b10f85b0326a3e9e940f109a7c89e75971d30956485d4b8e41a04a39a1eca7ed50ae8f244501a9ac89e3806c29b441cd28182b9ac02972d003cb39c877f8530d1531855dd076dc2b6630c8b963bfb0e5b3dda5fc5e303a73edf22ef031905e54d602167aaecb88ee6255726d1c0cf0e3e4f2fe17b1b7aa08dab1864d32f971ff22d790599b8e4538edd3207f1107f924dc12fb19f521ab5518efe5c47271bf796fb34f4975512d17ac2ce2ba62a6a59fb6d5d800d6f30c7186ffa0ef818c6e75f4031bcb454958d505d5740384748464fbc5b8a7c03348d9039a0c72304cf4a7ee569d2a97123ec1b3a65522592dee8ad463514b1f1391471eee06a0610948ce93ac2e609f2cebe2d479ee200f9024f2e0dcedcdd83a62258ce483af3de6978f6ffebe9799bcc3345a464e9a43c818324e3352a843a5012b89caa59c883e21e25ecc1a9fe21262aa23f875d626b156cfa9b731d758a3a56ee54dc8cfaee1175cbda093ad443c2d2435ca6edc56ffc583212ea309b1310cb9a3cf09d21f81d3e649267c94cbe531515179183710bc9930269b0f6feb40a4d634910f79263ab3a240134cd1cf94447a2e511a75773308d90270a2759bcfa1305093162b8c3feed97ab543b8712f7f9f15fb130574a1ec189ee58969d3f37a5d240d96b67e6b72674d660b6b8e3edc2e85597728faafa37de1e174a84bee2e6993c89ba3e8fa63167de54ae3beac8da9b328ba10fb025494fd0d4a048cc713318c741e72ec563aaaa8bdc748bfc47fef65302053d93dd875bfa03afa9b507841a22a9ccbe7051658e4d5b3c6d1d8b735b04af615797215f77cafd5ac887cc119c2bd367e8a1ce420acf049f47ef14ca37c0fda629c0aeb6be797c5ae66ca592508fa5608abf038e3340a3b0afd38a13000e7a657e46d67b3db7a58df1fa384638e9a530a6217fbff971765c87a62fb7122b96c173be87a20804e9e2b0b2394b0bc378e1ce89c925f2d8bd99ac47975a97d9e7f0fe13e9d9ec747e53c70c09eab5e4dd34e931c7aec36a35db72d809d277175ab3a2cfd1946167c8623bb392f33a7a0bedfa1350d6bb7f77ebd224b3d095ced62ec4bd862d7e188ff2a4584e5e867bd8eb9889cd3f1955474bb8fb2618dae4c6cdaee59cb81994ebb52d7436d7a260d4b68193c41f52032ff95006a848ee4055e0060589bcb737dbb6584a6012f897e900294fa5b22d94a6362f5702609ebc161b3d6ff1b6043071bcc65630e3ed538f72fcf96fcd444dda0ff8235f61b42bef15bd369857262b2b8bca7d4d18683ba93d97c209f436e26d7cbc7f5987a54ea237245e76d3d56d38955d5e31fad4a40cfbf9a2798b13d6b5a4490115c9a1c4ce708a3fdefa3b22b6dffbbf307e570493bfb716255371b391b7309a2561b1b171e76d6545f70fe9b7beda2d8cc20b13c4dd717a8badbaa0e8b536d477df7f0c419fb240d3882dad96cc1345dae6f95b30ddba6c56d76368f5116dd42077685f53ab9d6293ea9075cefa119d9fc8cb8c3ff604c3d71fc8731f0281ffa750df5475bfcad5b6aa7c012b78e8bf3a468c7525c8994bfed0c97edd88465aa52413a67465bb18aac6cb7fadcc1cbfcfa9bbe15ab702bf923778d38a31c3e7ca2f68343f26c220b1ecd81d059e6c84034ade85db4670aa016e6288f28c39df417469874a52aaeb503a69e25f76c0c46ee7e637c174c6ba1d36c96f4d5890516be2a05d376c3bff6443690d4af5437d7a66e6fb81a4d4cd91084ca53ec9f767e864fcbc28a054bed1643198ecd781b1fc43ccb659b7cce2e4300695a3fb225271fd19cd123a04ab4627bfc953b6d138fe92312772103f2b48da6ebce367671ca13ef94853df0cd36ceb14187d0a338ff33ca09d054d794dc2b53a06f2993bad7e3bc2b4c2e168724718da90b0cd2cd81ad14884f9f5b91a0c180bd01253a58ef19c53bce6d44efb58c2f0790b215add70055073670eeabd47e0199d72dfafe8c6a26fe91049a92d8e1783db8a61e6a57d3ba519b3fda7cac8f7467060363fcc016e29112f318ba258de2518b1cee57b06f659dcee247e9d6b85e6f8898bd7cc2516cc230140f5ad0f274f17e049deb04011e8895e70f565cc09b48d33f1f20da3b1b3e957dbb66d0831b4048cd61d3e10b9e126558c5aa6a72325e8008f547aeb62cf00768af4dbcfada76a641179e95e8fe4e927bc3a6129221be7714159ed4279ae2cc24a8805d706687622f064ad9eb0b4bdb7b96635282903a23e56c34a676808504d942000dd9c7e8590aa2b9664facdde6ba9e9148524494b3daa0e00925542181e0ae242f35b4498926b60a90862c61fa114014dfd9fda167e1cc23fb8eba02b5af5dffd0e95282ebd3e939208b846b42d7e7f76cc28a41e79670e71e4fcc5b8cc8a5ac2a66434e2fb0bb335d5e106a9a62d7c686af1fade359a6e3d08bf738308573eb4dc64686c029ea7021e66886d070c8e4e78a22dae02688e94af9662889e5bc45a431a4fcadee94ac457233f6270a8a127c50899c99ae3d8be620116c57167d314297a5fe8a1ca5b801ca2e544245c20148e64dd2f35a164efc464e82557ce46ea249963170f187e0776","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
