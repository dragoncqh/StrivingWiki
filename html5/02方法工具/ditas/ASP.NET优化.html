<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="zh-cn"><head><meta charset="UTF-8"><meta name="copyright" content="(C) 版权 2024"><meta name="generator" content="DITA-OT"><meta name="description" content=""><title>ASP.NET优化</title><link rel="stylesheet" type="text/css" href="../../commonltr.css">
<link rel="stylesheet" type="text/css" href="../../common-extended.css"></head><body id="ASP.NET优化-35861235"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">ASP.NET优化</h1>


<div class="body conbody"><p class="shortdesc"></p>
<p class="p">一，概述</p>
<p class="p">优化:ASP.net程序的性能优化的手段：对于性能调优，几乎所有专家的建议都是：如果没有确切的性能测量，就不要进行性能调优。没有基准性能测试的调优基本上除了让系统的代码变的乱七八糟之外不会有其他好处，你费尽心思把一个算法从0.1秒提高到0.01秒得到的效果往往会被一个糟糕的select语句彻底淹没。</p>
<p class="p">1.数据库优化，包括表结构优化、索引优化、SQL语句优化、存储过程优化</p>
<p class="p">对于OA/业务管理系统类型应用来说，数据库优化往往是关键点，原因有几点：</p>
<p class="p">1).对数据库的CRUD是最这些系统最常见的操作。</p>
<p class="p">2).对数据库系统的操作往往会引起磁盘I/O（因为数据库文件和日志都是保存在磁盘的）</p>
<p class="p">3).应用对数据库系统的操作往往是跨进程的甚至跨机器的。（磁盘I/O＋网络I/O，CPU再快内存再多都鞭长莫及了吧）</p>
<p class="p">所以这些对数据库的操作往往是整个系统的性能瓶颈。</p>
<p class="p">那么，知道了这个大方向，如何知道到底是那些SQL或者存储过程慢呢？这个就需要结合数据库的Profiler</p>
<p class="p">对于SQL Server可以看看这篇文章&nbsp;<a class="xref" href="http://www.microsoft.com/china/msdn/library/data/sqlserver/Profiler.mspx?mfr=true" target="_blank" rel="external noopener"><strong class="ph b">http://www.microsoft.com/china/msdn/library/data/sqlserver/Profiler.mspx?mfr=true</strong></a></p>
<p class="p">对于Oracle可以看看这篇文章&nbsp;<a class="xref" href="http://www.javaeye.com/post/117389" target="_blank" rel="external noopener"><strong class="ph b">http://www.javaeye.com/post/117389</strong></a></p>
<p class="p">2.优化ViewState:ViewState体积比较大，对于internet应用来说，会有一定的影响。</p>
<p class="p">3.使用缓存:这个我的看法和MSN Group里面的几个朋友不是很一致。MSN Group里面有个朋友认为缓存可以是一组静态变量，或者是一个缓存控制器控制的一些变量。我个人认为，这样的缓存在单服务器环境下也许有不错的性能，在多服务器环境下，这样的缓存反而会成为性能瓶颈，因为应用程序或者缓存控制器需要小心的保证多个进程的缓存内容一致。这个过程使得程序的可伸缩性大大降低。考虑一下100台服务器的Web
Farm，一个进程中的缓存修改，需要通知并且确认剩下99个服务器都正确的更改了，这是一件多么可怕的事情。 对于这块，memcache是一个比较不错的解决方案，着名的wiki产品mediawiki就使用了它来做缓存服务器。memcache也有.net的client
api。</p>
<p class="p">4.生成静态页面（主要针对交互性不是很强的信息发布系统前端）</p>
<p class="p">5.使用前置的IIS/Apache来处理对静态页面、图片、js文件的请求:网上很多介绍了，尤其是java那边，apache搭配tomcat有很多介绍。自己google一下apache
iis 整合，有不少文章讲的。主要思路就是，把apache当作proxy来转发用户的请求和iis的响应。这个主要用于降低IIS的负担。将图片、静态页面、js等的转给前端的apache之后，对静态内容的缓存也更容易配置些。</p>
<p class="p">6.优化算法:这个优化最复杂，和业务逻辑、数据结构联系密切，没法统一说明。效果也许最不明显。</p>
<p class="p">参见</p>
<p class="p"><a class="xref" href="http://www.cnblogs.com/wayfarer/archive/2006/11/01/547060.html" target="_blank" rel="external noopener">PetShop之ASP.NET缓存</a></p>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>父主题：</strong> <a class="link" href=".NET%E5%BC%80%E5%8F%91.html">.Net开发</a></div></div></nav></article></main></body></html>