<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5d9e4fd8d0bea2cea6f2fa3a5c424395387174c26cf92a3ab4cefe63000f66e8d6abc0e60fad442e862003aa06ec9ac77d4d22da8361c68a329ca1dd7e2003b3d1c5f27354394801501eff24456c63bbd35f23f52b6d3baf6b545c227e73e8a2a5e5e8a8e1ee4fc0634e2322c95ea45a88fb8b821c213d88ba044ab5763ccf71cac0ebb971cf9d0fa3fbae881249efd0e763300bdb8ca46cacac23ebf6b787b2c4a2023213b5f196f1339aec338fc4224149213e25ca14c45e795ab2fd90ecc75e1f12d91c6d2ad8a7d3c3df7cb7d3ef24460ec71276f096bce4b67e41f6a07f48904a3c5e3d4eddca73d9469901f772ec859831a2c8e912b00213829e284e55a0852fbcb93acb516c1ed785d5782664d0456536d3d35ad2ddb19940408a5e8e3100eb1c054b478382968cff0512bda725a20bb05b1a1986b22192320d5aafe14a12b697ca777193bc48796e02cd93091fdc489f3929bdb06a8765bfec279360cd81c418cf39a8705706b5a9d86b660d6b01368c902b468d98b37779f78a0229b58e7815bb609d296f53f61c9c0f265ae855f931880254cbf30fcffdad40fb36fa4f057ba8b37c12420e441d6c30c27a45b369f4e6df159b1a98fbdf29eed3cce8848a72f0b95f186e4c3a3e54a8aef1133cce45d99d20291cdbd0c7ed5ee120f74f81ed65e8dfe9d8965a4094b71b4be5637f056c6d8f3109c25a0cf15e2290a54f599db2c1c1937fe63e472df75b7d615b2ccf9fe12c45ab7cd142858f70192bcdb8b8bed90d4af84b9824848e7c9929b9333076a5b348d845399d43edc68e028d427af82ffc1a39dd81dd3711974769b9c696d8ac32ff688f67716589b4c0be12b62382ef68d040ce7db82d04bdb2e5de594c1ccabfcc3292b7c15d6fd32f52d2333df5d9f2e5526de26ca7ef0512cf855d7269710fb95d57005a2594561aa69a14f8d4ff6ae903e9884a1c33efd539f631fb39282c077b3ebeeda4f3633d6632ca39bdc6c52799192c570d910c7ffd3eb416bd05eb3a6f9de3d867d023762836e47bfd2524ce81d0e0520747e1310c9db0ad45d7ab5bafeb764aa7834c3b3de39e7315f0f37661417b449abd7cb3cf4ece67d8c57f275fff4213786f7aafb9a36ba548f968e5051f2ee2dd5b52a018020d655f023af19b8e75642ccd61bc92f80c3cfed091bba830ba57d983ce9374c198bed3c90c73f44d50fe6509880625e5ba1b70d0eb977cff663dffeb85a0397f379d1aae653a2307bda156fbdff32fd1fe0e02d4fb3d063a4b7c7d7e12669a8862aa2937d2c059362ef53a8cad9ed733909ab07bcfe713f0ee770daf25576b71b1e7fde61f34329174a38350b71cbbd713966c5af7ed27497e4ec38a923503fd66f7528b47d5ae5bb3a40609023f19e1a30fcd56a87a58f754d6666551864cd37b1d2918a09ba524a52a233765694816f895844412218e7922182f6fcb8163e58ea58ba91951a106a487dbf0d892ade57bd77e351901fbd4d2452aa4faa80b47b12845266777e60e47e7304649fbb3707434e7e46dbc4d4c124b1be20cf7f6298869f557df9c9dbfdd0422d3b0207f69066b043d9eb3dece02d6e455cb56a1355e1c252ddb0ed5138afb874e001c78e499a652d0b95e253bf8d30648c4438770f843df0bbb0597e6e801044ec457f807e387b5ce4f38da0d97f3c2018d69cd1ca9f33bf418a5e18db4a96b77ca33342d2853b9209f359cacfe369691e593ab4dcf40fcac93f6bd31510a6223cf6c59355cca64736d1ef2f2da76f182b63957e235d861f1ecbb62addb299012a88a19597bc6caafeec4ea2c6634677001952812c54566a1113039ec11f7dbd4c4c8c8eef6a66a5d1030338f0ab0c8feae199ebf03f7d1e06462e8d685de703601f52e6425ddc7bb6f74e4324a22d1c194540b93fdeed822135c9b6996061908aba9782a5b83bd029f98556ba24ba46dd21b1bd84ba9d07fff10631f6c911f842a15fe25132cf395f958fdb3295c7991a245872ed439f039e01429bda0f31383aceeaca92c731ed88dcd6e1e0a4d31868ffa9b5523d9821441619526abcff71525fe9e634d1a9f4205451dada380f94fa81620153eec04a095ed24f8d3b6dd3c8864d6ce51b3dba65dc2ed817e5928f5842a592f8f14c8f666e561a528d378a39cd9b594d96ff9c997b291e7ccfa736653168b1b2231314744f3c019e4d8a5044b0fff2948634b3d660ebc03705c199d214675c74d9b6e589ec0b33e227e4f88d1118c5380f70a02373512e0a03cd9443062280dc5e266c3f66cd693311cf4c8b961077d898f93bf9e52f668213b614e642f15494c0411b538cc797444296c15d4a5cbda26296ae1b096d5daf109206a0368496ea23bf15c53eb91e53096636b3c0c9570a34ade2e679bddd4fcbc30d8abb9cedac683fc64d217fcce0764666cf05a0a08b3177806741d42051a7835a887c2fc8485d9d1e427137137f23ea9dd08c20c3b30fafd3018f3ce5af0e63194279ba684bf6cf6eb922e0fea53d0f0bccdd58478e3cc6da5168dd9701d057d13213c45549defca6cfd3728791b2bf1022e0356939644185020ffce6b1983a800f3de422e658d0a6a08e18ac0ea2403ad39f99a267d8cc21890c72fc4fa039ae7e5ebe874b9435e6861adfe0a663129ee5ff435f0cbffc6181170cd2defb89956e19afed3f1cda8bf07b6340fc7574d3dabf4bde8510d7eb4fcc5c128dc4f244bcc4dc278e1756586e2f8c92bc8b2ff0d44f29611dded0ccd5cbf45b9b813792fea6ab8df6176250e781e1a305e61cd157fb9049cc22e6ff1ac065db3c17e9ee7fbdb1598f3530c4a40b72a308ccb733b8739b29bc8f955f6bdf4d60fe4756209609f4ba8e47b7ce13715b3947326ca8145bc2ba353bf2215cd0a01af11c4cebb98067fcbefd3f1df8e77a085dffaba7d0d0c0968b66c3dff98b34dadb58aa86214143cd02b11fd2ba7375ef99269a9c5fe017dc11bab6cd379d12b5025c8a4fcc76ee075dc2c1bf95ed0e4b8a2b9259a1fe87a5233879204d815cf3285cbacdfdfadcfd8dc0ed573308a0db1f2e603d21ab3fdca7198a5d167b32b9ad4e8911947b600b8f353d2c89bf87b32a9c6e0263d634879960a686004786b26328e0058127b41894d18c058dc338084509d9abe11fe524d68e36470a6b287c5144abdeb34d2789b70167f9db3c847995cacc4044d830817fc40599f73d7364b31599d238818b5cfee1637343ee855b3899ff0498605aa015ef37b55e8a34b388f15ef7adaea5702e3ede84677ca1a955183c29aef0e7a572740168e01af92d4c4b654553f9651728f78de84524da87286bf62a55709f81342b670b2f924f4ce48391ee22a59cc337d7e313cdb28ea260299a7df9298522e89cb6065c5a33b9e32e3ca056f2a4ef5a4d9f8ecd3b65993322ee85d6625251650a413e2a14bdb1e3ce94c8333130fc2f3339ff115decb605b45bc086cb115bcc662f1764d137ef73b8a6f5befafb3a9b88fe71b43fac806eaf3c8774d790c09a818e64a8c5752956e6af33802294ce3e1792c4174768cf2e26e0a254342eb1e3a7ffbf817cbf4dedde4733563f0099bd4e65dc046669841334fc7adc785ebf28c986a407d0b7c2b35208a059542fa60b360e47755d25a2f87065a2b5eae2beead40dfefdc4e77c8386e938ed11d455e6014fbb99daae071720b6ce8c23803868e0c7874b75f6b0890c7e35dfa6662b7a17478a8c5b861917b1567cd12890a8c5ad011a66ea40f5b3f1e5492832b22dd8f70156a408ba63cb2df84ec54610aef496836029a6bd9df9e1adb30afae9b80a13ff734f49fecfd60a401573c4653cfcdf1d68aeb3d47b2f8fa75c45a5ddbae7637e6e6771ce21eb786609ee3b5128e267dc137e7f6f6ecd0abb49cf05a365895fe1e48b848211645880a410c499937ce03667fd49c99ac7a5c9802c1878fd0896a522d2179db1fc12d0aeb2f40a649300939b923641fc038b22ace02f03d314cccb90978c17587c305f83a3d79a907389d79001bd84d28a7780179cb9bc75d6ab90e9bce2d193f4c12c72d7426e042dc88dc6ec82953db052ad8108d123adeb17b884a7c8b891969e7e4ec4659e0a9ec412b2a11eb900e3502ae331af64e2f955ef882deec3500076d5acdfee87e8396037f4a8529af59a0cb862e99ed88c5aaa1e868edfdc2796d65bc7a3abbd5e817daf9c6aca45b9d8834601b7b712d008951be401d89df2b825a54eae605c2a36f4e325598d1b5c4fb12b6b551b82a8ead1810d835c69a3120689b2225ce575655081c6a95dd3ab1a2a602baf4d957f618a52acb3835d5a838db7a2c6b32fa3868a0ff69c732011c8dc113358eff3d0644ff9b18a1f888261c203eb9ccb3502c2c43fa6f6edf4400f0c6a27c294d1b81c6035e29502421fa06dfbec1296d9d63b7c54ef8ad117422ac86939ec1e7d4d0f0def1b29379fafebe06200853a4282f137b843d5eb1c48c25cc7b24078e1033d4fa974909525f2349b256f07546de46eba91738e36b6c34b36d439ab916f75fc25b30b13ac82227c75da45038ec3c67254edf6eb1f988534c0c72ac67c0c1ea3db160d6f61374a4ac3cd3d474f329473ced6aec9272d1cdf35129cfcbad6d53e753c6d6cd3e6d4d9cf40fe9be60bee277537a0d51dc00f96bef5f4292e10bf30d20ecedcd9ef0a662b8ea428d2a1cfd26bc1782581dbc695657a3cd7c861c412f4d8fd35d6c7508a2c8304db326d41ab8221e585b6aed6eefa8324ff89f111b4d61437dc6fa94ffad0e6375dedc770dfcb95cc8e9e4c2079a2ca7e081b8f2e12e753a53a23037c56673d159f22907ada675ef7ea34762279771142892b347187b8ceb4c0173443a67894f2c101ccdc9e0e04d4427c168eff31f843f9d0e4c2fd35d37a575eb21f3ef4d75368d031918cc90197924e6669c430177b75b5f6c21d192768c35f71d2747ad183490870a2cb43bd05cc5940ecf80ea2cd4b530e851cfa8489e9e704b50d8e6f81cb332008f74971e0bcfa83bc2162493c0cb8587ddb2a35910c2e0863f7d99fe5e9f3c2e6939586dbbf7a97627f8cb3561148347a3be03a64827fa947146eaa217d5f8ee3cbe5f3372ace5666f7ff975ef8b11ae12a57a7d8ea72afdc775d96d9aa12ea449958558c1370a905f3e228ea04b91bf50d2cff41f76ea52a215e2dd5fcceddb1f1dfc1cd3ca861804c122e901cff38e018d80c4580d247dcee5a1363accab6df655deae5e29de9fa29791d71ec70da81bcb800ebe28f1224723495778931d0c3791c61467881fff3631a8c0c98276ee81576bcbad8830ae87269f9e7d44d582aba1d5bf7e9930b2e77d0fa9a821aca861559fdd45665e9d0fe4cddf78ef08fb4657533cf696752c23252f3fe19685f732801f42d93afc47cf8db539aea5f5fb53524b5a1c430a903cb45f2089abcd6e904e75132f5c83481ae000023475a7badde9cd3bbe88b35a04e4b6ac02599d97331cd5c1c74ffcbbb53f3e69f75d41b1b44fabd1c39a6f8564662d81f1a144163da339c10a1d6e7aee53b2fa7b7fd0973c40db1788ebdfa01f811698f85d8a93fac2bfc7b5b5732be9f68089c85d275abcbf1a9ec82ef4115ebb23b86c50ed3cc4a0422872b008d123dcf40e937e33d94adc2641463c4d32e1f4bda26af1d87366ab6d2dc492a6b2e50d533e1dec79cd9726bbe5c46ba27e76675a1f23493e8d04f631bc3c3a48839306d95d922e03383bd833865368ee23f3e741cf2c43f3e1906dbf1d752d9cd0fa38549b69efb5e5ba2054fa3332d9f1658b6666db52628a50b4615242b2dd3b7207ff9615ecc7eb60a53d859863fce5ac3a429d1cb64e652bf40ee59122a314b3f47dc91961e943ff980d7913fe8dcd5b17b1cb493968aa4223ce107c10efaa98c854c8e806330d5830c13e0923145a03ba8fdc3f5f6b75d0a4340fdf24f589ac0b9d60d499459e8cd12e5a7d1651c68fa4e950d176ac3dfe484b8f11e4cd515640f9b759ef8240652631057a1b9bfec1bc4dcae08bb09434874f833162520e4790b83a81104c1e63f01291d2fecedaaa8ab57cb65749780b272802221a8568afec2e49af1be9f771e8df703132f4cd76fb7a371e438fa1a97017a40b6d0c7167f359e9c95b9dad2f8832cb2123ba2135a633b73356c5d9f05b5c5eaed9368626a2382ea826da2353b6894f7765fd78621c3a0948407933891543fb8266b5a1ada48d4942a1952a1b8a362f7fa604319e3eb1852e3eca0e1369ae98f309cffa9c943d5f366d7ef24f35b70defb2a8027919c040c479c4a2023ccc0d8faf626ed916c0e1f3739091a17fdc1a554e5157e92c42d51d092c56dd4756f8182c1439c66b391c4bc8d1782e37839bc93508bcc274da8e738fdb65094b18f99a873663820c3ad6fdb196c0fe37adcf9bfec81247a625ed09f8a072f9ff679f2dc5fdb0d4b9f4c5e62fdab13ab10baddedb4e01f9b581c665c18133ea8a8b8130011c306fccf2870678713cfbd0853091e1537d78b5c6ae177ebb9f215d63da277864f7c7afe36ba911be03f80d083a2e30f9080edc696fdf892bdd0018845cb46ed36be0007d60188cf5d3f4afa12dc05d8ade6ca90048d84e983ddf2df0a29424b9000c92298321d37b8c465fd5f332ebd7de4e90cfba70493801bef1bb1b496d907a91c6846ea63d9302b63c06b49b17b64cdd8fea11170f75db30ed25d93d9f1ba6471422e328f612f1eb17dd97f8b896dafdf853d0b09c2ea5a29c4e5fe3c827c195c546da3abc7d557578c6efa3a08f844fcceaa31351362e11b81da1fe031a6c846df66d0de615a1a00e0e18f91ef0d6541702379b4656ad62116b13ef0c4343b5c728ca06e822c0a99a157742c270ba866c88a13956052a282e367a4f3973af50b468beb1e1b86cce012108270b94c837141f9e59708f8f8c52e3fb4e73720cf829544bc10b0b4e823716958066c0c9916433cc24cdd90544e3b831be548a0d51fe0fc59d647ecd0f17a0c796449b2f89adddb5949861be3cb72b71e3cd48dff122c9e589eac87abc2c33436a043fd758a7d27043ba4bdf9ffcc02df223f2115e653c5862c98050d6b80978df0b33f3cae16881ccb455ef4f867bd51bb86170eb6ea87ae18dcbacd20a681d453b47404757c81307f15c19442e108e9bfbd4ee25ab242251322f27357d96a8163d4cecfea0da4061db13a78733ce815aed9db9430dc6235b2dee5be53e86bc39b99ab1719ee255419e3d0b00e78567601aff52b87cdbf86c015498c9830476ebcc049cdd6a6aad32fa440fb4370eccd9ca9e2957260107a613f3deb91d18e4d394edf934eb013980e775b8d3cca64e7c33f4ab5fde1b647ace6aac5ea9367d489a0ce763005ecae21a2c63e53b16f1eb83c72c9b195f24e64aa3279223c13657bc5450b07e206e2179e9f7ef13007bf438683c5e2a0db017edcd387cc36171be7e6e0372ceec7763566ff6f42a7a2a141e46c31f6948b37435657bac6eb5d22ed13fd81435a6d31b4565834d594e6525236b1aaa30e10e92d14d0bbe161afd97e831253bacd5ecb3297cea5df8f5c33864ae88e107433d66a6869626f1ead5b7f4cf62c7608ff395563b41ccf8c7c97588312e8141d911ce4169dcfeb12593f070f33a1af1651c360eec217e59de34fa28d1ea41d1ca918738c32ae7e6496ba8f8e0fc81fcc73d0c18696ccac8e2e3952dd736d68f4b8ab3bb638238c814d8db8ba217aeafbb688c200c10883b9a9506d5304c01a78131f7d8282c2cfc7531c715599a350603de1cf7c3945f688a6d6679ee7869d5306a15107be986109eb0fd0914641ff5841ad91157801f3d6bd1ea924e59670afd2b8898491ee0844c5ed43afb668f47c39a8db33ef11c9aa5f5d0487c650a67eb41c761ab72ecd5169112dd01d543c39a66c1378cdf4656d7baea122538e511fb6d5e3fa6a56617cb0713863235b67416d50a05b6c4a0102c74ce1eae632492487f1661fc145696bb1fecf74759cc8729e2c09b6beb5eda13e00a921278ce21e92977436793918761dd2c67520e9291e50e2b5684ea383ce9af89420d71fc50b3469e313e4c92ed5d809fe0b0b60005a0f8270af63048a765a11fa7f477911ea19d8e6172603a96b44ba7e9a0095f213ffbe4d4da537893215bc9fd1e9553bae875c843e586c7175b777256dd6c8700a6376be52365f358f33d33cfc324dc5f0873cb4126fd8def94f83981e320eaa1c25479a6252cc121cf0b372eaf2aa22336a0539593424cc0164ec14b2ce07b87c967e6cbd882e008ef016fb51b76a3fefca78b947e684e3e4ac875dc15a02a89dd92a6609e221684711e9b54ad7722ad3af90bc39d0169b132d078c58eb469781b7fab33c526a789261feab1a88f24a19b0936d479dd998d44ba94acbda97f3c7ed42147eaf8b259307895825164a62713280165c3564cfdef401885097ffdb442343223ef034623630430b55eb071f0aa9ca5cacef7b1aee1eeb96104bd7c8281b6dab6ab333ec18d0d6fc93b32133fa48db27e85f49c66296bd8a1306c0cd31ee8c3b10b8a05e2b54c82e9f39d26defac5e067c5659867adc5586e50211b8c8676a7e20ca694addd8b63ec59b84854b38ca958d57338034a7cbe28b6cbfa7c8fb96ae9158ee8f181ab47822ed4bb5bd8a3f0a6cae6e1d358edf730351be6cfcaeb01ad83d0b8ddad6a1eb9fd7b55d5b660bcc399140d838c8dc39f5f2400690ad7fad5c78714cffe86313f42c74eb84a7915f1b855447790a196509c2ecbef77e938c08f9a675260a58ea5de0cf849642c704ffa664379559c87ceb8f360a473a5296e1ab0d0ea6ec2c78601b1745d46e3a1548d4fccec9c7483e608b9f95af19934bbf100521b437a7bc4aa093ca3249776a24ca5c234824d32be174fe0a8ceeab15df482bc9f434e501d1c6ccf9a5171e6eab04ff9735b25ae6252ea993deaf90795b6c2abb0a221db984d6af4cc414ab3e519256117be6df86a8cc11b23151c7ceec9443dab15d47b9b3f775132faeeb6e70f3af9a4c889e8721613808fc9eb7b0e2dc4e9963246dcef81ba54d1d131032acc3e13390c23c4c057436821bac0bc90c01b909846fa16146660c29dd730321f6228da420b3b7bd3f577a2a87c571ca6838f110bc68d7e3739a3c173ecacdb8da29fa4290d87c711ca9c0d58745411ab4ec55b99f1660034caec7bfa6cddff8d932d433821bdcd6e4ad3c62fc6da9d802a1c79b05fc6cb48fa87b772edf08aca1d72a6a2ee732e2014a437255f606ec96e1fb08354c092e35acaf33300343a5286903c375660cabc8664a082fd57a080c3f0f7281942683ee1ee3dc6b47b5e9291899cfb397fa555ba4aac9cca6c46b650ec23d02a5c114820f5435b9232c5fd53dcf2b5d04ed5f163d65d59844625708f824326997fa263ecdb41621c5bee23e9c43a3ca6a3c4fa6c51e9143c5a07ebc00d4a1ddabfba5a95dfe16d095cdecb59c16c7aa4b368297acc5d038987e01d58adec9e19a26782f82e0e9c6dcb642318662b7d06042ab69197bfa5f75693a472c8fba63339ea852bf36d738539912abbd36117b6cf93300d1b0591e697db50764d28a561043b8f08b52f8d54f91fd373d7f182287dda565d51436b99d9122e45cfe7e9e7151a2cbf3da43833304d1445d5538cd309d3a2fdfd9e9139c1a76ae967b241785cca7786e3f82db95b9a7d0f297a3a89855f6f93441b858700f430a632a5779d9c2405f85cfd56438308fd0c6177aab6efc8a6c70a0bf406e62923621fd08b6fbb10a28fb1d185f18f3fe28c0862897095dc091771ed8bb2d4c157594c64b554efc7b9c27f2ec9b24f13bd0a87d6dde0b6198fd234b1cbc2fa599de60ed081dd4ea7b468d148a700a69389b2d7bee3e05af14bb6e926180e33af6810d698a8481b55d89674a2579e4b41317dcfe11b9e6b1a9bb676b541e8d025a53b9050d632466dfa3b28300a1ab0b60e95893e274934ba7155e944589c0482f5fa5365bbbbe4476cc88ece7a5e2bd624a4841295074cd3b0c4983a322effa9dc89a5003715f6c80b1d1de76c260ffeb27a2c126ad96684a336df240258ac041318fba1dbc4de17aca477867d0c7a16566a1f744b724a7975905439c9bd6d2c462054b54a38f4787014b727fc3830863ace0c65b99922d16305e2c7bc9ac5d099dc1ca7eed47fedf00f0641f117c72c6563730aa564bd5abca4ec12f9e1d9cedca365b9b428257e9a875753f3c9efc2c43017da6139087b39d8270747d6e259e078d3cec2dbe72e30aab2c90699d535397b10c764ef0ebaea94c505261c8d8d3e8285c704512bb9988eae04286e801f0aca4ee3852ef9b0a5a1d130fdedf1b8a773d46ebc585789804362184ceb736f29df223ebea4066d9c1366e4196832b995dd537de79c1498520605b89035d7eabff2273e03d5b09423cd2b90966ebed6ff56054b115d032d0ff92c8c173344b382ff0e0f92ed792e3cb3aed53261828d8e97db486f0b8ec4a05e8a48c7f904ec5b9c8d28ddbf2c80af5ebe28c7fa5e281bd29bf3cc6635cfe8e5e39195ed1f40b12b93b5be71cefb4de2ed59c55817167b682ed145703e2fdb13cadc9d194e758f3661159dcc27466ea0a87535cc2395862d91abe1295a3ed0c48b50bb32718595e572ee4ca3af7929b34ca282802e81e98cfda43ed39c307f31d25df428bc06daf303b208f6d76d9b67b1fad9a2a8f135a2de523d77f0814ae5113680cc80ee6c8a88b53465a1d3b8f9369d67b06ac168d1ffa643ddda43db102d8cb4ba959233cdc6b48f863470bb9202e4940076c00de9118f35163cc762ec929d83bd1059daea635a8176fe55d638e0f6e860d9ecbfd3af455751b1f5bea29096f9f6ad86006bd04971ada6d987e3f3482f3dd5ba3925597722da3394b3955a4b2d83ae402ffce947cec7107dfce0af7df7bd6715340a022984341a50745aec78caed8f073ed88078549b084e97dd2de8c6e84fbea5230493c7158562d1f03692a0c57e747967ad957f665f0220f1257ac8cd6e5c0b437c5150d61b85688971694cbb1e3fc267c822672a92f396731c041cc2714d0aec72e9c46ab21eb665e2c6a70317505019b37d1e1321240f85ded3c9ca8cdbb20134acc980f773df0a1bcfc903d89abb3858a12b74703b245c494098c59249f4034bdf06a7117e669d0efb5a558ca73b657df8b7d6c93bf8423dca1dc1e3fa790bbe5b6257c368adb14c246cb3fa73351a0132194505b573a75199fede5b750f32485229452ab180bf7d15f248987320bf118867fe61f95eda31b96bdccbcf7ba55d639f701c2ee5243bb8b841b2eda5bbf14f6d30dd88f0532503032fe58026af89296d55f3e518cd01259bfdded10b92ce76e26db23efa0c7d5864fe67df17dff53ac0af9ee95e85eb509dc386d8ff9ccec7eff248a67ab4fb434e7000ef133d421fd6fd004ad1af353e1e308fe19f515beaf57edbe7d6e5b9813384ed1210c4ef75413b7d04d16f21daf5acf52ca8eea0aebe76fd0225de3d9d2d7834b430633259ef855e89721339336a29adfa14698b55288d0fa133218b092125cf25d7ecbe9be71181a0d4394cbb803581ecbad3c8ba3eb07063d1eefa8f66e9a0e647c873f1c8e7d279df28238f09a33934fcf900e0a0d1fbfb554e6f5e308cec391d182147a94883199dd8b51dac225f518c8152b0eed5e7f009249d57a82d38dc6b441407c62498217a7b658cfdf6645e2c354fca14208c9ded73b1ef68ef5c624e1ae448f56af916b3eebd9dd93ed5c84da79a86b73cf3c09da6a50ffd15cd78a1ead6cc75185d6d8b51df2993854d35bef15ec6abd5839dfa075015d8af0cf04715db17a2826bc23beaeec3d5c0e54223a24c8dab1c9bb629a96eeab0162f3c0ebfe8372bda7ca558ec0f974e637710f001b5c7f8102bc1a16753d83f5b72d12ede24fab03c2f919ce5d3adef4f25ff01077adf60770bc78ec7fcbd061e90402162f85de7f3be8155321952aa7c9ee4fc56470178c468bbf6604d2bd531e24bc33ba9702c702952134718eea8f7bd34845c253d4432947afee03f7911f57600980f39f9f80b29974e141d33b677941c4f7a1d13db6270a53e0932f787dd8f2e1670cdeec7f318cd983fd64035fed001cbd7a3f3a64baea1aff7bc2fb688da16dc0181d287a58c0aac7d3585908672e9e4886326fe0ee4237a5317574d7dfea86d05339149e6b1ba0899baadaa8a19c79e0d1ab2bc0a9c223ad8c027e61d30e21f63e5af5dec0f1784b9b0e0162ab8f4db6ebda435d1bb7633949001cb786ef0e47c6c052e9c370b42420abd9f39b0d9189d9142a248b82eb8da3ba3cf22ff06cc2e7ab88234020d342f9a90e8c643ea95c7bc0cd935fd372eb4f24313b13fa3bf252e18f464874b481616a49989496d8a9f5dc4318d322f75808c3a00aaca9f772ff2dec9371b3e3d30dc4fc49ff93a4533914d1c839fae30963aa5a2a9f10ca53c313283bca719013be482c7f8b5f5c8b39c0ae5c73aa5439f06cd060f2cacd3e6dacfca4e7f62b61f7d20d73b68d20074d7b9a76983d810bc8296af6f8f3b28e702e8c268e894f75ff5d00b04a38fe10111d5bbaf4ab023d7fa4b9f101cc3bf7154ec2610f5872b87610ec087541172d082400b685f35bb850e16e8d9a2c1bea6d67bb49b7028d82dbbfd1be51f836d656a26e7495cefd9b196c63e3febcf5ae83772b8061a59fa9a19a94cb254319ff45b7a11c49af6df8780544a89bb154fd38e2e68551e7989419a8670c608ca4508969765a5705f96016f0468aab187286e582fcb3247e630e04ff02cdc5b5b8ed02610b331588720806608ab264969b549d607f91c843a7d6a41692943a7e513b8e076e13cfe1b8e5fefc93b45e9eca1418c028b539e675c6abfc1747391c8fcc90acee47d05ea8f1a5b849cf51830e9401609f63eca8fb2d9a3cbe14badc2a53c6e0a606be7114c7fbc085d021843f8217e52332f4572a416226fe6a59d3df59d456939a5fbe25082914369d931fc9540d77364bcaae0b39fc8757e6d3e3769865298a354ea6b5630737d6a31b1f51e87e43f76f67548a7494bf72b86ec4f16a7684650dee7f69bab7cb5768688902d9980e8656cb41cd4c059f7aa08f54195f7b3e41075e91f62ee333e60b664c94d2e6dc7a845bd8d8d2bd2d7a209949949d4024916aac1410aacfad3ecc5a17c0177be5c5b0619a7138c19d8f90accbc40af4b637bd984665bb9da21ee9e13f48904bd9ba897d0032c5bfabd9d041be43f2eea27bf89f2177b6720091c6f44806fd010e553221ed19c91a4d971752bc810e06383258981a9b5833309586c06d4db05b98b1ffb6933dd728dfefaf44c1fb28dcc557a583cc78e9d58c2db4f43b6252581006e8cc80c4ced3d688e4310be4e15548c40e2429b4d5caff84f56d5325bf597c8892d061628a176b9c9acc4823cf2fa7d9430fb944d6d006bee9e34f55ba7d74ef8222f92a19567407670427e09a8d52797d5e309ed72091a7d4ebdfdccc18486caf2a94a393d0cd6bc9ed4a09cc92971dcf222732d85fab74891ae15e2bfb8a9b2171cd7877026794a43330e82e577239936d8c700fce274d7fba691edc0b5e2d73d05cbc51a3668fb3c5b959e05087703940d2bb2b5df7f6bb00c9017a98445234cc654800c74dd6180fc6c00757f0b38dd5af3d4d6007ecf355fe3f90faeca8f1400eac6b4fc0abbd04bd0643d524fca5610fe550facfad884e6c77e6bba9cdf5524d8cda9a1df23e406703f2594eb01404623eaea4a08dc584b2b532d69d551804b84de5212b1c44d947b334237949e91949573008f3c33900d3dd833daa088becd581251addd40a5016699238f55cf695a0b6cfef8714db1c1396074340373f612ac559bba34086849c423495f57e2c273abf7dcba590c3bc8453b6eeb193066d279d0c03b1c6ac6d40535ad946103d662879667e377c7a27da0c668f6942ae5400629e9a60e84ff7b89bc0f874fe835c408a83ff55f58a3f53013d6560f9ed7ec3876948490480eaa518c4aa7a784ea41819b9dea3d43ca19e6d6bfecb8a3ea51984b2fd8d79f461557ff2aa0247a7685b46057fa42da6b1dd9686c56b07a98c03beb3e8b1254bfeeff072fdcd7ea5b54adcc260c64e90d630596373637c264e546eb9610a81575c16d604afb53e981fa3a9f5ec84fab0ead275d5324cf74818fa1717855ed7b86b119162b3bfeb1fbb0e9fd890240e97e1eaf68ae3109f24db6348615d69e8945fcb3c5eea3e4911502d105fcf4b212fbc07bb661d5a07d883ec10089b1155292ac644b28f493c34ae5b9aacd05d2a0e6d0113d5c987d461f921613523b5c69f2f0ae98a1c836539fe46b5c5eb1e903ac8861461ffc464ebff89dae0d60c8170090107847bfd664d0d339590fcb6ff73286062918d987eab048c021ff12bdee4574db6d61e0d7401a94916316aa3601166d7b1a9f07178c0d9f9f990bd97bb48f3734e4bd48624f0696447adee72078ae5022d477c701a224a5e518ce3acc8a65f03abc438798f25e316b72deca30115bf31cd524e9dada9e8973bfb8eaba570be269102513f129ad7be5c4f61ec6638d43cb5ebe9b18a1d269bd3cd65f779ce803febba60d1f8d9ac1ad34bb4c426d9fdf261430d6d161b75e019bd2a99d4a54e5b85ad31b9c91663120a9745953165bb93f0393641ff453778b8f5087803c3fea286cfb37fad5eb81567ddf649f9b73d21e38420975724ce9383991a06e1585ae0c243457c449933a33a2abd3ed8c5163516ccaf775f78dd523c1604a6a562984811e49140bf0e0517708b7fc6f61dc56d0a6ca4c7695229232e9096a354eb71aedaaaf153ab4198fa19a84ac42b618e9fc765191156faff4f1dcf586d2e2fb82e52a9e7be33b202a41d784346d59c852345b31ac2b58a744bcfeee1d14a8a58170952939094ecae2f9d03dff3b0347c80ae43417a4979f451de115090b000c65b0f9da5df4c69857d8406f02fb653c894f38235c065b398fbfc16acf6a405136fee3ae260de5c1011973e12e94ab04255a85faeed7af1868938cdd49ab0a23b82ef9dc65a5dc5b6a9ee3f8b3cfbd8826ecf1246e4113398a9f72aa2c1743de38a572b610a8c663b6dff239d5b78589d1b84740958e77f32d6455138895994c7b5efd10b1d7bb6b6f84d7ccef1061f7f145ace227e3bc2fbbf7c9bb37193da468e450bba00b5c380e62ba69bea18ab6bdedd1ff29a0d64ab956d166a1a34e6bf354b111ffc27d0910f649c00ab1eb0f416e6e60c286f392dfb33b806279c145ec173f65bebba22d1b475e57697920965325f17192fa7f71dcf3be4227ab67a07523cb6f55fe82b53551ebc921edb0f704ca53c666a0a64447944811487d8563137b65fa80c68b060698ad4e23dadf31eb03cddb68364307363f684f5ee0200dedef6913d343139fa3f70e89520e44bf9e5e64e31935270bb6324af6cdb5703c829d10fedd5f87343e3ee92b71fab8130cff3cef5b55cc04050471bbee43137ad5ac2870189ed5428ebb80341e245686daf26bb2c7573e32a9fd827bdb8fc4e1b0075de1381ef55b88c748e537bbbefb1478708f2622f2005dfaf9b76e7df97ca426284e10b5f8b9e3e064aa1ba13ae5ffb804bfdfde1f6ea39e4b1c2c470b621e24eef6952e42fab7290d7f64897e7246933b940bc491f6964ecc691f42aa98e2510111860709df408efcb293da196e2caf3b152c278bca2ffd357e17317f711866a688e4e5f2fac9b2027749b7200d6ac8aa423a680cdcf9ea28f29b231454df8c1d83695d2824a11f0d38161cf7f813241e4cdc5e16c955cd00e0c60b6bac4f85ba029f22971be0c8c75364e5153c0c03b3327e8e08cdb7b0fe964b26fb9d912e28b958e00e00f263724f9103fe02c9353af5ec766d29f435e46bbc42b8c3c3b71f3eb79031f0d2abcaf9be30858755287ad03364eb0029b3fc5ffd69381c6c8e3b3ff21ffe6f918df429d6a236bdc64492eb6cc22066f8119948434872d50e8e2ceff7910a10c726782ae04df629167da2681c36ba95068f2f805215db76a0a9cd1a553c6c0e2e24b63f38ebd813a7f557338bc96471e196a728c7eb691e5f263caef7bf810932610d2c42cfba7a2fc37e61a85535f4f8f8335e0ba88f9f0bcfaae7544ddee4f7fabdcaeb76b39cba520fb785375c6de3ad9e80135f720b81da67888cd996b7a8e29b7873aa6484221f1d3724fc7277c210435d65faac78d75a36e41dc1f8e5440ff83485cfa00e52124c399ff5574f03ab6960e745270baa0a3b8421a49458feef36aeceec420d122258392e4ef3c2b2175f528ce1d7ab37a5e05402d858d9e67eaee2551c086710ec8dff8bcf081c8eac316fdb79df9f6049ab2271c5b34ce54572c29d571ae8a2c6dc53d0af51c75e3b336f149f2099404d4201ef4bae377953fd3d023987b2b079d92f3eecb4dbf135977cef80284403de213f8e7f82921b4ab8d374a51d019c7d9f5b5a1cfae6aab1002192a78368d6c472460cfe901e4509234ccd9abb20ae099fefa94004a9a3899817d8b68bcca25f7818e7ac909ec9e9ce9107fc4fb5e964be45b662dc44bb3e419f195d7169d82058260e2bc9848d778d3f2dbe73b1337140839a46ab7ae0157aaba1ca027610730d835d5f5c29efac18320e04abbc8589d52f8cbec39707ef43192c7cad04e1204f9918b19a925485a95a0f04aa7e25969bdc243a0b19cc5a4915ded6f3db5e6184e2875d86639ea2046a91cc9fa4ce677e17dd15cadc7d383ee7faa207c540a1bcc1c0cc0ea75fa437724ea7689b553a0b304a61b813d2ce8682a3c6597ff7baef4995d3c0af2603a73fe9bfe0c827dbc9f8c8508a212054cf2b3558987f7f401cb3817db763f6c83f3805d18c06634f5b7ab6dca04729974834f1b82ef1463c57164507e64f5a317a1955673bf9b26ca69a31f76106e84fe5214b416153a0e24a869a60e31259228674c0ac3e3c1321aaa62b4da172f5786401a5b74085b1134f4aa8168654591997b415fddfa5637357d6ffd976b599cf40d5146cb01548b2a98a947ccc2c4672b5e4b64e4b05551fe6707c9ac3e93e36f1c1e9b7b025884d8b4eda714ee7485a3672eeefeca12dfab92aaeede31db8e587489e7be3bbbd565c965b73d88e78da5cc31f89022ba062d37fdcc37c0717e05741cc1e52c3be631f9d7b688d889589468211c8aa396fc826441d55caa1d77248ac51b3bf428e723f3be3be2589d8ae59d0f90f17616e514cd031fd72536cb37d9dbbb180c9b86cdd920d221372cc5edbe044f9fa16256a24bfdb1a22f6b29812150e8a96f69fc977b6df8f26a9bd0e067d787160c82eb7ba2f8576c7c4929e0deb46b58aaffe0722200da81ce5e59589644d9bf89f19cb45a3e07dc2a88a81003edd256aaf3b4bffb7a7c0192b8e15f8441d7aa930b382f6406d83facaf0d92b34f4236e0d3e1c9e7264b3fdcde1bfd65655f0086475c58869b338d5ed5dfe402ed6f8cd701dfbe1d9592fcf14b55b6f662e321d1c3b9873a5bacbf42cb43edc6ba02e4a33249acc70cb0ad382607561587795dd4467f6a603de10391da924be453804bb1a87f46efd0b097479b63047ee11ca1cb23970ccbeb5a998b08d647f31f81d6cad81f0d8290b18f0113cfcd4a41ebf35fee3ab57998c664ddb90d98e7fcef0dfd3b273a0277ee163297a8b706630ab0edb0d2e80f99c03c30414ca544965251340446cda0958c6771c0c254c82500093277cd4b171386e1b88a1de073a1c9490506d4788102c697a5e40e603e7f10b650cf22190c814bfcd1d87eb4114feac241d36b322b49d220ac8aae51b5f59f34e3b8361078687b6559b4f08302bfd433119a844ebf6c75e5a3cf044769b3a398a02c71ec2c2f9f85fb4fa4af5de545f283988e3955085d6c391d831938d02078bd4d503bc494a30baf1c8b0943dca758242bc2b66f62f59ca2f9d85a4cb24c51aabb11eb70fd5eb9e0dbcb76d131b7cc3f20a2738a3a26709d1b23c37c61e4c60bd943f3caebd6286444b74ecdaf6a88cb5a1d30141ee4dc206e039169b1a0f5d4d8083a7e4d268d68180b6ab9c180842508b6143abcad1f61eeb6caaf62d9937fd354f401c63a94a7e7965c3dc2b770e08b046dfbc26ad8c5c9f47e44742e4f3c4ed6e2c74af444782cabc220d0716dbbe251b3a7127d879886bc7aca9c173e896be67b8406052d1e15dba4aa4ca2e5d7a50e726139276af0a8a0f84832edc4e2f85d8fb54314b930a9482498bd11d19febf8742e5992e6829ea71d3795d4404f497cd017986130f1ccd2187706ff736620652158a6e2f8dc4d88e7f796bd4507fa5c94e17304eed6f9b5699a0ffa773e85bb245155f23e41e5e44a13543cc1d290b6cd187abda3cef59c2fab4354876a7d001891c257d73a8a2cce90926beaf41b8e88d4fde2e4710ca9338507203c907493e77c75fa5c557af04640a5ebabe242cea28d42ad5ded6485db6252ffdc0e309a1673bd6fce8caaa53e9a649b2663bb5e1fb14b2fc3783517086382a3d7420ea1c2dd2c917ab4acd324e1e68eed0fdb1251eadd5cb878d7604dfebdbabae874a044eda94d939cfa063df44c176f3e96b7568a458b9f051c1ef391aea71ec014141ceb9b1decb25867fad22be789f186a966e77b3e73b8565c86d18fcddcf33bdd681cccd8119a875e2dd71c506abc6c95d7f535967cb35c18fe362e3b967ebecac88ddd3a609297322fbf097805042695c59af7586074ede4f7ba2822e23669cafb33eb7caa8e1c2c2b59272d37d6871380fd1d9f7b5095fdb2099c94d5212f40e90879ca366bd04eb1d5a32e8139c8ad2cd5265174df2eed35c5aff921a1b2c7ac80389124e14d7d90974bf717171b439e33a0320e262550a07a74d814487ae949c12db1f62b44e2cf32129efc3e28f35238197be8f972770bc41962c8077f2adfd4fd1b408b98073ad5584e89b0f491f60f8c4b128454ce4daf89f8201ed72b75cdb3b63a8ff1e25f92b3708640c46468111d906a8d77903168d95e2770aa452f604a3a823db41f9aee6d9dc9023fef0d412a0382491ec91b848473d70f3943d485e96627a5fcef044f023673772861580392d7166c5450ec0f407c446521a8a4d3980ecc5955cdcf14f20ecc0e2858e2df0ba63e80c777fe4a069e51097d7420ae152788a1115fb727aafb704a83057ff656e1e19d8cc94217cbf85762a0a8130eb06a48acd95ebad833951c56615b1de603118cd269e21fb5e411da254a7439da2951f7b5d70f05b170a5c9c6bed48d17c6f73c79af933a017a09fbc93f12ebcaae3c54082fbcc3dca17061f72a6ae6731a1d07ce924c76e39e981a025a047c2fa5647b98958c948e4a658dead4afb981ce3106338282efd067e9d8370763534b8bff97ed5dc95e6eed3b37f57dbb86a9f3fbf8b109d9850a5e5551e90faf135fef09c29a3379e2b9bbb3f6d7afc8484da56b79f4699a986cf77631994308dc01e95794cc6ebcf3739bc93efae4099a35ff48b8e4326c0528473afbfa5b9be0a69e2dc5cbda7bafcc9f35876bb510006892694d23d554de7164adcd926a1a18fc015ed93d44136397b2c8388824dec322b4257d151513914772e2609703efb6e164a35218f7699eb7c8a98aa7522fb44be9722f16850ad38549bf7234fa081877a4cb688981f840ff2e63a4576cec04a20e3d4a117879290b762bb269af62ecc27efb077d7e6147adbfd96ccf38b854fd08590db361cc8e11aae827a3c3f4f990eda65aeb6cee54cec5d24dae91f8f71420ec8767df19e932de81efd30d039cdfbaaffa11541d2cafa09799eeeb671b64480776027b592b940d75a498b859803fdbbbccdc24dd7597ddd7b96a097cf82f875c55dad965a1c3b8b477184801a39fb66eb84196b0719b4cfc037772bdf4df91059babeec51e85b641c562334570fb3a71ce963aed203bf23e0914b67d036fec50d979b7a48d153e522fe4867bc60f612344d5b84160673223001856aab2b10b2939aedc2ddcec4e0378e75055a175fbba29e762024af11168b1dd5f4a2e0959094f1aabd38c88bfed1bc37942758aa5dbe9781d30fc662a08cdb3877ef9b8b1314a27b6bfe11536364b6d81fb10c20873ab9674f891902610b6e745214a686efe4b5ef8419e143dd8fc0e9f35ea6aa4ec2b24a9b9dd9da15773d820099e3b952cb2a2943671383e4548d41812d875d9ad2a33a0edc33fc6eda1e7a3e1062645e48f25a6759efb6abc642e603331443d60b21f1a59981a43df5d41f8e03540873c6eaee3c3c36ca6c0ab999350bb0e52b1d31728a3843892188d447bc35c5eae48542e2a9b7811a9ab41a477364e99ed78324244023421230a30a06ec305902defd40bfef11cba52cfc924b6830dc383477ca4bb62c499c73df8bf54ac0f2ea4e2bb46236ebb305bee659e033a0a64e9157121dc392c1fc66407f0ff40c13467976396f904fc95d71458a90a1c32975510937a4c8fc85029509cadbf618482008126a1b8f2483fa1d42f0790473ffb678bf5a82fb0856cabe6ff49732d043e05ca5b661239dd7185f9872474955acabd83c7c42da2df09845950d847f1f562bc9db1a846c737be99c9ec5369ac63df1fd770d099a28571d89d1e7ea1f340cb00289c8d522a8d72f7951541d8d9bd2145fe4cd45ab2b690cd983809c068b4fb5ea711d637aaee8052d82ee067dfc5f7be74192501261559a087548effeb51cbf0dac809a7188decff872364887139366efeaf10b61760de809af75d71883f4089b6dcb37f3834a6167321f1e26e1bc25157a98789904d1520a564d2e5f4c7c2080e57e6fb1a1aadb071d6c77bb2163d6ebde7209f7732f456bb051f18f67cb724e9ac27dcf277faf3f216a94d282831f903dd32b0005148ab43f2773dcbf71b0517fca9c1bb19beccbc9bd1665effe5c20cf978be1d8266275ec5e6b43b766e84f20848709748a5533a10bbeeb0decf758cec0965506aeb692bd5cc717d783a11cc937aa5b877044f374a40e6fef5000ae7c884137455c74bfbbd6f2ae2ba6b61b6f55fc57a5330bc3709f399b0d4c36ffffbf2827c0f722086b9628febdc9966b0f065dc859b6f23c88000fc0e40bf4ceb699791e157e5f79ef40ca35e6e2d4072bf80f0598dd70daf34eed4f9fdb5b8183a15d9bb1e1a3f0ca22dad48e61f5ae245c06e1f585e36bc731da0686174b6ca7c5dbb576f4f09a99951ebeaad064bfe69407b0e53932a3cbd596e7812913a10394d3c06ca63bb7858a3d3c62e67d7aa136451ee55a47f398b2b77cf68017b6d39235b4b3720017127080d8a8338fe0e211765545d035aeeb82e608c8e01a4ad298d13b20de890393430d1673986f148fb77952eee94df1f5b4068aa3c2b03bcd89ab3993687b36ebcedcba8f70aef8f68602fb76c552f0da407de61f209d10983b9a0532ecb8aa0d98d4d7734ecb26fc739edc7c2a16c4a466d9025b667675275e972bcb8870554a14d991841420b1d8394a2a3d3a741cf11019180661cb94c5b47970be5c11475dc9d80bf5770fff700588fee56150b875c640ec7f54ce509b2c12a7be09369ae037ca0c4bd6de4fb9a45d148197ba4e64dfd51f04cfcc392fd07433f4dee2c4f71f99d8332907b09f064a6ffaffbdd8cff352e0a22dc0538d9cc53dc03498c0f2bae8e74cea1a253e7857bf192134c3ebb55646b6cac9858eea23926ed4d5489929af9517f8c2b69ee9e0d3f2516946a6fe77a4b85105aa105f0ffca1c76ea9c905abedacf8df611f2e49ea7924cd889b735617287ff6ddaa2241519d21a0b0e2b8fc2480ce3a786bcd1c047289ac4893b1e684591bc4d5285d1d519f47d3db8fa46634f364732a0fc0fe7289437a762e27046851a3eb5a5ab9e0e2acd1bcca329254bd1a125d862dec0e9b54ddda7fd3e41bf74984d75286aea9f9e5ab2ae6cf0c6463594f4e8bdee95724381ccfe2ef4e7c99f642629f4db9c3f9faa7beb496956a599a5135b623292acc4596e2714e147c3415eafbfe6254c4770aceb8abf196841488fba3a9dc67aa862e486ee9cb048921ca8dc7cfd87305bcf6ff9fbd10b3601197d5c34c1452aa428930ffa4120856d1892005876a352dd0c158d263fa63eb6d8b777bdeb9f3b8d99fc3f4f0672bdce751c42d23d5abd482be887a44102c7402d10100977b17c3f393b4c36a25e16230eff7764797b2bdfd66084f797be24608ea5f4b0b32bd1e718161f60bcde631b49882cec2d888f963d69feb13a9b2d19c29c7ceb9b9fc93eec2be792862035b12f5c7952d31f080584a932a0dd38d0c1cfbcf8fb8b6c81ca16421b6ae19dd0d1a4c8a07229f36c4c913e2ffa24c433099dc84797bdd11d7643c0cc6d3d58f8f24555cf48899a53405ba674396c0a7ff611f6ecefe19343c87a947b49caf3eec44fe3c0301f43cb5dcb1291e541bdfee7619f4d3a0587dd86767a83118620fcba7dadaead1ae848601673dd75d50f5c2ee0c849665315c11c8c6fef72624ecffae74c0140e1b66f9642a391390fc390345871b44be2f741667745d02eec201c74147a0f86ddc417b01c2af60cf8ac2d972c4fb3630055902caae4a112781877a683555d84ffe7d270833271148f18b6d7b4f6f4a609ed4c3af6f7d8daeb0065b0fad23ff782b279abd4d76c6034c8a3f94a600e085466eba419d1c939c44c5c7c660f516e8fa93407937304cbdfa21c133a4440f7924c59622f28c4daebba781c4a7dbca05b088001d2d4e9f128261ce6ad43ac352a980750393733838dcee71ead7688e47b3cd3083ac2f9b7c402583fa4214ee20b59b99f28bedf6535442c20c6e4565890f902454deb76afa36504c870d174f067aa63d9d48214b7cdbaf448de8d5651b9545b0622ea2560f9a3b09272e46a0b45489ddad5694f7275dac8738b8061840a80e0ae0fdace79d95348ab3dd385f47962c001db894b70fa6c2164ae006c3d652cc185bdac656b51c0b65a8097d70547623d01ae96f3fc71adffb2da889e2369fd202da3b1ed98d4c1ccf329b1fb3dd05fa0b20f3a776b89aae81042b209f610f3ffb26ad956b1ef67df9b763795082c93a831fc3258f27ed2c0988b76cc9718965bd9d10dfaf5dbd8332a071fc072312b4a440f8a939ddc9f78c0824fe6fda65750cfa8c55d5e0bcd46c13007cf04522b2d846bda45ae299ec85bef5225b8fd1504dce8b66109c9182bf836ec9dff0c19fdc0e017b81d802f8b81d85cab1f0ebf9be0e59e7f66820cb851d09704dc2dd8cc0beb30211b08612c86ea9246a0955e2d73aff5a76aca5210847bbc8f666357f3f6586212872cf9476afdfc276717066c25fd85f694d03c6f6ffb7855824b4df44e4ac4bd8c855406f0941a3fcf5856f1d28c4eab3d03092ce241beec30960ac3dfa5d52477813635529eff2a9","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
