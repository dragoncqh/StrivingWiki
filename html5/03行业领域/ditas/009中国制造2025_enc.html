<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1933b82e52a852798f465ce7890a02e8fbe74f96eb310e8288efa99df47ab72a5b1605ccae9015ccdb914b73fd46cf1c60c95ea789d2d1f743f020ea0bab4072ecef758e1f7effc718263a4f8f1579e294d01072ab42250010fea6d5315c63e04f9c240dbeabaf07fe8f19d8d109c9c7d723b6626fe314bb6a44ff82e224df05383fc157446156a8f345b7d632890ac261319fb5d24d31ef3f595465c73fa5d176eb04c340920663aa5a7cb529cc0d39301db5fafaf06e5c9d0ee58133decbc68cc0ea30e8dea222d75dc45fcec7f0483169f81c1bfdff1a83617be6d1e728c9a8b50fea290232f671422fb2204650a9754b1d2bb66bbf7407dbdfc7c0c26bd89bb05d95336a97fb376b2c712c65eddcfc4d129096929ba8437c965f527859da0c4b3165ce7f329f68b2729fa5ab82ef83f1f4c44249e126db9749c65d17f68319db89f6482c6d9582d5076da8922ba69954d77b39b54e29625a7ea12fc3f593c34f8422729f7bc345a4719e291cc29bc41e21794f1cf2f30ab979cbc22772a6c36946236dfbf5676dd230c173d6e0114b9704906325ce695452b0bae062895c8499bf39be685f7b545d0b58e42e77f79973d02ced2d5d40b1accf1e9f3ade700d038c23bd802e4d929800cf5fcfcb67f62d0b53e58585fb58ca71b4f8946bcfa7a1020f1501bd024f5ca23627cf3dabc9aa39a92ec858457508b210ea331cda83442c3c951acec8b5e0cf87e03a705c0d2229a4e6a5ab0ec1184172f8bc5041e90ff1b4db552cb2bce04b68d00a82835ecfaaf205d540ca6e7340ac675731f99b0b95e170ba8ad456de9a389c9eafa2efd24a9039d875aac8bc269beb1c6eede09caab72a6a1cbf665eb46c1e08291ba2ef6d51d26363b70ea00703205c18251efd8a6a1129faece02d22f85e33d46f2a0697d5a24040e2d7b0cbd73742b549aa5b841fbf3471e6daca98263b1639a1ced5d90608c7b4ea197762d623a9fb93acb68c46b98c672afbff04a7bd625a129ccaacd128466e2b05099169d0e533488ce2965f11918af64279a754d132d8081fb0acce7085f412d37ece3a375dbba35571375d2fc8625abcbad45cf56d49a90c79046c3bd062b1e33c8c243e92bde1ddefb2ac30d1057bdcd401964a7a12e871400cd6258ba70bf1b7430b324c6f305f8b25ca83793cdac99d6da9e981a24fa5c9d82df96ea5bc6dee5d3725bc9f3bff071f929d795217f1a145478373ddb096e5a9d0e0b8f9268b45b3b35b8517e62d7bf364d9682a6b2ad20a500381bd2e24850ebe09013e03d711c4e077718eff9e28d0f5dd5082eede854b95ab7dc7b9dd5a19ddf23769ebe747f37d4b608cd22524da216ac5ce749a3fa0c6a7f45dd2090269833ebbc35d211ea68d10b4c187d8d6bd66f1e93568316f96aed7e4446cab128494e071cb4cbefd3dd716eb5213598e7930e6a603947829ff3f6569de6404021effd579ed9a2ac4f1036226da2dfa1d4597d7ceeae5a27d6dfb633fc6fbb32577879cc8feb889a2c0d0f67a111cb51326000e8d5491883166e50f4b212cc30841607f8f6b5e068a198ac43153bd8915a914dcc79faa3ba0b39f1c2f72bb329d811264b8a0cb71ca3d5cbefd6b7569fca46cb588631ccc83bbdeb05895ec4ccd3550c72598bd0242aa52dd68fff93dca16fb3642b1b22052185abf727ac0d837bc91bd861b816adb572c62d179df7d9e8afd5f1ce7ac489b62cb3550776fce3c39e7b06a9cf6acce1191b92e7899d13f846ebfc8dd826313008384b70b929ed0b85ee49d5f1c4aec1afeb6c1400191e3f7c14c0d1a46bde3d797a22dc66a588084ba4ad6a2ea398dd3b7736d3c6b1ed391fde449de41433403ddd75aaae6b2d9b5b538008b79f06246af2e9f6f760727422307fedeb1bcd011fed07ed8f185afb56656673fa2aa093bbd81debd167c9156a56f71e5be872a08281e9f2a4787c0f48904572c54bed37bd061a73aa4c6b1389a14c74e9856b69c37f5a083ca4b7ac829764afc7c923d31864ea3b51b6cbb70f316257d696b7cf23f0a1283ce01d048eee620e9738686ec16fee3ba1af749bea11fdfb532e06c1419ad1a87d47651e2f4e032aaa2d515ac9e688b123ed23d4efe3e87955448d3cf5acb1062e1a6567ada683a24444f49fec5d14cd02a2c89935d34896aae3898a25f21f23a0c372928902826ac135a213cc73ba3418da4652d35f73993e639906f29759bf758366f94b8f3673e5813799611e5cab0eff65ba8e5cf8cb695d04e4f819662b3a34cb007d7b9c29a6cd7aaf4c01e442067442efad7cc4621c242e43682971074129d16929a9a79164a27fe6efd8ab0d04c082f3855f5c8c5546a76562bfd4a35d84970fd93d968234919465e39e99c7d6d9e1eec4a26374ed5f4f1533429029b59b2c6523083433ad56afdd03b97ff973dabb989aaac2fcc40e42fa1ce6fa2735f5e6584e0b595ebf425e00150c92ca30f848d56b720cfea9446f7d19340ef57cf1c22258a75b4d679c51c7c264902d351e0970b1c820efcb5dc40ed2984e2a25fc89835728feabe269e1c0337535d3a84b582dfe71d4f439d31504de29061e6825ea0beb02a163cfca680ca4438bc0c4cbb8c8e360049241452be65f4be471319d1677ac41f1c4634214e2defde86de0baa435515f8c5545d796fb64fb13b559645f24066ae3dc71ad4e7a1467a45c614a727c40c462cf9f47d8ead3808250528f6e4911f414cbcd930db67d548e9ddf9b40b952dc1d4bda76b7c60011f225df188adbf0b3975e82fbf7e50baba641cdfdeac219d129204090897f792523d3329d1f267b1bcdef27481c7cd05fc37a3a87d826977dbf4877abe41e2b3e6bea88bc5c8c92743e1bf8cf26f43a448d2a05d36193713028322065d69af7b2a9e00929b997291bb99852351b2a6b77e2fc8fc8c292b0b243f599e439c335a48a61529a4a561eb17d15f9b606c69a412ae642980705ae42d283477ccb3bf84af502f03a7ec29de90b54850e0731fb451a45e5666eaa3adde3efc92dc9dc0e4114e9838ce0ca109961f6a76d2f5b31acdb837661613e5e23ddced93dc7463884af940d73313238f41caf1bdf14f73ace42f6009ccb0cd7fb644625b0395aa35641751ee22cba599e47b41da9087d90cd474dbb7b3048a3f9a7fe13de4860c6fc086d29aa63352a0411a1d637e88c61e22ce7e896238142812df30864922d84d3318c842f28dc69e9dfedb360386464d7960b3576f86fe5d41c3aa8b2d31239433927a700d43ce0e3c6c711eb61847437e0795b9821be56cb207ef74a4895dd48e3c6258b6e02b87ae168e515c37ec77336c376157de1a366fffc8c06c2a8508eb8cf0cc4c80af80b7b3a5c75601384bd4e9d7c22417499d47c15ee126d1bfa60741180caf7130d3cac4898281e7ad803599a36aaa5be1f9eb044fbb68d4190b11f0756b71c5689837280232506035161da64316d4e28998c7bf10da7df222ecc8f2fccbb58f873dcebc0a761bd7f8415f31c391f1c9e8d7af892d9b5b71a07e7e218fa5ccb62496c08f24e9fe9c3fc600ba2a5f56ccb3ed53d9b58d7805e9c1c0987c98e5933d553a8a402fe311d2566ecc296d8b4eea02ffe2e9f12ae0e055b4582b8b21135e71c25999a97d770220e853ad32837b07971bbc64e049def55c12603f8047c561d08feb3051d856ccb1d0c6a48169ddcfbdb3a388f8af094fc7006b26a02b9d2678ec50c7266cf616a7610c7dc79096ee0a742eaa4b344705fba58c176f92f9b25f6616ce17e26342b089a55cc7d5a3572a56f301a4090d2418b1c56d3f2a368086fb9d91805e06818bac7fb52a51ff3547ff3bae062666275a57c91e71e2ad4651b5c17cbe7f734ebca78968cfa0a00063073b299d039765aafb67ded723bf95e1b60fc16a943c54195e028c0f82fcf1aa0441ba7743e7fe1bf7ec2ae4ed93b5d8e7953f6aa23e641af1cefc4913081e9067c7bb709928e86a6564784c3d753d9c97de097e89372151a7638d68a6fae6a47cb2248639499aeb99bad9b05377a2795050167d6776c8d93a2fdaa5c2e7dfebd265ff952ae95154e942cfd8ee194e410aed25efc22166b6bf85b09c4d0cc07978e77405dcc99ef375e270352b8d08361d39986b3c65995468c9ad3547b29139c205aed4ec0bf2f7fcd8371ddcf1a633ddbf40048c2ee616806c8d9959060b3117bab24ccc4c2ed47d4ac42ad5025f17c42430ceac93c2b8e6f6d575caaa16820f88443444a25ca30eac2f42d33a7c496fd18b0ce87b1f1b2ea91cd4eab93d6df64642f9445e38dd36fbb199ab1f1fa5f6c93a24b2d12a768489fa14e71d054e44e38c42e2c8867e689bd59fd9d427e4781d7b8a876ec58a2f8a9184ea1d7d5b02a0454e6f5a055aa9279b55820320613ef1d466d56fc5531dfb0dd17623d0ff09a9aca39b7a8f792dea3520142dd1d661bd8d3919e5c2bbe4e43de3a664907de60c231e137a705caf3444756885860fd2f8762cc06c2a5d8405baa8b7c29fcaddd70eda3ea7832cd97da26437f1050dad845048d615eabe1def774c2fc18f25deab2ee80a1defbdb9607c776a698701ec65eb5017ebbe6bd3c7a1fda62d07dab1905974b2deff2ede7cd8e8d44b3836f139c00ac219b108b983ffdde8c4d320f45e8e13417de4cf877d18f18d66e04dcc677db3754ff548ca7cea9dc27185f1c0c765ccb691a5cdaa774a2c368a6c6fcee61c1f789c7561bb1eafb2523008841416434d6140a099746fe14ebddb0579fca0d98b11c35a14b0040ea34c9f12f5ecef7f40e211cd30ca693b73061ea5d38ad2e43a03e900042f1d39c2b6d1960b0d3a900d609507d968ffbd962e2014942369265f6fb3986ed06e50f139a19170c975e2eb9136b7495f745bafa39d6d80a1de61398abc3f1140a07655e2bdcf22c53798c86f6406cc899e87d38ea63b589babe747fa52f85036a4ed93565166d2030fdbaceb03b9b71752749b9404ee6891fdc896846a6e20a65fffee1fe68ea6a0f721b85fb3d0e68e4c80d01b88d91fb7f5119884a2ce8a9833392bd5e1e911e1a362f56931c99ccdb047ed11b52f4375a90a7b2e66305651ec30d3afff627338a9d0f6f1ec57bad5b702fc942393696690929301ced5d5f456e1deca896873f65a6b2d324e8677907d7b3752e1ea1c805fb63a3d412a0a31d8d63aaf6902c8d0dd875bf5cbc5e88a717ea89a7ba9801793084fe9694eb9a3439fc5f8083a8071006c19e0c1f50749cdd562a3630afb66832516c3725bd2a9bc0c6448a0c16f88aafb062b24d09c0eb0270790e1cdc3f82fdb988a3814da76a00f2459d073a8c9f26b1135641d3be5209217af22ee7979e213508e835c3b62a08308c9cab3c8026892ab2f95df67928b8a86d13df2773363e0cb18fa403782aaa07a0cdf8ea0b7c16050a9fb236609699bbef956c60f015fe13812c14b60108f662bde202458abeadf3d4d16268e5f4d35f85152769624d85e03eb0063becdd8dd3465a9248b1fbc25a037d8bf85b5c89b972ac1cc60ebe67963b2c1ebb66bf154df8b66e9fff0a7c9ba03b78afe58a8818286479009cee78c4b5c7ae9abc935f0f59e126267b076360442f10b2ff560b7fa30aff0511ac58b2161e9e0fad534f0f4d05e4d31b6af8e41abe4a67efb12b5d72fda57b61b4b939e30d1d2b5ef9b7da0b381a671093b7d30544aa048c2ad4dd208c7dbe86011fe0e9e2a3a9b793fb3795706382957976c4b2438dade5110e4fc8abc074d014ce4092a87fc01936f6230d11e21099e9ee183bc0d7615eec8ef7bcc340dadf3c889d000bc1c611e365ece224916bf081849e86abb1c5b5df932663fd1ac015ffdd6b738a4917b4062d09d36981667d1ce65a205b74e92365641fba6e744c1ad259c394fef2baf717a53e8d1f517d84a66b0ec1b9c3454ddec13bf4aec61bcb19bbe8946a06a7d86637ffd5cb5a123ddc07789810cfbf06ddffafd8bc3432bb08c53a8e41438921a4f23a2c2fde2a7e20671a8db0f41aa170e379d6006b6ccb6bf39dd1d086af9af850fbdc58d65cb8731b4db33db0078286c8a858bcdfd32a1da33fbc595a4fdcae9b5c54973e9bed20dea050c05eca844e689b3d3032a5ba84e72eb8c54c77c4c988fd88aba651a4609746b7f1c9f9c682458808e8842b0b146a1d457066c9d86a363bea8570f1f7bcce724c81a6cfc5c08d13bc83ee34fd8830b2b9415a53d50b3435aa90dba84e68f968b30c4f7c3c02b07f06fa6a3f312cc54168486338aa9146fc6ba5f4cfb3b51d264659c2af70e22f949b3de124358dd0f28405e281ba125c5f9310b3d57e9b744789622c2654cffc32f6c1be6233d9c77b5d75ab4e377f72f4140a01f86e14b1dbdb963b235f277615c270d7f3efeb26af39274b9ea7caf3bf88bb45be9b231bd0e32d07c8ec70dcd8f004f1258876702b793311e9ad0e1137a067733d3cb9ef2da2c7f299dd91eee768c5d7efec452a9d1862509685ebecb5d3df7bbdaed1e0a856361bce861f1bc15fe9665b3730ec927cee970a75b744c6fafb5a0be026bb0d5e7ae30758235a7e9c9e8427865395e9a5f77a7e993d9ca02855006cb603ee102e90b8d1cace2bbcc3eaf10682d4f6972d4a6deebd524bee1faf6d81702595a4ddb4578ed87cf21cef99b53083fb2b46a0462fabbd789ecb1e06c2ec93516edc2d2934a2c5bbeb00887897cf1f720b04a21b36085d6692247fa07fc85bbcd12992f50d8d9385fe5b6147848d57b2f3be9cbca1ed9ba6882b22d774426b2a5d7a7d353b6d4660e64af08304f79acb6e90762822b5c4e2ec81edc2a60d359bd8cfe4519f663052d6f318dc70f8c384566b286af1da70efbf48827085fee76524ee341955d29601d6ce48b34345fc7a5fc4f94dbd5e1a1ff6890ce98f5ab89cea36601dc853414408f526b208bd5aff460be0821c6b378a47066e26df4e7dfd24a670dba4b00de53574d01bfc92344e652c8ee071e366988473c28c73fc667083641e8a1cf0d7d53178e9236a97d4e4efbaa2d4d54077d3bfc767d970530bf5098210828dc3f29a20137e7fa03488d57fe7cff9b93fe369252023fc243814688bbe64de105329cf4d89f72fa6189adf922b99056974576c50bf3a1dc338b67e5ca4f253f350ca7ee9f7283c48d64e9f88e50e506d3aecfae7ce300667c1d319461f6b179a226608c090dc321d7ec256df0ac6a798734c42b87b36695414d8d426a9dee9b7eb756c627e936b69dd1521da3c29a2ef23d9de05f96da3450ae0ce7f0de1f657d2eaa2a09a3bf71c653afc0566911d0cdfd569b4ea08f169b4dde47430d5ffd79f7a7e83c5c85c5faf868333e81e2d574b2d8df981666af3f57b8e0e0d5d376c6f4d6c08f0d745dd2cd9cd75536e927edfb8860f33dade2b03e2d2d83a0c0110cd71e9a8e951ba8f77cd905f51a8d9a32af2cc0edde7da004d0bbd7c9208eab8567491c27cdcc6721b6c9f647fc79e597a813a620c81408728a282b5edff117802ec2f71c8bc751868533a704eacf28eae3759f4602940018811982258cd4933e10ea72bde16bbdf6e3ebb54b1899a47aa04df7ba99b598ac57a6368a1e916b55f348c1b264bf7929a21d0a1eb67858407beb8ce197756c1665a91829502076b07a4171802b582112c899df35daa7e0b2853f2c2e868b737e28c2cc6f83d0409918d43c2179b4762342afb60a700650e48053b04ca846a429e56679aa9a51a803630438bfa4b980d6f660002070bf5c1e1ab9eccb026bd8e0c3b0d1b5a09cbd91023ae2a3047dee8a85cdbf32168d0f1b55c2f8a173b2aaf799feb95d63bbb7515136e84065aad4aa18803d35a0a0bd0688833bba222c47e171e5d50f64e03fecb809078ff85d86ce86bd1ca214465f81c0e4e1d95a8435a01d1573274c35c22aaacd329cd2e0d2c134ec053e24226eefd8919513b637be4c47f1ba78191e65b703470a33552fc18bb25556232e680cc6f8222f0ebbad859ead0266b09cabeedd095a4dca26bf989c9c3af2a22b87735a53229cde2c59c55e49dc8f09b5fb4a8170d74eb7ab8d1ba06e033be3e6a42369af1d622c85c6165b2b91f031b57cbfac6a86928186ecf750d5d2b6533c5d39ed6ab73023f89835a73fc17fd6a84432b7da5da293e6bac6577899a46b39d5504fb2ecc5c601eee1b51846c57731fcb8ea7d4ba83af3d800ecebeaafb7424ac6fbe01cabc3e21c8b8d3b6fc2f2a803673110f3052a1794e36d4f8984f7f6211bc15c0ccd77ed54020b75ad591dc12a9a709fdae947f225cbe306c229a299795d3cbaab895ada2b07c08f4986f02169ed5f7e1841de4315dbec839253dd2046a88f86eb1d5576e28f6b5369c235b98697d95ae8fe762b160e0f3f02d19e646afb4ce8adbf7c423a988b5ff022206c4e09a2d2fa6a657e0b7075146a999b96a4b59af800dbdd1cd1f2ed3ac5e603ca506ef8d0dc84f9a7f5c361723bd028ca54b846b35090ae186617ac93c2c8a19e13969eb68d3fe4de8c49f3e068e2631add0a776cc66d8aa44eee5ffa7002cc07da905a1419f733b000ddadab289928f5000313bff0a12b1be789737cc06d4f3304da630d07bca966650e3363a0679af4a56d792fbe407506593cc9c5700394fa3756f4914bd1fa5fdf3cd590f8603c178d7d4e47eeee4643991f6269411ea7d7dbc9496202538b3bef2b9a845a42309dc1329547bd79d22816c69920c8d2da8067eafd5f3c3724237dfd4230163f508e02d0aba6d38656b32a69565dfb93db00cc590f26fdd6a794f711edf5a837c70ecf33b69d52e0ffe8866dc3b4222f694ee137e3ac1364a0d08f64b6baac58b1c4dcfe40b57819e3066a451dde2bbb0f0d5c1484e54963bab258182c71107e9a3f06e3130b6bc7cc368c62bf103c57ba9e5f1f8d9ace5a5b5447d205f61a39c2136478b60cbf171707293056c13bc437dc4de9100a62e6d3a671d0666f8f00724a852253344bad645ee510c7b320dabb2796aade96c757f762ff3be76c33b1c22094ea0d121155cdf769b284dcd63a941c04237dd3d3dbd2df49eedcf0ab9e5eddcd11213070392e8f81dca7813ff0754ef417a22ba1ccb9bd3e52d094307af869a2b6b9f153b53c6f6e8ead68f2d28abe34dd853c4f458a2ba80387223a50d7f60c9819c81a6dee88f83418e4a915b4462e46fac9763d0365fa51960a0104e102d366b610305e7891abadb072af24250b9826839f1b85ff124634a53350941cb3005422a5f6c89813e48ae3c9231a042ebeccc43b983ae82e1540891c78ae0410f198c9f2e91c04b63e01118a39c6f683312c60f4ba9ee8c664f1a0ca721d61bac083253ff9b11339ac867d384762fbbe31bbd453a63662d5360dc0535154fdb6c40563db78c9e19ddfeb36955c6bcf2d8dcb4fd2c22478b744ac400cbb11b2811ea611f9850847304d8e032e2ae94e64df34c55fb5a9f0842f5f79bdd4b03b1578f10a563698b1cd44ce4b69c784dc5ab2123ff7255f332297839488601ea1e3c57264a3985369e179ab51e0d8c69a040a44c3d87209bab13d45b8b36ebbf290892ae51ec76d8826c1dbcf9f0d432c42fdb6d51c2c8caa7d000a4985dbde33bdc9016dbb041bd38318dc62e8423a558feed52f1691b275f35707a764d142fab5ca554ba5265c0f6b430b4806a2bdb2804be0b2faaf14d87480ec4b5bb5a56c6b493faabee89ce3f62baf113bab7721160f91b7c9f79821b8d1aede23c05bb754d2a20c99f40c6be4ec571f4bd5a7d599ccad74caca9ad6c3d20ecbb178e63bf3c76c21915443c41db23774902fef606539379c25dbfa3dc4c2aaa792ca8e6cefb5f73f88d7297a55fb09d3cc8a850a2ddcb647ed4af4a02bcc29cb2cf78916b41adf844cbbffc6ff68d262dfbdd96e97753ff0641582161ac30af1ef7be4a0a7f29ae26f8c38dda4e46dc859297debd772e11d966f547e1df65be81f4c7677e68e4f332519ff6266bfe7e34550ba6cf48babb0caa38131b999a0b4a57b5d82f2bde56b270ff1301bffda15ec3b7f79db30b63c8a5e273b52eb87afcc18b44a0c8f36d54ba88616f2df108ef7f9090dc28b6c5525258a3099f4da2b60c37b2deac6b0a2b3b000868c32e226dc210596834dd5adafb85b224219a189ca4fd95f6a0717bea9aa01f69189af6be4e6c7b966cdc81a9df3664f4bd95ffc1842601c21251fe6a3b1941f37fa0f939be25749b4849d7657bccc4938389597f40665ad408045244d529b26e5f01fbc96bcc892c19b5b9c7b11bcbd65e5106cdc4a876d1f0934e7a95529f976801d56d81e674163346dac27fddb1c0e6d9fa91e86be40ac84c3f2742cde1eedffec0386b0fe41f193ccbdf636f198f73a19594600625fe077e074d2163d977610fe3d7736291762d2c5963e7eca6d0d9ccb488d839f0380cc34efe25c2be7bb5ebbe7cdc4c795c16545d624fd8a5ba9a015834d1529605faebb15d32bbc7bf99e105168879bdda0cb3fcb0613ee6ea9d797646634066dd664a92665198676ac17962b50191d8a94d59a078d3685772625e1e0d84b863002abb621306169ec91b6cc3c502fc87748f06f8fa3326bb4d063d658ff1329133bd1d9022307931fce3b7e7bb1aa2430c1439c86b7c2de4e8a795eabc2e4c55d4795a0f9585c613c26eefe67e70fafd2347f2952594b5026c4f0dbe232a6c4a7b6feeeb46237255ac1588d2e38fc1677920c74c6aa2054d535e229b21d74eb406b516eb2eef36b6181a63f0f957542c8dbe6b5107754d79ecf2705b9816322282c49e0a94d2e42d3b37370b491234ca3dddfacebf95726ffa6178cdbccbcf0dbf83895640cf320946003d56eede785a8fc4a9904ebe19cc9310245c068bba6fd665d3414ba7a0bc8632566901f588774a11bdee4890d726b901ca046fd4a0b8cca94a4d65725958340ec84db216663ab40575c93cbfa79dabfeffcf964bb75fa271a6eb496ca941adc9c620d4ff3d5eadd2f877b64b37e9724597f44fa22fef7fde1aad998f9343301a4d6c36c017c19318f93fceaca58712eba6574c2cdc8f53328bf96d687730d7a14c46fa87357c3e87d3313ab40ca05791809aba7fd402a3f0bb338639a0d4af37f76e2280109ef41bea35df62bb9cc3ab4c9e530efc3c7a48eae06dec0a68ffe2670c76e0c56f0690f2eea54f8773eb04c68a72efe35088203168bb3ca3849703dfc8450e9779763544994ffbe42966a851817e9ef1cab60d3635c7953d8bdb3b4f3c86b514394ae2a5d2f70ad52f701131dc46c0dc44a9ef774d6c9295efb42386cabe58f5260facf497f70c5ec56a9e872b4745efe7a48361754e515adf4ac1fd7dc07b9735edc9f6256fc5a9a7e4c4c187fd4da63d2705256af2582f7676df54b13ab9c8de8e177ec559c69ab71e1c54fb7f01dea43fa388c9aadddebd127df86485346b2d1f0dea12b9451ba1af6d91ca820847e9de5594786de268dea78f8a8026b4528386e794b7ed889974253b1146e3082a5bafa6f3cbad39eac0e443829e1bde46792f0fd6f1cdf1e5319d222f2a76975ff6c40ca1f17b33b51d282d68ea687803111f600e1e5657d9f287ed80c3b0129da294d1ade2e6c14f6c34656026068c9f492b3c944fc82a0cd215ee33f519a4582671a1dd841935dd38af1eb907da40d72e40378d5f4a58473b1a2629848d4f10c0194a0da60c334715b81fa11143fbd2a419e0b9f2a401db5c1ff0185159bad4bc3215c5c7ffac6e16872faef0fc3271ef1f8bc67893314eea77aafef0fdc74cc9d8229a72b19fdd22daad110bfb0be73c974766257abee93fcabcdaa5ebffb9a0d525b63eba1c217d44d86a2767601cb2f65eb29976475b12a9b494e78b9f9474d8fb58ab243f6ab10ab05a77de3f55caafacdc22bf25aa75eac726feb60eeee5c8a0c96f82460f1411a7685102138d049fa8de08288d0382e6796621e53e9ae86e5b4959f3b96e9ac2f01fa88603a0e0d9cf442b232da694972e805fa65bc198be5d69821dd57050ecdb8ee4c63fad004dac3470ef382abddc17a3eb352d99581ee312441fa8ca3e4914759c9dafc6fc66cbc0dca70236d77bd67d259e345fa1022e542aef1792c73385c2235ff557095c888810fdd3e980cd4c7d68c7cd683be31cf8b8a4fd2890de03151f7cb2d8324b3c87469b03381018fa0637d4f79e3ef5d39067cc57a643bc5e4bddc8d653c7f20a9f1c9d28d3f07b580147ac5331594983faf22aba0afc3df61d1d722b88b2c23f32148897df67e78287b0611019d3a26fbccb06eb021686e08c567db72fa46786fbac74f95fd63779b41c18e0d3f26918c542dd7131c78151f5aa773e20c24328b0ece816180936cc41f730b7c83fef7d13466027eb4daa0e8acec36e1ecce06221efb383152eb0083f2eb61adc4b57fc36fa817deabf71648e9327925e9e56f77a34ec8e619c9bf06c89c696531a0c7d00020c2adcbfa830e3ff0a678220d8623bad124f951fbf55084bd73143001059e298f4595cee4cfdf72c65fc45e28f43e3981cad7e57ee60028e71cce1ae61678101ea2a552a3a03fab57ffce69e144ece0d38595d80f214dfd3c49b5bf227a01de5012d53389f0dd8aea1254565b2e9e0f2e4661c95108f9ba848290bd3ff03b995771b3e4f64725c4302857eb2ad02e5560988461d3496adf4be1f9956bc1f665b57e02c86fd807d053699614b290a70d2b17719d684895bcfa6c5bb6e7180a2731a10e1928c1a6b00d96cd104b51a7ffdd58ecef83ba0540532c478f03356c19829e14b91330e4ab50bac628958df837bcbef5591cf9f9b3dc84ef73de061c7f75089438e811b87fb311a33c3433762bcfea660980ebad9893249fb5acb9f001c982e78e6f5a36da5cf769eb009353f03331608a3c20b25acfe88a0c5c2474973f52bd83dc8ec1793e5e68a443e619dd04de8130c88ccd198be4318c16a401ba2eb03fc367757ff153646b860fd18178b16dc8ea66388a31213efba50461a1e8172bbf54dcc9a1150832b064d541ca6c67f45e0251047e6ee8e9133face6505d868fb43e35ae19428579f73e87994a2c6bb13a48974fa60977948a3304ec9544ea207c7bed9b5bd8c01f672d2cb8306882efd0146b9b5de8c7a0fec7f1aa0497b49416050add49926506ae21db61c3a68234774ea580f26538252507eed91afe53fa899816d736b525de434769f131461384187a5de93b9544176da780576f4e1bb4e7b6a4af9fe2d3c1ea72aaa8b96ff31a543657b661d120fafdb1389becc532184bead0fd8ed22d7d466f3d6c5893a5144fb99eca604af6b4def3b358f0afce02d50666f53a31cde725f8c9d0cef8d6496855a8d2912dd01342d307ba017aeca02073943eaa146afdfeb2c7c6718223ed8db26d9398c11705d4d4119c51b2eff9cd52ba6ad5183cbe6303513b535c2995e3b37bb53292929360afe2b4c68ace2c4d32e7b9ee3d63465cb889636863da4fd046e8b98b78f8bd8cc224f9c29519fc095bdfce6b1fb32e3a308cf18e2f30fe39e1c6cc44f872a9cfed626dac0fbec19b7af5f7ba0136cce66fce0da6cddd891266a9707d0f19c1a6235719996595cfb1387b50372d6f0bb45750599845ebb34ae0d406561470ffe832147c28bfd2dfe4d3716ae0885c1891ac430bb7ffdbb294975b36d88164b559be2355d9d6fb569a26882e13e7fa1027ac9ff43d92b68ef1eac923f3624e28f4b612ade4e78faf35aef1297fe3421cef3ac9dba2e35709a72e417fe3ab136bb599abd10dde3fa5abfe03c20a4a847e72410827d31214c39e7403b1c2911adddc4e13235c93347379c80cb4d3fe9dd1c2231096d495cb262233f2bdabeee5cee9c8ca499978f893d695158e835076ed49249b5d5b69e53bbace2d2f96f5adadceeaa381eb56dc789122cd1ec9f5c062693816bd0dba461f329951e3d1f5efa1aa848edec8d9d376256e1dd068477f6a5e491d36f0c8da32d99ac4e1d72a6b5f12bc7e8725259271c687e8274416d6dfb5d5266d605820304b8a170a69d5e606d9da02d071b39e369a1d17716c0d8bff9f0130cffab844a5138151edc6b66d33d63dfae2678d257eac499886600b9cfe36a3d2dbc9a2201a9ec076a14e13590dff05ffa3e41f80038d0f3e007adf0ca7ad63dadb9ac8a471fbf845fe97acf9b7e6f238772eaaf6e42314019f87c0bc77b1fdaf2bafd1b6a790e2505205802fcaa6bfbce1611d8652b7f399348c3a5e6a05cf95fcc6933899198ae07aca72e4f0fe0cae8959270d8fa1797a7a3c6299226253328bbfc759bf354befd34e707238e7af1e0278b7f0fe499994f62b16cb49d34113403cd394e9bd1fc7db6ec1350b7f189be905d7b9e1539bd36e6bee2a16db3f1a85d0a4c47aae091dae6af09c0f505a9eea6d3edf4bf2435ebe86eaa945f21e3e046b585421e64512d8cfd494a751f7f0e072c0e5dfd126a84436bc21a17bd3569580cc085b538e638128d9f1f45260b98b66d908a2515963d721b6cb7f3ee583f3aaee20c20816a2db5972df0a83c4666a1085991143483be247c8fd5881f148fd001dc7af2e802aca9f79d37f9db116c170440b264879525cf5314c494f63773dc46a7bef132bb4ecd2626717614557b62b355feb981339d408902a7e1e2cb574f42c1e5f2f7e0555b19fa7e9f4eef8c96357eeb337a20f7426dd65ade6a55cbb3b99779a393050c5f3f6c2896e687f7d953ecdbb1128084870d61a07bc18f54555a4cf45f4ae82861c885cfae409ee9b3c08151609e31b9ea977dfeb4b35af4a7c59763db05068cef33f6f5b172ee6702bbf9943946bd1cfadb7807d0caaba6c45c51f52b078328296f3f50246d8c64109b69ef751390e1557b77a97bc877d87eeeea05fd33d0f6b3206a850f84d175003c12551063a537fde9aef3f2bb5fa8f778af0a28ce836fbb284f09fddca7e918fd9c182209d0be8304ff3994fd393b2928e86575b587b611386b474496e18d08dfe0b43796abf30c96806a3e73629298e244d7e2dd3d266866edd581862f033df244a6d9f64d26d76b9a3e2f36e4d3d20c6d3144a34ec1d09180dce35c50169a6e8decb512982bc84214c74474a14c505d654c758e48c6f4d773e93ba61a00bd2f079d5918c6d1bd83e0adad0bba7f18eb6313296073c1b3694f61004d15aa49d2294fa5ee99f6779bfb66edcc807736d7b42953a635d5223339d13eb591cbe43fea4f0d353ab4cae7c0fff8b2338f53f25e632c0a70f87b22f8b396c997e514ce1632dc268f54309e301a8eaf28f3f07d9433f570ab59fca2d7d2529a9e6e0024fd3d7f6a96e791350905b6c1dfd9b8abf9fc3e370dbe7b3533057b8d9642b7692d46970902f8ea87aaca741655c500775fd9e87dbc2e4aaa92bb41f5feecaa4daf849c88fbd7656a271e94928ce372d9ebd8ba73b02617d28fdc694af1bffcd2c0b50360a8a91bf299118e697da4ce01944eaa2bb019d88dbd059099499a7c4f59dad0fc2b5d332f0b55539234f2efe760a6f864a1c5f3771baa7f96c5671d90177f8c44badd23aac1805c207e4466452fddf53c6055fd13c6d6450c58c559698d7bf834925ac091c73dbb1210d66e1fee8734409947c1d3efd6fe063f4205c4843a72207607aa02da9cac80ff1793f8444e73fbb1e389cb4787f1b3e42e7c7877d96204a90043b55dce17575fcdafa69f8e3fdccb098c5a86f1198a48283e9ba807014c29032ea37319b7ae83d825ab8f3d6f53050cfb43be6d425d141aff95746ddf72a003e300f4bf961714ee28046e131e1c0bb2e492b5d728bb291de93b4f096813294dd9f16cd24cfbe4ad1166cf885fa69d2a5684f08046a4ad660f29b07f866937bc54ea91270283bb91737cf15365f43c573e681203c52a6af47d048c460b4e97fbcd6a3435b322a8deac4577ac13a7daa54fcd27cda8c091bf9ba54de4cfc8ddd3dfac38aace49fbc947b51465e447240879742dabadfd731063ed346c395bc5d5b3f92c63dad093e54fbdb9f2e0096a5aefbd1a751f65f7312d69e96c389d37fc2972e3e3b96465e7f95f884cb8f58389b7cf5ce5bffc3d50fc9a8238fd837739e9773b523afd09b59baf0b2eaf81c716c4863dc0c107fbcc5d24ff07aa1543285015083ab9d6430e051fb706b6f5ca06b1d51cdd788d52e7d90451f895b4fa6aa7408f3e8f70fdbd1480febcf2badf744b984e3613ff9deb0f42ace20c2dbaaa78a457b04d8eb507d677853534e98f56cb43ae0e115cb1f25705b542ccb41be422c69bb29f7dbf87735fdb04f12092aa06efa91b3358bec980f5db9d5b136f37cc7224fb3ff48643d50ad2f6d6b6bf56eff6366016233be130ae8260af48b2be2c6b81a03744c1e28f5a350a925927ce037d4a86bb015cfee52f1fb7f12a62e2af74df4b3be8ce0ccd6302cb04cbf8db36d2eebb9dab551f7b75c633d8159c45690bb4a78e48cbfa5cdeab8983f9bac66e6e0e87a71d5f4a7a6b3163a89e606c7497776661dfb1751779c07724511ca060d48b3d8008e44b8a428b74c498ad6233dc3588374cc68ea6991e50146577a75a97516d8f944f8ec1905f1b4ee300e932e6d580750b63019654462bf8e0bca8a527731205bcae17dc5c4b7f29cab909acfbf3de35f1a2b48b5923e833422d21bfa3561284870e32e91722a4a12521a925be3001858c91d40360739395ee672f3f5f588bb57701aa4337167d7f522dccc3ba3327b29b01ba188fb7133c42f87ad7a0ef0153b90950fafee75ff3fb6ae7bd0b223712e294fff6be6c16587e3a9c2c49c325ed73583c281e5dfe1c1f2bf85ae1401b29c1aa623d54116b3dd3a821de9344b7c5a0f1885a52caca998ea673653ebf0285742eed8e835bd8ca8a8cb96cf41e3f6ad2d5d176175f7da2b177c42003648b770b6bf62685452a4855a72feb206c77170413e20ba1604af70463d4b855b0f0485ef65f16915907d86f8705c6d204cfa746c49bb7001e2261e313fc051bd293012beaf66b863a94cf2bacf0f2e632c4e60b5843303430cb0b223137394af88b8c890553cc80817e3e7a8ed2ed8bc3be4419593f67f3526d0d2c1f3f4b9e06194bed892e8d5bc3200303419302787cd58759d8ccb3728245fd48df3ac6ee132fc5be34920cb00f057908cdd68428c42d355ff4f3d398e8df6bf8d5385dc95cf55368dd038c566d021fdcaed416d4ec22c9dae0dcec2c04b6c73ceedc3773aeb40f81c22c511e715e4f90f8c8c9eb2515ba03084e6000e3212d2236e2d224c536fa1591a1081e26a3e33851a33b2598d5ed124e77f34304b9469f886f519751db938e5af9b8e5065feb026abe4dcc578ad0089b458b3681b3d937841ad71795a4c029545a4324b30ebc17149cd78ec38736f48f6989fce2328d90e5006fe5e583dedb70e7308a636f4e092594cba8860805cfe4b8b7069a02fbe09fbfe57d431d8fae6e96c835bac33afab32624e6a1f55f4124ef06d082656d316c151f0ad97ee2bed166d684014abb9666460c6dd6575f924031022f867d4421a19d0f6b5d91b5f96e6125dd83b8c8e3cf094397be961394e39c86d56a1a1defce3312f3f623cd699fc8a5fe6314500fc1c8b3a91158a07bca1d4bd85a7723927e2762c93644a4e63e32535f77ece3bedd0e4a4ac45412caa2c24c7e5bb1ca056dc7abd68358b225ea83b6320a11834161651e26e4413521589b5d6cdfd8911ab9f25aad30facd0cd23191d59bdfc85a7029a52f5d2a76963585d9d6c5eca0dbc58f4a7df584d376406a21509e7b18756738aca43203b5f69dc3097919b8f822e8aee9405725cab0c21cf27e1c961cd95bee28c8a4d2822b696c875bb782caf6106c553735d5ba416a73f4c14effdb855fcec8414045c8b671951dace5facfbf525b58c86e3c4d5ca215db8a30f8caa24d4250dab5d07129a75818f73dffcadbe4cfcd6cd8bf2343579148c2ee613c7db98f2b907aa0b0d364702238e74e39c16bd6ee13d834e499fabd43bfd803ca86e8703746661f59d50440598c8b2585b5174ceb148858eee1052461f077e97da3eb8f3b1b1f52368043c3e646aaf4d0645b12ac7c1515f6c300f2c65bba1408a590cb634bcd6ebbc675fcc04d6f713348df03a075009e6011096c509ea0a37f3a3ab5ed94365141e28883d99589a54f15c6e4aa71a7731872c3448aa2ae7ca7add925c27a2a0505aa2ae12f069c7ff428efa6d7c7eae31e7a78324162986dc876cf6bdfea0b7ef195f443326f2381d2a47bf2ae43a996f0c793557abcaee707d8b0eb8846a5cc8289b980f5a30e9ceae0d1892090fdd45d901a997184e89f7e12bc9491e95573752238f59ab570c7156e45958bb808ce0d65f258fc364b522e25623579bf519a839156145d614feae4beab4cba66f93b2d9b9671a65082062d55695528e5cf862a5345c3dd673d42874e31c893205c84884b3e04700f5c8423de3c06e30952c83e91c8ae1c96a668531907a8257b9c2237cb2bd28a1d4c1c30134128132052e59af661b020f7aed84d9342dc695bdcf87fd86ef22ed51b08b83f6032c3f302e27ed1d316f0e10a28d83b01aaa1d411adb408af75d0f87df388e7163ddabf3aa16625feafbad4d0ff1b4302f65aea359563139c34cfb56a50b85277887a7c046c90605225331765edaa164e148ba8f1f4f36f6d06de9162fb4bdcb252748f7c95726035cda9c33a3bda8c12fa87d51facf5e48951a9cb4359e7cea821cbf20e0361afb9d0ebb6ca4aa60bfd9daafc58a1ec4e6a9f6441a50073f851083324ecbcaf54435e0e92a7eca25f0a70711d8ea3b3d4b79bee9fb238dee9bff580b36cecd8c6590dea95ca5e1eea88f8384a13dd1dc6eca6f6d81d42ece286548dfa76d4e20eed42bc2e2da7bbac132664a586fa36ca1d4d7d6c9986b23f91fc51e67f90bb78059189452d4c7a9bffffce1b0f1d59951a23a2aa656b17a15d27c2b3edafc5923f5a5ec7d8e057ea9e51f6c29260c488145bd0647c5137dfbdf603c41cd7be16322db48e4d24aa0fc03a64e6e23b42d60d042cfa1e4a96918ca5d7609414f8bc945e2d225e593d1637370a21e706a07e6af7a1002cc08ce5396f9de5ca92efcb46fab4146deccb8c99203a6c7c724e866b43f5327fa496412541fd5e4df7e2956d5a66dfeea26a526e27ce2f018429da291361c911a0e408d61af64e987f0bbd59229944a782eb3f2e4a0d473fbad437ed9ce095171d0a32e5e310cd1e41cb0f4e14798fba02f7718175d61f069ca9acc47f9e047bf83dbc76fddf821833ab21d2705ff5048ac34963cc876bb3c7fcf6bcf6f74e924859c2854a43e5a419fa6963a1f57a862a4e47015a423d85e1f93af96da184286ac54e2d9e93e3a56851a95efd4b0eeee8847569f80d065821a9ac07b7238c381125fc632cb64e7e39d77315228cb60550ec5a1e1740157ffc01de3bff157489e39710470470cd47d780410c598022936de55467e4870a87754e7706fb6e835877b79232c2b6714f4cc3d046e51a75dd5ee4d344fa3eb97b9c6aee4e77b09d6a71d25705e00925d93ebff52df77f343c79dba794b07dc756b3e9939d6228f1352e20dc5cbb70acd755fb8247930f34e82aa321a6d0d9e01d0ae728ff0ffea68ce8b3dc4183806f524893ff34b0ff1fe6343f85a8d9e3e1d46b311b157494bc9755e3375badba3ffd8ec009c5cdb5c3b95b5b6dd97bdb60e8641cfe8be02016c7936a6c5fd3ef22ffd39a3e933da241b0645d0b482ea9a4257b90847143eafa8c66f052fb372ed4fd32fc85f259c810baeeb23f580e9a7812d18034ac7d6dd422537b04ed0a95e08de83de9facdd87a550cb1afca4138ad62cbdcaa33d3bae01ef3ab8f58aefa769aaeb4b26f50690622948861400bc2ea439ef4d3f71e3b4465bb3176cd557c532549c4bc506da97d6b9bd88e12862374ce2b39552c583edf3624149a91bd6b32cc76139566fe081fba67673ad3213728882dc46ded3a46460c1b0e9dbbad3411ce3e9d8d03ae867d29db319c889a1a50c28afd7c4ee8622c5f6a73b02d805b15f7a5bf9270dcd1e76532b98f4c240dd280a7e46f5e0f88e961e6b8d64cb6791f3a25c5eec7dfd8a6db66f70a7d7dfb8842c3844af288e2e15cd6417ed91c238e6decb0bcacc752719406ecc139360631111f79100701462a5207e691216a1f0e6f76f3dedfc0de391c791aa13ada7107195906a021b9b6f5d7322b21714905389e68a3b689379a0761e70576b44bf217a03b5b2abb72b5c056c6d774b12f3c39d65873f803760a06e8e922b479dc4c69fcc037a6c916290e5d59ded72999c2f97c42ba0944b13336e4ae89308795b066a35cff0b1748f51d05c32b56e8a6c3f76d33604c5fe63b40733c5b3a6bbbdf49eb762ddfb92e3f080df2140667406ed04d7c3b7565bfefe7344b899ca3e5154aec463f94cda3a2a3932a70dbd4acd954b7ebea3d96a2c26da685708faf3d8399f57d0f4866be57e5dc61a46499e1e407e9f85ef0a827957017688f49d96f95b32b25329b012f2f8be4164c5bef881a5ee9b89d6c9ca32e0344b39496fb04e3d56612dbe125a370c2f7715471c988c78cf099687913bb66751e9f14785422456ff4cf64df5389c5f6e40d4299631174d075cb07894f3296291d2f9eebf8105","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
