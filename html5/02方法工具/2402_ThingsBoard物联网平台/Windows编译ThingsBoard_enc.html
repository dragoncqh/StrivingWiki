<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e6f13b52560666a4fc1f495962b3ced2ab40a824e18611188d4562bc65c2e0a9723ce16059ec672cead94c9aeb1f189793fdfe158f1cff9e6c3b1c6898f933b78989ca86a1154316656a6aee2d2e692f0d9eb037372acfce01b1685e8a4d21bb09056d8daa38de457cf7a6dc8c0bb913677f4c792018cfaa514f1b3ba0f07acd31b0f5356aed2685fbf5b63178727fa1a64a6007b863061ea6e8277d8cdc6b14beafc98f04089b5605ee9adef9a22a14d3ee000aed8e0f4c6f62fa13d64a0f8645f1d078a1268cf54e2b55bd84931ae48bc45852c31be7afa2e71b34491bc4b664f14519278a49c1aba7189f2e7af5f8dd631ee0e83da1409d4e6ef5fa87f17fb646ef00741d4fa2fad1ebd7fa45242b881f4b19f42ec70503dc248de8046aaf581f270a900cd90a3088584081a7f67af8a8667c09a2909ba960e6cd3301ac2edc00fa5ef206098a6d7766b168384d543fda977db0b9488a1b20475b1c5da673714f8268d49c90e5f0d4d0853adbdbacf5a95eb56e057b437d6e034a2f0ca59b95fc2df017eeb74ddb1f46e0f7c3b315e083168ee16bde46c49c1e3e0b7e43f80b840d9bf2ac27f80943a03bee0c01b74072562d81e42556bd538537922f182ff74f572dc6d90777dc2c7103a5e4b75a255f791ccdebb6b62f53be9b9cd9e9cb788fd2bfb7bc620aa704eab8f69a7311e6e7fe02f590257e2fdb6ac3af5100b74d0dd46391dc9b3b7c10aa3e913a3f1414ddca409750a88a128be6acf4601030466471f619942d9c107657db27910c61786d0f0b87dd7c71c06177ba52c4ae7fafdfbfa4131f85238980d358c2616ad060d605358089317fccf300f7f26d4744ecba186e1cc7f6672e5d00c4fb5d249f5c09a1c2c7959f629e2cc3399cd3dfbbf525b1446af88226d9e4b88cd067c0664e925a6eeb5b03d676049b293713eb10a6e94d7a9a4f3b4c33854dec0a059217f566a02e75779464211305b5d2f6a0c988e40ca1ba39b1b7e76bb140ef483e0f90b657a5807e096c1f98ce4acd6a733051a6367424acc3f52fc8e1355c55d45f34b0a0b8ef25714326b28c7e82aa46d7ba5c2c113978c592a36c1df05587c60e0335c2caa067a353f113d7c400890401a84fc3967fcbc68229822a796f9bf56c745a3bd69df5c3dcf40aefe4db83e7e7b1dce40f0326e9c3f69ab31e1bc2910ea5cd08e8fbfde108a4e3e88af97ab69975726f8a216a45ec3e362b7d11d24ec5df04570061daf80d4b3a751993469cc83d9c28e76d447cc3d8b8cefbfa9f98e44f36a40e7d2913c3ab5eaf2e1fa53e13fefd85bbc051a7de96ab4b2cb1f6f43da468f822d09da19af3c643b0513f6c8246eed05e30aa70136667c28841e517ccc68ff30c58c38b4e1c149c50713aee1bb9e5fc54c32e24af396c06ea9a790d8f996bebd627923ecd5999895b55d417c4a21f65d6dd7f5e5837c5470ea08d2329e454d401c71f3e17ea4387cfa1080a47a2ac143feefa56f8f37b456b5f7346a3962682f079474f9e9665cc890868ac39ba8aa57e79a3773311b22f4f054162cc4860e8c4c3e10b83baf83d17e552b20995fa9c700d42a0dc94de3267927363d5cbb88a16b84ba30a26ea97a91da250945f2303232d8b2354b9731b156973536ad86188278b7bbb64e5bf9b754e8e5372fbe58930e83b9a95cb64c26b12a9a0e7eafc250f130b1e9ad3eda3f3946a88ee95d7f5c0af8f17d38ed3290c2ff5f49f1d0d0f5be2bd3cbe0c9f73d1a80e1506cc43860c042f2f481e9ab6444bdbdc84d331373a49a7d3a9f2672e8339dfaddc2f3a7a443ac99e2095d7eeb914f0b13077c2032eb84d9098c8cafd2cde020a4e5c1dc8d942ce6a6fa02be23c85f770c26724d3ecf2970286ec23fd508a85aeebdb0646fd39e3efe2da32cc7415591bb44ec8066decb7e3dfcbc0e13354be64e184289b07823df96702ef77566dd5d126eb4daa4ec90eef375860b5e22e25a0766863bd3338a0bf6bbcfcb321a209475502acf9ddeca46a9e58c9b576162b030651c413706a2bf45aca1854cec610f8b3a9b241aaf8a0afc84541107be6fc9e858d9cc2df3f36718a1395d346d34cdf047355f8cc76cb25da9973c0412346f043e138f92eab8eda70be8814ad910f67fa43ca1db326c7fe0cfd92cbacc12f3b4e672ae348547217588dd3cc02f60dccb5ddc2f5a2b3ccc25c07b8414e321b8daab999346e7d92815b3dce6c332780405eb0fbb6906ae02a8968bdd9c8053e17b6e76db54bed66eb9527d7afec63892ed5b2f009f8b65c3d34a9cb89257f34b865e54109470f3a5019de125c639e8506b7ab8a732f683c84abbebcbc8d58b62904468a9212bccd948e1f1d3720707b979bf308ed04830d80e216359e50098e56151bca3e972ac2981f7e876395c1da33d1bd69a4f304175eadde20bf0ab81a1f268286a4504baddff48bd7cb4d8f1fa9a42e3f4776b971f7ec1fe4c8a8d6b89ed73852be2ae02b4b8216f2fb893cea014c99ee5154e14259d0fa99707111d758cc32e43d2a2b23cbe5b39c9ba3fa4fe0dc3b5bba203d1a202c996b3e22c2b739df7997cb9858c17fd8cdd0e3936b5724324bfa003bd466caa031b37a2a19429d462e09804d7a5156d349792f9f76cc8af70068ab38cbaa32a14830a4ecdad6d941fa78886177d0e6a06ec78249c74865e7e729a68c2566b517f5de9b0f4a964c5b57231aba24c242b6cb8f1b75b014ca35a2d59382db6d0d6d0326831fb734a532cec21177f31c72d311f8f027202827d2250746471d42485f41d165a8dcbdcbd52da593bcbb2c8c9e52f2c110f5ba85b348e5eedab8e44b73a98b504e15ced39de5e452fec48e3561055cb2dbe2f6298d44d9efdfb3c8edb1a1793c9df570ae3d61b4aa1cddb7bea0bd4c49c95ae24de74016cc75b1cc74df5bb2f5cdfb3855861bc5ff86e86a4b4263462791d2264cf2f17ca2e1d2fbcbb0242ec64fadd9d4874d81dcccfd63aab3958e784bc59cf9c23be51d4552216813b18bfd492a22ecd6272fdd1357cf2e902a99b387c6121ae5eb5121eba6281e90800569b6de2893145c8f0fed9ef1b3acd9c8d8b7e9f0a0a489f8b5fbf3fcee93e0005f58e082032aae277847650a68621a478feb83ab0a96db09f1f577338da45ef9484ae538ab8378f578388dc77b1587809a9ae60d5bb00a56ff370c51ece967ff7bb5cd4de861fbe049435db236f24b5b2bafd01cd5d29daf4bfb3e1c45d79db20dee7b631776aa734884af9b64cc1192bfbef48e82f6c71c81e207a0085ec9fc5e99fc8cd5394d013e6fdb971ff1347f1d63ef7e635bad8dc42aeb9ad4190658340573421d1132c0d1d13a909203e2a441140c96e67c1345389f0aea85af84cb96c97e344d8ad7432b8e2aa3f9778cd360fce839cce728604ed47f61a0516763f080ce774a6c4639d92a6e1fe5de7198375238942e9982187fba8d2d46ccd2c9424fcfd2895d69249fe9f15f090bf805a875ab36107dc9f03ce277008f200d2eda26358f74d5d670fa67ed1d6b7ae3b0e4041c0c08a46ad7f8916680f261fd17dce7966f40d19e130408992d0ec617a311a927fad212a481821af90fdd7f2c3774828d2c7f1b919461b3dc71a4d9a3af351c58edf66c99d831b2f1f5ce6be168e71a027abf55f4fcbe293652d8ae8b85e35cf1b31a34bf71044def6fb471b1ce8783394860bbb449c4bb8cd4e700c62de3ca0deacc5cd06baeaa03747e82f2a84bf331c7dba3ab863ebe4748dfc4d372f770ad17fc44d67d2b8574694154050b330007ece2eb6f1a75b8dc2788ffe666368db45a7f6c7dc059eed989cf47e07177b1165b66d428ba22b7f084004a3c024746c40e43d502401aba2b79f45d7ac967ad6ceaaa854d19ab9db00b98f999e374115dc1c47ad0c00014df8af8dd5d21c4653ce05664edde873adf08a38cf14b22fa960b6e3bc9a25d6dbb6e94d0c6086f7244ef79f2cbe03af36fcb2d1372724050076f8bf041df3eb53ef222be72931e91a8e1984353674595cdb81ea555ce7d8832e0efa26246c19a79ee38b8f26cc9772bd0e150f1f1162e36bad0572bc038383f0f6fe701b7eedc298bc289c419e35f83c8cfd3479b41a0cfe505f129e256ce0b9a34d5f5d916fb20ccedc7c033477cb369f376924386c17f4bd6c16c68e6539f7de4e5c847496658b75dc25b0f7457f86188a0bdace9e10f01315cbf7b5c3af64bc72a3d7031729ce433d9592ccb606c80f6f2b63b6c3f2b10263ac8741374349f65f070c89a69cfdca31f303c4c4e62be14b9724fb66df548a82ad4766326d2aed1db1336fb2aa1abe9479c67051d4771441b468c4b145d5b3c08e668c59dd4c8a2d07f0933f7b8fde88ff8ba870f0362461483c5fb6288568c0734dcf122b0ab07bb588b92086dde43cafe60580973921b69a360825d1ab15159b24ad927a4b9363280a3bf85ef09830d58618efc5b0834b3be7750c00fcf960d2cd8b907c30763d1b6f0f635c88b1b3bcf1c28878bfe795ff5ed002cbf94b3640054f57c8570204bfd0dba81bec017078ad5af1235f20c30cddb2ac8842b4e0e3aa7f7700e1fca9ba3a868a81673dff9a3c2b4146d394ce9fcd9888648d365f054376590dd3a9fd81ffbcda13c40db136c54516cb3efa8ab826e8ab434ff2586aa5ac8db6e588750a075418b4188eb6c849788c481b57e6510c99cf7f5ffa2158a2f0bb5493de2375a1cba10ac3e2487e2361e79091aaf45e1d467c8d55b9acafc9d8a119a40d5e45fd2777a3ab04747cfcb869287123f44a96aea40d55365fac1f11e59b53e47961ddbc5905b7b0723cbaee871632c517ece7a19fc68f9f8e95abd30d7bcf35dd00be435bc67a48acb3f8c402ee5e1b3ca903b6d2418852211605f51d8feaab12f8709add8327f119c6c3e974d48adb0c9284f6ff1bc987586f07554e7ca138d5029eb14a250fd72ec966e2239f69af7052eb6f82585ab25226e47dee57eb200aeb1bdeb2ce384ce97699e58f94825c2da7a4f9bdf7a5ec6292ec1919d77818bb0bfc7fdeb6ebef30b1a01e63f30d35ab507c2f7acb0c082d828adbc107591d986fe891b0be7f3f0f973497d7f94e5bcc671df83df8a755877506e41d082b15fc85f20d1f80df40ef26e7c0659e1e45e114e6cb0f342facfc1903884b5bd3f32d00d2cd96fb66af3a406479233083352d6706640278c51ac3ae96c925b51ef08d7ae837225fca339ae611fd2afbd01409caf1f15f2ce8a757ecc2084b080157df012e95e82f60c8ade588c73272e28521533e790ac9536ad618b9ab802212bdf4950281b58676357949872f84af159e8e374b624fc4e5ead2ea72cf30454927b5dd8b0beb1af386c712957d59b7bc58a0933a83a3092f5c99094fc9bd079385726440671716a7e4c386fbe63b2c1da732bcf882cfd1e1ea06156fc7b4d86316fb3da3a329a0ee1944784a710b1d8f50a3933b77b76b089646afed9f5722d9263edf9ec342ff95ba1ad329c6032c92c594fc28360616163743fd0fe4960a70f8399846891b158fad18ce87ebfab9462659ea7a3f416697dda4a8f0484bcab91b854eb6683e5b3852f441c55b98aec0c841e5bd208102185004197ff463ab08be3c5ee7bd0b6952c9e642e0a6cf4480c59bc29812d98c2b790a3aaec2c54efbebed3cd366c5c3f38cd3a855e4bf00eaf442f19e1309e667d69f2a16497c41b8188a0ecfd5a5a95d2e7636b6a19b9709122af97d8fa5fac054bc1d525b1ed5a15e377408bb3536e02d6b720aa15f893f8e87edb3ba76a9a253b8f8eb63cb7b494a6a5ff25b3c9134810d0bb1dd5911ee636630d2de494f051e64674cc3114ea4682bfdd0174132016458b56919452d5deec16ee844e980875956dbaf01394c9f801cd7fa5e657babb9d257ab597a4d4d5f563b8473ebc07bda4a95c54090cdc450106bbdefe35ee2d2c96bc1dbe76dfe9232fb850ff8859f3f927c09af78d0f1c785426deb0866700d1d32473717804dde179f2af9a0f663393bdc2aea29d6e65ba98cd4f95861913580ed3b3922729a7e8bc5faccadb70a72a981607c41a22459f0ab5cb1504e10f25f63b5e76b5f5c2d0d359e8962d17e802df8f9cd8fe5ea6c20de08f5fcd596b96996696f9f744623f74962618a610c6f22d6e1eddc1d9679b67a02764e44e01c663db7bda58cb8f196f54cf374347501c5bef1079ad61eb6f6fd4a817c35f65c768d3feac261e9d8e9b1b2885382ce7ab97ceeba11cadcdfcf60ace4c3c639a61ddea689b556453401da3d14b990ce2d61a9ec28ba33d0ed3ada73c2dbe74f9aad8dfbb0f64fec9667a1a65c4748a330602ef1be9d5412432207848ae1c5684bcec8c8ab5580cfa63b52ad4d63c7636ccbcb2c019ba3514207c7f7dd2f1dc28da433bc301950db4b82b016b5b463ac48a2ec1697696f0d86386fe6f8ec4b0e1b25b29e4338d8cebeaab6864f90c0a10f2534d86f97b3e8c61770121a0f0626c5602e30aa93b9f1c530b032a8526c379ad130cf872a3cb6a93605530de55eafcc64df2490692855a379dc3f532133b6434b7aa78d5582a4907d8ef0ad12526e4207310b7090f605736f8efd3e3b5696169f61e475e6fb94bffc62c6917071c5d0151ba222d7d4cf3693a848a6db94c3952d8053de646485fe526de242e4050ef01ca0aad4717ee0bcf4a57da1d79916e961639047b90d8b4ab3465547f8302769faab02c836bafea010daff2b755cc541ab0f04e48d622d5b84cc11b3602adb5193d112ecd52bbdba0511f16aaba1a75ec7953cbe11f88870ef22c91c638537572cf0feff30c96f685d1c15ea3bca6a95ec90121190fdae9df558e859e4f62085f87a76753463b28f7014f76b4f50aef3b77d4cfd7476ad9eab2facb278a8907563fa34594e034ce413bb4fdba5ba4f6b7f6015c82d28c05a9b7206c9b0647e6cb6b67835964ab3551cf91b0d8e4a454c9d28c5ab6d90f7a4536fef147906da609ffa0ddba8c71e0e67696cedf2cee96743e2569cd88b26340abc4369f93fb2be807170ec47674baa26d3c6f9ba0f08cf6ec57bc63c4428cf2b8da94fd3699a7e1a52986c0d7c89ef950a4fe52a4e07f70c280358dbd666ea7a5b79d4c6fad5dd02dac3688f6f3fd55b0e74b2e2a5472f7cc2801bc42b2eafba751ab87ee8a018d14b4731f239f0d4b984ffe13ddbc25a14d9b5d27dba6949f1ca045cdd6de1de04bb74e3079c225d98c8e67ca4a5189ae61b5bc009ee1d531e3c594fcf0de6f09e133fb0e7c4f714b678ed10b4bb38a01b7fef0a15b55b91413f9ab7355f0b0e3fb0426420589a358f7ec600995d496e588a94922515a80e575bd7b4414aba6e4fd72a17646ea4244602948902e83c274096272f4941f3c7f81b548519f70e944b16317b0b4c2446b94cf5447f359a86e4176e63f69a87b3f428f52cc940024b843cfe0153372cf3c1c9e43b5b83bd4eddd786a79c2a000f2820648f7d099bc472e86f5fba2ca0dfd97cac17083b5db199f37e5f412a14e3c390df64da274f61db6d3ec809aa0ddeb9b624cffb4712ad588c718b2d97d7cd70cc41f93485bc547102710700ab3e2648edc5e4f04daf87955f0e492ee2fe398eae30961504fbce457b07eccc3eb8e595e21cfec2818ec9bc16232d87053a282e46401f6c02438d14c7df2f172109d3b797367cf8daa43b702a59d6894c3a37cea1d33f226efb3ab8e43117ae67a8e0687a4ff4de723f4bb4141383a4a3c4989ff3b5798b1e54b04b363bf042bf1061802e12ee1974bc0c04b74eea7cc992e8ee6bd10e32219645df2562367bf36863649b1006ac7f536830b2b4d07cc59fb8f83be7bb4fc71186a5d3fb2411ea6a63af6ff708a9d04e761b97a1703db8881f3e20b73810b12f3b599313ae83a7ff73d644f410c2b8858605ca909df478fec1690efdbbad44dbeb1c4de6000b73eb102cd2a338b80df0c3098f8c4e546cc9c567cccacf4840de48e82fd641daa8ab1eaff8e7dacb7ef5cf450a06fd0b4f130cc00d24ef9722091f6405e9bc2168144e21ebcbf4148d31f3360bd78a631c0688f9102d674078b8cdac292082d873651312f0b83312c1179a2eb71e366def3247837206b3b95adec690b4d248939e9caf4280048e5901fc7830cc80c25e70beabb823a7c1c968a93bcfb2d9fc6f31fbcb1f80c20ff351418fedca633212fd694604f402e253475084d809edd99f394ac733d4fc08641a5eade6b2feba52c3133d40d781baced0c700d6556385ce02fff1de07d6c98421f70e4bed38fa763a81e9ed054181ba9c966ada7c708c26588a8a528fae9aa2047c23b02c3266cc2f9a3d56a091c60f73b0e65fe3489497aebc7c11d87f4285b1a77023649918037185cad4690ea235a13b5eb14df46f2ab807b99a45ab6e22b5bdfb74e33b12fd044bfd1c8dd1c37a0626b048c06fc72de67231d81a98bb2c96e0d403ea79b3c48f9bba4dfcd60fb87c79185df9b82a7a0cf462d7be8e1b9856a38e5b1feb53f82876191b8872c5883fce970d804c6b414768ad9f16b1c1f19cc34dda7ee67c216cb98aae31570977d100a7bff440512f11f945baea6860d87ea816733c09a61624f05220516de3f63b40218b6e9782e4aaae24a9d8bec2019043e4b1404e03afcf0de607eb5bbafdfe13b223f7871b7722e0b69fe4c0e7dcd7a9c1b3d3303f0e305752b6e8a4fc2f5e830925e95116a05fe525fe85a84bd8bb89e3ac42ee4ab72d3fd1ee873a3a27ffd8fbaab4e65406e65da46a1c0bf77df741fc81cd4d58ea490bcb2139d6573020e058e7919d9d246337395458b3741955229b74d31d5e3ecc3716ae78296e2630444f94156db82423860cf3a82e100c526ec55460281eaa793a5c4b733ef7bb69be42590e4e357a15b7e365abf41defe8f1a19f3fbff6427f776d54fc4f9a64f3155160bb225371eecf2782bb08ba13b6033179894453bb1076a36523bb510c450ce69e19374f1ea9917791685d684285a67f96d302cfd1714cfac0be1d50c5b0ac4fc6aa01bc13c6762ac3c88988573bd2bf797590f28580f8e769606be26073efae01290486068306167546a0bf132c74a87de1e9013f57a9cdace289759e8e20f915cdff6856733ddcf405ecb72d75fc2a2bbb1773337d642f0ba4481f75df69251d2c49355c9bb90c8e9d28309eb0272bfbd9d6ddcc643fd361ce99e650b0e37a35ac30cac301df4f33157ddfca643fbd64347b018e53e7911bf111e8d3141585cd8de583b7a4e29ed95856d91bbf3ff77590b577c335dd0d08cf9b14aaad47e5079d34d39b86f5764ede2b03c874da59b7a89b24ad263a98825f5019cf78d57b54d030989d85a6cb4cf000dd34c15bee0d435355cb4f79f71cd8753c9acac71ef2446d1fb8e95721f8bf640cd7f742c675354d794d847c0209bd7b6fc315f5aa8f18d74fe2eb4bb80401c8597d514dca206749e6cbd12a1a4343923b56d54d0e113eb40a4cf9910c0a384a8343fa77241f6ed59ecf646db6f24719acf4ef55653785b04c28211fa91cbec43b74077de146d2e96048d58bc866d74accfcdce42d3330bf4759749fee5640c1051eabac1e4dd2cf327d964ccc341dd68d02570f3577ea3b85f226b15b22d873bfee515ae1eed9353fcd7d98a46ddb2d0fdd914fbde1c4217151a52f5bf380f179cac809af7c2db2ff5462d4d3bae0359bbb14dddb0c264e4d85c82f1a754781e20f9cda5afd703fb53433bd62a1ce4f39ce9ccfb012fb7aee69a72b826c4bb24b3026fad1f0965444b9f743142bfac3d2e0d5221639b964e9119021e8b01ddf901549211b54a6d6bffc6708ec03ee9f6de5148afdc4ad1ce98f760624fc3c99f3a6844a06283832afd97a55f0054b3782a803e977f3e0c2482f4402a94ed31c99b139cbd690b0ed9582e32ea93bf0196461dc3d004379f37ffa1f56f651f09aa47d30d9f4c5c72ed9e6bdef2d2b08c982b4bc9161232c4ab23e3c288dd64161789f0806d7dc2e54bc0741ce92f88099e73380d77bbf2f4f0717c04b32c22479bf4c1d881daf66067bd441b8e7ea4e98fb69558f3e6c9af7f29fb6ba2ad075a731ffd01aaf9de2fbc325c1981dd5cba97f8d8a18a075a41ae9ca42a8a300983b5a4a9bde65c37ac84a60df47c650fbd2722cb3f9c21b327348ca71363e72edf6a2ee93c53645f14d01dcd806e7be5aee313ac7a4a8b641f58deb1e1c98a06f737a220dcbe41a228a38e2e9052d3b9e172533cf30385537718dff901273c64eb5837ce2b9ceef620c764e2edf318cf13c18f7d0829c49900141eb5cdc3bb222584c01d1d1de926d8cfe2f550e4275ea7bc144e77491ed92a26f8e009cb9c9986d02459144f37b516db04f414dee8d23a899139447747e275bbbc5c0742794870dde6ec58760f09f88fe8abac0d3204b839d3537180fbe68c73ab767b8f18edc85234c511cefbee8bb2c07c9d5806f837dad550c3c0140b322f5f44534c69d8ef5ca0a073afbd75b6e7b6b7b321102b4ea97854d6001b9d5558d2be8e7274ceac33e5ce6e3471e37cd85e6a49e2517627c180380506f07011d18c5acde4040a31a52b2c531a0d122d328b854b534f5e95574ea2276f74d7e3715ffba12c9a63681b3135764b08975bf9af1957e64a385984afe5ab7155bf63e669264b4377351f7eacdcbf83aeae587b19bba0f6aa0cdda41de99880beeb67ac888af839ff1704602c7e1fc412349ce5cba4727f811a6d959d3df9f5b9ea0b0ec4efec87342a61bdf4f5980a5ba2b0a3f2eed17e29caa6e0b7ab9d5d31eb06110a52728cd70eed20704a0b8148be3a7425e4fac9c1abb47bc3bdcb7a7976326138cc473ab05144cb030cd2698137369fde2c914376106e441a276feae4ae545bd97aa02d61b75d20538ad744d0a8fc27c7afc1408503fef8d63b10bcf2bd86e3e3703b8d3e57c7cf4e814531239bd028c563d3b2e3854996d7dcdddba3669032a6c4ef341565f835980a08a02ce7500c826131e61cc0fee83a0a1fa0baadcbcd1fa00b9d2d1330793f61e325f756b585427977171fd584ae80d9b6db7fc010c806861676c2bface3717c15b807690cb09d36cf2884437d48efaecf4c07a7b3c0bdeeb7671e9e270a1a3fc6bca04486b7c5094cd7d01d3c2b2081f306bfa9805f39c0aaec9b70f2fac7c70b28e99cb548b696f2c09b9b404f11028d47686fda28025b57408ed4035106689311f99be2bef94c82d9b7f3c53bbff5ccd02e39defc97697378b596defaf5212a4e3ba3d636ed602b69a81cb076c32e450545e2951d1819fc9f30a56e908f5014a81f86f43748de39b250ae85a20821acdccb5644e65212a420e6af43199dce48a86b41146820aceedcfde8b20391229e8429fad3a4badff8d5867fb7bb062c2c415336fd93f6eb9015fb90ed649179787bb4e4906e896c9d1d8361d0699693726124eaaf4cfbf1c02121cc77bba08d17332f4b120681aa9eb7a981e06889a6cecc0844e5f1bdc9f05b67e15865590ad798886f699a81e89d395fbae270b8d5096e2491f7c170d7ba121e9c271b333e902403c54a54aa7145e14e0dc9e89d44c4b613a1056b8c8e3f829bca695ae321638b414f66c7a3004cfe2e8b404c99c590800983c321a37b0d2a6546bae43e2e6d386a3d721762c88d6692e39f8c1e335b5d1132383b5861a8af3e79a7c522b461655e5d85c00ad1d5c37bf7b106beaad6e599e4fb2d59ede51f02d5d00a749935ed8f6e891debb8715f87d74b2779a4c0b3a40b320465578fb31b9891197ea83066b1ff60d5893cd5140bb782310ff8a6ea72c72ee42020611f6f70cbfd18e8921c0dbf37d33354d98158d211251156b73da736be5fbfed6ab515aca40bc9e319dac9cb419d3bfc9224a5c1a822728472d40a07c466d3ec91c9ed3f352837a064d87afae48953f8a3734edcbf1869c4232045370c56639f0c288f19a62fc589ccb0daeae24bd1570230af8fcdc39a23aa67294dec3051fcc9f48ade62994ebb2077bfaf7934ec507d13b6aae6123116250cf8f2dcb370193351e29f35fcd16d06e0932e440142a08685fd22573e40b5087b32f7178411a921b4b7ae0ad8e56cd969629476f48bcbc1cceba3a40231f5c5240a820c74918d1f4d93abb432a245b8b59e1b947e3f80e52d66f74b5c98949c5b028ae6428a1285fe69fb4909696c8be315f21d1bb5209eedfa874564dcf3d545e999b4ebc42398c5d444c663e62688becdf6cf8e679fc9e5a40aeac688af2a5c6dc43269ece848ce567037499023e159e59a876afa458992f0ff63c569aadad9df6936e8c3c3bbdd8a08628e459b66f9186177568fa69732db8a1076a5ad55a7e7c48bd7966efe0a53f621d1fbadf4e762ef8cd33d1f0ae5a3807c76179c93cdd0d74b09d4d4b01290620b61f6b61f56a7190112ecb712c338d7df7b31fc0c94803786568707614487f91423c268c76cb9b97f8c17c1cb0407ff417c8ebec1d11983729a7cfda32bae9e2716792d512a959f50223faf3a8f71924f2490704c1e708e67cd2d15b12f256cf8d23afd641f69f0130c406c3597fd80bce7d461de3d2043cde1c652b29e3a829ca0c0c4b60d60caa0d26b3ce9a3794aa1a4d1e7d98ae1dd2a2d78523528dd750fee7148fde10d79a43a47f05a75cb6d5641610d5ada44793b24f796cc7c1266bf07e86fc88359fac59272569d5ab91fc1ac760b133c64a9ba7c1bfd4c46efc79aebb892f4b01afc0a261c065cebf78e5562356a2c7a11143fad6a7a51bb2f12f6b4a960a01d80f6a18dcb2228d44db3a32284cd7129ddfccba07f36d37a22363c597b1d122d00feff436399ebdc7d0b882e99c7d1afbc84b3eaa6a751049e08ba49b677cd46528065ea1e2711e6cf789a3651ad5f1e0cb841595841855e7487635ac51466890379f91de071c02a56cabbe57edb983ae41753c017e48bbace7393964017dc6c08a218f364502badc5d54ee2020358bbd7e609d66d0b00af70e5f25772ec98478628affcf8f8607cc45380c403570e8444b5a7243ece65fd8039391c611b9ffeefdc5e434656999a93477fb23d5a2af1ff140e94059733da9d0d9852ce9d2bdbad3c721c69a81896e60ed206d63114cbfd733ebc00a8ae760ede470bc8acd5627b2a4f69834af67782c5b188d2a9a83101251f2c1cb34bb883f53e7c92828f88ebd81c72fbdadc59ecc2c2c3afb31b08f154ce50cc2cb05258e411fd8d22c4f84465a79a17e4c207020c1c12849ab5924845b15731f338e8f24026a9135010d98547c9164c80f80311d40d44830ab56ff4f57bc5440df720bcabe17252aa66eeaf7b98fc2cd90246095a52b749cc342735e5a75cb1dd86cf1c5b7b395ae10ff26fea4bb287bb3e259d1decac22bd1f7bc68f5b6f6d9892adf8e15d9c7768a46b45946d5e6ab53bf4f4438306b24eee4463d0b2a848081c96916ea2d67dd86d4832c0ae91ec2bdb00e5aaf4888100fd6d34f639e2984a6d0c35b9797357f70617007b521898132906b2d3607ee363f579dcae902e1cc48bee47f5eceaa4b247dab4cd824096be81caa20fcd2c490bdd4eaebadd213fc54229c2b9a8afe8ed88f9b348a4993baa87416d47731bc042f65886322a0f394790ae6eb89a42c9241d6704524563f28a5b2bc3ad92835c45b3a820a1414b54e70bf447a4767531edc0257d91796bf6f87d3101aa34deb6f26a64b8a1f25546b462f4a2685683a80267f359b759339de096dae018d50a9be4cf7b4874d233a842ee13fbf31f50c9587708aa87df25c22640dcd4b8f62e826e01dcf4be34323e116a861d3ae8537bdab853e0a89522ddbd7fca22305f9e00dec173bad9866dec464da3cdf98e9de3874acdad7c15b1de419b3e824c8026220d751f191e20854f09517af2288cecee540934dc6f6239e0d8d9b161dc69d77016abed792d7d510e234afc2d08c81618ce7137dab878ee025c35ff8135ac52bd064bf4c991d6feac3e0739a2605bcc436850a77b2b16ee9e3a11a7acd7f8283cc544eb9509768311ee15e07e98d21323e1cd29281d39362eedaeafd09fb5d4663b93b6b4188013ec2c220595fd4de5647c47e111f4703b76e77afd4c0978cc49ebb56c8f5e5f96fa1cb442200fc396ca96ff0d16244ca9ea61551b57bbafa3143e6982e6a4f0b11e4553358c72f6fd3f8f7ca9233d2515911158ce92e2f0b8a96129e3bda39d96f9f633bcaa4af39c798d1ae147369348c219b816b7fbd16390af6e3e22042fbc1541c8a6906ed1d5f72b5b9da07cd88f6c7ff0db7952eca2d5ca9bed2b83cbde0d6a35a6a1a9bbdc1e70ba954f8af89c6c76eacaa95f8935b3fe55f93099150a184880358131f1054d438922d6dcb83a986c349c3e0938498914a05f7586816ea65ac7f06d7be7bde57aafdd2cbc233476960bdd32bd10973e14bcc5d075b8cd4386d90b1c473b1a2df53864ee8269af230ff1d9dbd0f52066f88090e0d97e2ffa538e44c34f4451b1de360852187fb08f160ed8b52330bba8f0c50fb1e4baedea83d04368c1d3084dd6da4d138c689fde67156e2d84aed0cc26f682dabb5908a2dae8443282cd3f98f3f5e3f25d8aac092b84d2bee513e4e513811d13f71d0149d55fd6e4d45503ae4d26fc7b22c476e444d21bf5340a0474a637b84adf365b96600dd41ac2c846886ad5eeefd55d0405800be64836a622c0eb5c80136f4037e476c2987bd3a162117f07634f9832ab1a164574981e7a01575213dda4f795e906a3f83384121d4498afb44068bc237be2017715c165c6a9f6ae5ac6b6658853e5cde1354fd66439a55b311067e1ef6f925766ed44dca2a936050774969354f62fd9df7e38bced0ca1fc4497f47f74af76a4487a5b2fabdb7af1429c3d915dbb4a8025dde0bd498cb4f14e5270fd2b2505b47c7ddf7b62bf0f7d369cec27e14eb2706ada04a55dd6be187e713bd25067a7f9a066c8fd85779b2a48bec686aa8b9bc967f97b9ee9f7ba846eb4a54c1f9036e1437a19e8848c54f7ac8562948eb59a0777dddb9f4ac4dacd5d9c4e2897df70b97302918c2e7e25860c46f07069a2a34de343eb2a5809384fc6fe2de226588d60729811b6d33342345c8312165d3ac572f258e1f6d5b2ed5651c8328073cfa358fa1d37465af107f8cbf3c4e528212a3eb21d21903e269a13aed4862e7c83e07b0bae7619b6fb0300d1b2482b059771b16e0d88fde001150d7e1e1debc52d53a07c77b6e9c130f810956af4340729277dc8a052f25b815e7a2b365aa1f22484f9bb7de2c8df5086269bbcdf305b6b79e2183eee9c829d609852c30d66e13c09804dae7b19406f4b30f06456f70b363f1ae5567753e9822c0854a406565d9583fc421668c1f59dac535b811b1a13c8cedc50d3bd9de7ba77e918d4a130abd76f54252338944f8b36e8f71b922082202d13e1861a18faf0fc6691a1c5dacefd1aa64f17edc41d190d9807e366257ae5b6b680e949767998d8d4000a179b521e24d761c2c63849a5895fb8b98af341c238611a77420dd093830c1729d598d3ef42490c1a18d995b1d1b21b02e863e56d244cc82e81fa3875c613330f9269000e93b0b8e3213bfb42f480222a02a394227d05bd45869ca9c27934fb937e9ea7dc934aadd02a73a24ef6430cc52ecc133e1ba9d109af9fa20ce8a6bfa5e2c5ac397e79e8f46e0e7ab23f50f095dde68f1f9ab14ea709e2b9339472639422a182391bca609cf47cbb9587cf0bf5d0644fc0cf5701b5b16f623fbeea38f600262ce9122de86306096ac459c6b70110570bb92b2700628ba7939b08f1a977feea97cb711b6e24f4cc1c83dbafb0ac07ac2792bf443bfd3e9aa65894abdf52ce0f4c2cf5ed5de4398ae389d0c76cad0a63495a977bf8317d5d2a430d0687787968a66805e48301b1f288f6db21fe0afd8efd36c552619e0d99036df879ad5e366998650bebe92c189d41b78cda199e888b78b8cd4ee7dfc381abfc2c454f36313126c2a7c7df4433bd780c72862a0d9f43d97a5d847c9140cf1ee90f88d10911cd4f48a5a253436b04fe05842ed9d1181463665c0aeea522b05c6e429fafd54180884d79e372656a9e4f4e66722ac88f191d6697441508bb6b497edf0bb03786964c944ac738469886f44860a59082ea3d68514f526ac5331e927035093829bae6d57aa5ed39a864c5539933685db1154e2dc4db90b7d87c2ba58047047837188092ffed04fa2612e14a605cafe049a4c59a7b201a5de49a9eb6e976fef170275d8133d7eee975b438194f6c4e0c9db780f2fae8999cded57fa960b13f499e41ca552f35b1ebb451780faec55d354d2ef5893e5768ffd5e14d1ea6ce4ad3ef79aebc419cbe31337eb7e6101c470f4396b3f7c8854b3f0fd4aef0c5ee5f126940872ccacde00ca9cd3c187d52bca22341e686b333e5a5144102c0594e5b6810d05a85b1fe689f3a96e5ba963897e1ee0f930630b713216d8271e55acd076a5bb6ae33b604d97a309ae1d586116cc110da4b58a8cde40d3c63657ccbc00418cfb99505f79354395b4de0d14b6d9a25d01e5c816466d811526b806207556825e5245570dae9def810dd065ae680fa36c827b2814c8d92935bf136742d7afbdcb31a3d6c52a671acd6976f25c3227db0024957625214782f8a9ff7b1231fa2cba17a6062d704acd420c9c1a12d944791b01805b836dd0ad1352ede58c7126f08d41f8daa3cb4a35e6040155fb355b3112ede794ab34b6aea021edda637a5e8dd6653697c3e2361312f69639cddf4e704817b759afb21fab23edb894050f2b5d417e74e03c144d134ee17cf8c95578ba7cbb9e21d81c6dffa43407253c7b54ac6678bf0d2708c8d89253dad562d6e18af2965e86cbf1546530591055da82ad47a204edb56863095b1a33deaeda6e7cf81e55cdfb05bfcb02259d53400d64425a19d8f1a0656a1f668f955438284c9dcbef4b19af16d9683b4f92f3cf5a0f7b948fdd29e139e7073ec67191e232fff4457c111da37f95a4c78f90c234eaeac225615605bdd6b9c7639768cb7a374c53fadb626ac028a9724d79ee5683456ad4915f44aecb69930981bc503ec889a1445c0aaa8af5cd98cfafa4d77ee8626e08d9c35f72cca0cc6b05efef54e326ed61fecad74807b9ab18e2310ff272d7d4d3a117162304e38282ff0c8d5512194a5d529a8dea7467d1e102956e23137ace428185ddfece77491336230097a195d4619e4de9545879bfebc763dbe3619bb88caaf6d5367d2177a26282267bdd0e28a52f6a3e14b4b414cd09a0d7a6c05423970054a82240c6a4d54794d1744a1685606d2facd105e4dd6ce902d09048e28717887febb5b5c759239eea8626846bde716d74c93dc42ebd7b17b9c2522675f4a0f366603e156e7b1414af1325a7511a53a6d49661120a883a47c76a315dd44382520c2c80d3d9cd0c31e1f7325ec6fd518062fd78bc9545f582f1c7afd4c0c9414391d5252ea860c08f39076948ea73e6cb83482f66e05c255c103d34a8fd4728fdda763f45de50d7a71925be14863a2b775bc1d0bf537b77db8bd8ff7d33883a94cd92183f3b2725382a5c8c4640584d4432d05fbaeb7e19c1ede6351321b98449096f6bedc70e31c88437855708e5f8879199761dfb9fc52d69c05aacf930f27a2e0dc1eb66e5ed770fdd2ea74e3eec53a645291475e7dfb22e2ca745eb6401f8b252aafdc9f9bb8500cd49ac7524fa7e82689e9b97994a1e0c8340bf2d2b0c5dbfc910f97639497895bb36606708eca5634bd2d81801d5e4ed6389957746075b29a1c30da7f2937ba3a7dfb18d1afa1d8cd7f96125bf1cee1f665f6fbd4901a5bcacdadd98eb0b6ba0557cf0cb3653a768950b776b3322e1335271f991a3a72e842b6b8017dd66cc2cd80418c6a33d29e7fddade543f90d23585f2e57482a793e38adf06833928afd7d19ee48802ba608d072a6b0ce67633207a2a746cebde71cf1ba31d7d980883085cdf7cd2b2cfbadce1ea95a4bb6d1b3855b357482732675d2d2847003e364b6bb4f15cd8baffeac59461fc1b9b634e751d22868f4326ac5a70cd5fee6d49d76aad258c0fdfd4d6c544d747017410a64659a1b8233ac515cfff8162f5c6cc42499f5fbdf7585d0f07bce44f8e6d406f90045f29958ac8de9d7c67f03961edaa150d76cd4697e93607a7f0e3f568a922bba41efb32c9a4f0ded46485efcfb7aaca7189920aaf13a732f4ea773a9604734d1c2743b694ede458ebf629598fe904e64dbe25055185d2aac509b0c6cd86bc532c943525dc06e4de871875f9f640818e6f8211bf964a04a78b43e209a8892c0589525a2b90a3eb3bd1009b0150847cb1c42289f4af164d3565284c69d2d542ae2464cd79d1458ceec9a94012f4acace555b98a2613e9c0c9bf135cf47f74e0c6854d3b77155dca0d8495506ce12c2dc8dc0970deb1e0b5f9efee6b31bb6238eec0d90f07ed57f1b3151c652f924c0be1f0530057dde2279a98815ba85abc00c38ffc9c4d152d1dc609f10356efc6afac6cc14b913a2867eddc3effe08c3c9c4f388163e9ddc28dbdf80ba34cb73ab3107ab8dce96e05815ac34317d30ca3e1543d36e1588a048019dd9d15300bf2550e8745e143e1d0baa18a1863d069d3b8b88746eaf6272a418a528fa301204004da5f0467d4fd632de1ceecae9255a4629d8e564296cfe63b9fa388fe603511ed988f7d0417141af56eab41ed7ee5dbf038b67ed6b84a371f7988f3d45a6e73eec118d17d3eafceed870e053ac86f8bb7391f9ca96f5b21673d4429c9e849c0b664bb7d3f22536f12cefc64b0fdc2127090291e1687166aa754cebf556e83e32272ca944885a8aa2b2ce8e4faf0b3e556a6693b9b2677a95b46a2f88c551fc622cd83920f20c97d29a53edeb15771d043f2a7cff0cb9c7d0bb5e204a9f5ac08f43cd5637714a280a90633153681cfc517b0ecf357bfca20b6a721e8fbbea0099ff73ca1afea1d17c16334d678c4c560c8069aa656401d87668aed9aa79ef885fef2b233abdb801b6234424bd49524ce9115e3e3a704873d43ab5a52c0726527539e44fc11bd0c06d5973ac8364701a428375c0d0f4e5f4e8e11043c7415c1da0e80489bca0ed4864f47d057924c3a95c619b083cfe90e0e8d811213149c28575754d25fed90f6c5930de64f3293c91932fca501721e70b60506ce2297902ccf80d17fbbbb95de6242b600045d0251a0f05d983c3fc792a9751584d74715bd9c0911be589289eba0d0f7e72e9097782dbdb29d36232fd2a575c2b644b1ead24695d21ba481ced9357d6118b785a3c06641ace6763dd4316f3b9d7d3fd64a6d8d0cb4329b5aa2f180f7162dfd23aab86b28c41e076ce2a906b9d4c2f5de5b15a10cb0a971709ac06ca25dbc44e3c2c3e62d5184e57698d2528a3ff6eb7ccc68f103ed7373d9ffc911070e69d1b8c52bcce91792fc7fddda6402d27a41692799f7c961c9d708ed57e5e52edffacb3ade29abd9c0678196b00cbfa236ca4d0b8c1369a013824998207a0b04838ebfdaba13ead582cb0ff9eaf4758dcbbe65f24730793f841447d312b6eea7bcaf99c889594220ceb77fb6188934700f9f723c957f590b86493cc88d60258e07424824814216a7e2d30418cea3a8e397519577631d15834710d5b89857f5aa11e161fdd560412245f34d93608736f002978d37a4534d29ee7e77945fd21c5494507ed005512b25a60e6a117e2248c5fdb53cff923388f9114794a7e3fc279202d1b556d8a9acaca44aa5d29d12bdce96c636e27b52ee66d669a9f44e89bd29fd49f63b9f7f058039faf717d32bb1fd85b2d0f1d03966c15c5ac1c7be5e3a4c883db7d0d7571a9f61b072d089fae608102b63d36ad5ea4540eab3e24cba4a9be1aaa9bf1f76805bdcae6b52fd8524366380d53b5f31f3b8143e59078adfe3ddc73aacdf8c305b08fd4d6d5d95dda035e16dfeb4cf8aa04e62d07645d50ee2794212463a9dca15b4d13cb96df4d58361b27d389dba2abcc578663c149406eb703a76390b16a7f03f84e42d9ecabb55aec3ceecbc97f40cf6ad01b879d2632bdfd16f96f9d454c46513d5a4f00627261949ab39c6bc3891245f04f7975e647364627e1dea509dba823fde6dd29025a378432b23a89686877223cf61f55ffaa6810c0e0f0532315e2a265e36a69f65969c403498023f4c86791bb36be9ae9f39bb2bd4ab8f6b034cf5c96d687eea9b6c306ad9f4db84f348d00b561998e33e004db409fb46352d9509e2043804bf6520d3b6645c477ab7a09d3341ae5e8a88dc44e305bab5fa0fa98e4fda356a2c0cf32a435031054d5edd530551359a5fed849a67b4844663c520943187b6ffd0f64e2bc776884845655aabd1c9ea6a7b298cdece2abe558418b732d8346da805f07aee106836e4b92a505f780e11c56349c5ba79af0f4db6fd32295263e51547944f7ee40556de1ab3f6267081901ed7439f447542701c200d22c20d51a2dadb4eafd874fd46faace17e5951617e53018e02dd70419ecfac568bbe82b503937193bc5cb10118c6c0af97a9bc7c28c91acf2d7b2c48054276c2bf8ada3f7c34266359602ca3e661e27e4ff48fd759cda306b2c1a206503badd1e2f4ca60b63c0dda8f03ec858fd4c072c4de043eb947812541d3650169db821a2b9d4d4ff902db51b248d927fc96dede90062d8823bbce8b20d93a5f3014444eabac23021a11b47cc4720b893fb56fb517d557f2b4e9cb4856f1b4c6eac51e446b304ca8b94e77913c439fa7a80176efa6a4323ab26cf365e5aa697323a722208110daa3ce50272255fa1ef88c4c00a28c3ccd42d640ae8825773f32e81f89af5bae53ccce8a802a9161869f75b01c3ef6b5b0aa6da4903b08fedad94b1a1ca96a636597e3aceb6022a288a141d628e3599131fa08b74f489219be0d28b4932c5cff24f25e21d61f2491165f099a76abb4c817475405b005a1e23124985c5e76b91e4e5fd4c79840f63880af13b6084116b017c4b9ff62527a45154af77fa1fbc228499a70a62feb1e08de0a5ac4de138a8bba52f8ba4e60243600ee59edd29712274429cb5630cdb3cd5de5169bae5e3a606b1d463bd03ff764d83ff75258e1d1e5e2b0785f0d66524685f1ef130174a8f60ecdebb964f9d7511d756e03ba6982e78d1b3e9fed61ab7bc6c2ba620d9f242333b051d7ef6fe495ade138cbba25a818acb967e8a1378b7e53dbc4ed29d2bfc843ee6d85210933b598932f484a5a8dbc8538e39da9d3530202aa3bd78c3a7b0fe6b7caae44129c660b6c4e8dce6162dfc04f525bee72d64321f2484a1fa0be7256d6b4f39126fde6c3be8a6abef1a64a50e33f49806bf5fad6864437146b3b269cba3ce7efe846565bda8fa61436693a402393811e9bc8301e409a0ddbdb78fd80937177a6b44b48c0ba8013989902e1e85caf093a5f2c095aef1bdeefcd1fd78c9ef50cc0932a89cfab0cff3d51c0d9ee99006ea0bbf1d124c240950f41792ee7eee5c4a291d4a5c78c9f913cb45b224c83948f8203761d1cb6c0d809db3468d5b15745b3ae3842f4e548234e3b73a00a8f1f41196169a702ad7194f838c6015071f7fe6ccd94dbc0971f681a4e0fb7f77092a72b823601f9b0c3141aed5b1562e7f4c116041b9b87a1ad42f04d73fd731cb35af8a0087efbba8b44ec4c17975d4c0ae8aef24250b6c59575f6baa6f57eaa0c85f3ab63998950c36d08a149f6af3332bc6cf88993213e830fc674cd757488b4831ec0e061cb20655de850f61eb7a1ecb43d3a56f0533c7d00f3339b005f8b889c10c7bf2c3f5ed3a522e9362b9ab2cf051710cf3034dcf6752abc3f5daa036519f7a5e39b99268befad2973de659e0","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
