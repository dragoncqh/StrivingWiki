<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0e3255ae4e68bb8f311147e1252330f6194cc79857fd61e3258fa3388d32ba91b4a1602a39677aa7b409f5aecf6125df7c60ce70d38081bc59b435d25eded5dd777513d6c4f285c6b3f52e39434896a554bc7f1679073602da1041ae262473d204b2206a90ac57da0979f14d95155914279cd4b64ff57388f50a72c51b8c93c7a3394fa5f80892bfd88494f9f2a27b4bd00e0c29b24d32a50c8acea1f4b2e4eecb89eb3f03d3886aab3c4857368e660823caee882082dd06acd1e58bb4a00ee25f8f2abbc973e247f9b3470c2e783aa48a7afb3f386c569a27fd96f1c67f8ebfd0636c30af16c472130d55a924deff2bffbf8b12c6f207bc2db26233f149a760097f168fbd0845225f4b83f51256485c786e9b3d2721ec26e2f88b38cc2366f524351185bb4900e9c19481c0267458157f0875847ca69abe69c9655fea124e0bab92257149b516076098d46efa8ffd374075c29e44965143eeabb978219930c31f9d8cdd860a2b8b2bd22a4447bfac1ff8d43ab722924d7f23d35cb1bc3f37d5e6e8236383a007a0d290c466447e4ebac43e105492caec1da43e5188153b5c1e437767fd286201f5d7efee5801203ffb8ec191616c9b57295fb54484d59809ed890cc9153f74f9d938c9cf83e158d1b9814ffcd98ea057d4d5afe2a5181bd7bc55edf2de7e195f9ead0c049ee620b8a709393c3d8a79ee5708e22f28a6e204470f79858c176e067ce349e8e2d8b9d4368e10ef76ec27b18c57ccab66e7509e536f17fc1c204050eb997c53e169d7afa3fc9a304aa09fb7d617608e639a930c7f3bdc9b9db0ae2d8b7ad1160a6fd1f8090c2a88a863d87daca352ff1d4631bf311f03d63316ab2dc5aef47966622917f1f4b0a7253d69f1f325634a9498a57de8e5d69f4e09d568b967aec451a7001b92d995ec63977031fc03efd10312f88a47c854454aac569a5893fd47760cb2889958369f254c4951b4bed63f8862a9047f4b94d0a63db9c55098d5b1ce89030ea6accc219ff16d5e52e1cda505d210e21794e6a9fdc849b1d06ff9f5df468e7389477f5230126b3917283a3b23b5b5f00427ea5070ea823daf499904869350f0840977cf9bd04ffab44e90a733d13ca66a12bc4aa6dee8023f2e9ae2714ec72b08d34564cf33d6b57912ddbef2f0c1d0ef006fe8995630723a0850a322cd79bd2d83b85c257a0330ca317811cfc38a570ce632fa2a0ac980a37601feeddbf536dbcf1f6f056d104aeeec4a80b3401c2ac9512b070245465bba49227cf1d6e844467a43650e8bdc31ff062667a867951fa0f2bf8d69cfa15243c418e012835961c92d555afb1f20e3f2bbb486a3409f25951b8dbd2edf18942dc6d081cb0d4927fd29a1f9b7515b9bd745fc718a6a7ef5e207c8e2a783ca384164854a49fed92a016d7f9144a6c281639c2263f7560bd908c1e7a30e01fc6d8f5d809b857b8b2db01e09b3d9d246de2b73819602074f16083e2f88f87354cd106ae30aa3e9986c7588c5ddece6bce6e978d006981ee4be0c2539f4cf149f7ab7887162bac5899a205654fbe1c966db7780ebe9e9cea4faa3a3325b067c9d8cb5b14761933e4bfb417c69080bb7bae59226a1706fbd03a513a35af2e9de3dc3cc739819a5f84cb2f214bf3db832171585af3bfb8b01937f7e014629208cb50b14522ab4f263947e7343a697c7b6b638ea829b5cc869122beaf6f3ea975c2efa4882f39cb11b082a57b5376bfc5c6b75dd3efbaec3cb64a9cb210943fbc6019a88be5e241d9f9a3758e0c9db3c0feb1619bc995bbff3fe61fb5389c7057e62a241f07f3043797c902f18398342682d902332d8226853045b437fa0b363259170fb74f99e9307ba4f326f65084c9f2a1dbe6c3ce2a6a3421919dc5f8e98dbcb9bad6318bdaacaad196680d40284ba2192773a320c953860babea6cf31a0b485d51acb911161d4d8c70bb7a174664d0681cedea7767ffc7cce4e99a523db526b576f6e6a019ad2d03e3357e3e806639c7a66e9671aff33f0d280eba3505cc6e4af6042bda64f39937583e5c9b528d82de3cad7a0129e76970d8f27e77c7e45be3b6de5288d5ad116384809ad31469a7cc81225dd1bb997f1f07b260877fcd60afe417ff10cf690439e13376856a91f7b5b8c9151037238970926f49f7f5533b7347df36e1bfc68444607e51ac01ef3c47bf24d2cee12d3a4cdcbc65101509e750f66df8c5f9dfff2054abe4c7ccd197f26826c3fe311bc62628ec3dcbe52210bb40adcdb099468d2473d8773a4a30f7ecae975effa3cf3dbddad4c939883ca366f87b97d6c728707f7762a575bd2bc78eed3478c73038e80cc427e4bba03a949a17e39291547f7dd9f811809581f99d8a704f006fbb94d62611a565250d0dc2650edf8079ff477ed01e0645fcd619839d455f5c2aa16c1efd1285f727d42914ec224f3d4f5c883440aba1d1dfd52c12660d780c2613aa9af7bfd2ffd0adec2de76dcac77dd884134a25def8659c9a08035f75ecbfbfaf2c8cca9a04490695fd48f248813ab9155380a08abe91f544076867670db32e53bd0b2b3bcbcbed85a5d44b28b623a86b688df535d43db2b46dfc6722bb2a6e876c147497c57c8337c99cc19d5c1d3c4cfc8cbd775744513d4e9f992b2dd2cd80834d164c29b3451e1fa98df618c74fa6d8c25c10b320bc9f6753487c4949a164c8ef656cda47cdee20c49edc9c9ff4b199e87cb50842a525714a8a9f883f787ff2dc79515727ed48674212ea7ddd2a31cf262ee3c0534640e40684517fc1e845712714bfcd55749e4d4c368e5b20b9869215164b8ba0a0ba09e8bc4cd2f8f0520afafab5031250f713724b7097379adb2ac010d0f768051b542e765154d1c59488f07d1a976868cf889fe49235363aa136a00a3db1f5c1d232c3bd16a52daf7bc60617feeb7839ee691a990cf02c22dbabce6629691d51b115846f128ebbe4f42a390d755ae2356eca54da9ed2159f13023886461bc9e3faf4129e1c8bcbab55294562c667ee19474c790d3837e5c839a49cb9f4cd2d7281dc49b4c3da1b7cd52894f46c997abef4f645e8306050fe207c36d1f684a8d29b9d757bfc39993ed34c01cdb21da798d8b6388de28a8694d545bd0d65ba07a149b90262db65b6dc7a997c364b22fa55e3845429f48b44ce3e8a93820e4a1e53f49be96e012e5d79b6882a730a00d84846bf2e819e2f4ff07ba9cef95a30d0dd0fbae2ead7f036b11b72ec8b093b7d33d89ac9d5b5c21f7f0d9cbf432cc6da58b89c453629807456a6c0f2401c451c29cab4c1a6e88ef45fbfe3ae82498d8d27f4296f11f05d9d7cd7a6586ff2f3c8b75ab155e9879896373aef3a694e26155be5f552b1b15707784bb3749d747d4d500c42588bd5d42d49a896e62e0fe67182780a99b0f21e41207004550d8733b470f80bd3798b4fb993594bdeb2bbf7f8a590da0139b4024d41a390957ba832000bd1f092072542c1979e2537d1493aa0bbef135b795a50f40b6edbe368f9252afd7575ad56af2fd47d4d85dc35be307f8e19b14353d4cf75e512b0f473ccf667f0caa6ba10e498277274ff558c8cbe2a29c7cb14b380fbc3e63e9e47e6fd9c6ab7ad3c6d9c1bed698ba5c3294b5610c4e905a20616e7d133a11dd7928a7a9c7d8fbd13d134badb53465baa1599486917ca39b1f8fa62ed19bff118df0c709cbe5355d1d31676d097b1ad2b470b8e8df09333dfe766b7a6430af4d11818f6d6b2e2b789411c46fa12a2427224881c5c4b9853107974bf8957d197ef447dd701a6479993223d171031856a2beac6e67312563eb85389b31eebdd2d4d92b4ce8fc4011df30395b5096bd5642c7f5fbc41ef1ed3d74a67177613cc4e06b4b0b0b9ba66cc327a636118a047b364e05e88b7188d959b03ac37e60ac7431866aaa7ae4dc137161e36903aef62ca269b1e4a4c6c87488adc77226e24049822d95849526059f02f1047d93258e815712f9c9fac72b76761c4febcae641f722298bdb8afc0e699e1f4cff9eabe204afbfcd5d87d7dfd04d9311eff1aa71e2ccdd296cfe0931350ad0e96ed8a5192ac4bac1efe83641e4597c42001abb47278d208dcc911d224cb1e0c8432e2216a645e5aa19b0ba1c7b53a636777933009cb4436a4e345838c620c93a145812d45cf416efe111ac9f050023d3716930bfbfa822ccfcbafe8cedac33ceffcacca12fe54e822809bc7ce876aa4c5c1f576885bdff86a8d7c1c5a0687f542b0e8311cef14abf82a458d98ef8009006fdff87578d8e342c5e5e949f1b86e3ba142aec36d5e3094894b0cf9a872e0ab8eb4fe3dec422da6fc3c7dc7dbfa0651ce1a8cb372364671380513068096e48e23978d6aa05ee156d9c6370f84e1b98b4465acfed84f2dfff4c67336a7e11eb1fe60525b7541b3b70a828f321153fd32119a458a426b75ec02ab47e48ddc775170032bda2b762d749d807a2f258076a1a28ac46ce3128cf9dc9faadd372296e4952f78b60cb720f62216fc6a7eb93061bfd895bf56117d2b5b5ce3e1f36fc92f1a23a5093600e90ac94ac51df7dc5b36a825b7ebf8ff8552c495deabed38fd86723cf1952d8c773a50c0143206c1ef2f756ee8f358982c61aae94ed65249d69ee973afef01c43c1dd43ffad58e737ef31c9ef2dfe91adb258b8abce24784b94dd9ef8f809d2df24891e08f21814653d0f45d8a375b934bf127476216e325f2ec71e267805d0d611423d6f90876db568d514b50f00c8a9cc798e956b6d6dba29fba6051007be0eb3ba828ca0a3b340b076da0d419cb1f256b34c4bf4ebe94bea717acd18c61708eade2b00adb24c33b31863f1d74809a6d131b80345030443bc48d16fd57a08b1ca4100bb8057fd393d2f314f5ea05649efc0a413ecde89f4c83558416f99241024768b18591664b35ba97f01d56b0f4e7fe94ed8881a1fabf435959dd59b2e81b95b3c6916b5b33f3d1d7541172b410b909d3a1e18dac3ad34777b9c3893f4eab4a3ed76a2e587963377feb0676c34cf647ca8344829cec6e4c2113b391a41bde40809eb22a69f258d81e6010649617ae62d80ef6a5e843ad9a99a22b8a3a9d1b14eea937547185f571ba77a5dd4a3689fea76eba9ba0d82d51f6426db8f5a52ce0b365f31d705240e07d10bac3724659ccc24552d68d1d3619c1d8a8df6d0988277249b33f9580d3e69957381962bd730d92b1321144ecbfca0a7b0117ccf2a02a178730b931af5fb1d911f897b2dc55e4a6d4f767f9bd3347d2def138cc58a29d5b140a5a5af6190dcf5220379a7b0ffba2d592f209de81e4e0223f52f879a773bb7f60444d1b846a2194692e186f10e2a7f7e7aabf8e61cc4140b457409be7c1464defde4f427d492f8a52ec16d0b537907e66b7d299cbb935e735398fe1cf5f7bcc46120c59fb6a0715fbbd9f3fc326f1928c317590ad130f63d21625630f6d4dea11387faaf3a9e7b2a44a6f34def0bdabb66d674263aacc13ee9fa5706c4af5bc7421e782c5a0ee0c3f352bebd07f16da67806af459227437868c8c112797051b421154ad2a3f0c6dff864de929725d1db26fc1b7885b66077cc68841d12678308ce80f4a6a800e4fbd20530aa1c3e510eb2f56e8f03ba92050ddc05fe280d39ac1866dac9f4c46695dc78dbf79d1805c1256172f7b02ccdde5e84c02d28b04ddec8aafe366bfbd508c6f84d732f3457397c98cca3984a46bc1b2aa340b11838e41351d901b7a19ca121293f587983c2cf3503e696bf27178e086adee7e69771d7dbd509a0b2fb134324d7edeb291893a56d498205458db3ee0e675812531fc12fc0d6eee45119e3a0f50eae9dd8b4d651d28e9945493c20d346d8a6e5ea8ff36520d4204c5714b1ef20a551d9544e56b010423a4e0b0d2b7a975e793477d2dcdd15d3c4ffa0dc334443e2a8a0a94dd8a88f9dada8d3762aae38deaad48e18f1c26d4a367d072dd8ce64339714acabf771fd4ad49d7559d75d8760687bc68b2d308f41e1faf99c7e25ace56734b644e727b01ebe318146551089c0ca339b6e3b848baf7feb83b02b43e028b25443de9a4cc938c7c4f59bff3a466858fde266e1d1a1781815ed14f0f5911d4041736d65ee25d7d0c6bf1ac17fa85319dbea812dfbdb5dcb1c8c9fc2fb8b641e39fe5e983a9e517f6503bf59435a27e199a1a68272b5e94624c4c051f9f205fa2cd470521a84860c1f26491edf47ab9e2200f7d7093223dff2fa9c617249a9baf0877b8a81a298c40b76df259676adfdb80d6d656ef4cd7e7daaa037fc533d22db0cdd60549e14f2361995373c3da0b9bd6c1926f33037e6ae858d4ed1ec6de3f9175fa18a269e62ac24d94846e12c94926c5c2bc91eb84cf00b82e3a66de0e8527c0f3d45d8e4c3c79bf560c07f269e75fa9c438b7d691d2bccc75d2f72779b64203a5aac9b3c5d68d630c823d20e4d82380c01abbbbd6c39e02de1e71b847dad2a9c7fd2bd361b9b91f9c0cbfa637b94088df6c8896735a1e693eb149ff81d4930069b121b87a685da634d5c8d53ee83aaf5d97be237b2b17361f756cc4a39fce52656d0d998b1fd5ea91f9953f86a912a0f64399f8c3c12566d94b2a8236c56f5a7df579873305ca7ad53005024f895f1f1015a3f19682c83f38065eacb8015ac20278be5f8a8d042535fb3a2afb5defb719283b3b4c3ca258e8eca8195d7af1686b3e6279422cb2d64e42c6303546f2a8b07744487d9126269f52c4725e01dc69f8fb738859323dd2bc75685b05863095151d39cc8d391a40c91d608be3f52c9cae26d92a395d574c511501a117ee26a763f33f4a388f57916b81387ee5ca9fb11edd7658bcaf7a280d2ca9666ceafd0e60d675f4db08afa9b659445ea254b776e14959b2f1f53ab6efdb2369fc40c911ff34365d3f16ed190202fd3f2a1cefcc60f0aa3cf865fdfad1a1b40d7b66d659b212194a7375196e5ae6c191a400ee2935e7c9a08e8191acc07ad7e2f93aaa9bdeaa0cf954e04c57545df354dc4274b08ab7ec83bb427255fdb474ad07b8a22a25d5c71a8ae8f97f431f23ba3e21dd32a4dcde7e4baf82a0fc002418c451c8056ee5fad7d669d73c889ef69a46231f2e98bd2f21197e1b00e88976c3172f2994b60be305ff58acd2c32af2f0fafb2b081fde4cf3ea0726502f8940232a5b7a806fc736113cae3e0fa9c695c7f303de5d148932a691583db0979c805933f331e6ad6f0c4e8e2fa436e626b0dd07a32b4d6b255fa2ceec136105372cfe446bb5b1d98234e553b3514c8eeec42395ce22a8f54ab5b192c1a421caff5822c8aa7195cee3337e8014a6c4fda274e9bcde0a19837eee2952355ce0a75bed3f1a22885498ab567527e36898618984c5f3324db86c490a99b2dbd9a66b96980754974720047441db6d63fc022a540a603e9b320fa0061ca46a54a16fb4b46ad744fb625f550384036151debcab87549a76076c524397e061e9e3aaa41c1b060d725af0aa3a6021e338cb25f50d54a743c83f3ae90959bc84dd429fd7be7b09486e828114bcf94aa2359af45afe0e7fb84ca7a24193b217a16f241ce51433b85917bad99c108afed0bf2f657fb50d33bb70971a3cc4a8af59afd9cbb4c28dcdd797b569a88297170a7ad659360d481b849b029e3ae98528177bdf8eccd4720dd1ace54a345f420074e7685506cf2b54770e5959a0521d4838ce0f2431f385fc2a0aedaaa1ba2bf3a0138d19714e79881248ffd37164648a68d09e226a41df14ba0f54b55ef3a26ef4685e6321ede0e3c1453c4411ba31b4d19b0129323379e1d8faee7bcaeeeed84d3f2045b5f5cc689b6c50322c0ecff44708b72906d2ebfa74e1ebe4f282902a2f7ec2ad93cba455793e9eaf1c0e5b1f08c4fdd21f4346380963de38a4e78ae07e8abc4ce5505669c049c08c55b5a2e20089365fafba23379e966924199d34dd1a126632770e6861c0da1159674a0c87c31dd30b6823d2b71111c4bca1a2e2f48a84ca37d8a60852b6029272eee34da4ac9cbe2c0aa7e44b766c8ed0b1c571f49839a4b47fe8850c318fbdb8f690cf3b4f2fc144d5da5592385def0e664fa2e53e06030c227665b199708975e070bba7c5754fc4191b21d156a23de167cf4c0a8eb3cda3a5db62f4fbc2d344490322e49c491de22e233d92d91ece38ed168940112edfdeece41ac0ddd899c5aca4706ae4b2e7ae532b9736264d5bf47ef5b2db9dad7350e8d2926c56ce3305b2f4cee2db07fc6bf25d5557c0063301495e09bb4bae237e5c529bdaf9746da0e4a348edb30e5ef3a7b423c9ad76a1316c48f03883002c7f3e70c9aaf182cedd98c8fbc71b51b3cb4496f8066d5f9e51cfe074bf1cc495f37a37166d7a20257f10c14d22a7c278e00996b1d4b9d804dd287fd10ba3b028339d64f513c5d96a9be47845c8427e82850845fb8eefd445cae50ab15afe0e16d7d23888b2decb7a31eded65fb9e23bdbe8a717187e439b5a8fc8fd23489c46840f4128ab4cca84652fa7520fae44d65d6c86efe3485ac7c364a11f75d8c4b39e97ac6f70660c76acc1f04dddffe4c90a2247542eedaa3729eaf3e7bc223f226d96631059f2461faf66c035e41a6ff9c8626e4fe48f82da2e3b2975b09dac81536b0b828fe287a3aa60a9a6dbd225cd3df058020db2aed24b5e3eac3f989b279823cd8386382e6f1fb9d0baeff38dfc8fce9044802e39265b7284f7c4cb7c825650fae25d08937313e909ffca66132cafe1101b04f851deeb7861c82065535b0c3f64eecdfa7f23397b699f4e67a7b038b38de4033a4f3debf2ff0da302d74b0bd9af57450761a8e7215f9697597de3540ddb7b0b059ad5c178a1f8a6cee45e8ab3aa2ddc7329d93972709976ce433a797d96ccda0b9dd8dbdcc8920b9c193ad36b7e66a949d913ff2a3239d9ae9f9b0a3df0e8ea42327e2fc630e09f1c48d622402ea770fb9c9721b09969847a6aba5e71d3dd971aa77cbbe3b1cc3ecd7e383a4366f793118cb01cd1061bde15fb74523f7a5ef693efe60885adb8599c455b6bfd2650e32b40110f4a38c2c6f7694fe86419d4faad0770be0035cb01fe745eead71d03ca195940914308eb8e1bcc8028e2d039570b961e4e7273176cbc59f2ee337a5c56c8f970f74485e39da2740ad2ef615809308426d597e3dfafda05a818fe8fd2538d4fdb6954a195684848d47b937eae5f8309e876d56f88818581c4d6aa21e0314a91c5bdec08402af547042d98a3cc3b8846be3c9ec794d949b6229e5c0df31559f7b459ccf7e9f10b1e2550c6276af78887734adf7332a4fc1119ddd515b87ed4b959be5e2c0265422a1052154c03e7ce74828ced19bbbba61bed41da02d615a530edd68c1b4e0e0845f5c280e5e07da52ee75de7e67c5c2297bde6493d2fa92af7e0c6e6b114eba76ca3e33593a5b621cd7e6166a600f6849615465f89b7793be77bcfe8cd89364d414b1c92fa8bd4ad0e003ef28bbd069f691ca4763dc8b6855f7d9d6a7fa823c7d158a79ade67fb98711b1b5245c6197b07a3a68710971b6db2b108a829c756b1f9de1cb830ebd608056cb72216c1b48599c801f759fe8468cdd85d2b337b840294a411928a6186707127daebb243d9a2d4787af7244de9782f83c9ed2c32413a82371f38c715d63e604d9ad0ceb82a3fa006e9ab32847070ece1a97c221aa3e62acaec5a8e0602de51c98faff83959103a286773ae2d914559aaf5ec4b20b521777351416d04886f74cf87dab2ee0a512e18270a4c593d042a9cf1f5bb9c2c086e05b3ad47786c8e15816822099eb0d1f1c468e99687e003501652b8cd77d42892263489f3600be9acce102e89af848e831e268f2125058ad9fbc5dee4a403a300351efdf7817484233b5b345699b1d5d6603d8cb50c5a1ece28a4e44d3a23c2dc45d1adaf921d6c207ed5dce398cda459dec472c41eae5db8390a1f7ec4381bf515d3553129e8f98861ad8913a476926e30c0238b03b8ed37ba642714d4f4e814e1f87bd3bd96b4fb9f7fb2978daa9b0cc96697320fb82c55481a873f7c8c796d72f7aa1c5f893a98dbd79e863332aaf1fc8ab2b46b35352e04b4e3f406fe845cc60d82d4b5de7a77abc4997591eb2b2d25fa00f8a937e845ea2d60a0589fde851e52537ecb7f220c6b2fe2ea40b3040bec1d3460e5474a4a5234b0ce04a414865df47e38877816e225d75506d07cde03d1283b6fc4f7e951e4024eabd45cb721b06bf51104ccf5ae370b83e190b7ee7b8fab0330e062f067799dc6bd3a78cb580202215f42c28fc8277e4b2d7cbf3620898a45205d6e6408727f6b6a219a8c1c90d5565d246e4c2d2bb5f1e802120dbf510f757a05b9e91e55877791a629489f03d498210b4c2e511b0cf1ebb36bce4fd616b49141c9831ab9201211f340a69feca811ca838905ae997e8f38fa1533d20a4a138c781f30fb6623eb44ffe6f24c91b36d453ecaf8edf7488fd1ed37620dc65e78344932ea2139128faa9f22f7d1ec3b43a69591dcd9f5c223cfee1574c8ef8e7b6f7624eeb9543464f9c1b3209280b8a1a1ebf0748562ac6202887d8ed4f90f35a9cd70262e450d6ae87a65db75378227e886eae91258c56a46db29ff68af7dfc831113689a372b9e1794dfd0cb3cf6a5c3f85c0784d9e8ed9f349829eed271b576c25308f90b355d947a3f218681280c9674ab97948522b3b7ca2ee4017ab0fbe1c3aa63ba05e8863ab4d1057867a6935c40c39c291c2cec07aaac76523d36be652e3df8709dfa2dcc540f4f8832a970faf9e28aa0eaa0d824b4bb3254b12fb49983ac808caf3e4ffcaeb0ad922850d406f3b76f1d5e258f9dbf5300504cc9766385d922afa33a8d25d32529df6662df05283ac9cc5a6cff9d120c7d6951b29f07c4c0bc71eca2447e28758cb4d16604de8e683042fe7041b114451ade05d7dfbba7926b30a63023e26e5ca8548fc578d289edf4551c58af20275f2239309d3e337aab471a7f3b4523246537f347c3a67684a6f67e507d7b51d4389f477a573953a8556dae16147949ba27cba8fe7c6b7a38a5af0fb736297a205253f078dbcc67ca3deba18408aded8259ed198f26bfca7040ab05a53e429e638a6a0964d369c7db303b3ba9d646f3279cfa70ed19d474b14beedee298bcf8dd9ff90de4d82211ab5474694ecdeb70bc7f03edb6727ee87236adb2c417a34a814de7189132f7437bb4e77c60f80dc889c980aa918459ca9c648a83779a8d34e86e8ad381807e120f171bd7df72ea142947d3c317106aace71335f6e0f9cb7b1118a605394217b53aaaefa1210a0f6549a51b93a50f11cdd99e0aa2e0c8860778941f65ab8456734e37783dbc92750b1b4388ef155a5ff802728d72941fb878dee74201de2bb19208881a5d3878ad2a8991cadbca54b22186cbf707e2c81697159c38b5800b61097e478c22227aa6198daf5571499d53a4de92d1cbf9181e5a378a161e283730d641f05d892ed34c7143e45064f46a90643b2f9cfa4991b35a537e5e9736f5d29d08f2bf505c2d0f6bd9b6dcbd9b7d4c0f77f54620536d123fabd7a790954a3e4a52b6f7acf42434868e82494c1807e8ffaed35b7d59374a93c1d18c20261e090c19514cb534d410bc3fd6c2c9061f3e184b464cf4c24339724327d3a8a0668e9e24d1de7dc86e6e64d7926e3b782a436b484520fb8ef9376313fc8d43a65e2cf1d0ce29d0a1bfce1e8ab9e4fc3ce3e3a706fcd4b7577e111a3a8e646bfd6c65d437b89bf6cd4a5e3c14b08b71635ae0dc6459b0e1ec0a403306ee64b443b17c826136d31b2a921a3e8e5f363ef98f393cd718eaa1b5e753759794489bbe96a0397c96ee4bbf2376e1a4e10e7315dafc9130dc26ac44bb068c7e74bb55d3ed6feec6ce53fa4357f685e109f2b4d9d03d09a0a5f9bf7287341e58a5e5078e50cfbfb7374ba2deafff1289fffd728844fee310ed96de19f139974945ad7d9c4024ca4df59ebd5f352fa7b6144c06abce01c8bc561f34c6705231fb8823d3de9fdedf7aee98193918e435ebfb0142e27318d51480c803a527bbddf1a361f5f71356652667c29d28a0a0eb3d66d5e89d78d62c87544fe3e31a96a7eeaa58ade50fe9b910893797e94389d75b19a69d6fa20044ea77ed02c489f1aeec86c8198662907a650f1845072f44bb9bd4ebaddd2575a2bb8d049f9d25af898ec87f0b988331bd7e5e390dcc396b537f92da11d85bada4443af950826a1718beada70759de8150c5fc96c413a533e299de44c1c754a24e1cdd9deb3e3aa8d2993e6c54b2ea7f084b0002ea571202364798fe294a97eade73484a10ec1f94dd85ad5ba34161cefc89efd02eb0dc47e1dff8041a53022f5f5020bcd3b05f17ff1375404ff12a5e9c49cbc1b75efb6c94c8c2abc9e90f948d00a46c449ea86813862debfa5313769a90febb35fc91643e909938e41a5f52d14fb51a3e677f6dc0fbae425c8882fa62474ce2bf42a055588cae5011d9aa94e4985298cf56f0a94f676226827fd4482b48541df3c24313be65ffcdfab5abdc49ea5a05df53913c1f5aa1b7f140f554e5c1f900ceb6ea01fdad4f351d9ba842685c9823e647004c63632f1b7450c4677f3564e516443b407951f1f4106dfa09b2a4b8a1ab9e98ccde5ae6573c39282dbd8221a398cd0781a4ba6929994cdb7855f9186f10fe0efc1208aa342cce93241cc5420cfb468bbb311cb4e06194d73aaccd846b19399b9426dccfe85faecb63aa782cb9a77e62a3e24e0e6212a4a862fb5e26d2c1d3cadf8adacd6ac509c7d090803bca2bedb9e253f624ef22cbcbc4817645216a9688a7a652100315e95f21c286cd344d549ea78cdea7b2f9c59a4c0a0468f232e55ae9ea335e9ad17042bdf0859a6be1876bc339dbeaa5781eb7df0c1428c0e4dcadbc81cc476caabbcb0c6cdc005ec5ede62df28b64538fd2fd8813aab039640c33f3e2195b2bf4e0ea10feed2baad471fd6866a21598df1f69e2123eaec7d8c602f00cee9fce925b58bba553b390a494a904d2b3d8a80a85cd7dc60d99db3dc314d89626f7c65c0179e89d87166ab4376e17f7796d092405c6e073a375a68ecf5c78571d7c77d9bb403cf124737390c87b3b39dc24417a834b629d89e8104c3a506491659741dcbcaaa85b08d0ad705c6e8c3e5afb31c4b8438d18520496a7ea22f6c0345cde26e9c54c5a8fc7141c12ff68e34aa06959735ca68ee406869575ccdd86038fed36f97db2fba16fae5f103cf7810ce48e38f5390e50ac8b466e0dda7b20236bee16da4a0707ddce994ff33f2a383bb9ed3f58e9bec8732ba3cb88fa888c29b0ca12370041b7625735f6c4460e7d7af82b202a311bdf88b46dbe813ffb129f290efb71b19ac7a3da6781094b4339d7cee9999e48a50d41c2c6e1b6b2fbcd18fee7503609adb61401c60fc8930338299842c61c77acabe8ab6581f238c9c89bfc65e031271b36bac3d6b1ff698cad7433248e3f7b015a5f3464f843ce13810624da0cfcc93ecb0c25d49bf8ffab68f9ae2a5bb397f44065c60041e7c0a2f300c8f6c56e80fd6d5995549052d4ca36879e899f6278d2f5e69d2ae4571d23c683daa2101336124a05bff6e999c3116f84ac9194393cc22982f109e6383892a2de3a67f6855806cecf08e6dc3df7af961753fe71fab599a7258f6d6c5132a09a29b71b191348f5c8b8074b184dd8a456765837b7307300377146afd99dc01badd8c9dc358d4ea25c94746cd5a73eb4e3db0dd0469405969f1ad3459aaebd3ddf91c99526f49a172d33f1286c96add4037a2eb3cb902d7a53f9c426a101ecd40e15b451888876e0131a61f8558ae41bd5506b6f142fa1c2a0aa3ea3d8ff12ce240d1b18875611a7e35dd6f3113528f852f3878bc51bd9bcdc1302fff2b64a2f880b0db3dbdd0f0917ab3a224dc08ec53357614bd56bf0f685dca18ca85b2eea67dd75172fcea5ca44cb722145f5a1f3dfc47fbef97e4a0354eb5ab8a570fdd17bf16ba888cecf3f9fa1b2bd46a78ec2377b8f1656ac8e426917dfa33c1f0a3fedcf85ff12b1b27e39d941dbefb10e338c1b0f7815836e3e3dfa2ff49040b42ff938c07223c2f318eb80c76a9ec65203dfdfb1db0244fa3619ba7efd0b9a596c872ed080955c92b801e99c5c967249c3bed4e241f1083fa70b1359becd71e0158adf0c2d436b65ea42dcae3e83e6f953d15462aee4321909535bde0a749cf7a602a8e28df14a4566c6dbbea0662b1676b455076b072ef11b5e5aa8285e48ee97d2f9e30b9cb162efa2ab02e9dd7616fb81727604c8ec5335259a50973c2eda30b32cdcabb65702ae5fb46268d183df9a8124d7ee71b91d876cf701e40bea558a8d7242c5af0a563ade6fe79d890802df5ad10aefeb3eadf8ffd7b6be26ea7b91c5d061492fb591d166437c85e8ef3730b9242e65f27834d66797b79f782b0823909277d819c7e835ee008e4c4a939a6445f1321398fc4c2b42881e82954d7093a763b421bf945014197c0fdddb9fb3317402e22933c8ff6531c647ef735f93d9b6891140f7c62fc437a631e63235eca73cc4ea16fa0c942a4dde8dd9f66a3632c0917ed4cc7439fc6a780d49a4d5b3de028c014d175525bff8a83d4c88e30898d7e0cb691cf6b274fe91c5422ad115331bb479e117fbd8e44b75dabf1451574d5f88a294a6b1865653e80120aa2ec878b0f7dbdb5860792a93742fd32263fd77a1dc1a461f66b9974b1c8da4edc24612775b6d79e0cc6e1b0be82fb010e01a26aa971a5cd6ea7281568e77b19326787cf74b3a53db40018f070574e052a7e1acf3ed335473046412d501e8f7395480d7078e5b44c951357c1765cd257bb3fb54872ece30476e42b58d5170e96d525e884c15746a356a1fc6e79e94fca89482dc116d6b50858b3cce1bf45959fdb6f4742782c0d2cf0c8fc3bb1296ec623d94c82b19f4f48ac829b42fb0825447582c292e4a9af4e32924babe5535ec3c456a0f6d604787113423419731c3e6689d3ba28bffe631308ecb40c7003c65fb189ceb97965ef94bb520e024725f6508691f375494e599b14bad476b034da378f63f0b3ece49bfff555a6e1e0e1d4fc0e2f37f802b986b51959e2ee981f428fe606948d239e6e2b7a07a84419c3acf4116da727d167fc4ceb2e544f55558f6563e8ffe1a80e70dcb38c071d9240d5d335093e01e39948adfcf8f12d8a89cc5d7829a9833ae003cee00d8348cf5db3af7ca5bae7574bf06778e49523b3847548641fc66b153b65ccdcf01bb88e407005bff561aa87f5ebceed82f7f06d08424c8b3bcb220d5b47b4b7446020db0aa7d33021ed1d7be872d462b6be7a8ba0c2c3b949b3fef5ee0fdf5c7dab8c732944fd742cf48a9e2d49bb0768b7421ed6a3f4c431cd844ee058cd5cc01ea5984c8dd489e9af232403409079b3a70aeaadcce5309f8f58b5e092cd967c08b2c814d78cc6297e78b94a08f9c4e825187d124a28cbb418f37ece7b26f013e598126b230cf1c4c8d131592a061ddde4b718662541623122aa09edb042931e2e6b3e53930ca431a038c121f3edc182a8f4b0cf77d27e31a0e5552c337fa7e4bcb20f706b8b6ed5b760fe8d3d8cce90075fddd91b9c1d83a98b30da85a7bcf6ec32e1734b634ecaceadb777146927324454c51351df303be98be82f61e3c8a6c6a0322153d4828fc785e7c74366bb427a156dc6bf1ad2b52f18fea6b87dd7dff76ab1f53e8e36105f1567ae028560c8eea69f2fd0cdd39ce95aadd0f7ca888512e561faeae9735bee857b010bd7104cad025f8785c67925a2eb96c8a8e671c0be433293ba7931fdcdfef3833ea1f49d831e5cffcc703597efefd64a67890ec9b62f87b4289b0dfb7f7ea11b206daace143b2f54ba470968386d66ccfc283de50b63065760d6ebc39bb365b16d34d8941a83dd1b5803196264c8872393ad61265e1d4b6e131dc3d698817ba53ccb0d79eb80de6671706b61d762756660293640d177381e11bb7903021ae85cf4d16bd4d19dc17b9a528c414226d788dd9dc4824a0a34c72db0008a3e3bc2f35433031e3370d447c13e94bde5265078e3e0b1d46e7e47c55f68ef664f7252f700d221ab9c195b98060effed4cb16b6c37ddaf1fefda820af9c87ed2e307a39346e39bd44e0f34c506060757665a03f11f18a0ea398e4b1eba83fbaaa42e433c6c405b8be179e1490f5833ab797ffa435abb10214f9850ea52a78879ec5c4dbd775ac0b7efeeff8c97ac4a5bf5b4e1f548c4bf175adf2c66edafd4cd60cacaf117ffd707dbea68182cfb110eeaa0089447bac77c1d245085cf0bbfb133eada359c22c64f6bf53979dc21c8075067ade2c90a4704169a9222ce51c0775d892ee8cdb32769764fbf8aaf3027e73beb58c290b2125b2209d7feedf2b7133a710ddbbef2c84fd8cb0cb355bc758a69b470d250acf0d1a7d192f65b2b043ec5bdb77ad8ffd30e0c0d457f8ff5c05bc06c7f1300600be2bc436bf10685a9fe83692e5e3a46ee21eb91c4421ab706d24bc9f2fdf99f5f98a195ff58f2c83bc41fca470deae625c823dad4b421d0450b41d185a91fe3ab2dfd50f4af054bd3df5725fb3b7281b1e8c766495b51bcfc5578d4945ed48b02650ea17da884fb4efdaf739e7f3203d4d6d5d72f961f33783ae54794c395510bf039397270bbf565f7734735e4a7730fe3becf299af19c405aff26a7476b9f36e4d89f7ac0cf734f4a7cc29aa48e82b37edbfaa13de962a40881fcba7d57e50affef30972524edf646a4f2a0e938a3276a440e4de2c7efb72a5b12fcb6eb809969e1740f32ce5b1c01936511469ab7c3782c74397bcebcbba11a4169e1aef893adac0163c8190a1a644561dea0b92f8484eb881b158129aa21660ea0a1d2080c4a8efa4ce300ada97bd024f0ec2fb939bdcf11f2df9385a73ec14ea87872b177e058518a693caea0a0f2ec2ad91aa864d8cd8fe5096679fb947405476d1ead670a073fc97314ab70d6d05c0ac96a52a9e62145a9317fe042d1b018d5f468f6d058e4adae3cbcb1aeac1a71d0eacf382417cb23323e682e66ced6974584f788dd3ecb79e5fd70f93ec96d72f43051dd947311687285eedf525e3354c33ab800b9de61605299e01b85bd55adad184f25ce5462b7fdb12b34e7913ad01e2b6bb581027be748099a2885c976ac9d9a130b36074e730c442a4647fd06625b365ee3e77063cea0bf4b9b75a3139ddd7caee0bfa8a17bb46a5033bd84481ede4c36e0e5aa8ee1abc7232d118d74c749d2c39c6b150554cb388a23e7f781cad7eae4b1170b8b20ec6966c8daf6b930767571764cc6eb2b53295f44de5c0834c1fa46ec515508b253af1e1de38ba8be4916f640d2bd2530b9aabda22057ab63080076b234affc0b131645810096472c0dd99b9a5327994e091c9957a852b9f082df8a8d8e159ca783984314515c183dc9345771fc46d8b6fe45f0e7bf60ce946f5d6ffa5482cf0d96f2d8ebcde82a1ca8298b1cb59fd01be2dfef341577336e164891b5660d8fd7113de3d5db6370adc1dd4e3a89563247e0df1269a3f6af6239ce726088884ad87b891ba56388ccf23c8f962512271681eb212c50a17bc60ef69a56fc3c171fa44baea7acb1e2e7dcaebb2455390a03e33393a914d405f3e3a3c189c02342086682a5af77acb1de3d96c1ccba03f51621e2eb075345510c45123d8c0ca00e56e7af455923a4fa9e3466a1674d081266d9cec9ebe8f8536c8186908d12d26fb0bfedd9a2d59a755176b23588522a539a170a0a09d47e7675d5c687b9b9dcca2cba126ad619331866b20a93be52054aadd7e3a257f41b305fbff8df5dd8797e35c9348fdb5715cc351215bc6d8b183c652682a967b4c8b32c0727e5ed232ca9a2b86ec577768f7d7e154d43e6dfa890ed7038a19a1f85cb647ee9a5c7d775e32dce337779ef630e7432c872dc792f5655a0035c739e1ac432875d4bb0ae24ee77f7d233cfcb34ccfdf07c4661dc5d57d7fa3d108166f79907dcf8bf1f2c6118f99e778b85bf65a55c8d5d2a5e7eaaca3cf949c6c9d66309ca98ee50700186124914199a1d2b68b72c401d2610c694f40038b19368dbe9abc6e7d28b09c93f79bd5dc1f23bd6ac8fe55789958c73351c8b38c9b8340246843af4583d27402cbb8e53deaa36f03e39408a075d194029a275a334fb05c8057679306da40cb190bf654e2acac4fab212890480170673b63ce444daf8ddf9cf1ff2f9f916b594028e668d3edbf45d2dba5d83af40f00c6ab788991289712f2c7f4056c62e0652008a7a5e64532e8dbdb9e5dbd7ec7c44e7f55f935523c54f9773da9859a379f1d3d3a3b9a051ad9624f9e2a511de01f35c9fdb841213922815fa6a1e24cd8628caee456f34825127685512f8c2a39aad82ab5b7547f4c265979e7ec54556f305bc31fc555d3dbbba44d73ffc35b99616fa666c054b20f5346550b81e0e171caa8ca9c1a5b38a2862747eadf931a77392e395f3a8266105d47a0944763d568054b15877b1b1d1745fc6406c706b4bb3c0d06bd0eddb9999091b7c36ec9b04aaa704be8eefafa43485ac0dc3ab800270b47557b95cd0c3923c8fa7d61f12c2236f979d906b3d8a9c187f641e7c80a955aa156823992b9b7d4512ea2ab359822f7176d8f57eb31bbdfa63822b61a4dc5d065f214fd7982a7607c8c907ecb93d9d6a0eaa7f05571d019d93740891ce3dae4ce7c6b393b988512b18534ab2d89d46d248985d10df1b5a25cd29c39d762cf5836cb5b8969185fe9a91bbb1118a430ae186dd56342208b9f7c33a40b19364afb1b6908c061b444d8e43484e2a61ae33fdaec2794e900040a652b1ec6ddb5e728bdf37762ee167e285930a20800eceea65e38aa720e619a9843c8eeae8894bd86a4c6a826a33b9d2a27b97b82ed8fe63076c180e77969f73420ff70d94d0237b8d775cfb0eabc9dedf9dc0a310853eab8a91cdb65ca69572f20e21ffcd6f7d62af378fd6cd7686368748b2e2c224c7d472caebded1b9f3d76bac4b21e5760db0d75e2664abee262181de0075a086d1b18c6e1a8c5aa00f5a628e569466b80957451f783c076139c1e994a5239b8e4cb4dcf88f1787d1cb24f3c16ceaae7c89d00dfbced81be6ed46d2b79d357f5c21615da12b11f0cd94c34efac3bbed9bf31a023c1b7e5d63279eb7f605158f0a1be7354b82da9594d09ea7f3e8c1cb7044c34b24461698fa025d72bd0f80fb4e3d3da595de9efa1d5c996490e5defaae03c0fe7a2272931fb7ccef4c6ce7ad7ea2cb0417fe5a1d1c488ba111f41948a4a92a8cdb1c8dbabe4981b4d748757271f3a82bd35d21f9b786d023dc9acb43cf5c26906c8faa079555286697ad7502dbd968ac737f39f98270f51d605dc09faea79636597667a5ce270a1be58590af67629a39b4e5abcd8509fffd0f9b0190b077404060a1b1c8763770ba2c9160582","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
