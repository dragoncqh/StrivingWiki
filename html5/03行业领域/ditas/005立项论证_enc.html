<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0662478e7c784eec88c486b48ed3f7cb9768e0c0adc26811a4cdc9d92d7aab8c9573bc7810843e9a91b2d921c962b31579ff26d2a8701ba455cf76958b8e4809e10ad14fe6c018bb3e88931608242fc5aede224788ba4c302789f6fa84cdaf44d62ee876fb59c6a38595489a092197cfc38e03ae2d4a39c9fc1b19ca1cd6618161f5ff6c2e2fb05f37f01723fb38c3e9624ae195fc076364afe5ddd2abbd34a38d30fde3b03480c6285a0f2d27b87b3fd01bfabed5f8e1eec8c7c5eaf3356eee5118591e4593499d5b9e1c47a958355dba5053b9f67df226520597986ed65cd8fa5f93259ef7738a417f7c5e60be594f7302f008116a61dfd2f23e883c9fc93bdfb55d25bc53601f9260a3df768fe2b1bccfcffc3c8e33c2c2a40e9ab1131aefdfb0a4542001204e4bb203c2d99d05ed21f6c1dbb31112f382589168e52bc4952bdfb0309298e33be35424cfdb7ab1266037dbc8f75f9381432ae740cc8063a49a75540fa325c94385f248ec360d7ba2a29545e67b2077f8e9d008e92edd6e6e3f1acd3f1d6e8534c92c3e773fe2ee372d8a59b1bc5a0109ca53bc26a49533f30e95e6a886c0da6dc0f508ffd7e5f5581ed7f37a2a0399a267d16b137352034c22e3c75604511a758404d0772a4dbb47bec4a13ff22a0aa458e7b1f3c55bf8e8fe346ea4b4ca18fc4cdc13ffda39cebe463c7cd90100c213ded8c9d236e4fdc366f8c76f3d630a18d0cf7f607e6fd450007d6de3e3a156577fd64cf6b9b030eea20e49743970e2362571153e7404c95db5c0a23e884ca3cf4be78f47e6870f222f9fba4a6d20e2c126e0f5a03069789466acdf5b535bc44abfe3b95afb0bdc863668fb708db7f181667f4b37e693bb60ff2459cfcc42d800bcd882f16dda95a14669903a212c3d44db7966db478f11cd2dea5d2ad96d3efad5b26f3de1a615eb566c75ef5db9e63dded9f6609b30110316506b4acede7acc8597c9fa677cdaf54d65ef2caa5ca0975d9a7ef28c067e9969399062bcdc91da87d07c9396012ae3a0afdcb0e2f0f5c7949b28ac0c0492168d2fdff39fd41de04eaa296fdd5be5057dff3b9f691ef7d195e5fe897ff48c883496d34407323a4f024d30257b2e1617aa341cf9bc95d210b579cfc3194aaa79a028853a6496600289841e652d28ffe2c0e3965c74f4bc53dcbd76256b50609538e59bbcb9d954cae2f1a90b054a3a6394f6bcaf9a4d353a4ab58ccccb857d4f2f70c218e447c3214a7c3b955e49c4f7eca6fc3844e419195a8f3df3786951039de3039f19618b2068434e571ce9bc6d0d0e3b2faff089167cf7ac646959e9fa4146707c5506b7f0aabbf812a01b2b7161560f5ff9dcc6ced0aed4e5a3a1c5de815110ce43c58b84a0a66cbc4296d743cbc3ee02eec0c276232ecddd9d674b0cb6010ee07fbb1435e81eb772191ed3c30f8ec0c09b4015a22ce52cdfb43f23ac16624c9dda30e48d537192c3eedb6035ee4a521e47ecf03d155db2a7f42b2161fea129ebfd1fdbfbfad7646d6fec9d245b9f457a152972c9a5afcb70a33f11f9f6dd7ab173345ebd5881829d09a4fd4130bffc9cbe200e449f7bfbf6865448bd78d3c5d25473f637114d646a4caeafe377f3e1db18358e3f0956a5aee9d6e689d61bf986345fa00270aebce0fc747c5d679436d244b53a3624ac3e92303f1142a2c9b21e830733569adf53f3dd30a1981e66f01b382badecf50874415b717512d66f8c38588a0b454ea9f35039f0c787cda793b057cf2f0261f587e5871abe44b9570fe16eeab7dd65c02b846a4aaa4882d403889476bc3a6ba0e50800bb26d6608f801caebb201ea67b928d9f4761e5841eeaab0f347441b9a4be20dd970a550d671cba4a9d7cd8653b722185b0a2838fa84bce44b6da4905e535c95d0a82c61b437ef46848462bbdcbfe2af7e741d7363d32dfd6a0a795ef48d145fe891a9eccfa9517c4aa5c11f52d4306446677870df82a5601ec1b473f9653784e4e1c43b9bb4816e2ba483c63bcbe5589e4b7a087504d0ec3c0248c6e8cd96e0ab85da4a869cafe44b32abc2a930f5ea6330c8bcd100901871966079f495d544850feb2f37a6b2e45e9f3757edf571c649b4828f2df00f65f92e9fb3bc3415ed99d8e552a127e6b38064ded7b549d672b7df7dd103394729b9f9a3680500a1ef5333b19494504b74729aa8f02f7b19fd4baada7b08d0526ae4bdf758384c2a0e716b3d59286b706897c8c988ae7f7e90c1d8a713de06fedcccd8c36140d287d8236576863c91b7a7b7658bf23b868da4430a49f3269384dfda8c0703331ac265cd7ebeb0fd2693cfec9bc90ada799cb9bb58153e471b3448cb2ad96c7f6fe6387a33b11fdc2e4d49466b09e1e5fdfd96eda42ecf9735036a416437b3178683457e1590bc326de036b291fa3c1bd2ecf1d556e154a8922232cb61b89164eaa232e2561f87d9a72559d17dd90b5607f19cdf3ef46a3b25ae87e02b4e4232c7eec4fa05c9ba18aa3d17d7fe990183bb7e609eada2f1068c3f1e35fd264ac7df28722f9b1e4e19e259fddab9c9c1127ae248e4e7523af2887d299af988056c3ef28a1c9ecc9f496236b624324c5aad03e67e14379a33b5ac96391145cd6811407754e9e3bafaa97d9754e3efff7013a8eec2ed92ed50cdba655b31c567146d05cef0c664b5f42770beb5c148f666a8eebef6c3f39d80ab4fb9abd5b31b01888c720865c6806adceb682506b4d9623c7e3530201ca17566df51bddb9716a94d379ff3f237d720679df021f2026e7c75fb8b758dc8c074caf8f6a1d083228028983b42ead16d8d8ea365357422a7931aea6bb53aba311a3db0442cb15a471de60ed5c53a47f5741d50774c6586294dd494883161752e454a17ba4aeeb04a99363ea1365599824a5e1fb89f12f54b26b9d0808c620b33670f46eb99ba38384a12eb03488c7fa1c6579f2d3e20988119250cec4d15d0961e0e700b80b66664e677076c85f5c7415650ad43e57fa5792a7c28695b37c83b50572f49444a7b8ae08773cf492b494cf395a4a7108d888a1b1a99e27ef965d37cf4d43ee64f08fc647485179b43d8c7187d08267f011f43a4934c318fd3b514485f43b43d83d45481d88cd3014bae92b6c325fbd4fc8fe374bc00a43ee842256cc537b5000f9d4349ca3985b0ca34feedc0571d11bdc813e6f5ed0305eb1d83ac6b94f3567298c5ec8a65f2e0d37fc61d18d452109c3bccd97f698ea831e704e2494fe56983b82efd4489bacda255fcee7c32cf0e3406ac18f5d46bbbfdeb6d91d3ab244a664be90a3d9beec8f67ff4afceda7e6a88796354b32b3269cc3a4d0c4ffefd34d8246aee943fbe285ca3d7be87f65b0d01d90122c9a5930f5e830cdc0c054acec77f591798a7982a6bf33af53b06e605db76aa6efbdd7207b27bae02a77f3cc201643b4efc99e5c0f0c2da63230f3b8c5a002e9dfa365994f1d131ed06d328b0d75d422a2efd6327e2796d156c990d003c26b272f207b16e1f9825eabb4441bec8121d20e997101f3b5094e5e1583a28f91cce082953bedecd22de4d60b522351c1f113c98f3e1877cda7f08796640a116ad6c7677dafad7b033ce372148b53d39c751e5c7f1401704f82447d345960cc743f26ac6a70198e1b231f01da74d316abfb259a3abd09c470019fe2c15dcb67bdb83befba064ed7cbcae5265798f1679cac4e766cd461ad93e8f608e1a812949770b8bbd495a4ef767aba34d72b0816e10badb28b16364ca985c981fcc17fe49315f0c783e0596c12aa85e7ed6a0b09a3fa56b6d766a626e923265abcac55e8ece33c3b2abac892d5d1d9049c886b6cc6b917216ce51d243f2abe919d871d9e7a0abb0df84436b543db6d76d25954438eab89f897241036209f6f69dd934cb767f674e89e328b0d1ceb6dcfce4cad3b2e5dfee7f5246d365d330de1cadac7447727aaebcc54ec5cfcb2c66508ae02604b82f538dbebde60c3e11c7e7c002f5f348cf5855fe7df15115a90449dba771083608d98da2daaa5beca85da3bd2b2400e6a73a02946f226afc1f6a43b08f6fe2f67d2230db4f0619b34d837c5c7ac50c04c306b81fe60b71cfe7a3d3ddd911910707d5c5488d3a4db476a6f608efe9935dfc806c11fcd44d62b6e14a4fae8a2c89f742d739644d4c56575eb68c3e67b2b0ba845fc33b5851984f81e4b17a8b863c38fbb720ceaec4aacba588c457747cf0676eb781e1827a0be02af60abb80980ea5ff81fa8174a06b478bd749d7cb017e50104d5fbfa85c4915283f37cf0bfb13b5acdec49248b33cf37ba51784d8a6c5b75f82b44eeb9fb2cec54ff980bcecc1d4d8e34c5542849af2cd8dd4a4c1ed245139615a7637cfe7fe4daa114fffb785b408473788d2040f9844bbe0e70ed5f6e88ef779d942f54f7abfaef4297613845e6363d909811dcec94bdb0f41f637bb4e5239242461c7fd7ad192f3599a378554b0ef7405bb3c8497cfb2f8f239c036ddcd1317c0b66e1ca623bffceda635620a31e532372ce09a9203b5d94f86941c711ac89fd81ca622cc16eae65fe86d82198681377ab0f1fa4e6adeeba83a8b36fa8cb006c3f05d73f61a8ce9ae550169bfce0c7cb802826164910491233b3777c94a8e9c63eb05851922517a385c6827fa1aaa000afa387b26a7f004b5bef738794e7b32c27c9a2bd9e55b5a44421e63a783fc7b33479a8db4400f0a1dad069a88154aaf17618c7d6686e467c98ae3bfd995c2b3a326d4633cdc6c5f1127ba7196815fed8c8221fd53a3d7952651e2bc13145274a831e041347fdfe3ac6488517715094f249260cb419726c5497af87c903b08798cef7110f77649f300a50e5ae9fb70fdf4b6bd9a2b99ad5b016c9c5839ebc201fa823d9ac8eb1bd96855c33c7cd8a2892919cc70185795dd980641ccec791fd405fe648c54826081634e49e034ef3f5d5484ea7b8439813e39a6652c780a8276053975626f6493ebdcf1729e6ba44e3f8844a6d8f5d3a0d31d7a33f8bdfb035e65cf049d293a610ee148f921d3632eec8fd2bd498d07e4e718ede079beee33d26adb3f389bace3e1ff5b216f97c1afd40eedba64ca5bac6e048410009bf677d9430a7fdbe562b6813306cb6c8937a264171b40f8dafc56bbe3aa36ed088a92cbc458e915ad2ef52553127136cd5cc6e63b98a6338201ce02756f56ebb7bedeeffabfd7ed7f542de8688cbcde01ad0bd4ac487d0e0cd268ffe29e82f2e35489f86f704ea2b862b7928d3c19d462905572af8f5742c8e475b58d576e54f1bf204a4f5c591508aa0f83702ed0c18253a937f09ae7babccbe882a908d37bf52eb98347789f7bafac70b173a29f52b9b01c817c1b9ae94b43a803362ec6c91ad92d89cebc463679ad089634d1b77383783bc1e799a24092e03f097e85e1c9853bfd2a56368a6384420a3215a01652286bc28333437ee19178bffc8ae911132c768bf70c0b2dda458d2d940ccf1e8b9354eb8bc28a24dee6c354c7bf35877dada8b4bf93d924b3c6c0595684844fb601b5c86dcdc7e39394993b45efbb6c3b26af5f6faae34494e203663bc14edf1a4ba66ca0897f42c3d735c1d26a6bff0360810ea2448e9baba70bdefcfd41be2be5efea87c4473574bad7fdc1d9c45c1b639db4cee336cbf5bc403c77ad0753334074d0e4fc93e5fb01570b25a2609b62112c537d721c8fa8fcdbe7b52cf2dfaec8203b3ebf6b30f3f904e5af522e4872e8929d55f30201256b4b713e9b725e5988b00ddc876331e43baa78a0249402ff6a4d82d0595b02b752610b4023853661d8dbbabae91a367d19f6e674cc97b6b09d32724959a2a0beed54d3bc93a2dfefcd401e0f46786e7cc1b40d866b6d5a741841cd6b1cf690a233d589f42037a2b85928c464994f766ef230e2e87abb4a321319e67d3281d9beb584c8523a7e378b2ec605e2866e2d43c94aac8a1c50a8bcf85ab2705a428a3823e2580db10221cb2f7df87dc76dc4122bbfe0eafa0263b922a9ba90c45dcdbcc50c7b61d51f76ffcfb5edd61bc1a71324286fa7bd07f42869cd4cc8ddc29265e873f9355f38907e4d56bd99dfecc1387be4593f1942e226d23b8878cfba47c4e0cc785d235a682d4dc467fcfd6049f1164fe23dddb7514c5db9582fd713ff1e8dfa9846f46abdcc7164f2e299377c0997050e62f54a7b817d126a8a0051b728f3a8ac08bdcd032b52ab23a77cb5eb0364a5951c65f30342ed384544b67e21197e27d05073fe968b1b1ab18d169f7501f24dbe90e18af5413c5e6ca1f60682bf1345415f840d36fa34f0da79634d483a115f6616dde09cb7de7adad7a70a501f7135e7910a20bbba7c83e3d4a0c0007d96aec0c1636f378b02ddb2f359cc6ccc92dafecb4d2c226f478cbb1e362cf7c9ab3d877824e35f1b32e2f94b7e6abde76b1d9aa5e1af1eed3777805eefb49c67cf1d34d8664ba1d10ac075f668095b374626ac618573ced68bad7d703075374aa59891fb473584e51ea7280afc2aa9f9b3992f44d5f30cc60f09f090ccec90ae2e0b9e063ba1d1a438a5baaee3f9f9d29660b73880db325aa8134db230f63cd58dae45df02fc755f2307af3f6e8b28f3daa8bcf93aadd76a5aa960e525e0ea5dfd1394e14ac21a0eed062d37d7934a2c6c73b925c2ddecf099a50cd934532207025a29acf5b895bf547130b222e6af4cd4435d6d72758a15115b761b9468a1273f1c137c76e2e7b252805206936a22b4e8bc1063e5db515c103b5094fac2c903a76949e05f3abfdf587da62a040c2302287afbe3fa2065e4370b8ba9fa5c4c37eb639f29d3e7efe9eaba9279a98a2cbc224c45beb864b776a8acb8c5807e1d0792e69733efb52f35759b4f852a7fa7a3f2e70000036319790b6874482af45ea7d2711a8c266ecfdc51586261fca8b44dc7a5ce78d51a3d9023daedd7bf8f42349b65f7e4c1011e0cdaa815a05527f2576122de257df38a67eb7948dd71377b4ac9bbb784102b3edc12a846f58c1af224b381d14a06907bc41320e77041f56128583a1dfc5588a543c620e1dbd91496bb145c7750bf6d74128e5a1baa68e1a60d0bbec8ec497c858f4f7d18c60e4d9d3225e942b1ebdb15411fb8afe41cd8dae102ff7c51733772fac6239b380af353b301680712aa20ede3cf261f2f50b7cc5db1836c38f4f5e7c3a19be6557188a18c503ca4f78505644623839a789cfcde2df7f1ab5ebfeaa78642cc3d2f36cd77b037a5a93c5c084af16c56ebfc63f8ae15d3bb0f6f15d1a4f52f49edf0a06c206f525d2ffff18a35c17b67a3b9e74ff4bc541c480005e48898be91058e75481792620c78329f57718691125cbd1371a49b8961f3cfd1727e40d1aac6d544e4b8e8a9127d531d1e0f00275abd6d32179bb0e6f62c6a4ba9b4e526c2ef48853a6dd4682f753c606fe2a2631725438c6d78e225ed417bc669857b71fed79de9db15ca6aeeacf2c592e72f0f53440695289048ed1b3132d6eeefbb01da325c2633fcc4d58b2d539282f870d7a8b7b1f4c8db825790bbafb07831585fcbf2c8c07f28feb5a37f8927c8cef42f9360806ef35da397d0bbdbaba1d0f764ecf2e0589ee4391dad7d7e67a49b2bdea9fdc96b14b9255fb8ac9d25fb6f881ea595390e646eb45baa0ddbc60986f77b32b7e7f60b7e05400716982d952126b014179bff2d16b0012132557b328e950db4e21c0f30900a964c5d36ca1384421a3c5969eeaf425a67cee3027900f3bf25e3890f9661f7c0f00ce3c6f64edc658abbd4a36241c6c0be91a944c88e8767e839cd545aea40f2c4b502f7f1620ce314c8d6fae0766534bb71ffbcb8acb8c12eea368898778b68be946da07d13a844f1b8d9b17ed70a628b8986805ea179ce15db97f4d82cded0c758ebee42bb9d07b398cbdf2e976aca91d4ef79e6ddacd212817d952647aa8f53e41492c2641696afdc959b8d7155a8c5c2b5832e3067ad79e1fc476d77d341aa3bb0266f24e74f5fd5f99a8d544ae776918d2ce3d174a2d5700877769563d5ef7ce568ccfebad1d6806907a9110e085d335ff8b33c30c42a0627cc36cde5ff85131feb7b437148fd44167d5c145390d0a2e04787af0575bb49935fa0f27adeb7b77d03140ea725261a2551f9461b8d65f06cbd0f09c37aa4aeb88185a4ecda6fcbd5b7f3d4a3b63bc38741d3fa48f5a9533eb2d8cd44fba13c7fb1e16d46359bebb8700618664bd3ac7f82c98647ac3a8af451a973b1a761a3af2ec99ba0151db4df2177e60cbf9b6f334333a2206161b3fa8766465a54f99e1aa0e09722a31d7193dc23da818616daf624f347afe8094cf7ac2a830f0d0019ef250d766595d32c4643b1b40b67c372d2dbfad81ece68b674c81c7e004d5c7a039e31f792f9fd8a1124de12d9626bed727d308ba3ab37aa35d177023209d2cac2a2090dfc65be8e366046e9be2196ee80edf47e33a126103259998a2645ccda63bfe49dd95cde3d46e4c019bae38516065ac2683aad9a30848426ac90fa28bfc26804752f119f004c0e68a24b19a8f8b3ea09fb923aa0a4bda013604ba51beb731c74a3c7e55e582257caf70b46cde46d474b0ccc92b7a1cfd27937e9519ca646305ab49e28cc9f4dda2ed19349ecfe063743c4d203269014a6e7a30fe2ab700c01f6546288e24ec871a81ad422abb052bfb19e3e62ef46be75a0629ee8338db518df9ddf174c1eabfaf58f337a627fd2e876c12baf7f48587729c40c60102869ecb6a003ed7b5511cd98b6b0452a5b885071015209503c5a6f3b2ef5e05200d4d2f4b0bee07b394a0510a66dba702f4ff584476a6f354c11f6b9d1a40ecd91267ab9d65e36724de85c7a13945e5ce7136487a9d5d4a1ca66ec1f7410c0726e643f4bfe6ab3a367bb4703d195ab4ae0d308888d20197d96725a896ca5f0ad282951e79fc43a013b7cf41e2033927576d019642cf39e6a202674376243fb9b2dcf908c17146aeef604f213ef330ec3c30c3ae641e1e46a80db56bda1c4cb1f122afd3155ec93e72477fc56c3f23e75f8027c85c0a33e19b09cb7946ab61cce43fa883aec682b2de8cc9a962d625a30c0b5adad066d962a9e15857043e3c952e76f92a74eb44634429fdaeb1cccaa17f43eedaffbbdbfbbc88eaad93487040a9081fcb111c5cd64bf5b6b66a9117319abbb013615a77608cd1394c0dac6a0fc29864376a18ba72d1645411c30e7aae2cedd3183edc3bc5ef8ee306a61b01b16d9ec3d4670ad52e586ecfc1c32cff9f135ed211a860e49ece4e18ec6d8d016144816feaac4f303b65a560d064453d0fbe3420390751ea11a76239d80ef951f6560d62e650416fba784810f80c7767437eff29603413fa3de01ff2e92d360b58d25cfca80504d80bd94db530d30a0ede440338e7e78c90faac62f09a4cfa5e857c54ede46c5e71cfa7fcd79d7d64e2a32427fb6be60c8ef605eb427fa6f883fe432e621b61ffe1ab7102c912a226ce162fb25855b667fdd0419a11b094ff4ca6a1d4f92f5ab7ff5c6883d6dc61ae692184484829cead3f1fb634ee55262ccb74386e75f5f7ae2cb349041fb6285ee31b1d7d28de88c40d3d8c93a6ab75fd1a0c5cf1adc01ac322e2cf11603965106b03c4a509bc1d47d70cf0658de58a2054c9967922dc91c1e31250993d1305caca76cebb16a97aecd882656a350ed7a46069e7205a456657a66ad2a8c4947dbccf2eaea5bfb00bc6a8f4f802a6d9873ed3a6062c87644c03697dc4699475a38ad32c415e93bb1a34da8718a75293147ce9cd848d7e75c2858680a811df35257ecc1746b908b369875b78bbafbb3e114f5c6cef68f63a11ccf2ca4c0868c68598a6b85187d424bfe04a76fa162fdfddbaf3731c1717690134820247f0edf1fec8070eb4cfbe7d2405c5d190ddc831e072e8c50886403b7e755e8ce34ee782bfd77991049b6e243df2664361a8bca79ac0bb9924dc0df9bfceac03059c61bff9a9656265e6dfa4b22aa8fa75b7770c3fcbeca4d08876a8bdb5798af3bda8d0db697579ea819d689209f4749795ef7dc4ddfa1677f52ef9ef46c4fd3b3b72169edd2d33cedac889ff6039842c3b33b2d97ad6760186a48726de77cd13ff0c6de632c5b0a79925cb37e949f7ac5513bf62822bf879e0e8b0f6d9656ffba6d3ae7bff159e2f70b77c7e4c1873943de527c1804dc20c711bf0c4639e7d0bc554211602751eee168d7ea64f2a2ca9d500847bad3967a2d0cc112d68204867a68051562c46191fbea41e94bf8431d43e96b96e24b564907c0e233fb53a8e15e4a058066ab1e2174e9a546283894afdad0f0757841b5cc2d3b7ecad8597f65156e3fa40d4b3e3ee92a869e6ac54ebdc591172bed3302b1a32088bbb3ecb18f3ac4629d3c44d60b791d83562cc64bec7e670db4ddd8a3074456a3bf6baa5c18a9feb6561ac6f05ad7550f8f947b20cc906914dba7633b3e9ece96130ec3fa61348d82d6f24976ad9a72cf2167262a831b4a73f52353a0879675a6fc8436b218f06ff0581edec57689228f39d8fd91d1d486ca8d670fd5fe78e3df738e4a35ea5af9fe514ce9830247840da1f04e00fd37e794f04cf82cf514d575dc99ccb30a61f1472ef328c813c88e3fca56d47fc54da88fe57e0b2b3a1a0e6fadb1421ff7b0adf6ddf4d6a97dc76e14d1dd7dbcb525774ebb29a0b544d81de8cfab4f06f3a4b64670e5be0dfa30ebf7943b54daa3c320ce952dfafa14ec9dbcafca66726881e28820b5eaa52c39b1b2937a8965b3235bfd30f0338dd85a7c7aacab26a55b3a9884af1ee2e9c3c723359e3d7c43ab72e6511a409c3daec557fe15d2556ba242bf0f42f39013a2e41d9ccd7c083edcedbc48c05c1db5ad426a82a86dbc4bd2aabe9e9021fcb6d7f5cf4fe02c022003694a4a4a081e609d35e4b656c8803eb747458b0d90f5886980212cf8fa76ae292f05c8cc824a5c623e9daa9bda76869fca2d7674503fa5873484de0ec870becc17a5f6c44a286110a0998db60eff77ae06d8d0f3b66e5b378d7a5227d8dd05531c2b80df38f56757e3577c21cb6d413528002d7aae17658798d797618827bfe9c7676409a4aa66c08f0604197a0376e64201e575af6f4659546021623155add76f97fece80d5f61df393dee2a991a7f3f356c50f9b97481f2d23149bd03e4e657c0d313b5cff6ac46f2b8a26f13806c65dec558db3a22b4a60c6b3458dc1f53c958feb76bb53c6fd6ebbf48f3a31be6f5736c09f4ad0bb003880a1ff1b5bc159f24b9d16ae752daba5b2eb3d73c315e4cc9891f6178946ffc7919030ff2892c047663d4bbb69658969e2e601f25465e8550cc65e026fb8e8aa6dc5ee4235ea7faef7c4660a688e4a36a116845f3f6557589fb8d96be1e171e36b311afde2fce10890982e653e9c348320a56d4ebee0757d43a16b8ff4483e05f409850aa85f8be8755aeeba560da92316e126deeab29159e862977b1a1ba6932d180b5a88f9fb38ee9d5dbb15dbb4c7f0d1db82284102252ff069f182c181353669288c3bcfffd141709f4ec130f2e87f9a3573fb4c4f04ec70453f48f45154f8b9135cca27d556c6561d76bbbf377fff66b0c5e21d920277f21332bd377d7628843428dc41bc32932ba8c45783ef5d01ec9aff34cf7f9bb5e81598b2609f68db45c678f5aa770e96536d7dff3e0cd92f5af7c2f9cca3a78b04c3db48f57fd50b0e20e9bf702126b5c5bf587a7a2aa9eb943285c66036f0fc50ebba5fb693828a53bcb8318b08aea6a6c0bcf9a97b0f640937e77a1d83ce9e7ec084da0f6f83995c5bf3fc9a030bc7abb01cc1683fadd6c29be8e63a0667e1a7f2bbec7d8f45e7a60d872965ca36e36f3fce55f7fc16600c5b6b0680781df2095e4b06f2cca4e48e119fd0d38e8087207e0a573845c44ac3eed2215fb0b05b9f12e83b56d55124b6c3946d0ee9033b4f05d1267c5958f47dd6c9d468e5e0c875827f62989925cb133250688a0ac39780490b7e146e09cf4972815adf7d9c989774333eaaf9ab34b94b83e44417578dab9b6267a7de6b887c626d28d464e10b4282e1337cfc452db956220e8fdfa632ca3bf3dee9a14476dfe9f67901d27fb25be38047c19b5d37f6f24fa5705dac3452f5017032c92abb60793cba226fa9418585507d92ffc2137a8a721d04b17611833bebed106c595df2f268de0f084fa7e37baf2c49913b4ff22d0a5ffbb7e47f9919314ac441190f330455210d3a8d8215a7c7e3e986cd29e36a975dac1316ee718e61d1571835259fb0fa0c632eb0281f047006f702f4af6e264a720a89d9a8100ef5707ddadc62916e108db5430ddf0f39141d8dfc8c1d253f5b82f7f303685e298de71f6aa6e020ea6e6226f19b1f40a5ecb73a6ddba955114fc580dc057f298a3c47e1e5eb850666d4586328fe3214ebecd78a680f7beb8258ae8619941804fba7f20627b46295d51b70708ef7507f288c7301f53962c0ef95ee251de5fb95c1bca17eb643f4bcd2c6ff85c7c68720f7ca5f19c0ea589bec7b2ea327f7c705180ba7d0880cbe0ce883ed438e54c131015d090a6bf750beb4aa34b5d8aa205feac215dfb0d3d0fbf5b095a27b310dbf706df45a3f4587507ced68f1b66c4d289cf328d49ef2704dec50afb895852cd4fda1dfcb422b561efa515d4e4687498fcc5a3ae3cfc6c80cded9d10d3fefb6de00dd890423abc4a65a2d16a0700d1ec332ed9525b1ea1c10047e3a664f27a5daa0c19e2b78f97f69a6cbb1cadabb936db91b5ece9bf45ce7577374d5fd5f812341ccba46f20b753a4a893ff1a25b5213fa27229258c9cdcbde649a43323ec51e08d30a1ef343a2bd09c554f32861ab1c459a019d618ab16a770bbb9f613047d45119d777e0145714b31112180ba03acac9b3a71c59b75ba37db965e4fb5a28ab3fe3822510de3ebf6d8c76c645d2380a5fc833cace140bbbce23f095666dff7a3aae4e6194b6a0fb273065c93d32c18366dd782834ec08c734e95b309ea5ca4502b82cbf8c9a1fe5918f9b104a6b2116c9127265ff1ec192a7928292df50c15206561e04bbd8457384acc77d0907900105463389bbec58e035c8b13e131b3dd32cc9ecb7bd8de9200aca949a52361049eaa3d0b28011bc6e20209dfea0c6737d9e9e1147479689063ab0058981d2c17263d3b67c7c361c5db1ada2f6a496411c6cb651a93651a5d7c52d738ea96929c220c0c24639aaaf0383084de4b7204179f303f97e502e92d646de0b6e8a486b78deeea5fcc4bdcea87e1b4928c6b40b722b1e5e1f9b84aeb1bc10c838c085864c100214092fd10420b5d115dd43490299f331ed9987c1067ce03c4bf1c9079b3568f2b78a0d409b734bc4023f6a1762df79b88b48a46e76bdc31009dab9d4fed6461d2d7a92b32befca35297ad95a2daba383f188aec12326f7334f363e42794c19e1eee13596194ae6a710c7b32fe81071b1c927eb4c49ce2bcb3d139077e34aca0ef78343a232eaa57253111b0d8fe63e7307a27d14933e97a381fd5f4ddf1cdcd3eb6445a7a923a9a9962d689be9f480130fd22cdaf421191e0bdd4274b36243877a43a58419f56eda96be1d671a54e248c5f6faa0ca4d4173d08b1e5804efaf93d256bef217f6ac974cc904e2c53e1b258813f4be463b2601f18cf7799efe2d469bc39911b9a52dbdfa613026e77c2ed39f4a6ae337c3da8b40a6b09f112b17f48f0d91d694b0f078cb4a39c65139cf62a158feb381afad5020a251213ec7ae9f02efb9df88dd73ef857e2866a6e879d7f1c52eade9d4bdcf87f0670ed613edb6d0c4cc08f8827d96181901a697c35f8bc75cbcd141a57b37a2cfcdbb9b87b6647cb4cec111bc0405c7611dbfe6535c9b51cba8fb550b3172a533a39eacfc96b06f1c073ce3fe57889f81baec86ccf7fe026bdcdb6052601a59b596bfcac8a6a08a57bfe5c380d02f44cc14c53724e1fdeba03eb13e66590dc379817389c9e61dc33b139fbb3e66388cff9d2dfa48897b124efa0c56dbb618d14c9b17cc40f636cca3cce58d2fa831f60117aafc3a1206ab7c561aea0b2d98d14b3826fe0b09fb8bec7d2d9bb32d896e522172fd2d2e35b6cd91fe238f8804d13ba01271ec0f7b8886e29c3961c098a37286f0c035f2d7f6436585d3c2e02ca1c9b46c0991b6ba40856c1270a82b66f2864f87b4cbbd05af592a940e58e62f86ba58acf4da8222bd199b6eb2b83328e0f245532e8a03713d297e2aa51e5e24a89a7ae81c1fbcbe6862446e47a623964bee5542fcb9956ebc3e4e02657b2b1454ce5a3e55f656386cb9cc1b03e024a3b370cf1956dc4413075e6759cf48b951a4107ea4ee72d0004cab7eda22341c562054bfcabe560d9dfefd75104647036518ca4b23cafbb31cbcaf306ec8582a4540aa5f423ab1a52a0f69ddb83bc23656f86cb5bb8244282f77ab309a0f4ffbdbb3862f1ef89192814a55b5774cdd54c0a44967065d54560812b3f49e2dc53c42ea858ba5af9fefff24b187d71490e6a7e0310dc31ffe8a3e0fd725897f0a3f85fe0c84eb1c8cc5074bf2a3067630f91b29e021343ef9470221e012d3d472b120b02ac20f61609e9ee1833d3f508fe3edd81e420c3575cb3ed4f9c1035664f7c5878a2797778e494e53432980a877c1250c5144ef2e3596d4406e711ccc4269467aa0d5daa6e93af2fef9fa8d4cf3876372158eec7d10a5eec559c829a37966f630b1d9e3f0c9b154a6d51ee0466a76ca5962385e735adb65bfbf69bfb3206f8fd92ae9fa6acc8b699d717e093bd04e135c4d9bebecb1e34d69766668b4ab59af93ca5f8c0b2b83d35059870fe60bd057b22699b1c147fa205e47c7b7d2d28370d1935298d12c827ee0ff5421c0627e4f4cef38fc0e0701fafe1d32021adc0fbf0d2b611e4405e183fc38cd91b31a0ebba13f516d29dfb016b541fe3870dc5cec1232b4b82cc2a9d109bdb1c7ab21655b797f987fb2343fc561abf25b07608aa8fe780a073e4976f37ac358f93f63dfcbd835011f5a688142282f06a6c3d2bf94b2b5e8c5234db2433d56f6243b94c0e8cd1ff044937da1e5bbc449ba73f7904af0ec13a3d27a20681bbf10f867336af88a426daccccfe306701714255181d739fa555d505d2e8fcd78a78506c8fb2f7ec1e8fcfcd52899243fec3d8815e707ccd3067a718e4e7c8fee398726d7f30b23f4186383ee42041d11102606407041ca87ea745576fa47a089a921bbc1b2bdf5b99821d66a887a7f472fe84cbb7a075cd282292629ba47f6a0d65584c4b1a50f0b3e61c4dabc0aabdd54366fd307ebede5a54034c55cf9290cc24fab3e4b7058dc3df2bc29c79ff9d83e457ad6c423679056db3854d75cbeb33ba839d242a8461d39b195d46491a3d2d48a3e10635755e860196bc725c6b224a94573a892e617f6d234c089c960048ed2448477f70196f89b2aa0064a139dba271014fc12d6d47a9c9d9def2a067481d4bab47bcc13673aaf8d14f75b5087dff9c22e44fa0f8dd2d9c048bfb5a3c592d51084b0280a55debf394f057991bcf1aad71eaa955437a48a9090cd269527ae6e8382a8ec2cc2ba1e8b8a9a0b6ff68c2d289b7588a64f0716a3210147bfef38bdfe7842f98b699c61f413fa08800cb2da7b86936352ba501985e727892bbdbcc0183673b4192f22164fcf891f10fe1750253cb3d4382a61d440ff25b82b6683407bae9aa36a1ca7c3f8d9a569ae1f631da37776c4d4d1ab31a370fdf3c3236d79e425f9d9a347aa578832737b392cc54e2132c50a5bf94f07241eb7f28cfb67339df68bfe08edd3db79faeb98eaf65fa98fe67454cf1da71deb549f67740943f81ff4353bac1c0bbd2d31d07d8b30db5c8d615bb62ae5584422feef2a312f8f0dea78b5db40cfc9aa7a76ebc2faa9c69c7bf3d22b3af17faf545a3d1ffe685b3f3181471fd1a5c9f12b852fcb21c4b2e5770f1a4c087f59d0525b9801c8b3557c9612ee444394c15e4cb37703b2ee86e889d80cb9f72d550f82d3307867ab70bc09d818ca7de86c9437d222ed01a3b3e7254abfd31f62a103d5b01a8e60d83c5ef18851b6671572e44998fbc7cb3ca6adc894c5dadf3d1b63f7b3b8a10e65550258bc53dcb776ac6a948e25cbec3ac65ea9a0627636eb19e247450a060c1c4d6cc7b10e527ba9468e70af6c7b17673cd43962028b2f5960deed33bb13bbe0104320c31783988f5b2c4e0d8960bc6c9dbc170752affe40b8718c7042d979943a2d4b9d281eae5b2a84ae406170bc0c4ee3d85c850892b3b99c4b2081b887962c63284fa81bf706184e2f327d571b079b576e96a6279cbd6e7f6e913bfd0755e07d8d8945e0787020bb2835d36c837cc7abf654a21d37de2b9d830d4637bb768e8d7372aefcc25c89d2209cf374c54eae4e1857ea702b436989f9398ee0d208fbfd42e6b2d80614bc301fbfc2e3653695923cd6bd5d9a7aba7c3b1c821849f50d0683a572632b584a115ee8a2f3d0727cb665ab2ed0a819ae485c484788c39fbe2e2b55363dc191ac5bf56ef4f57d63ae8b6bb25012b2bbdc8f425b49a20013f95228cf17a377bcaef1c33a48337a0cb5d783ad21919e8de807694b8ee3b793b91dc49da2c68b5a1366adcc685bfa8ce17f86709e38ffd1434f9e35b229f212da618ac8153240a4fa27f7ba75b8ed2143c80459f62924852244d1bc43f339bac83f1df905d16e0f46e2591e14c32550511bcab7c60693c783436d856a6b36c0057666e3f5ddb3a7c88ac55413539cf56fca05897e885fa0336fbe77d0076214cf91372b891260be150feb1c345f0fcb53c3ca17ab8ed5bb07cf3a4b1aaf908966ef04c8bc790876bd8356994a5e9210afbfd3a66907ff4c442513c069cf130bb66a983f2599be2f2849cb85c45cb1f025a67e48002c07468ee58e80c5633981a72f92502fd3658b4cafff15580ddec13ceb3765259b91eb3a7dcacc2de8934b90336c6d9d4d6d722636158eea657be406d85c5c6733d055293edf0c2a30575e41f07bbb0a1c0c43ebc295016ccd7fbcd9a44cf29bf296b0ebb7328acd2d8d9564f6588f29520dc465ad2744c1b20c142b141f827d37ef5bee5341a43d6a16a13217bab2493351d081550a59bb0f104dd1fa8489ed712a6b9ee318d8744d2e9c78350b8d2ea71ed5d388a0aafb31ca0a7a5f167c1979b263600fbf72c9fd04e743c1d89850e81b5d4c8a00ac7b029eb9af2475aae8f50a1e0806bc6d32889d6c2c2e86d6b3326e10918c05e1ae10da1a921d951ce583548fe4467ee5c3f726a439356fc4205b3dfbe171c3df2a120f5b20d9a5c417210389d894c35f6836bff44efacb2f311ca93f87acc95928992f317d471c219788703a018bc1d8c9dd2abddbff47485293858a2a630e8b7181213dade516c2ebb87bcef9bb796b1a5a1591224486eb5314b6293da3a4915028cce99bc697d867016712814e77d33d2379a79331302e75e9df7434c27f065f5c71b00baf01d05593869325ba93cd0889cf23957067b7d41f1546951efc73fb5f2498c3aad5c10daf93188f5cb3c266676609201060366e110ebbbe63400b5b12449956cee90cf91f5f69b7a03cfe36943591053218d58fabca8a41a8bb718c461404a0aa0ae4b82bde8f528a201bf73a99f0e83a238060e5a5f0132d1c91c3f9cbc1001419f3e72a75b4b6048094cb4244e7d835beb05b66759e0f9c759d9a0c9732516d51f75a9b1a3dadc68fdecbfc443a67d2d107b0079eba2e2e530531793061c939777ddd16072d734af5ccbe1d2830150f327bc59c54eaf5ed20eb91bab317c46abdd7a7af7ff93389f16fd7cf3788545b28d91fd6419000a867e7ec3b86b6f93fe670b9d9c7e64bd05c89e6b2b612f8ae309b6714e0ea644a714fb38d96a5562f8a72567c550e7487d515c3f7b7ec596bef35de09a89711fe92f524b70858a2c266b0c6af893880d04522c4a9b3e7326f790337431f1acb78023faf6ecf79a0d705659e63f02a9850e7df59ece0f55a0d5cc46e38eb42f967efe7ff03d607f7a805f2d3aa30895d247c4cc859ba23d5ef77cb1a87976745ea2f6751c12fb4e593c2aee096663ba2026b5ecdaff61b05ad370cbba727f17d7d9b8176cb25e774a725cf84404ed31ebba6a7960475c858a26e713feb409c03c2b952668ec7b34270de37a6f44bfe2cede254431edc19f1d7d8626c606026d347174d0596fa3fa3fcecfa8755ae8d166bdc0c27f0e4f33fe56c429ab68548cb3c757404964097652bab2498942946a9df92f19f018ba14c0ff3a11e926618315db13eef5baedd1f2d8de0006aafb731364865be75632d65b217237907187de647e34056bf5dfef9183d528082617f32d8d6b9385fcfae546c6ad5a190184f4b351b3e94675a5978907433f3988e40d50f483a8fff9cdf4d9913d291d16b4eb9e42f925ec302baa5d1fd08ab6d523554c8cb40c631a6a5f263113ac095f9898091e6b867ca2b341d8cf01fd2959ba5fbb22c005b5aecb19f753ff92544417ea485678f9e9d0c594833c17d382df42dae77205ab69bea02b2f3baded8d55979ea83e6b620623c741d9b9619990a3eb867b5a2a135f0f5c335f36e52379dd2dc748149e47512a047c7d7e4f8e4fa166e834a9f0c7e070a177bcb22b91f4dd1c240790e1c5a2b1aa40bc793c0c618f067a1f889446ebc0583ac69372b28cde7201741561a8d6245fad916b4c1bb86c5a35ba0e10585252b88ff01eda4b4a71f47dd9a917c8b8854666ba2e4a646ed47ce8d0a24b1ddfc8bed94d507a561f698127a042ac198625ae7b5d8f97be6662e08c38be7ed3846b8810f7b4e794651a6755f2dd32c7ba72bbb5bef7a2eef93475ad2f409f8b0e6eca9cdc1999a198e483c8b4c8ecc1e88e43098576f90972fa709431995d3f09efec31407491add09e818ba6092f4d301161607b6636e8fcab47fa8870509f5d2c6ed5eea7169dba222a13a17370066dbc2271330f40f688165d27cffb5e14d69cda49755d1472d9aeb790c2f2ed23162a3f088a32ea305aa18bed408f0889f3727ce01bebd9137b61ad56546d1e4b4f617de7691d5613e14a5d2586171b3a9e751e4eda63a341a5a765db263798df9c34ffd599916efde39cbf9f134fed9df774824fcfdfd71fc16d6d306c80aa385a86acb69ad7e1de9dc022b16bf02be3212d6da9e64bf61561cb413434e7cae60b7d89f28f76261fdda13569e4495716639a67f67591e7d7aec6ad97a342b841a9592e8f51d35fcf7685327d9b1321a81f60958ded6d3cca729c7dcb7e24b26716092a481878b2b32992a0f8e0e004d1392907d05e46ee9cf50ffaf7b48263312daf7fbfc21dff22a225a6c9f9a6347ee95e0b304455d4e21dd79e01779cd1","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
