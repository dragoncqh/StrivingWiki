<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"54a1078c74f1f67e653cb062c435c33d5c4a952c656e66b06cf47b22272dc888aa8c9b1a6c961d8c73e7060fe43c6b41b03be4bd977e795beeaf94d0e17f2dccee86e963eb4c4cd0bc659c0128ccb2f1f141f247a6e42855c95fb7982d15672e7916abfaaa9c8868608d66a484c9011e005e783a52a2788338672e49bd256111deb8309847d142a9354a77e2e721e0baa7c939a7e5d7c7e4f912ad26b244767a45111baba458e0543b0cecee814249a6e08b1f3fbbd8c8ae7739ea259dfba8ff9eac945db2e6c8c09cb02236a697f972cbb3cd062522ddf25deb700e696b9548e3d5a94c24ab8f949b77ca3f3ae654ba61ad92d96439aca3ae9e3fc54969a345d8e6bfa33842a85b4d9dec3e6732303278b900d943421e7e57ad9bf2db0550fbbee817dc3299a4637adc728dd9cb7d6c5002081e1d1643870e2c074a68434672510add5fdf170282c11df3a1ae64c0e7b7ec2540b1de17e3e7169167f3cbd767e6aaa896354fc34ce51780398278b4eacf957eed75ad86d0da9d3600b33e2b1d08832ce5a35d961fbf4c7c64c8e896fce3f9f65b21fd9e025fd47777522672f653cdbc7cc51a35219a0c3fde1a98bbff84b1a7ce688b7959b25723311e182f6364259c382accb67372d03fc66725bfabf21701dfae7543bf22acf370e8d897a32813dbcef7fabeeac2005bcf4e3809b57f51058aac2bcff9dc1322815eac079408ee9eb940a3dcf2a511ea9daca7392961a9b6c2ac787240c6ac56d4166001e9910a8517084119501c0504a39871c1ecaa545617173d42abba5114f90a0aed68e8c38ef022697d282d75452e0b920d1b8942a3f1e3553c968b9e949310756dc0400d577a421f8647ba139e4e8314f7227b8ed341d2812ee2de6eef613a3bcf126fb46b6321fe18f1c69a054ea09bc2b4672b0e252dc96d5f360b44868c0d68cfc78e9f0d339f066cd5c79abeb652f1c847a6aaa60c84b37d149a8c5f1097f5c2d8c8a0145652bdfae10cd62dafeb76048e569023b26ec206f5665e275acc87e3afd18edbd56b9f87082d05467e4f8cde46ea52c0f2db15560dc04c07672aa431bd217f73e05a7aaa58f1227d9ab58c7dedadddebd26fa78bf4f59aebf5d8b4ac700c0c7178bd49cf65e384832cb8f72073e8193b6b6312c76313af058992fd080d0c22ef9b1c08af0567b2a36d943f77454ecf5f1249e8dbc957b7e4ab56d4fcf78daf315ae38786244c64a27f6aca94a535577c8470e946782bf4398a9cddd843408b92f846d3e5da5f988b8ec3d25786467135124a50035982224002f5669002886c3b2c8a2a4a06ded44915bc67707f701d65492a4ff701056bd5c6b21dfef41a01736e3c75e388fa0aa3186fbf7f9558227afb5d38917df9a70bd5ed077929150f8575a6dca32047a4fe13ab7fd4a5d9247218ac6caffc067b5a4b80b401f8f44d5822971ebd5eae25b6fa56ab9fb1ee858b1261797aa1dc45ab77fdefc3f1205d224d1c8365c0833211193dd92bdaab9da5a107d07c59a6d2f90f78c5c48fa17776690b13abbfcce2f20832e45b6085ee06ef903260801c4b7f0caf22982967cdc3ad93c7d3ba744ef84a55beb569be9216eb2ebe7dfe6f92d63a12e75f9894975945abfca398d3ed620e5bde76bb1de2fa45b2aafd379283f53b6602f65b476a340cf0739dff9847e0f643d2123fa868581ea4db0838d384ce332ee29ae3a5025276ea3afb2e39ab32ff69910ae403934cf5fa2b750447e2f9bb2efde23aea06a91b2e39e08cc776e92e00fcba29d81552c8be6f798758aea6487db2d321731913772eecace859ab1f8fa4e7e3e57d1b015a1b177d2d002296746e7127ab9651987af9550b30bd0baea8f890bb0e7a957f6af1b02c12fb72fcc10c4d910c8a0707cadec02f6865c28faba600b803a78fc979924533105cca28a4338b9294e24b3f38ee7b3713a62bd622b9db9966cb1fc8d805e74789c1e7456cd121856fda26ea47261af1e4f6462a92083f706af7e31dd57b9a3ea9d5f0b32e616af1f39399a83a2b9d5f3edf9c870e975224690296de4789d9a384efa48afc7921cbaeaa51788e9c578c2328906d5e0431d9e091b194fa058e4ccedc3d902475aca85e79515c62572fe1c9dcbb07f7c278a7937f5ff0fccb0ae2a0f79b3aaf3c2091e6cd18ddb95d7271880ceb501861609aab07600e703188fa314a43b8f4108a4e723b48b1c12087c821620d7cb2d14e3cc96335b28274944770c562b8ea90daf8d62e54184f7488f6e7d3f7792c0b3bd984394be460e996f42882f570a13b9886d2bb831d140b825a2210aff481dc82eb5bc77671a8ab5fd395e0a8f61c7190b31de08efe1f041beb82487c0532bec94765b9ad4b5a615c7934820a93fdc6e1207f52aa3ae5b0745643745db501cf41133dcef3652cd52c855d247fd77c35446970cd7c24822ea6b67d1748944844fda88559aa9ba021702b0785fe2a9aaed8ef42a68c5bc83fea99732171fd317d8052389100ee6a03fad2131743376f3132c8d6c19010538a94eaa10b9fbcdc18496e60c850da80adbd3f0e2d9b932b1df02a856471a1d7729f97ffc7161b335a4c5ee83e4ba205bb02c506d36624412fd36a36a65209c410bd0cca1c84bc21975d5080a1df0985217473cc4fc5cb96bed450e716508cec4dadb1ddc40d53e4f4c0f321152082a35b961b6bbd07c860707f5d3c54d6081473454e5a21f09fbcf1fefcca6b85ac45f78e09b2a945bbad05c5756ef4da2b1f68fbffb2b8546eed41987027a41d80bac190d11fb374f4666a4b9bdb5f2c400277826f23543e050fea561d1ccaa44bc614271b65b347b5b46ea882bb65a968073f97b9c96de66702e55ef46bf1faa52367d4d0b06cf4f6704ca72bbb8bfb0be931414402ad37c54dc63817f89702a5c9916b963797246f9fc345db1d78683f678a4a7e9a5718e7b73fe102d049292108db9e172169fc0322c5ecb8241fad0b7b504fcdb60b844107464b39a98f35a638d59e37b90de14c54233382543fdd7d7b1bf4e9eee5190b7d6349786d177e2cfc8cdfd712c1f3b36736d03f605fa4379c9720bb703b2239da4ba56e605e40f5ded7c9906832f8704587cae08aff0986ab66e9a6c8f2073338cddbd2266cce38dc20a4354ea496cb2639d65389829b275a58a1c82b3f919d75d75a1d2a9c18003608f3bd82f4f9be6be4c5819ec72e260ac2238e3d06e7e2f299d889fe04ce2045f7f1cd63df80b565e8d83b3f80e6c8e814b1477f5991e268a8c34c5ed1f26ab78ddd313dbd6d14e53f8a92a7c283e938bc3e4b28a2627880baba71b04ed3b65ef4221e5431d1a22aa24606cf5e47609255eff56e53964d6833043aff8fb481c3afbb8adfdb1e4175722a1a82c7ba86df21f7aad456af3c0361e264170f5bed195da5b3ac1674067d98807a395687bb9ade5fc8afcaa176080043771e5e7aa00d59e032892e044227261331a41cf03ae34e086a655d1a1ef49e1423492ad2364a5ab0df2ab79862e385da2e9a5521437bbed1a91d687a98ac0214fca3430001e535696211d6298e8bd6c5a0bde08562a90f26bd7d4c0927385e951d86aef732584c59a7389368fdcf3d17a4dea434b4b81709829e1e3cc486c111efe5707e379a2568fc609d3415af7058cbf59452967c0b199f0284f7ac8545a9160043b5a8e5fb1974e930e5c4ca68d6f9af48d2c7fbd1a1de1e10ac1c0715559014585a6ec5ad8cb79114c48738fb210868e91f2d04e13b39271731e164747880c1e3f908666bbc6263530b91da0be7934a3342d9b3c3841a0dab03a9838f49389b30508de1b95ac1cdbe8c2da0768c55a87521a4ffb2eb10b2d1ed761d7df495b6ca63d37682b4d812119d31dea08e153ed3e3f8c16204dd8b7bda87a76b6e14744dcc994cea7dd428f69c92a44ed7b5eadd286d53e87bf414b85043288f9e3c37b6eb927dd5be4292c2c282ae5b95ecb8ddee6c6a22b6f0d6844702e7eea30276b77beb3e136a970badc9ef44a13e91a6c3662c6435a48bb496d363451cf9636cc08b50a29459ec70aa514a823c3c5e41d82adbc7b70a84207543f8255b47e4de2c9f8363a13aaaff1b5e9a0ca9179f3f998b2e0eab9b4b10003f9fc16c620b3e16b40ff01d17a8e98afbe83910eb06e123abe6588283be73d4a77bacd0bd250920ea71ef6bafa1c4bf62de6dc89f435475f85b878ba08119f80158a69f2d5ea73560758127a1cbba8255bba673132cb4b1ff018e8f62f17953bdbd3b23b7936cc501a6d03b2707ab96dea2444e5db6c7b3dec0ef0a1074729b3a324b7f22f02e7a30e950bf2f02a235547c6b5ecc944e4d896d908fec26dff4d8484cfc89045095608de07278b20b6905adb6b0adeec9a6d55c4dcaa2ecf5a9123560afba9092eacbfa0569ffeb6b21f12e676cf3f5ae124c6c1cf3742730107b29a403988a8125b04600104719dd70de7793b6d6d7fd9d3b2676d69c878055909d5b62f9c6b0c8870ac3baae149c214a3bf515999943725bdd8efaabc37358b1498d134abf66ac6f9ff337d1305cfd457e7136e629ae395839495c505d2e94254135f94de79ad193f3d0d8df237f301d415fd3815556238868a7f9bc533f3679544a23061b7f42959a14a68e92473b691e143610e0003f746bfcb9569dd2ee26794a9c2131f56257d05fc655e632f3b2f9ed41e801c791d08b721d88096895933bc0687b446931446d83fa31448850c2f50c7e8435989c8945d45a4381e77a2e3daa2b6ec111db230928765d712d5a09b023992aaad643bfdf5af89a64d0726c2933c30b17c002f852330f83dd19cb33f40f5d43d8160bc8409491353a7bd82097a1c99a906f2206ad163af71761defda8fbb83a6e4761acbc602f87235cc9aeb778f87178e50ce14811365c4329737af41699a7465f5cd5f68c23289059a94196870dd50556110f9d58e83989f38740304f276375a0d17d002355f425e908e8dd893f19eb499a278000ae82312d798067aeb7cb53507b9206bb6a37a22ab119fd07f5e7c320039ffd4691b8cee9ed83235d2458dcc4e4cc389bc4b461836a64c4f348724254b2c624ef3df2c9e4df2821c03fe0e1542662b8f058945ff228928e3581d45b80d0ed5c73388f30328521c7b5f7be227c4a83d720efd00712de2356e0c6ece20a467f2b4c8c521f2d13ef4c7543d14bce60e779aa49ba6783acb23015aae54bfb86a814e060018cd660214bbef1f359d899cc8566cd93702408fdd8c948894e6b3ba7f0e289fc86669feed1c7edd20264461d98add2515eb2debf10ab7ecdc3b99c3919a0d238b9d40ea7f2dfc51e7ce364c627ccd74166f2f2f22b0866472742e96ac89dc5588515b8413551f33b45499ae98c3e6959095558ea222b20039a4d76efdf8aa734e7b6085c938495117e3c2182eba93f428f6d603e2d659b83a5e7ef9bbc582a9163a87e003aeec9d810bd230601222ee753cfe48fa41d992d541f87fd0b424b74b318da6325b6ac006cba670525b36401880ae1c2e44de0ebe683c9c29ab51f0d8ccfb73c4befb70d96b58e05dea2ab453d951f637db6ee79fd5606355020db552625b37472d3c2cc147402a4fa9606e8866b3af71dc6ba8025b46bd9117aa727375182efb496822fce5025ea159e077daffb4ceb049e2a6a9ab291166ea0a3ae0fe2b49f2a64d230785c42bfaf4e667f91f6dc69acd7c719f1623fa26d107f7c995c8e5a0b24f5acdbdc58929acea4e608a36d67e02d9e686e705147a4ad9ac0354b44080dc028408a08bfb4e771c48630233b05ae80b35270309ae43d933e47ced9d962147bd0cfcee0566486e1de00e2165898b888688c620d718853fe7d36d8b790f1b2fb2458a9cd479c21e4ffeb6117798dd854d525105f143cdc659a60fcb8eead9491c8e40db987ffe80b731249ef7ba8b11101cb004bde92113b0e7f8fbc9a5a9d23ee7c876351d7f1acd554d5ceecf66a843e594c1974859892ef9bc25ec02ed41b30ca00c0cbf86f8b75bff3247e7a16895fbeef025146426d3ff07626471c990e83a6889da4d5e2a591b920309ceb1d67857df6c7d0f86dd50ac29db8386d1e59a0c3316112cec4125566ab407c8f98b46819c813d7f2e8865ca4868859ba014acb9b1584f5d62de49e638dc241d9d9d62edbcd7259682ab989e0a3ac2b8b1fcc1ca8adade74fdc7ff80042172060e15a8702957f54daf7049ab57363ff3c0bfe5512b2c1b981dd3c64da67869ff2595ce7d060bdc2369a0e77de2ad3184f11d4e1b14f621599b18064cf9ad9ebe07a04f513ff9da50857169030fb041581c832af43364d6df3b0c81430afd152468611600bd77a462fd4d4d3bd343877547a616ee357f8fa94357786b0baef15f751726034ac9f8ebf7ebb8f1c1f4a5070cba829cffff28469af2a87ccf856078b8c349e1580fc437b24946669f8a5522dd0905c04ad284ffb3b8d73b745a888b5f016d4d7cc2726b0e7b18344cb9e4d42ecf350fd63716885166da3ac33c9a12f5f37bf70cda53d69d0b565b1331de0fc32e14c337f3ddafed1c95e9fa4f895e1d48c71a164f8a1955eb7d102dbb551c365435592a025489b3fc2e11ed605b91707736e47f58e45a3999636e6daf9b03e0354cf4684e0cfff3acde7bee8798852586eec5aa98295c33e5e24135ee3bad7ecd4fac34ddb25325cc88084ad2601312bae4fcc954de8c6b00bdf595abdb273466433f25e3046eb98a330ddcd962b9321dc47610414f25796e058c6ab66bc2d2342422c3cbe753830822b5c096e894a5e4ce6ba69fa3d118cb8d917ef438fe46941552944b61b29a15540d7754ab9c696d2c3740f6b1e0646d7bf2cbd1d70b936aed7110f9e5559d6eec4d1e65f745917587f2bdeffa80ff2cc107bf6bd65d502c47b3be1320411b85c12a9c49be02c720e857eeb5ed0d8bd8f14f14119c654c3b54cf55aa043a52f2b4e6634e1da4a846ad022518206f625a1fe27a9ef61ee589d7f3a24b12fd0b39af7b956ac26a349167d9b4c371f074eae6c970d2d6b634d3b1a7cdcd2a748e62dacf3160496f2b57b4b791420c4fb6a82b85230995271e943bd35c24f22a9e7a0934d62177a7d94034f628e2266c5a7d1fbf6c78b755cf7e25e5cf7faf5a28fa07522fdb0de43a6ef2e0193a9abb091bcc24266f0cb0370d3613cf8fd41e24bc28cc960e4aed0bfdc441218583a39ec584b04ed60174e6acacfc69cef767fa64dd9139774d8d2e84208c5212e566a73ba0de0071b96a91db0e7142a441b1d90c08c1593586c4569f97a563802505d256029257e64b0183682996c9fa327ecb263c07743453c715979ae7552b86e9700572c601ce1398ce7be8e5fa028e9b679f0d5be56725e4f11d83bfa5ad7851390c256ba120445fe2011da6f33e0530d85e96d18adceb396052909382a64f263703d3af87444a9a58e00b32483fb8e1e4d085b5d0e2075939191a176be7e510f417a4db2e706c1da7e01d787f49adcbcd6adab79ac63386c807e5b6953777c69abdaca3c1798216eb8c8bf70a4f5efe765d0e4712044a63ebd81dda1ab2ab2064d9be8fefb4e2710ca129cfe2eef4597b0dc0f6e31f662e11a637799c52636b3453472e8d3af7075454e22e4190cec4a91bc411ee9072c4168da4e366c913e6cc6dc6df7358fb3b9e941f0b27a1ebfeda97f452bf19708edf0363ddfcc35a81eb988cf7d24f69a93aade1fc815b06ec5d321ceed3b5427b9fa78030dc14c8c89e8a0bb8b11a3dbca200e136828283200a1fc34a0e05ede4b1db7fe6e7a58261c86f94dba080ce3315803a0787a4e00dafb524fb560d0b0dac63903c93dc59f0944f60634020be75c24611e0da9523a9e3d81bf26622375eaa3e361c5f4aa50f77bd4ee3fcc03ce56f87589640c350e8a2b9218fb4a9a45d110b84b3c55d731868dee55d09eb71f6a9e9ffa83536c3e76f2f46e8e57fdccb9fb1c75f6ae2cd02b33387d2f763d4069abf960741a6ce6f8a86c006f6a6d7919e3564b4201c39d9e14096daf3ed07a7b5b14c717ebe7805fee0c1b087f4ead95d47083e95bf9fe18fc74874f2d2c21421ad3946577761c98fc4e0b9eaa5767a6edd1ead64547ac17f7569f6cb9824c59ed66a373bc112504fd60e00acaddf6acca116e0e7e70421e15bfc300067c7c088cd8f9d7dc351b84d60efb15538b6fcd28c80f344006192bfa7ad16b26bf27f18b2411d3b99cc8d0a2e8944a1fba00d98902578c5de908f222e037ce6fa0101a396dce0eceaf81adc3ebc31baeab4f139324007b7a7a076f4c67681f988f17113f48307d9e1788db67f132313536d236eda442fc06dea0b79e83d3e76df0057cbf5c7f9a3ce155c77a11670e560568d3dc369f87694059f99f2625696238b0af37b8bb3070498513e026cd431911b6e7f046dd762fb4e360e2ae8851db21257cd56b9f604c82797fb351b19058adf9578b30766c6292f638b38dea399d59b9e1d47f1bf3b0c8f4e7554f7ce6e35ffa346eeff2ae5ee7b15e5582e1647f2a5de29c749d53f34e3699f747236a6c1e35b68c5df16f9e81cc7bca79b7b900a527c379046fa4cc0a26d022807b7f938f76b7666a2d716572c0c261dc0b59e4134ee0133087c2b4b4017634dc0441715fae08f9f6135ecaac07de0ef85c8247eef9eeabeb92e6b27eea905d31eae8d4f8b68441773d71ae8182b7195e4d31f2ea5d4fdf5a38b78c9917df057b5ed70b023d7308f51f7dfced45988c3cae4ed85687b3f83bd606a3193c2f7b2a98b14a6a873e3edbe62dd1e6d74ddf59791a29501c4b78ed06254fbec2066d323ffbad87cd8d781ec69e8a3af133804f4fe6a074c64aed1f22e09d23541f50ac3a0bbf744e3c8e91528e21430df9bc22d46b1805c288f0209bafdc07fc74209f6f0ad1cce9831bc2f21148d2778f483fac5aacf4db6e02583e5763688a6139708d816124345f52e2354b7a702ce37b8ca04f803d061fc495940de9c387f9f890ed40aa9c115836ef011a9c47b73c71b30d51ae0117d32903dff5a43cf585ee676cbef2d76a4353037b2b728188693c410f2f979ebc654a9ad68287b4ab161e3ec33d3573e6fcc64e271c5077eed77c4b06137dba04dc8df888cdbdebb35de0f28d117e142f2161fb803a0978ee52490608acbe50d01c40630d93f6e691ae556111f4d87a2db0076275271ab20f41d879a7156eb43e8d0152c94ec89edb19e11a388bdb21f5776cb3ea0ea5fa0817b9b3189fdba43e8cbdd4c7fa2b9957a12bb24fd3db04033e54276b7ebc5e5771955e6031dc2f9da2681b31d3685bcf9d3ae9978eba7e64dc7bcababdf6c1c7d45ee8a53c3ce40a80648d454bf30d2cd578cb9fe5e7171d75e991751d3709151cf2f1f9301eddf5371b85e0dde03cf85bd986c3536141ae966f52b1674ae60f138aed1bf2728b62d50cb02ed26e7ca50f6eb50507753f8fb9c6f29fe6e7ee84b4e73b02e3674ba6893148825df14b3b2a183dd5b21774885ddcffb27f66bdb6830bfdba338c35b76328d3d55d3bae5349957412828b4fe2c33e56079b28a8561bd2752b104abdf9416e3e2db847ab1a4ef3413698a1deda0bcaffb8d6ebdebb9fa673af5709ef4ac5da37b22647af827f0c206433a2557c4958b12677c7b2d6d15fbf84915499dfc4bb6a0c79f8bc0fee3544ce32a276341de5ea7d0428779ecff01d546370fa3251507bb1ed5fc436f06f95a75319159f9f3dfadb63ee6258b71bac7b82be63ea4bf71400f98ec2e619bdbf181ef660d9c8fa40b537aab319491ac6f9a374a1301e9acfb047ba2b869a2ae49a83cf498216dba83bc8aec18196e5f93fd35c909db646a3a9b9f340936467f53914b684d0215088745fa5def617a1bdef6e517de7f0de7d23c63e6a7e68b44bb2a7d9a898a5f007da9443eeb7027625ef8dcac1ee449d8b6e9c13dd262f00bddfba21f84479639b57edf09ee18dee3e6dff4d35b88bc80cf6d7bd72d670c387adf18d58b7007406bcc6e4ce314e909a2dd8afda66ca4e431b5cbebd266bdb8ec8f166a459ff0fa1cea542f5da5ea866aeda248d5acceada7c54506bd161adfdb9cf664498050f55fe110c84b3fed1934dac6091528b1ec21549c568a48f47db666d693df6ada8a7ba525c8b746e885a0569e76cc66ffaf718cd28291161cd77acab3902d0172138e670cda675f146654b19327c20249027c06744514d0313a24813a2d0231aef4fa478949075ead25d588b1c9219a610b75dddd3be7a41559bb48e463f38c7e3290cdd666c191a092625f7aa1244bf4c669fa11e7422db6033536dd7430733eeff5b0644a01f980196e90ea138b12ac99debb1a12863f241ac2fc0a99386b587b98585c8963f59dd235e3a4ba4c7e9cdcdf8891490b872bea40ba930530507df48fabc56a312e6838079ae1033ea46a5809efb360327076fb1bc9bcb5f38a0fcbb99ab373933ed67c646a16d866d353efc48030cc7eef46aebff3f743057e9d019bd095709c6ff820a6846940e07f8eb6b757b91ed58d0aa77b3704c9937a4fbd3dd71408d8b97526859b390a01d4de68f3c066510920daf989e8712d09c8e06c5b05f8aa677fa8646b2bc5a0f6ce869abc524de521f68e7e6b906c8f5c68416731ccb69a7a49b8298c3a612ee081dde0af0602322bab555b465bdac1e9f12f614988ef568240ea34d7b8908940b2d10ea2edbc9ad8cc609a9e9d1ae0ae8b1231cd031d5fa1fbf85bc1391b314be647aab6dc7c764b68e42e223734ac754fc6fd2df59611880b5fc70a8250e89a4e7035547e3c47a1cbcdd1d2ba9e925e565396ef1eb5c59b492585cf1bf5ae471631b39b346059407458f9e6b30de0d9e471f400a3c4b0156848c0ce4ca2a9f9a2046cf130e57da6045a5ae6322a85e33405b7c05c74a23357d07a124af2e0f35611183ba0cfea6b348bd4efa83cf72c476a73304bdda35125aab1e5ebaf8e6d07085426921b848277d24d69a91323305beb8b43435cf291bb9cb2c0ab9cb4120f0b118224cc4eaac3ccfa06bde1ee77e83a65b2621a2feb08d5bcbfb3739acb75656118b0441e2600095da82a674d363e877e174c7a2ddcefad60a02df25e1fc49ca563691e94270ca9d8711aa6f03ccd46e132f9b5aa7fd363dfe3bbbb0a0ddcb25b12d305ed9fd8d1783f6bdf0d2a91f33a22ec77baaf81fe0491a55bd57aa1dd12feb28a2d79b0cb0614ea5e4a32a05642c49134785176cc00daccfa77bc72fc89500f99fb45f3efdcb2587b26931a02894dc9af4b94d3885ff0a10bec068eb2b0e2f0282a603febc2abde067f8fe4636c22d30d81b24cea2a3cb6d13582cb25243d430c4da56f094c9b14c78a91095eb87cc9b2011302e0fed8d46da940a81341aff65a8bcdf12e10a9989e5d9f2c48fdfed60a7ae3cdfffac227bfe02e749760252e8196d812d6cfc8912cd7024c1d22ae9c4b82c95a754dee48e4cdab4cde9891edcca4072b40cd9d4796a26dd6bc62abeac561697eb3c40bf63ec697f213132235604cb1a14e6bec1ca405737c6d5d45240c672afb01d7767a6f69f55d724df3df3c9d4e7afa7b04086fa090c08d44044eddfc076391467a2ada5660840c387dea030aaca9afe306b160c9b17a53f4c6a1e457fe4e83483c5860a5b0de17cc8565aaa9b36e11538fec123115f8df044031d442888a8c1ffa92b97e132357ec6102991840725bf2abd776436b59c0f129ce49c7670b97d95cc89a9720825a2e3c7c86ef4540f105aa9a33ac0990f9062df9ec1ca291ec7268a52c79de9e41552f5983f7688fee0a196383edc55ab29eb0ea89be6139da033a34f276d71c2275c782ce62329e7f9e89232cb92f3b686be9a8b1b92e169a93dea7c75d208c50118c8092578b07c1aa6902e6226f16de183f4db0fabce78bdc63b609146895e784f075302c6037ed4b75436bd77f8868e9c7b65c22de5a93c6258d3be33428fc3d8c6f71cc2f90e6ff4782a76eb9702b52042d61eef2c703c0a12d1d5c2dcba568becfa63e5525bf3e76a9a7277db8922874d767eb98573e5103a7ded2003cc1e37034939eef756edfad3d8d8c57a53a4c2987f8abade865782137a3050c3e3345b63637b6c42d746607d383c336b2f1d2b058e4176f2543801761590d0ebc5c751d9588619add3cf1ff090fe770467680d475ac9f83b396401c568658031a18813d910fdd4d8fd8906ac2081f18cd80359213452c642ec4c2ff32c7ba520e980537e6554c1f8ba610c2869f1c3208b9cd14b710073c5ec7e0ff0d8434370080f41b4e5c654f302d9da33d3b8aab8d5216a3523ffca5000491e73eb40d45d7013ab7a688d454a657f8b0dd4b79b6cc22da54fb640eba3fdfc0d098a6d76dd5845d1ff4907f242d6713de226723386ebf79093f4448cecb6544c8f8bc007b5d1c0d9ed66188b8b2a71292ac83647de27d47e436a852404cf78f98ac7ff3e14852c47f8d414fc13c1274837287ef198c9d4cb87d7367b2b790788ea17167d65ba7c74b09af7ae62d718305cdb1da1cf9b8825b1dfa274a88a539f9cf3385b67adca94b111b6101ab18f7c58615da7a934a46d465900b5ef8d3612649c65ae7b14634f60444d54b9d9c67a34282e600ebb656be6f9a2726c76ddf8ef07754fd7206d987ec4a9c425753daa4954bbad03e623ee86e2ecda776e0f602660c07c5411a7739c27b2d89ff6e4ef5d12db3fd5242b2b39129756bca07cbe9e62c7e7c8213196c33ec09b9b15cd9d1933e928b7608cb50f2a11ea2993b7e4403a5f6a65f7b0327ae9297b4248f108193fff146dcc8979438757530ec61710901514215902a2ace0ad48df707a994aa2b4f5fd498e23b80fea6466578726a0ae02058d098d1af318710fe0b66d2e9d0fa29430231a6093d146ad88ab7604256d6496b11e44607c1c2219c76707ea19784dce9699b618eac532d017fad58425b927b0d5bee2f6eec3facd61008499a67349f5810088f689c2c166787f8810f818b9f8ba44adcb20fc219a3c32254b0856db981d906852ee002aad06ba2e8034d897b962ef4ad8db2e1427f3ecf9a5e9578559f2c6006c91758070561ae98c9e82d70fcf963f869557e6719ab0102eb862a9cdad412e5b932325ad3a5e43a0b366b39af4eb0334f38e324d47d6910ba3f1995d244349331df5e1e032f10ce06ad5fb96a5c334b9d0bb0fbc25829c3cdd73869e0dbb4345c96fd7a8212c56d8fd985776d83300621b3f35beb2cd8bf0f4ad71ca9cf510c7e23b57e5496885409fb16a5b43a42752861beb69e7b445a64524eab17e1cc7ce0db343c708945f83307ec4338184b97155bd1049f3ce0eb6f18e6a91a5c459e238211133b98a01342be17e8c5c33eefd409241c5736c227eb2ef418d800a178ade09ffff094439c4826dd76b58316eb53375683ec87bc949c407d5a15f3ca6c9c1e763568592e31525ec6806b4b417ecf56c544c9d292394a26a4fdc5e624afad69b5df9da4857e5dd0d3889edc4a94fca874c6a2c0da022afbefdeb86fb17d77c4f9f841b256d0ba9e579ba740b3b6b28ef3d2c16bbaf36c175897f1d814056d19e2237876fd95cf9568972c0689a08c3a9a7000ffdbaafdf0f5cb5d17c459f9a4be140acb8efb7cbdd50708401f59f8dac6e9cb205cf697a40e85abb70b4a78cafc1ca995f46f78c64597f15f5e5ac0db963eadb0881382f0fb17af3ac637a010f213c7dad867d5544ab2aefdd715c208383ec829b29447f226f120b6699e32caa12e45dfc494689a82c5445c8b9bf8dbab1e962cff947d02e2761c9b8ef2d66146f65159b8870bc9b2be3afcfa7bb7674ba87751496691de850479f4837fad79596b645baf558911069a7984ea480af409d3295c32562c3afd4c91306a93881c62288fa2e9312c0b08e1e4d9300ad1b05ced08fd7fba6f13afe78f37a6ae8d8e057839634c8422d1cafcd0a120c0e9d0866e98666b1b9ad54e4684af9a8d3498c1d6ba6736c131e106526317c1615fc74966a52fccd7198ac9654154a167a9f1766fe4a29608862696c631ef19b83814d55c0fff43756349cad8555368669c8cf3971a4d7a02dfd9ba91fe1a2b02c2925ee9166683e71dc175ca7b0a72b33c7b01f9ffc9bbb183203522f20c4b431863f8311c3b8cc3e45f07869899785948791c86be6df40f15a81d1d301b34f725ca7c59cdd59e57705d43c398db9d22d0e8c36beb26c9f7207cf93bdf4e921b43aca2f482d3a9405ec9649e5752be58698cd82c0cdfd2519c10d4f3606a4140e3e416d5048720ed3e520f62fb5296437986f1160518314eaa1e4826a4250f846657057d85bd84a8d9974d80b0f83a03d3c972dc878fd822291981ec1f1640eeedc5b24c877c4a940aeab6c7151ca1d2944dc1c97e0a98645717d1e8e88fb27e1c9990d1e574e784d5d008ffe0bebb63beaecd91899f03202fd8dc4985895d333abaf208dff432f482325a0b9f6d5530878ecee678470b71da598efd49005f40e095d2112b01b77f15fe000331ea9aadd35d4b469f5bbb2f1b8d53e583e12e1421634d2ae9220f9d84214024ed05a76c0f3766b9ab68c5f4f8159918a0aa6e443000dd14d3aba9883a71b39eabbbc2d6b28b6c38a78a50cc1745136e91c8adbee0327a6722249b6f52bdca1ec34c9ec547aa4e41f92f827aa419e7fc50bb0a717b4f02ea78391aa76d27ce8cd4f8e996852e91b825d6ae6071e7c895f5a44d133c1c4a520934eafa5285a871b83076876714d663a745cca89bce67729e483ccb31017001b330a73ac4000d1b0d5225240cf05275dbd0e9a366bbe7004fbea0733181ca917ceae22e60a8cdedee8847b7bd6db3c5a122f218bded6d66a5ea4a642afee4a6ce44652289f440aeccadf58835d047f76757301c38d54ad25eda70097e9b33ee740a17c07f4147766a3739ef2f2fd8f68f870eba5a865b6e64f52632624f53d1c0d0629ef0c04f183d654f1ae3ae528dc89e18cb08e29a9dc4c6f5b77f974216da0648797de65f6e3f2749718d62944394ee11e0db3ec5ecc84f03be32436f9f3920ecee9f1e84151cebbb57844cfc6cad582000ee9935d490d19cc9dcc4c737af13c3b39334ed32132224711ccdfe8bd9fed9706fe36f1a841fd35229ac7b5e11cc07914ae50991e343d5bc859de14d8434387fd3fc169bcb1e561b1db30fd90c2d12e94e5bdac1772e46574cc656e738d1d6351ff476ca933921bdae8a1d518cc389fa5bbf6db2cefc85d7f7a68c746e096b223f99b4df7266ec63c98c42d8ff490375e6296267c30c3109c97be5940944eed7ad86c1c39b41d042c95ad4c551a68602fa5b49c63ce3ff5aefb96da6d2af0e2d17b3f19a3f4ea17d031d48d7ef5a8329b29b1c3db9d81c997893c4fc6d05fddc6507f5b37a8dd184453d2d5c7a8a75e093dbb221709ab6b90aa31edf09f9c81c661f59aac2495b27d3b2f170a79e15bd082265df2df24dee6ac39a0b334202d1902a2e0b3a0054375afb5855d682de648fcb40868770e9c9aa216d40d83ec1bf10201b8375e5fee17e681f8616b137ec315be5479b87e3846f6f00f65ef5300c7c10723c0d0d718b8bd9f2f9dc0df5d6ee739a5c31d862a912a56e373ddc333f52d819e92aa9a5948eedd1fef238244e215f68a3365fadbf6d25a5758fa71a842ba88ebe826c5716328544e2583b33f1e4b0e5bea10c8533c34eaa9aa69bba8a91f78215cbea8e826201528bbbf52d85ce4d956079692be8162df6c6ff62f2de0e0b25e4b7cbe0da9bcdbce0c4230e076865072e5412e156308a38a2e4da55dc356a428eac0b2225ce34072fe95aee3584513a9b19329c344750efbd921b6c4bd457f7a3f79f62bd8b04f008ac6996564a32ae51ff07b7c075063c3dd1abc36007c5b0ffc2c282c9d75f4c2ad6b031d88d791e47628848cc63e3a18ff0ace910c5f443cda1c831137607eea24ceefd63a5a2dd6e81b39b81e315998b79b18b84535cd56e23390d6e2d8913471866f5946ea156ac35b3affab7a2e5b4520db8796524ff4a81dc406d7d3cae77910c5c778a91b2809079199daa3a2b2f09a94df2d5f6e894465eea30f85abce5301cbda67164e9992ecbafc8d78c46fb7dec7e1761f81b415422295c2341fac620adb983e22d0b9c77f92931e8c2ed000a06802e97237faf44335cf1e452319fd1ca2ffb9cd848c65d41fada9bb74860d405f0cf332d714b7feb8c877943f7bea1b7d541ff441eeb386d6dff818d7beb15bb357cf8bddcb1cec4352445f3c50cdbfe8286a94264feef2c7273152b1417e8c6bbb363df03aad48aaae09a7f4fe4c262ef77038098592b1b63f28d875c47901ff5fe48c7fa5d1a42b31a326a785ad632a5d19dda6f7605daffcf103a30c856e6a3665973875b50ceab9385f9ae65ea3215fb6f2582be17fee226ad79044a456dbb6ac07efbc77de2f167d17a4d9c4f0f545412af9e548de9b2208207b0b922cb2557132cecb5a0756b11e50e0df3059de21350e4f8895e9bcece245bce12d99bd1d95ebd579e5550bbd9b3e09667db12f1783fc474c9286d26d60756a8ff985225348a289505a21ab55c78eda617f41e295a6fa5e6570e4d49456b712cfc978752bd87390be410641455da5324926fd5fbe374cb003f0aaac71cd0346a5d6025c986dddb46029d263646f0e00234f2b630ae4c93ed28b2bbdaf0aefbd0de3c61fbc02105fec24351e77732391a7f5658dbab65c59acfa1ffb573e843b322f98618c536092c46eda86e80f1b97ec87fe114e45b38c5952d0b8f34997cebece7c38127b814cff3b11e3c647e54507ab33457fae3ff01a4ddf6cfb1842bb6783ed6b5d7c56e2b05f3d352c49164747ee4e631520241cfae2e3c893ceb6a586ee001e66ed316660f56b1f89d8656270d2477b55bc6c0b89b9e8b1e835e77c9a700e6e70172d0e138a10a051fed3cfc8f5ed125c17ffc805fe4deaecf91c6881c74814d95ec182ddd8dd6acb7bb4698d0d0db8f132cbe0fee29463014a18871955d85e211292474810bd1a77d037f38313b9433021257c115fd71a262b5e22ad3dd30cd55969c102de737a20261acd821598ccd065d35837a52e4a39344d526e9bfcf8ac25dfda7b48adaef1e2f468d3140578a3d04315b030bb07c916987f3222bd7ad6d0050e974e4974fe445735345d58166080791555db5948462b3fedf664c1efba3f326bde10a249e33c74dc45370b99a9962cd38a4391385e10735e8b92879abf5588e4b84a219b1d802f27613a493192bfd32702444b05957379f1905cb97a31ba103078373336f982d7613f052a04ac4cec3343e2290c8959e19b3ac79e2eb66ff7c733fefe47171ed831d88082476cc2a448b0a6ae235edfc694a6f9f92aa7c5342ab4e17c136dfe6dc7f146e6068ccc562603a58f7e8cd528e1d642cf6941b39ed85ae3469fcf7519910ae50d5e04874875e2d09d4c9f2670345c13c4eee63058faa0b0beae8a242b33d3d6c718e3b295a8d000ddb7ce1ea98e42f0636efb531743432023bff86eaf1aada77710ef26afc124d82377add1ba75c9e8d110393725192bc35ba25a97a496113c10f1de6cff441a085dbaa972b0a5b9f52bbe37ebc0c616e4754d50fc50d250d012853dd5fb75423db8b304a7566409b6ff8071027b1999e148b2c2185bad5019dc2a458046076a8f45db0ee9c64f03caf9102917588bb00a33016bf7dec02b94b27a0292a4b3d4d4552ebb7e65f936a03f852d746baca5b0108387038346f63356403d33a588798b26705e08d2b854389bf2e8beee88b7f44612b4226d08876a71e2643bfb25c1b5934fb31006e5d257ff83708c1fc01d91bfd7f773a513d9b8edad87743deb56c0ba3753a48592ca2be1d78ad7652c9cc3719f6e75c15dcbb3ce9724e17a577225e077dffbbbaff73632c9abb0a059bbd1d2bf552e9210a706e63c6a4f6fcd0a095ac6fbcc626663eeaa10eac6dc3dce213adf9516014b20492c1708d0df8e0a14cfd31cbc53f8c9cee8b6c84dee61db0ef869734810c6ef777cc6b2bc00b5ae0186d435edb4cfa835ed261f5a7ba4944d20f962283957f513d297ea003b8c0eea27ffc2fe5c6bd5275afb1fe675d9565e3ec95be3952b6b57ad3f1701bfe28884f56819ed0eda7b70d70a407751023f120ffeb2e4e59cd06d705347cc98ce8e8b9941d3bf65dead1ce97bd13a62ac3afcc9eff753646a450783daaee4ad04f5af08d340d5a4dde9416900d8496c7251d2480f634f5f92e59999ac13738cbd6a730662bf7e5857487379fbe527e7499f6b53a8bd7481369e6ca599994d775e67b4924ab2c964fc44548b4c8f85fdf0853665c379127863218dc3a0bb2a8d1df443d716395d911044086ac1ce48d3851e459d2832304a492937a0563176f890e8e902a69710840c9ab41171594cb8a794ec01a1183ed56d738ab38136316ba84b33ecf809df014935c1f64e589bdc5b1bacd51402d6037db5e92fbe7bdb1a69cd18f3918913cd323611fc60f1af71a31a73564e3846fed48ad69876771f173d20a0aea3aa39d4de551dd0e5bbee115fee41e975bf2121386c6d2a9002f6e0642217bbe38ec2973644efb540f5945108df85fc970b08da31cdf7821a317dc3ea5dd4d8e2d5e4fbb5f41e1841702981872796baebdb409f4546ccc438e963718b702eb5dac39e4fb1c98dedda06245662cf038035e7473f704d9b6ffa604a4c5b5711214bcb26a6d12b42af3801488ff2dd490cbf2f791651e31b35735153903ddbc700eb21c0470601afcb47ab9b28ccb8feddaf3622adf3814edbe6e8d34dd2ea4e6a33e12a0957a375f924b9272a36143d9d41992d657636b77b0e631c381040dbbaefd9f0005a4c44faf07bc03706f5d87c32bc772c2e30a560b3f70012ae718e507f4a4d31bb8bc129e9dd2c0d3b2aa3baa8b8176c93cb30e31e3d84a4433c116f6af0bb446edcc2eb7bd918c152df694488196af0b402aaeda623debf6c0f87d6cd0d30f79b91b99f6ad74612686af39bf45e718c9136a6c86407a8b8b640b4ba2b360b6820c96dac0b1719dcbd6793b64b8fc62724d0ea6fc3deb84da51b4d58d54bd3c95150bafd1997e3076ce5f01ff7103ede96027f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
