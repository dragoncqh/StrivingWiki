<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fb90cc6580dff5ceacc7b69349d82c7d38a4e8e2d238add418bed93a077721b126f5e3ec16cdf03ce77358d9ac77360f2a5f936167e31fbe1444ddd9d570cc5b33159a9ac6db9396b2c054ef4e62c82f395f3c52cfb441e58f1e6da9322a6f66aadbaf7b23ee7db1e56333b8942fef8098ff388ea346ec7beaf636a4bcae62c1c616564dbd4f1caa781604c15c96706022edb93cd641343846b624c7f50c461a873cbaaf250caf4078a790a0b3686a66d30724f0105d4f8f2f10c08c6dbf2369608348003e61b0adaa0d36af18834d69e559cfa7938481e80b4c639266b6d17df7ffce87c1d8f2fa8f5ddbff8ccd2ae8dab6323fea0d1e08c66c2e31485d48b24d543edd3353f93299ce5ddb3dd579ca43a1a8e42f437291a005c4b3c07f50ac558c598a8dec0e444c2034f5de31aae925b586bd90b017f1b58e089ab8cd3d6d133e317fbaea059c823d83f1f28bce81fdf6646a8d6e1e9a92f747ceb7aa9c2c0e2c97025a6ebf4a28b3eb909f8fe4a20da57a26890386e2a5f91b321fa733ff735a5ddd02948618bad1f83925981c9c048340e86a72296d9dc74542993d15159f52770fdbd4924aa58f42f715652dabc7b5659e2072df2a22348b08ed49aea49309287cf6f294923807c104579bed5100b5aa590fdec70f7029ac0481fef1ce217b9f3ff2fba690904e19d799ffa1b3b7643d166619a04a64e00a25213362f1965c9ca23b3cbdc20f282b77d32f0a24ecf4dafedf83b11b3b7646f87ca61fed881dcfef3e035d5eb131c9d2e0eb29af3a723ab2de6d7af00ace2954775e7852403d6808d3970bb9e574dce6382f4b570203bca22fdb34f1e5c2d1434025cc10d5f7af79ececbd9ebe28504352af70a570b846401caa548e3452daa390f28f6f0d0fa02e9c574ff644e684de404e6656edff5024d03ac318fff82ffb25f1d122d9fdc1ed87f095efcee8526031fea5231bb718a7aa8dcb95644982186c67ed1af0fe909000ee0f45c9e5d71901e193b79e383607f8682f34b5dac62421437856da363963ef7ed1f4cd6935df6189bbe250b389e1c38e6576bf6982fdfbb84a00c587f22a68f19fba87b345390b453eca85e880dcff5fa63a4450b9dd6f274ba9a2ec2c931aad6820be626742e73d4e0ec52393512bf7e546fef20ee716ea7eabedc1df0a8084ae4c6452bb283373dc55b83be2108e070073bae7e57d6b6fe1994a41544c730d1a5b52f90296f20156538e17d5b61e4dca491fdc8db6f0542e1106fc62d2e7a543c12364862fdf89c06ab87088d984676319b0522fca6b037c8a3e7d61470cfe0e2a7a7ad609baf005187f53ba6d3e8afa2fddf1dd4fef643c123b7c607c32e9a2dd94385187aeb10231b6d33d5cbadf2ea4eb1927096ccae48d11881e05bf85e6652a8f8860a835986102d0bfedd504b4a051fca5e1231ccf887a61ebc83fb2195eca17677b889e78dd8a8a097f9e9daddeb0e3dc0e2374f63c7054e5150ba977c5cff1b96bdfbef369e1c064ff565c4e4321bdc9d002f069cc4872a92746e1b2546b4889f73f3f3f4fbbb95eeb0326bf7611be6cb146f1240ff26c2e018cfabad6441bb398b8477a48c429291f3e5f7c5a53fed212d8090c1ecad56b8b8b4004bc73daf1655308cf94b678ee0d790d8b35cf9028ad4429ac6bb66ce475c3d282e636f65ddd2956fa9d1d8a501fa308856d9e11939f402c09d11f7252cc9b2c5ba2886a4e3bbc7630d90a2971ca9674bb666b29fe70971a10b2eabc47dd82313700f1db06dfaf37e4fa1c347c784c96e7262fd33a2ee631dd5c01154c3c06d66f98390229b2b08f332d6ae35db0a9feaa5dd4150e57017f3fa7ad4b8fb582a7a35da823c83721020fc6bfc09039cb99d60b8f9366454ab366341d3e1b6fe0a0b73178f59859735908dd0361b5e4d82f3216dcebfd1ec60cd5897017ad867bd73592a7541f9d05e2a33811fe5cb80fedd3c77f5628a5f01191b921bd93bd193974d2f5d768793d13c950a2d62974f16055440e87371ba48671201399a1d355f3f2b5195eb0e3383e2448c717c3c8670a42f140ee8d4db31ff65fadf6650382a714f2d6da8f547514a40cdfc1dfe56189674c6c759ae5e2ab7d5208dfa93b87f2653ce7a4e8127ce70aceed26dafd47b2b76aa4a848091ec38cf7f52ef7b402a2bec84af735545e7dba8b5c030dd8f354a957fdbdddb041e54713a1684a3530285a5f6146d85f74a4fd6df813b363dc232cbd1563a7bad3db60320b5a380d91c23a58c96393f0f53a8d9f470375c53528f6795c36cc9a25e2956fb757d395119d3f8c4a12e572d17bcc96c1f23927841c55a1ab0ca39575f012e9137599a265a57f9429edb1b78dca4362fa499f3e271178c970a93f3f8866368bd3a8813e7de79b064801f2056746ae6f4c5679f99cc0c17c9411e4ec3cd56a1e628be7f20b72773ba6b0c3c1a509056815c4ac18894b7a0666a17f0ed22c64340fba0a70ef9d1ae837989f6a95d363f793266d1374b52b4623c2d208735abbda422620d685d6bfd1061a055ed666fd545c600eb65cab2b7c4bff134a87fcbf3f27bf2324cadfa8dcd0cbdd4b68deca7e9ad991fdebd3f5f3a05bc65f4bd3e1973c21ff77ef5322bfbf5528041ec387f094d258d1ba269acd13699085f27931ae89adf986f57eda1ef29769ebe7363b73283734aec070ba2ef6eeaf7e4637318bb5b14c3b804fee6c66f5aa1eb578bf0778f48cbec66c74af364561b8948c7bb0fd071c4fe334687774095a36d81217fe7568be93ae65b919f2c8a357a39113b04596d96c4613cf13918a9547b30c2654556a2fd479c0fd17e9792dda1ec5c81cad4d6421083966892a163c3de72d1f6205abedf7b978ea040bd3f1d5f2b94e6cabf1634649d8100a5c02015f5c9a0e80c28682cc096477cba06eb948a8b16a73346a16f7fd3b847780d87576735989d16032a17c1d9be64409301830a8bbfea94e26df5cdf8af497d345c2dbc39443c8772ca8e6bdf8e41c53117a3974bb5effb9782c80af6bda63a83f96d97dc1ebca52c43181ec63d09eb3d218085a86ab8d92d0f110162e1fdfb81540f611c14c4e555387e3bc1ee585f565e2b58f0bd7063d757b106d25aae2d0d3fe34268dc871295764e0e5f830e0ca568469b27cf6128c2e21b6bae6c5dd9c066e6f817f63f9391be63896676bb950d6c93c14c6df10e29cd6480aac8167ac96de189edd0f352574ed9442ef52d33883f45745065525512e24d122636b3859c5bb56faeb92f7421a97bf51ef38d3128379cb34cf5de844ee71b1f5b26528001ecfab021b27184a358a54b612410b30a375a00429e3db465df843e436044f04d210244fe67556d9b160fe4dc2ff8ace29e2ffa3d6fecec7c603507205343db8be03078a62d8d69b1e2ee71f01d93f03d9e88fc9c3f85c14315c34f1c0f844736dc7184ac6bcfeb5ee8930ade889aa1d5a8e1588283578deb73b3e931dc0ae360b75ee1fb1e8b0f9aa0d80170d3a9ed922f58b2f2dca39339ef320c6805726d9bdf1b4229267df69edb8e2c49e052675ee2805cc5d479f720a6fd6582f306101e09ec3c5a157ec573ab82396d608a51ebfc40dfd7044897fead9967e6434406be6e833edabe654e5f6208747b4fdbf8135725626d23fab1b0d739f8f04904d6bd6a95b2b1131f084ceefa3a78c92cdd8eff291eca81f641988b9da2c40318d3119776457b2ab38173caf9401feefec935d1e8245cf80fdf760c19fd9161082f18a6bde9854b0c5cfe5749ca64446095da72b5e4a82738bd44ed1bcac5feee50f7e0505025738df865f20e6d23f065ad7401615ea728927fa30328bfbb698287cc6935a83d0105a5aad2ea9a6552af73d77f636730f1cb8ecc9336e3d494bbfeab4de533f14be6d188e3287730165352be050d7d22cdcbd575f2c08a9bb49a4e3527f8e7128ecbcf9821b64f71d454c7181c1edb7749a0741e3f406eea099ee26f65cd135a983d65a5c9266410a41a2df130d43c148193ac72829075a7e92b442818617988cc06f14b91d010c64e8e41c99527f8775e4e1204308c31d23a4533929d9bf68487c42a8312bc0f1f8e95236f3d92ad645176df6f16aada9c75c09062a5eb565449b38e254a39a6c05bfc3c39194e5aa29a452b6254316dd9cd90c5a589923874f48e16cdbf25cad8a5ffe41e6bae406c8af5932f2bcab286565385def715b68a6d8f1f5d99ad097c1c7ba2c105c68a1417e9e8591d9340bcd5751ce24fbbab9a5c792b697cc2cd798d8af380ec110e7872bcb8a0115b870a76f7f7322bcc8386efd7843ae02f496a31abcfb933212fa9d86bf98ee9935d8a92dbd3630b66a7105cc0890af9929ff90cd723041afe709d555cbfbb5f7edd069b04f28beca87ea61b595ede575e923ac04910c3cd1a21d507be05114d969a97504e4f7f9286d2b94d4df391029ed46e2e5ccdf4b82dec45c94d1cfc72058d0d834e514ea5ca6b58c61814f7cffae4c4f9174186744037afd356692c77c1ba9bba261e381c2f76f412875ba2c54253a7c95b6caf4f48fdab45416ba0a9c6f041774297e2052df41c169ca39364a4f51c221ccc3ec29692d07cfd4ad0572f392994f687e49f09db458418548a69063159f0523dc21fc786c19e58bcd4289b6dfbc099953056f8f8a326f73c2ddef0a2a9086dc02549bb5b23695744086f47ea6d1a561f40c6ba02a26a0d79d691e7e2a919c897767c1000363b5825da10a5765eae417c00310bf283eb0d43f228900fe40b1cc37df9be503e8099f6b660908bb3762085338e8a3a58fe4dadcdcc31b9a4dc05f9da73923cc31a83b7f758e0179147e5aa344259456fed5955e6f78b00ee108dcd62308c64d86820f3ada26e119a7a398d8563291c4f73dbb8275cb923fcd9550895f2340c443481ef438a84717203ad3427d42002362e42cd8460bbebca1c70a7c8c5464f2a50f9a93ced1715f8cda7dc9a31d86b77e2b806d982e2cb592a94cd27f0e6098b3b9b7b21042a7d26e583576815ae29350888913010b3f19240acc52b0db751edfd3f019c886468fb72c772f9cb1e1dc4970dfc468ba78e4c1e4952abe436989c7746049d1c0438890820619fea824039bc4cdd9a68b7cbf29668e83f7dce1c7bbddcf86b9464eb8a8c9d236c9e7bf7aebff1436d83d55f1f825cc6d2d1ba1eb4eb66721dc6e0e1a04e033d68f64b80511a7241081fbbcc63790b95b92a105c4cb8f9a68579188ac9827a8609a5072b55464ab1f57d4f5b3cc60c50894a34b966922eb4ddb9ac16be81d9967bbe8ca893c08c3821958d89d7cef262911a1c520f138b6747221352c8a6d53a0184fc5fbb71e2f4c35d2d5b8fe2567120f605be358a4907bb2eac69ef66cd8bdde1821fcef28aeaf72915da3c66ae48155f4a93460e5d235490f8a509ee6ffbb6d06ca2e292a5424c7309eed2459d66afe1d7570213fd0b9d30cc20f66cabd067390aedb7ccb2342f3cb56da1d0e6f89a6843059dc414c6adc0063843bf83340d1264fd44f9603fe5671c446b7e2ec7c8db44cadbfdd8060a191a5a38dd0ae6a18bab75a63af70dfaba29f260ad326e50d1acddae1336c27dad0ee5859476f541fb2f87b76fe180137a292aca91d7b0ce33028bb29eadd02eef96f53d8edb6b2da50b66b6dcc4fe584198e65ead4bffdb7909b6f78219907540062e55a544c654f72b72b2eba5bf07346dec1b7e217c04ae37ef12f935c9372cccb5afee06d4121d74c71578f7b0f86b131d5adc4328b5212ac9070580936d5a3e7026b55f916cc1aed9cb2aeded48d459eb4f81b073ce5d67897d61bba5166ab7715a7973d208fd3e3c09b972086f6c61961079350ee8a41195d8bbd05630c5474ba4d2c90d53870cc8ca6da7e2666893c1411a2d5284756d401a1ba76263c47b40192c3d42ad6ab1666e20991e9c062d5a2300ef5e57d397038cdc63e5f3d10032ed46bc35fee7886297d432817ceaf6ff81118fff98cb6ed7ebbb715d4db66aec54144fb1aaa2d22e53f2bf7ae66af12a168a344d52f2e265a73a895b04d5a52c6c16ebca8f07b2b38b79a33701b98cdb3cb19533d585eefd6981bbc01b82f75b76ff568d77edd243d66c34ec74d991d113e572f18650e275367a756c5dc79472117af33da19202d21d3907159ab64a2cd2c4fd6441a891d8f9ee7aa2cb132c2e1dfb8900c0b680c0fc7d71338a169e66701dd6f34354fba416cf7b068436b88e145f1a5414e9eda94ba3cc14944677d70f7b90b969e6b479159726d8904b834f08ecd24c44ff9bffba04b35d89e9b86dc9a7bf813e0ef487d5686ebfeffa295e235c9cee2aa54276c9f4892781e064aeb5965cbd5a70eb6b1a7f2e91b925a7193147b71605dad04822ad553b569bc223f766bbebe2f30d517f315e3522a0ddd076389434acf7eedf98a22ebe8380f72781cfa056279d335776085c793e68e8fdc5759cd3a4c1031b21ebcdf2a53338010f44278a7279e97a1c0ebf0f872d5ca91aecfd5428e322b2896991f1ae8dd30ac8f3c15c7a2a01727d7d85a949a3662e52af48bbcf097ba05d8b0b7e971e3a0cb4b77187b0b2f8e7e50efe57411769827dc21027fa8794318eda4185ffbde72413bc3778da3da065ae0467afcce5e9da2b77f44dbe7016f0e553bc84bc2fbad4c4a91e021196fe025bf74a3a7b18e4782772c9978e4efffd9d6022fc4d6e09fb23573ac6f13447f966a9340973fe20468f246c46ad671f26aec6dbb208e1b56bf8f36967f70b21938f46e471b83e9218c17f16c946f1024fc3d35c7bed2ee78cef62b3672144573388df3413967dc4487dbf85cafc0ead4d4ade90430014f2f9ca9210c8f194bcf3e0aaec2ad75b12558571ce78768c28fd6b04a2a67276bef316fb1997beacca69400ee81c5b3c69f5c4878c6eb18643f2cc0c16f4f5372b5d528f5a7c7498f8fa45964874f9d16c19ba49d7fa739c5f3a36ed92c8ac13758596080e251f5bf22563fc43ce2dbd23505f56200a5b2e5053d520f493834793de838f5828bd236672f3aa5b22bd53ef5580ce60de5eb0080b175e5ee6d12d9269fedfe8ff96991d7d92f87c67e021c72196473d67ecfcb631e62d553d81a2d3a4bf6910f6e4a70b6468b86753e936b2d8e2355aa34605d7a99f3278971ddbe3acc5eb71fcfa2899c955b8ac7f933fb29893aa2d7a63e2aa00c767fd188cb45ba8f19cd3ebcc167fdaa4a90ece12eafc9e84a56a0fbe3ea08d59388a530b0d2a19b175b7e7540b68908206b8fbbcdf6e01e67d49eff2fd06d28048341343f291c18858270ee56dca46992d494827957ea980fb91779879974eab3cdea2325a194a1dac4ecf91390a53779b8f03655b1725bbeaaada5a335044e19c21e21199bdd8148382736ec5bcc1ad828f2c34939c5449a05b340f7764fd04050fa4a74622f508014dc9dc35091b383a0c6abf9b532f54dc0fa5b4c2d8ae0781b124c34bfd1f9a91e4e890ec9fcae9f74ba2912d3047f3f58d27b2d11ff84757ea7bb3a4cf2c0a43995f083b07f6d010c7127cea61004b96831aeed6efdeae7686d6b72edefb1451f7bd0c5cc17603f7a2170df2f6d41c3ea6878f2f940c95a3e0057e324298d11b75b57bf283a697476c4f6bab4fa68f17f54cd051c0762edc3d1415b874ccb78b6a49aa488887b3b2b879a5d8f0bdbdbe70a9b41d8becca0cdbae47557f440c2bd659d93c88c1ee68b3e49d25173e3e59004c127a50169fa5ee4bd5a9eb1fe877434bcef1ae29678c581001df49c0fc350b74d8226f39db68f24f25852d25b4ee0a5cb6a7093b99b6d4b3c473f29f968c16fc87767074940d20810b8fae8223f9f12919aa35ca7fc8b31fe34a435d2fd731c54976db739dd350bf6c85d8b1c0f59008a54258d9729e2f9ac6f719fcb80c98a5ac2e134742905e2f1394b73401cc0786da5152b964d7451f0ecc6b22deee6fb515ef47edd174fc1cc30e92951d54a1fa2b06b6c40a849f859e567e432fe1a2544ec6a0eaf541db9cd2488f0c4c31970a1032296721d0884865bb9eb94c23b356f74e44d2dc7c5a7b9d061d870b88bad7044e6c9bdd9cbb223fb2d7072b07089305e5395a15fd92691f114aaaf64736639753506a85089d0d03a2f13d77039aca5b8acb22d9a118ebea4d81dc6d8fd72fe45dea7a34f207fc2a3ea5b438d1ad062a893cd0b6e0bc450220571f1aafd3435b7f0272a22ac8be2e0789e296de1aa4bdb5fefbb5aa20e4cfc097d30a3ff86c9712dd169a10cc0283160a67edf3af2c4a348f01709a5a22a482152ce2d562fd8fd9541793a084455f62da073c34e6e13566acec7f65982c87d447f3dc298e18522fda50c07ed3ba22b9ee84c93370b12d771b48ae0a581307e4e664a24839b229e057f33cf266525c13f0b2787c8e958f2f04a9efa72b731986a5110adfa0ca997f1741f3457043769cd874e781743056bcded6a359d71eee36b26238048318362f3203a86d809a77dc336ba1b1b8778dac9efb4e48017d7f2988867abf4bdb08d3f75423b3cab112243c2de0705d7f8f43dc6f80ab3bb5aba038add36501941140f2a0eaaee1b5fa535c6f943194d438b09fe92d50252f9f488c451b7b5effd4b6ef70fdfb0163a069b0a075f33468923c5fbefce5cf26605cf0ba9c64acd6b19a0fd6165f4a37305285e9acb2d04088aba1c96393f74afaf482dd79b7b2d42cda580600546461598c7b4c156823f8bfd68b6ee488c2c3600340c7c7c90260d9ff55a080a6724e704cf8daf8b3713b2d4acbe5e656d1b446d7021aa84c4084c293e349a2516735da80c96ea8800ad783fa4f46cb3d0df12f690fef06e29bcfb7a01ac8f9dafa291daa6b4ab0c26223fe83b963f473af8049a20f3e6cf1586b9bc6759987c875c577c2436b337ecbc7be7daa47eb15e668834e3e10a6cd845688bf9f0a5c15c187f2d462b1689daf5e6a25879add513255177b456d296b80c78e6060a5c8f1e0af05095b1739ede214c34fa4ffa67133179aa53de38d311a3a493c342a03f80a5e119b0e640ac55b7c481bfe878619ea2a563a0d707b964831c5598bc4ad6e4e1901c7e04c829f669c79eb54bd38caea2247e5b9d8e884dea5518dfc5eeba4eb58401c98d1705998d7f395e58f3ade6f32ce81190a39c30ef32e765cbde8c53cf54e5fe1a8fbc87427266ff6fae294b41634d5bbce6180bb342f7edfb47fe4116947fbf52052a2e57c8051eb0263f010875b7fc439f32edb619e8ad94acba6a43f14f625b4fc78b9bcde280422c4126bdbfc7c7c5fb1f8feb163d93869e487bba7c03aa9116fdd36a9ad4a9897337c2d8dcd6e5e4bcce80f64c304850dd9a935f8a2ee65b3578b64b2bc58dbf3664b9ea445a9d3896d5512155dc79180270671284bbee9da99c109a8467b006b2f7730004c9f987c693329035aaa3f0db5816b3ad7c208b40588e29d6def564c300e4e4cfa94ad94f842dd99e838a548c09dcaada88c8f906a21ecb27ec74cade37e225013a0b18ced5c84a3194d55adac136c47c73cc650f8298bdbdfe5b8f2cb63589094ba997d7d64ceee7046ed7243486c5df34c090daeed5ae2ba88ac8f51643496a1e32dc32f61da5e968d4dbc2fd5669b45f47582f9f086a17ead0fcab6d567efb67d974d9a274a0cc613230816ea970bc7aa441bb8e117e11adb297d0144d608cd2346cacb8dac44059c9f8552af0650f1f92586f8b9c9bc181d2d205c1194b979c6f0b540d04bbd54d7045d10fe0fa068be7fecd1eab630b7196a12ecd5636977d966bed02e84a8a271f5338b4d0f689e47e53a34df88350e1de84496c2f9a73cec8179a2bb1f9375b6ba7934413b50f432289f4d2ccef8fe0ea8ad954679e32d3cdaf58b33cc283924875bc2a48bab9613872719b3d4746ce5a2fb8fbc4482d85f4554d1bfbecf1653e4f0b8004ca266f403a0a6b743a0694a5b2f441ef316ddbe459d274c2b633d8e6296bae28a035a237f26e07c94fdaafb7ed668c04f828a799511f1c8f637fa3f1aa795e08c08edc08bded3c56e225792ab8dbd104f884362978f1e867f8327da3a162f2c53a9d12eff8b6b0eee001642534a4acea954b5c2198f56ddbb28973c327dece1d07358a3063c156e384d65446157447417569623eeece08080ad92cb72fbf1c08ffe0fdd28f7c3aacd81786cfe3ab6944bcd3b8494dee7574a60b50e10b533dc881c483e481d917a00a64916bef26d581eb763e5c8bdb393e2a1f73ef5bd618637d7d106a747f2554719481708dc8b2c018f178ced5a17f732e0b0e7c030dd633c7bd445dda5df5e7aa10febfa85bdc192266639c166281ed2f20fb0b098bddfba6009908b86c78345d4a398c70bdde01f861dbc5560eaa019a720b04b4b657e2f4e5fd8237f0d81315b6fecf53fcd79a2a6eace986585c27936c8d9823b6807879c6072ef1f3fb38ff5e003884e03518fd09355a073e2b195c53e7fede9876f0651714235b6ed8a697423dfbd68cd4155d0710aa073c86332f6a01bfc0e83d45734cef55257bdc27f0c9b779c0b84ad0623ed8535577d626c5ba3baa537e207d2a17107baad839f0ce4048fdf8d833ac8a28e64bcade8fa4232c66290b9a4fef2f1c65ba3b7eb4d565d822f6dbe40426e862ac85fb88e494db341fa3ac02e27631ca6c45b6a0e78f3cc2533055e23634fb5c310c7b93654f31c2896e30296c0fcd7838a92aa33506ae9f0eeb19df123a7c1329f790846af39711f9435eeadd4f68ce8456b54178531ef422f3683bfcaf6543bb0696ce34f6632d032a4967c7eb8f85ac6bbd8fb31f9694c38b23e39a116812adb3d51f4d8f30dd59398a615e4245656db2a8161d7fcd126fe9528d2bcc7a903799001b1b7d0851269efa57103e657fe6de959a238bbaeb4e827cf023a29ae8d18f9fbef52643b2921055f08535336513ebedaf2b2c00544e0979871d3c11d9e8cd0cac91d4350a3dd13f0a94c7ab288fba19bef64d9f3874be4602c455a9bf4d1544a7810ca1d831b25c31b5158de34d9fe1eba52b949b5fa9c76ad1f481715e6da9a9127421ff68224e2bdda7094c5975daa74c558c67b4d715719a22eff1638eaf2b8e047ddaf3d5a8b78ce1c4a581703bf570a39f1344508fd8d1e42d12152e6b7352cbe9cac541a43f6127700f3d90224f8de1bc2b4e43e229211a8df31fb32d34165babfb19482143493ebfbf16e6d166b1235ecbedf76860428ff6300e010955550ffbaa8efd3091a45ca853bb5d1c4f23aff60ba0222104f95943ad3a563763e06453bf11a10fa055e0ec9ee5ae5e93553e56167ce5db7618f97488ad481974f3ec022c6c1b18baa984b4c3863af21c2cfe69bbf103ff6bdd0d02c6fc442504a52f85af26d9be9db18bd6feba1fd20de061dd0152533b2616de9e36d3d85e3fae8b571f67b4cbd975091d8f9cc9cbd51b2f5ed63d623e9887cdbff3e15c692a4570bd7bc682bdf5891d6251c9bde0f233acb02f8a9e538f8edd3f84c3a3223b00250d4406dc40dd5c5bde484bc4e68002e28101cb7f28f382b11d0c443f1a8f6d953d43d651b54305d8fbf9fb3ac2633522e56753be718cd0d4901b7f864de6a10f0cb7d49a0a629e76ca17ccb7c319526aa39b900cf83bfade53478d71ae8c2fa443515feb991cb17a1e081782847b58531d610be541d3f13a59334dfee017916eb876d0d8c0b7e7b1e53356daf56e5b5e87efc507247f82de47a5cd0135fb56ce7680bac99a66cba9f3c062097a79e84535346b5fe37442600136dcca94c0d3fa5e5537d08834de6d3cb4055617169ae63030cd1afbb81d26125df3ec3c4af759be15ac075e571328b0761c08fc39fa8efb89f39f13b7e7ff4308d39589b287e406c76e27caf04b6ac5ce833b42290764cb3995285a11ce5a1ada701c4d83f6ab9deaa018c698da8e779947d2ef5244e662881bed8b0bda0c7f7cdde732db93c4fce8b8117a10e1530e6b2b373c49d4a8c8adb6f4e117b635c5afa1d7acdc5ef6f426cef290757a458412f17c20d38bb58856d2070fa11390e7fdc3c1daace89ede9401816b47c2787995d4f5113b3b6d6baef0b803e07668461e7db2d835a2ab0a487f9503539246951f74204fccf844309163929f28f508358cba04ce72a69859e2c248e316c2675de8f1bc291402b41d067cc640d717481701c7bc427d25942fe0e2ee5772a8d8cb43a3e14d895439f34ea61ca67c376360633b81e2a60be940970a917937b3898226ccf5aa6120cbb85a0c1e4f2f5e278409951c36537ee1deca807d2994337e2c1c7317974155d0c3c8bcb48387b73f38636ab196676e952e61839e2d5e3b076d3d4e93febf8fb012d72249ab813b5ab6b2a61d44f8e9c1bf06d8e971ac53ba859ac1edf48391757ba30aab7b5bf817b43af4d653f6e38d5448c6be854b9a1dbb26f1a56a32862237a5a0407580211ed884e4fc61c9f5e4a9741f5f95dcadd3ea8ed5da2a024fd6eb1242304be671489e2cce0b6d38606e2d42ace646ace65e120d10b9470f7af356c06663719df808a4c75d97844528ae88d7f6c102e13a3d11dbd3c6eeb929aeda8caf66b6614b0fe3e34b5230cf553b076744db9a0a15b99d9abf192f52a969d15a4b56f02ab96e91dc8a83858accf3cb80a6fdaab02f41f80a45bf8755c7f7b968091b7ae2e90282cfbf2994ba10a14370921fc1387b7768bfbd745bf6d122c2cf4b2d78adb9c74c5138b2d2626b231b7e37f0b15a8a6242f058a94c865b8db0ea077596e0918f8ef74847d495b103e60ef1a4787b8e1390839aea805680a3c1372c8d56f551a4035a772973d9c87f11543481745cac7541daeb8c29efd810834114a8d0f429f97c9c1b4a84207d9ddbe06a7d62af02ebcdbf9cd8d3f8a0d16878c9d9ef77d85d949b7cbdab9f8077aed2344b13d8d38361f2f0627921da394c191305eb532f177e2d9790cf0a7125e4f48a025217636dedd66cd8f1a16265bd203b3fcc5a3437fe64e040eb2ac2b9cd93f7f6db7d852bd26a47729cd251f467d8e8487eebf98a2a1334813b5176bd2fed38caac271a89248aaa2a5665f78a3d41ef0076d97ff351bac410da8ce4f9307fb6d910b041e072f22d069734382659e55ba5f1600c9df17ba02da49216a7f160953685d5c6b6711a1fc043c3b5ab9152918d386196bf048769df9f573eb14f47680890c63ecf8093b3f6e52aca8b93c3188dabec0848481c46465c1efe93a530de2300b251216b46ca36f38cbc67444c2643f369526682e33e5d52639d1116b43f5ce2bb3e3187ec374f0c8ec878e5299dbb394aab30d58d4f338458189ec7e6e3708d7587b33bfc8f1892aad7142d190f837c81179b60ba9e4f740df9b70f23d9c8abb6042067261bcd2048644706cc86729de17939f9dad91492e849b78885815c5e27610c4c5ebdc8c5bd66645fd1026c7ad80595d4da47ec409ae06d6ce2d6ddcd83d06909edf39e9255d59b0188eea4afec078f1fb5420832f0193a449e7cf7b361ba0136a8e8bc4881337d09ab7164a2c3bbc16f9b5ad64d8c9c2c427d5f433387763e666e32d6d8141b0e85e980e1c4a767ba6bc442ade5ba65afb19b8e27de010633cdff14d1662283daff1e54f0cc971f5b13096f53675907d00558286d4bb7232438b2087792a5c799879ca72cc7a1db908a9cbfa07a30db13a4850973c93bdfcc055227a9c7ff4cf100f9ea27e214f443b18d2f1ac7c76e647dc2f224ae0214254cd831dfb0d534f506b96e765564cab09b30365fa180f4df9bf362026fd80aaef79bac9a19a156ed800719d06cbe8fb2e0c576115f2e536850842298874e26adf96cb41827a3f9e7c9b3621805bb0725b37ebf877db13e9a895a15157f781da67216bf3bbf1f2a52a5e13c9b63956fbec577c5756801e86713e45b11f9016e47b3af017d1f6471b135c56be9bbc0f7dfbb43f2d9487ea1e073734e02649dd5fbb14041ab2b99178f4e9e86f19391ad2bc75aa7e295477a66063d45df1a900d09836d28e472113b13f6fb4df9c14742cbfcc4c29307c35b175bb929fdf9f66e7a09631a580a99671b088742a83a1b1d362e55107b79d0030c64d498e17c0240e8c43960f9700b0b87e19be2d99cf9b7c300964504a7a7c2d50ff666c7a3d922a1a92007b073165a19b1905c94734c30d61ed02652e4f3af7d88d4238c4ca4a4ac8a4e9d96d117071e9daa2bd089a3fb5b0bdbfa2f1503bc5e6b1f9140f6aea078ff606dfe2c01f8270fcbf6115f1d70aade32613210a278d51df36566c750124a570b6495085144a1488eb2bfece81e91a34b054a0e86421883ee53113b89aca63c43dbdf87e92f68a9a835d372d1f066424d3d60958756f4ba099eee2bb742af8d954d1f24cfb605d10595778b19e6389d2022ea6d6a665170ae944eebe85cdfb9a4e73734f8ba90447970e5f69b34c801e586f35565b4fbbe9230ca94067b2b009c674ef33424e8f04c5ef9f5d464581934812e4263959ffa021ac83830868b37742b959b1c34a3ca85ee2c9739d0915d540da2a10555c642c85a0bdd97a7da9d342d07c89acc70febeb53ce0d6a8f46bdf4611918c499dbb491db60b5f19472bfaa307b5da40023366a3343870d45e38946eedca160cd8a42b26d1b138875141994183e8496b8c2512f5ea0b10ad8924b49e3ee4dc85caa440cdb6186404d2a11f17a0ab41f767be1b6e6a4f9cffac536d8d43da9c07474a06f2ea79035ada413c6c315ee07399f84fabacecac3b220b865e12805d6cd7d958569ec45def5982d9c50730d6873f2a413c2d70a047f890ee3dfbd2b1ab70ea4b615357055acf77c291e9bc9ca39edb952c7fd4ffb9bc4d889defd24dd76c865aa9a41dd81b95360d1dd8271704183f2853bbb6811cfa4a3117bb5e4746731e076ed8bcb6f111f9c413e519ba890f2d88e24b95ca9136fb2de152b83834e8d44351d400e7eaa2bda0490db8c00d26f4db3ba1bfdddf89ff4a9d8385d00edc4a0d8d6719a4d26251d60bf31901c63e6686dc13ab6095e6fb3a436fd7815d9bfb39b4b60e8fc7c8d0adee5b5dd6c1540da3cc2a6081364183adf651c8c70a6f0b90ead7d13399041774263c8753f9ef4f571081beee08fdd7cab89b1a76df47aedc9733e87a6f04a0ac3de4851f8cb3a8578c128e4db80e76c70b3a6b37cd3bb2b1dce6c75b47fd2c531ef5984166cac37ef5615d6531e1d7886567691471bd9c74ae620ae99e042e4e2cc829a06765b394c7e4e5fe6cd4fe3a62d2e7b104b11278833a62e6fc20910338bdcf06aadbcfa882cedb5f00bb0986b03bf28e6c7cc880e77325d583a3958e5ddec12df6c00e4f0c4cc6ba51e007af5f12fb037c6099e945a8a3d9eb0da819092328042390306f598b29bdd7fb605c691d32352f0cbd0b56a988ddb62634d6e7d129613aade7d934de3972350b8c94dd1b0c94d20bd84867baad4f3219cc9ae4a85f561f499c73c53f4cb1ffa663755ac4237384e3018d64eb91fae29f76ea3d8c1c245875b005d80614fc3a1e1c48274354ee82ba6877f71cc117520862d58e32f7343fcab6ef61fd4099b642fd429d49ced144192eb465370c9e01724aeaaa5a4db7b517ac683cf073b59e29c41f74a8dc96beb919a34273fe2648c3a3bab5b8484cbd75b88ed56a2d9e61b7b841724434d525283b3c53592ba3cd8bf8bb42bb5df8bc0bf1fd4af2e32c1909123ed64f54c7f06fa1f946cdd38aed77de8a3fa62af3f9161cb3b4b72fbaaea5e0080874820d34d67e900a80df36fd6c6de56733fffce7616e90f671fe62b3c5e45abc3ac0ccccbc0af70a5c7b3444d71403cb53833afab5d9187a23cfbd3f5cef04a31694fe79288a59b454f85b1c7f234914c40e2af6dd59b0d26d2c74d6fa976671d4ac17a90a0cc6b9c859b7022121879a62b1262833c836e361a7c3fa95663170d9ba0200ad96926086510fc152dd60201eb8732fd7c3ba3474f017258d5eea8f6b2397987b68039b8022a7a9205186fa3a3cc031687ce716ee22cd3c2061b98b5a03b29be551e8294716a0e52835b28c3b366a62092ed32bea33cd2d120e3a5a06bcfd77353af3512af31bb7b4cecaebb0be2d300b0e79d4d580ede03a3636131c57b97a8c3a99d79c552d3e4f039d63b334a6e78d19056a15e062604d9e61aa0434d170122df254082fe6c8a5bbd83907c4525a4b920c58fd807d6369f0856f1e073718b8f616cba576ebcf75e5739d58ed95d4aa1a0fa441418ce353b12e5203034450f58c888e1ab3997937912414b9d9210ffe8c88880406b0ac458f30f5485d0715aa86356619e047db2a714d884e62a09e9fe3c92ed7a2f22d909ade6de4c3ec8bf079c1a3385ceeca01770ce423106b44bd20a5b4b8c88d5ed85a08960512ce012c3ab8c8c1305f8f8bc00a110e1eca1eefc396f5be0aef5855d2d148bd98d689ee1de8fc09b3413a4a0f4d9cc6edee87d3b1fcb812978be3b55c2233af86f2d28696c65c809f7e00c904115d32011704df3e7485394995b0c33bad3a818c4132ab03051c2bfd0d899c630df4db9939b985c57be3eee8c7f98d6524075acab81c19c3b17911bbf2080cd9dd3d1fc776f0aad09ba940cb433b918fe1ca6163f305139443f5773597cd1232866f0252084dac93da6a2e3e67cb796068daef25f7a645be6d44d7245b77a5c059efcf416a74175389d52d8c3987024eccaa0a11f8bf7876eecc46ae827b9acad0e8ccf1ef48e57f181bd7c76bb6d9ea6612e8ce9a93ac3507ebbf7b4e969d48e2bb6667c012a071bef6f850279cac628292ee2faa2ba4c8d335d6e5d96d7b1d159031b3cad263520f4a0f521c68b2166914391c83093e266e6b40b82bbf86e2c55af0267695c4352c301c6709a6053e5b68f6eab9e9edb7a97b878c57727a9f7e709349754d01be54f7df0cd2c2fbea20a8273ecb4d0436bed82dc1a31eddd600f167f7b95fd4ad2e0d23e0b1eb210410ff5f206911e55e88f675cb5abee05f3a7add4842608ef36e94b2398a79cb2eaaec318b618ba145e9fe9f111497bfc9a2adbd3cd47d8bbcc4bf332998eb5c02a41b70c980c753ded8b98e997779f10a7d30139619e667af077ec2c3e6f82c1088d2adcddfd37fe83bfae7f273127586c9fd8f24af0ca9db6d552d438c3980f9e01fff3df552a8d948bdcc72b419e9e00dfb2ea58b98d37e12e4cf9f299fcfd9f189c2f28fd11a4eb807ce12cc529bdaff2407528157edca5d0de4f5afc0728d7da4de5e46ccb644170317bf0430cbeeaa8bb18adfc70ccd619939618e3d26d37790feec3f3d1a142080a2a0219cea6dfc8f5c3b45bfd8210a0dd7f97fa47b42bbfdf84dee56f232db613785ba5e523f941b28202799827ec0165b648f4821c619c399fa7eff8e398eec5cf20b2410e15aa3e7cc16252cbad5cde97dee617dbe1c7498ed0bd321ee47d6b0286d100db6c2e0fac56393499c134b0d8db3e581c88eba823c78efd50366d761e0660c19ba3aaf08ec7c3dad285ae3d38e127fb35c51b2bca7097da4163ccd0632810d5b84f5a666547a72812a52a43e3e98866383153fff8cb478acf7953f7183aa4298ced4cceca38c2b25a325eeaf66fcaedf336cac9f62729606acd9d718c9674b9c72938d6744b4e98c8e2fd4c8708d3735144bee48d2f44e812e57d84bc888081db8c5c622106aa1b7c0071a98afdb0753f6290d4eb1367dd31aa9c825b0df780d81ebad769ce830035502e40fbd6571c7b55bce2d9795a85124a51d2d4dd19d388dc18960206110130c079124f796c1540e291abc8cbeba34e6dba11eee1d87d1bb5b9da4a1bbe766059466b200f70cca9898c2b27ba18bfec6d7599f8b28f6cece6fa592e70783d09a83420f96be743830966392cf4f3955794fe16df00e5f157832c93b97ecb07e090186bb9827fdac22f35111ce82bba13e2a61c74096d2a6c4e875ae2f38985e945886bc9671233df7d727d4202a5d3adf2088a4f3974aab5403125a89f5565a5e2e3516819ef4a442ae81c001f73f52ede34898632be653cb08f7c2c45d8c46b01e328e87c00312591b24022a14e199f3eebad6a27d139af8f30ed33826c394b183c036170313278406aac64fc89fedbfc1d93914f087d4e4afd76b115da9131c2c149c42b50b15c09014f04f18e515b91eebcdc92693004e7608993934aea1c5640628a4a3ab2ab9bb55564a0df1186451983e0e8b6dc7bca4dc0b09cedfe5c47854836de20548e0e4d876156b09d1423b6eb6d2c21359a710dce034062c71204d2eb3b3367d3c8594ea425e1a1491949ff95b2cf0dca03a342f2bdf9892dc0750b6a65af831f199e896c59f038680681c2a5ca61735a0905a1c119cc0f520caf163e88217554a48b593236b92b335aa20936c82fdbc910adb5ffecf4a9652480a6ec56fcd0ac8f36ff22653eea8d34453737952ca65466091ef6bbbf7200cc65feffe1b8c4464791233be18a2d31a145dde63d941ccedb6801a84fdfb9b12e9109e52d6ee629def8ca074fdc315f2d522b0ee42714d53576a4761fca8eb568671eb7336cfe26981af519c58b5523429e7219078f5b213a7a02f0abb256b555982cf04fcbdf4f0af88e7fbc81afa86b6b5c1ba853098715d31000a1da4c60d9e2fb4ae4c48b63a4837f62c12758da0956e0777efaa5a8100a4992d70d1acfd7bc2faf84241544e8ebfa2c5507d4bd87b9b641c744a3105fbee953e5f62c824148f1574b6e1fb64532664fbb0c5b23489847ad47e46495772af566af579a286821950ad57ba9b58a22bbc4aaa658bc0e8a565a330e69333ebbc05d43f1c5698c7ca4bc5c2123588a456e166e00f92ac017ff4d524772359f490c0fd371fcd2385f479fc2ef81ab8c1c9eac39f61c7353fc0bd1eee4116aaa625ff2e69695fbaccb3ce9aa60f5e6d3adcf87bce9ab1de9c88c26eabbf402c717f4d572068cfaa54c641b1b4fbd3b3ab6fb0643bdd07984b8374c1f6cb3dbf2e63f3bfa228b4ec16536ab68f79292f45d64ca711ecdbb948d618cc7fcec853c269cd2f0038c761f04e9f1f8c3dcac76f2712de137baf02fb0e34d34b1ba9258e8b87fd1b0f2be7423b03ebd5e27c3d14070082d76defcf5b07bf0a706ff9b2499b653170fc2c9e17bad7bb3a5f195518dc24b0bda14a2d6f67713f8f8843e3d7ef7afdfe3561741c2078b048b9bef42585e2156acbc56d34aafe9be5c220f9fa08c7f94721799e8ed46bef3106dcd3d01a58c7bb1241392faff6b85adf9fadfcae8858331f3d8453a0e8df56b603dee6ea1eeef0d35b1957098eca25298fa691aa767c327b526808a43ffd0072f5b962f29f08ac6f0c9d1ea7de7eb41352e84e30c5edcd27578d18038d3e60a7bfbfc76c765deeffde813cf16814a801c1c844bfef1aeacd0b7914b68e8c493fc80ff8ba7a17eaa3e73a2b42c05b1a4a159a94791270e038dbc651d68460d87e1319328a633dee8ac44d3464cb2b57dbf165a8","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
