<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"85ba8dab64c66b6a40d0e7154921d5e41001010b825324b5389e597473a7176ae9eb367febd3719b06671e5b77e69a19652b62db9551558641bf8a49c26d0ffde483162e968e0ce911f87bc7fb0e76db9b311ca3bd4fcd89abbe7fbd56c0efdeb0197f96cbf01a751222f6753708b17c5a67360d6feeb9e63c3e9dad2bc3df9dbd9b27e8bb3c7a0fb164c54a98ee6caa844a8f4b01507460c42e01e891a7b1eaefa0b7211e6342521d05c396be7568e24091aecb14f7e7867c188bceb77e0d71353de1e15cdef90bfee6a4651bc2d3410bc75ef2e8fe4f12cc6ad5fc5018fad2823a4b5ad86317b1f08c9945d00e147fe3eeb415692ca6b8abd4ca98b7d352a10538d7f3346c85ad5b1cddd8c5523cfbdb27819b0525bf1217e61f48a55392edb460c4d120b21ddadd2c0fd7bcdab413345fa1fbaa626886cc959cab05c99b45fb34737bd2b1508c2e2c290fb1ec6510abd521eb4f9a20300dd5c63a7054f9268f6dc16a5c0835ea378d6ff16f78608efaaed92e701dc792c596f7460d8b7de45eebd4de6cdef0c59d7d9de16ae8140b7484e046a99c42657c373ca69343c2cb40feaee37ad9a3e526f98de3d7e86ab389f4d908c20d307f9aa42ce48b4836b503ac47f0e98aa0f567df1655d8732a0816d4b366ffc3d7b50bea7ebbcaf9814b8a6e9ab77ec259cf5e6d4b4180fb1c46e5c06e203739e207cf32f04bb717299d5b562c46bea0186a229ef6a1f61fda133e2ae28d62d9aaa967c30b153c11968ae577bbf7461743ac5c55ee36bcefc55732c66a9d9d2cf7421d6afbf823a1b96c3f74b1f6e571f97f60988ec29c5098868b09c1cfeb35500fb67871fd513ed83ca76f8c9a42868e271013f1309272f4988dcf81629d494c3d91e200249709868164c7ba78f3d4a5c04ab3347a53070d39646318c295a7edc65bb0081854cfc8675c6576bd6601d8dd8f27f2a8eba6a312c160044e312898455748e12d7f0d6a1d5a3e74833e8f835e266057d4a279378843c338157ad888cce39250efd7a7254ab781d408490ebab86e7f9d770e6d731f744f4b9078a943394ea2d2f856ce329ed9dbfad14c4729deaa23a6d0d7ca1df6d9f7e9717bd877fa0baf26d4fcda9e6e1f4f0b0233058aac1c7c8b2d0cc50c439ba32ebff9c6ce30e42f5993d6fff1118d20f81303cb4f123d77ef004149440e41373b01ddc2dd93fd6873f53f6b107d52a10cccb990bcd5da75392afb671bd32ffd8f378db6d184194800a19b1507b8f911ac205cc7626232157d5d4817bfff568f6ee2ae14ac4554dfdcd134b5d2ea5a8598460faaeba5a40ac4f76c7dc911175c433f5518132d6a07e4594225d4d9746e99456fc25e574732af264dc1cd6909b4b5d3763dbc913d4ee550910c8eecaa132e7744228eb26aac4bcc94c5cce12137100de8824762533dcc669db08cf9e45128f69a32974a26f000ece34f24a6ff496176e231b0b1910ab3c2513a4244a4e448bfee39e427b9e4f0fe9fc04c652d3db8f40d2dfe5d9fe3b090945ca4998b9b9fc06b130519413f18316345cde319ec4dc81f0ce9fa814b3e5fef58fe88d6448fb4e2881fd9731adbfe8c2dd670a2dcd68c05c5d0077944814200ce0a01c83d129f1e0bb6af25d07917ab8157cbd6e05f8b63e1cd557adce4e2a2e7cf67c22421e856aefe83c280b7a7ffedfdc1c4ab8234b770789942697b51312b2590d92433f4d93733ef5022e86451ded3b3ea05d98971a06d78cf1883d2c0faea41c82e3a8adc6def927938e2d39d20f00e891f92fc23e0606a4eadc4252650be104da8aa8355ad3e17a1a660516d76eb9ef2487227be223bcbfb04e4d5e4ceb9e188384dabfab90aebcd3bcf8c1703f23a310b4f48df1672418b1ebc6cb1e6eeba59f3c7be9e05436b045699d946d51c52efdbe5eada76af41e988eb81af1560898bfa83fde6e57f0f849e266015bdc01c2ae9857af831c3b4eb1a41f640f523e866c492ed371c2349159ea591ada970e20addd83713175c5049401855161dffbe3a64a798462ffe54ced2edaff1ba329f6b5cb2ca6066cb3a2c03dce0aa4fe64317281dfd91e9e42f012f26e5d103e84a5cfc9750257cd6c9174496fbb9f9c632924c665c36862a686955c46a4d014f4b906997390435b3923901db1ddb096380b968b33a2cc3ed3db30a7b19bef473773ebee17f258fca466b6f41fb5b0ac0fdeec1f1d21b573749122a4c57b8a47c87d5ee7051c77cf13b923fe36aad57fc9a9937127dda12d48fd552aaccd8b517190781ab2d1d3c28e30640e58666f893dcd8c4084c3113bc2e50424a5fd31f6f02688933703fd0094eb18ed00aa68d5eafbb62d6476e8478ac7edeff1427dbc72ca4edc758c4ef63a369785ef3140abb6c2ed1db08b49fc173cb4d29fa9976a9b7dcf6d7839cb555d654726feb2e55c8a472bd65b31c1335855095c609ff583d63271d466a79a2ed7720dfd0ec2c65ca23afd9d338b0dbaa83fd6bf7c6c8fce1ef2997ed7e45c17d60a1fc928a1547bed961395795763c89b6cbcd50908e472821e9e25e9cebeea1cc0325ec48ac1e04b36253fd1aeb16421efdee69320c9a41b63f4647653b1d60ed9f57e7bc15359aceb8ff9686cc7aecf5275a2dbee92a58d5707b9a95d0179fc2bfa581517507da985156725b09880800353cb830282afd4f3e162efa1bf9c68412f0f31ddc7bfa8472fb75bcae46235ad4943a262990f8eaccda485975a14e61923f4dfda105ebaf1ef3444cb94dbdb02b6cc1e77f899bd44319f400bc3505df08f7e24aa068f0f6595fc149d9b41659c581c22cde418aa53dcf764d5486c0abeeb6e2a3c7d2067c5c4d3e23be4deb08024fbb7b1032753d901f9d81ec5c828df3deab30cbb57e4ef49c49ef0bd69af0ef81e9b462098743ec3feb47690282613fd8c18fd69e4bbb101099891976a80ba6b6e434f96b0f6a0080d8b1132b1c90d624f92d02cd70c0d0a6d1598877399a022db6680a8bcd4adf48261a91fee311b2a35896cc83ee433c207a08304d1b32296e91cbfe0a47cc8bcd29c2380753153ecff8da8f602a2c7c3b7748921d2117576d68a79ecd3797f87320b2885bf24d43ec47814cdd81ee08492141af4365d9f18de8f9875ae9c4f1330db132aca8071ace97ee013fb9f22f43cb405951ee8c35b638ace09a79e58e173cf2630d7ff347353f4c60a80024dba0d1bef562228fe0b913890cc99d1100694cbbafdb964b6da45960688bd1e91abd485e8eda663863e0c5cf5da5f6ad1f3352def088c31f94bfaf232251dc62e57b31296cc3dbca24832c9f50a871d8d6c4f1f87f05115ae23a9442697e17cc75a043790dd6ee76cfe4665b3e17b3f99a7efc280bb3f9fa44d96b9d70de52114aa54d09b42a8884c41028899fd6820242fbfef63770f73b81a346450f9f6e3bb1d1e971e2739c96da8537b6b1e00f1cb12bb4de4748f2da684a5ff225765ecf0677516cea6cec0eba955468eebe8900dd463d48cbb8316ec29871575744e4cf087485d457bfcc41b069e4a1574885651597ee03a0e9097896a59783f12bcb63d0e906cc590be5eb1dbc5e89718059bedd9f54e4aad059f0f6aae27bd7a35ac27a2f95614abd74e0aa7354713897f4862f0bb5b2a82d2b4906bee085c1a6eb26aa1b119f8b7fb1d98d16c7b4d481325ca97827cdb05d032d4255166061e07c719e78b093f89d709a2c3e8b868cdd967208a430f1a73b5b19f02160983f4effa2b4f891a56d0ad2bf1843463f3bd2742e24262a6db3686318beb270ec71af1866e20b88581a66630888c43aa93e47a0c0049e3acf2ce98c7cda5a2b8919882a8802b1b838217cc39ea0a768827213d8b9f9383142f4f4fbb47346fbbd2a5b2779588349a9d64188662e2ad0123b0472bf356f7e65965f1d8e3d37d2a9cac7bc1a7277cc19db03b87d5f112f7d8967a96caab5938176e260f5b47de1db3c17067a398c8051042b2496fc4900cf1152d0b346267b4b4e172b47730b51a3a71f54f50697a938352440be4a09d35e70dcf5c952d641b8d47e2dfbd9faa701686629c68eb4e94b3b4911a7246eba74ce9e72891af5416f250bfcb67f77a8a53ec65dd69ee162b6a14f78b9d21f5f5e550c18c16da42718b1aa8bbe0c838618c298ae79b0c74b42f7933c51c826bcc6f1b4c616b8fd47d2d6bd466247703e8751c2b42380ebe504af9281d4785ca468d9a8d562739dff69f76784c3b83eeedda311ab518f87cf7205cc84606439a72fcd4220edce5152cd63f0a360e12fd8f57e83e13d4b433154bc0b9a4ee777fa2ed1e847407c70a093a62939ce4cbc5f4cbf969c7526330752cdeb47ccee7fb3cf1d2d2000e0b330e27a46ff5fb10dedff96bee5ce59130fe38638169570b67fb7049bbc053faf43afa88f192993fef3ff78ed0cd9d6831565da11d0a042b200fc4e88fb33271fe5cdef62aa227470b165297ae0fec6453fc857315f32eed1f686072a60bd4500137b26c415c5268948f16b39741163ce0307a37950bded7ac7cf6053082cd5bf669137110b5ae980cdf454e3997fdd81746e817b51123498625d774bbe81e5476335b76b1355af02ecd37c6a5f16591e1b3f0c0b5a7d15d7b56ce7e4a7cb4d8ce58d6e0233add89dbaffc2748092b38a028fe22bdf83873abb1514307497bf7b651bfb746ad87e19a529970c7084a31b38df3a6c91d355a5f0c5c9af4d4c9bab7cf07362f1230d46dfdeebe5037b401fbcdb55cd2ac23031b444645e9b9b310b737b877ea6f2e01fe323871f5a29de313c2b3759f6c920e7e5e06aa0e7005bd0fbdc274ae77b92003fec23d14e5462b35773095f95531007e50dd0aa59985296dc453fd06201ca4e6b53d32734e3dba88bc29cc6084187949be591e45fcd0e3ee6d0075b5f8e2f7a4ad18f350b7e9d57641d5957d7d807314f3818c81a35aca4886dbd3d7e0d557529c387ed0f4fcd72817b8a9ebf15c3afaacc500dd0d4e7310970658284212290d141d6881c2e1002b60330c1652705f603d3a8e577eb0c5a964fb94aa0e697c968ccf6377c9269d85a67faa0894fffd84c3b644563e2aa3fba3479b1b72680c9bf046b374ac479875613465ecf840c09a8aa76ec96eea03f228bd7c4770984614724064364df1cb7fbc05f700dcde0ffc5be6348e71562e3187e402a1694742572f49c93a6b1dc5cbad95950a241fbb486e5ce5bcb9a24187f893a922686f37732189b683a8e2a69a700a8248b3108716e31a63ae904014bf73cf207b0a65ea42539ecbebd3d9230a01949b3175bafb4198f37a81119236ec3794b6152a1d76a227873733f7f4e8a241a0c07d508e2c00b77bb96e02f5bdb7de5153c20f3a27b4a1eab15cc0ae4812f94505c91ea44c82c5d84818f4a58e8cb697c992f5426c767912ef55c5d03c8d702a59adae2aefaac69db34140776e4a4869bba483d4d8f9f3d1c96ab5bc0790b2022ec254e44493a05c391c11d9fe1f6a85dfe512b74f2758b9f511b14f68314746af8550e539f6da6710d48b4b2d868363f4367cd157f3f67af062949be748a80f0798d2343395163a7480f0d9317f35c1cc6f714fbe3e1af82a886f15f92d0cfa54d66e92453f6fe33d3e68996f69c28fc17363ff3702e007a251c0eada8ae83479133a1ef20b8e49162042f2cfd377724d09cba03b5de587f5d395f7d059769a4744b2cf0a2f730ef739a9b35bd019098f2f1efc613c44878615e931df64605432cdeb807f4e98757046711c85b36c018fe9b2fc09b76375bf736e4c2e404f13a357be96fe628517ca48c2bf1eb85705cd7b7068c70c172a0483ef704baf7fa52d690fcc0d76ed91fb0069c89b527de7e01f5581e1d8d9142e0a7e8ec0d7159323f8c1afac872c8f4e34884e979b4f7c7839229f885bd28d1997d4592e20c9262b47d92d68c057a423c19c556ae7f42e57ac10211498115093c45038eb22676c55de7b0a857bfe5f0b4318af812dfb3d1ceb73212380b02b567b97800b393d5f53992bd8fe6c7a5454a4702bec9dddcc05519ff869f069f744e1e4feb93298cdc4b65c304724ff12755459db3f97bc91b239f54b0da13ca879819eb6eab2566d3ddc99b7a0363ee3f879313c375cb4777600c9260bc1b87a94874d364e0193475c186172e0a5cb0c309d6d11c50a0fe4206b78987d4cf0e55999208ed7ee1982d4c67e7f309a52d3c4389137a8bc80dc00ed968473322bd76267fbbd33deeffbaa9429d271cb70fa368f610bba6f4470797753722efedb0ee838987c5aa61cc3a2d0b4897a82b74a38187fbddeca753d447e8e6cb42c4b94f790e750598fe89177aff99c7f1f1a8b25b7a789a44ec101384093f68a3985c79c0d3125ea22fe4e0cdcd82e8037ac20d171e4b8fdb876b638026f1fa3a2868c672aa60a328c5b28e5cbd100b0eb47a82b35044f85d897fc1236b9e1d3d7518b50d8bc41989691e2713fd245cb1cbc8591c4fcfc83205b3e36a6572ef8f29906f1ae48aa1627abfde02b9d605bd978dc67b91cb491eb7409821a491fb82fe7a627f6ac2b33f263e5c5fe26f5d4aa6f2b59d665eba4c5778268a0b8e9262e3c2c96ac709b89ca5dcffbedd4ab54ca297ccdc8e32e1f8b985ad5476f4a70ab56063043d09c4e71d3a1ad6dec3deb17c8c009da2f298bbdc240a3e60a3ff42b98a1f182b3d2c560261885c1df406ab46b3385c51edba9494d8e876759affc142b0dc8c34f9d8f7cb9b06904b21b5e4c512c2a0aab04f824e55b7a8fe9df5bb40dd3697dacd894011d3d465ef4cabf6005c284775be7af781fdbc7e4e4824e17e8e05e703af145a2d05f1b8c6a97afc7325cb3e1feec51f199b1d6d96c90213fea0e0a2958869978672f6f02e2ee738415464809836f01041adce9aa924157cba33b50af298e592dbe2077d2556859dfed4942420f1e85a4d7fbd91c0b0c34e1fd5cecb4a6c6963b37ecc7d08c3c9da582b33bdc9cbb5cff53c66416625063a8cd737b1197ed9b09ce2d55eed94a533ea76c564adc124643e6e10b0cf4cadb857998da6b55dc2412541f585cf63657e3d4d90c8d2967591ca392970c5bd59569d5ea6adaea6aef18915a72972c4ba011b2bab07488e841fad04659238f436de4078655e75e087e0732897a16754b741ba304afdb8cda7749086f925256098ce1c7b251d6612fd03982f20df2a3e43a2132e07cb1acdad1a8aa02960cb3d007f4171347944693a47df47e9fb527f267f166e0bc1310cf3499c1485c3e3012bead03682661f1a71f2956624a870c4144ed36d574fc03cac2ca1546205e235355494bc94401e050ca59b3d0f8a6f2179e40104859829a2e62cbf3cf3af7aaaa2bd2a4a34f951ea759548a663a52cbaa460cdb01d76006df6cc2279598253288dcda1c46612caa72f55acd62e9004a9575e3314ef93b2bd5c4ae099f9b0abd75322fa11b25021aed97029070584bcfaee1d2c70d2e8262af52a57ce8083aae97960316b8f17a639c3ea39321340e144c0d9c8e07564ba38ce8de88c1e75b883eceaf7a5f9834ce21b3ef3f6261470c90eac7dfaacd6545b50c3c1cdad6b21284040343a752b65140e4f971bb183768162a8786c170375bbb9bcd4eed8f6560fe20f98ddfdd014e9ad9327f5548bda65f7b840850a2c9502d458332e0f6b3b9007454f0b173325ae547fdfe2ef8294d1f1aa36a25d5c286824b7b1fe111ee0ca96f8c3694706f5ccd09d9e595cdf3f4b0ecbe84b4e25aab51331d91e7d5e238d2ccfefd5df16c674d479d2f3d5a8f6afc625bd76155f26fcc7739bea96b211e8d21fb8e4fcd84907d59847b7abae9fb4f03d7b58625d3fd656b5b2e24d39171f57d7d49f4bbcae860bac4c122d0363c3b81095ed2a350bfc0c32595cf2b90154854a4b3d28635eb7e27efbfa1073461c552eb28c88262e90c98e94b82494c71c9cbf4ece5dc1617c0c2207830ff5e27e85d0c8a693c9bb65fb673b70e534b53998d82a734382c72a6c7784d4b5dfffe7fa0d099e71758024af2ebfe5c510e13cc3a6fd924f389aae6924d4c6e391f6455a5bd6906eb0f63c35bc5cc3ebb4053041d1651a2b0e0ceaa0c1d1aa987d862d737d33fbbe17192eade3617b4c95812bb69136938f30691f3eedc04300bb783ce1865972c592f00c5d4e8b92aa72a41787853b3795143bb2026e5d8b9a4d5f387d0e97cb56c15968148f81e5b4a93006044450d26df9d1441d4d4a443a1c406a926c9742a8ca6267289a7ccca13139aea0af214b1eeff7038e41d853b6058649840fbdcfe4e57ff134cea0847fcef175510a401f6a660d18b9a40b58e0c9fa91d124cefc92b75cb1fbe5f02de4e5c525bebbbc58cd85d695baed23d10c6d493d0c7704a33255a698d8b4345dfe69c5a2d6d0f0773b2f6e7e1d7a6f4e0b7dc04d0f6d2ad24ea9a3bf7b85c31f6c21fe654f75c936f41028d7f9730d69f5323271c0883c3f9591525104bb4539460f488d0b01b6dde5755b928082124c70e7d2a2a51bcde309343264db3b9941615d85dd4f212406ff7fcd1fa966c0fc5e520994eb3f86b0c84512a728ed92c074990b64298e5947e21d08f4639889610208c0d4a3380114654a9abb3898759102d7f665a0306771fb55e5ee30e1386800c4cf22e19fa7f2448217d97f3efd73ef080eaf0a20435e1ff67630e2198f6b743d80a33100c4c45f713342ae7d621ef266c4438513bb5a1a927e134f30fe6e31a02141feac80f8db596b1a1c4a6cb64773a406a86c71556d475120324e5e22c26cc7776452a35a34685d3e59c4e29c585c38dbfd25d6200ae2e21f387daf53aa72348eea6b20e8c1b1055069a758ca83b05bed8a38eadfef0f53797d647d6e96b2805e5f7d04f65cad1d2fe33000cbbd65627f6b63f85f7d0c917d5af37d63de804ff80d773c1b12312a52097adbfb467aed6db787053c850626b7d3ead5b8d426668e76d56bd61355888a650f0b75548cb34bfddefc5e2950c30c84619948e08dae4dd87d2ae1ee300b75a744dfb324cdc50db535ce0bbefda2a732b50db44726856a5cf610b7fd9acad41ac7b6c694006434b912a076711b2371b93acc96b919294390eedf27009c2ae1a257b4f395002bf7992baee6866291910eb36798f69a907b20714dbb31af87c0ffd3fcb5b7fc1787895f5d3325d90e43e48ef752848e294a9f32362667424ef5b81c1ca59d5c826d5a27b203583feb992db5e3cd322bf7fd3ae188cd2cc2b92dc2227a47b6537752ec35b1a765bf420a61dabab54e970a4e6c29d27677e27b7769e4b322a9c8805dcf4030d24003a3f115440f932ce2dcac8258314d6df6a48c53dd835501080ee1cb4d08d3db782d5452432c4f318ebc51bed67729b6ce52e2d8d05a7b5cd5dd1d59622d7b86aaf1b2374c595c3f06bebd23ba8e9bec73683c5ce29afc3ef3ca0118014f11dd82a48ae6ed8bea85ce6b4c40cf7bf70f45a7aa2f29a58f1d5796d19b433cf4b660b71c9bbe5e9b4590669b40446314701a659aae05a4586fb18a9e369123c4c008dec1ba2daf6e495ae7a52ec5c1a8c25638e5b3e6f451007166334b57eddca40168a8ec8484e5872bef32ce2ab29299bf8740b7cd0e22c303908dbba0123089189989f266e451353dc136e15c1be09f34870b7e739b1f58d8f8b94196453fd5b50829aa6bac43f296ae9d5dd8405641f1c094b5d86fe08262d936c45ae45a8e86846a5631a435204341f6aa1d341ae1398a9623775b769ca53775e661d16a8df2c8002ebe4d60bb8ec889ab8e933a00f46f1e358cc75704a73e3119b4edc4a8bbc679d4382daadc3dbd739151f43af244ca42eac0706f3735acd81389ec8d8cafdea431fddf183570ab7641d61fe440d0bfb926196cd447d8a956737cb7b45c5b1aa47cdd3461a294fc53c525a2d72004a99f43642a9204470a753c35ae3c6665ef1447f8bb5c89486d74de0913adf27bdae264ea4064ae2abb01911df9beae6355dc232b2b581cf8e1338851f6cb9a4a60ed62e460fb170f4e8a8c528e6e314d71692da6a2450cc8b313f7de7d533851bcdd5c8e2279160a225fa91c5129ba60a1ecd812676a1a79e2f3aac5149fb942639f4bdb0eb9439807bc079119e3c2b1fc4c0e963991d659e64a2e309fd3414091f9e6aebf65a75da803078e254ee46559e5397e3eb4df99591df17021eab803307923a9d1926cd62559eb2db49a80debb1664eca269f3cd8bb89e6cc59a6a963c6222fcddfa6d4f6ea23def99d92a8123413f6cecd1380da54e1600da78124dc42a442f7efa6f307baf3778d54e28a9cdaa9738a7d5a3ebfa25cf80c18c51aabb9112d65ea131666e0b95d690bf3903f65cf1063cbbaadf45d490b05fbd238654d5d9e7dd067e87da01a448d923989c07fc1622ba7d3a6fa8142f7cdd69987d13522f031a3ba74177970ca7b189aa32b931725b56e69be3e38bee00b453c72fe87f77c7b0a238c163636daabd84e83af726cb80b80e34fd28021c48af5bd5ca17d77ae55cdd798a37eb60b7e7574b54a2d3b632fbf1b28d780ee10f357dd66dd0034b045b29c5c2b294263b2750656742d21b2802d731ccf54438c79923a6f92687ab148e26d292b08f5e00213cecc9c0f2c353672c2517ab6cd394b368327c4907841de55889c5187459cbd1e71ab72fc3fe20c24a1cccf062237650e6e0d792923b036d70fcd23a1dd5da685a9f730a57baf7d0f1c5594a2a0fea32f0ccad69628f103cf228f4ecd7365f3736d89d150807a584b23a5ef6e617a820926efa93d1a2ecd6854fd91f41980db16f0fd565abf7bb770c76a294243f94eaaabc0baf99fa89a8904194c92f8d2a5bee09ff81b4a184d34798721ba6530eb9a88422493864b70f70ad5e1410bcf6291e8f7b2ebe6d3dc4d683f1c006737e449caccc1cac9c9e6d42e83a78c467bcc57b87193101c1b08d60b5cc8501ab4bfd9fbc42f6ec1a18da70532ad750192ffcea027f58456aed6fcb00daf6fc6d501d591ecfbe423ed0dceb0393048cbb42cad6d2b3eb4b1f9804e70a521269033eab200eb6090d3d034294864523aa3788b78a8d8e4523c6ea16919617afcf74bca4f2766abe387d1249407745114bc13e39f7ebd79b635cdd6c079b834429c37d622278238fecf3b4ba994692814d36bfb96b02759999ca1aba81b2b36f624f348f14353f52de61571ddb53be75fa319d55b8a00c574de4b479cb1d7bff697f698c3f118e7f12714c5e257e7effa3b33fe61f83eb261ea6abb75000fb99af9f92da4c95b6257ceceb7461a98e5c448dc7355fd895361cb44eb43c40b37e8666b131f8645a65027609190f4c3f08796d7f09dec8b7e85092d75c7c88ce3c01c664d2128c359b3fcd9945a5cb64976e599fba7c547ef600138e870ee0ffc9f877bbbc076f1e68f1abcd96e2ad77d735806ea5bb0247c2a8841297c944174e337d260e079c5c76abf202a7d30b73f2b3e0fc9f15c5e6f11e2fdfe5b0b72288fc86b025b685a27efc6cc317f9b7164edd9d101f17e53a85fa064359026da314bb6fae4ca2e221016ca9cb3f915986fd9d111219e7fd3e0d581b848fb6fd966c4303ac60b848f5f4739b0a7fecbf4e79a8ff2090cce8e8c907b6f54ae28e457dee010260199c80789fb69f88528504535417ade7f2d722dadac687da29a8593119a6c3d72ef28825a29c072994165a06b3662537fa17450e1d94996b0fde0fdbb08a5d71a43121da6ce68177738fd150e78a35db97de38b32ff6a434a7fca7a0cc0807822b2d397d2533134cbfba453c0b0b3306674e3b8c689c87a94c83079beacb4dcafdd63a2960a13933314cf949cb466af3518286cd0fb9827b4cc500a7a20b56fea10867bcc86b3649a3c1bb9b9fb8398285b6db9664ef4758954c8948fa0b7b9d6c433a7bd9411638676f6f6bd324a8035d1c8fdb53c56afe532e8d3fd2d022855f26c755f3a9ad51555c72e772e7e799271233feada0d700b1c256e7650cab38e19defae58e7c451a667c9a6e0328c8ecd27eba42be8c0d26c85c60efdbe0444adb9a076c4dd4b0eae9e6743eb7b2278ee0e2f788a0d87bfb4fdf1b411b9374ece6f52ff2fc0af21fd43d45860592e09b1a812fa67ecbbbd3c71247b2c106bc6be780d16ef0dc6413019f99acc33378167391268552dba1e74dbdbf25e3c81c5eb30cabc0ad6e13242f43213fd75090e9e151d8a713c737150de9d2ce239d2b2ba3b14593d9028926a9c7b6dfd20cc7e139d417296b7a319aa8cd622d0300c921e2e8a272d747e1827a246a29deefc8d4914ab77e6f4f766a9f6551397278136d9dcc9b684110ff444b823132d8db45473bc7acb10d165b0b22020d5cb7b308d582c6690d38861a2939347203e7be3d85ef00b8b955e2590634cb44ba40a018b9e5ba4f190d9c0fecdabb6de1147ea51edf6cbff50b45fe8b0cde2e85782e16eb383039a768310dd780003097657c18deb842988f66f7f9b9f1cfee01e10364f062675226a5ae46224e4fc670fbd5be796adf84001b51536c149af1475c309076f7bb2a7e8358ffd1264b89f80c1592f814b96336b488b8c45aa609258abb0fc479a86b2e9ba3f4b40f5438ecd721ef478abb11998cb9bdad5f20df4489e51458af624e2e3fab32136a19b998a19db0b89db78a608940e01a126f30084535886cd1d70d49e5ff1f499770061fc0135252817aea3a13edb2de0d919b4663737cc4affc4d731f42828890897b6185be5144609cfc2332ef8c78e432c3b2b4b0b47c30579b266ab194f8fc4e742e2aea94b43e942dec8945d72369c5bfb9054edd7c2bd6c715363c00a63b1b3b4e855a4cb90f5c78552735d0ffe260941eff0ec1f38b942796e44f7f5b33ace72f42757e6a3f02aa12e14b10b2162c9c64ac156bea9638635c9c9230c688799bec70404e7ada9d5151f9bd983a87c3e585f3edc80827ed0a96843b73156ee40897e21bb2e374a6c4f82a03213f0ac05f966233c2c5569dbf694e7bb154aba14f4bfbb2145ddc33e6b87c75c8a2782589791086c6a157dbf46c58a34c90ec3b50ccd8f4cda8538185a8ca8b0d2d849c42810536ca6620c2822fd5f733bc686f542998972fac74affb2ae7a8cbb2fd8d42b3364cbd4e7e545ab7c917eee6496f97e14a75cc68181b0d365f54ca41a5ab41a4289dd2847fa165b396cb52ae8b05132a805a575bb9197fa0d89d4653860c1c2d6897d1d44a5ebdb50ff04a8571f79fa7623323a7527b076f16a0dea92e56cd2da7a647b784bab8ed1c2fdd91e8be9eb2c131ec949dfef150e14e45976d39292f4ff167788822f76833529ae79633573a6aece0e9b9f533f8f419e727136d4e9cb040d37cd416d6cf82dfed8ac3c96ec1434813e85443a7339fd4d037546d028e9f639d89dbb2e2ff0754091ab17b3061625205a434fd699bc295bce37bebf3905b388159d26256de25400b64bfe726bb46449a2571bfc240b80a4b6ae873c5ed83a412eb061e1f69eb3de16f0a7444714be30582d0c1e051b68ad5736bf99704d200a13eb54e4e5c91ae1ede2b1bab8bee46970a8840576d9bb1559efcfbfa0474cf51e73cddf3f0674328b3b6caf27034c2434279c35c31173033e837f7216db2d0fa41932f3efeb8f5ff72dd31e2434a4c969cdf77e438892ec624fd9c0db69285742f92c0bdbac105800bbc4436243342d8dc2594914bcaa9504dcbb04bd0f54e94b978e6341aa4c3efa04f23b6a08b7d897728f811c35eb9dedf238d5d75489fcc00d6c0cc7c5cf8cf8516b6096f90ac95ef7392d1f0a8aada369f0b7be5d4d96580fc59504bba78224e59ff7cb9ff2019f60e89e7eecdf7e5ef52eaf12195c9efb8c623a03206cbb1d871ee00baeeb990e81855e845fa544c69c57c5d16bcdbdb074be762eb7c6178e2e880652f19fe6e88e41056a32905deb07f1ffd92e74a18e24959bd1d5b0246b6c8fd2ec3ba2a87c6e573a9e4942b5ae6090c3a12652d2f671298d6431df6359b3201f139a7a559423f450e41fc1ce5c9add03aec53f65c52878de17fba268c9aa147be0b318830a3f4a506028dc3d2ac6b437f22710b7a9a592a00245fefb7ed6203ae28008da5be15d24905453f326ab812bebeed0c1e42933cd0e698c60c21b024f44c893d0f823a58fe03b28d85974663586b91a3ab572000ca49d046830cc5b2d2ef4b002a5ec844dec87075af945bbd9b671128de706a66463ec0683e0475386c0a4251500b9cd6bde25d89fd87f69e4bda987e00ccd4fb988a9d42d55277bec330fc6e058965d28aa9e3f43b9c50f9c6b86ba8465e4caaa2041107c3b9bd711f05e092847ec3b2d0b575a695c614c489e3d0d3f3a1a32f8ead68357e4e5986c41d0f902ad229d81fd73c7ebbd56fdb507cf6ea13772ea402587f292088377b7575a0107c669f69ec6f8a6c4e73877e6a8dc9c049e20d45bbe28ee7539cacc0fea14a4171e0c4b74abcc9d70a592bebba8b99f7794b2169eae22d2fd29b0aaa47c87553ba2ea9e14699c75a1fc34711ccb288395b611a7fd9a8093003c95c812d80563a6ae5ca450009e5193197dd46b288f52fca98a1f5221608c44fcb0fcca7e12e7a38f6f9d6bb38c22c38bb0e4116065822527c7a0c40b1af8bebc25698ad5d389190e79cf82e31244ccd4d26777475f5d74e9c88ab26eb3dd0a4554e833e50070d082c0eb26c667ad8cf75969fd9e8d45cbf39535a76878737c1b1d4595bedd26c0e2fff281abdf1799b02f5c0e5dad476e808c7c6f106462d8f62ea2ea55a9e00fd0950d964f09ca2afac3641d1a1124951da3c03b0c4584e0c73c125fb83f86fdb73c2c95e32e1312d75156fd9074da5d090b0d3070ed44a9498a9a735e96619418e8f1d370f60bbc223a6f3348e214719b306a85a23c5739f28a07debc17baee0f184448acdcfa3232d6b24893997c7b5d121377c24d2c2d260dad8ed0b3dc7298347bd7ac09eecb0b02d60d602e580b22dc564b02c1c749893af5a013d642080a8b48ec9159f4d9d7248fff1cce4c77855e568cd9d81636ffb6015f8e384b547a2598fed7196916bb99382704eb977be152e0a9df276db889ae9a995f15bcfd8da20abb7d7e53ce30bda1a32ceb34228eccb05ccfa63a5b55a4b835af10f104de6ba26c81e008bed6de7168003faba7a929505a80d33a7187262a5683de54a1a67899541bd291411d6a6d51278b424fe1209c1ac55d253c11f7783157eba48e45f99950ccdf78a579352f0bae1949f732ed3be93cd4762cf5c4d774b34f88d6745997530ed8ff65253df254f594606f59def1b08fde10f1e55fcc967aba4d2ab51e631321eca2dfeec3298c68e27a010cd0d78a5b484bbeaaab35ad7dbb1a616c2ea10a011d01d01de3fb9c0366167922712b6dca4f6f46688ceea8b1d5fb813de6f7293345de76e9be152e9a58b308ff0eec3411f7c76928c43ea43cbf43ca2b2449198c365326b319d76f5ba3cc994d4252aa440fce3b343f92ac6b698a20349312ec1822e7c5c5e2f35c5bd9d9dd3d427fb48063c46e48a792c80ceb9017b8b4794ba835a2e033911a3a79cb0e4db5a5a72bb7549391b9dc3acaa5bfdbf033dc6d17b1a678ecc6771de188f1284c37dec8a8e4d3b929afd8cb8946976403a114ed6a7a30fade00ba6d5f6a09b070e4a837a557b405de869e387974f9e265bc0f5bc105877e67cfa6019b1eb283c5347c24050606e6accee77e4d21a5c71db9209a11721e3d1569b9a29414d12671334fe28762e1b6bdaaddcae2a4dfe722506a3dd34f5d53b0ab57c1f03aaa8e06433b039edb24b94c5f4f643c5fd942868e86609cbb6d0fcd3de1a805da00a384aaf4f02647aeeeb96b380bc385e0ecacfe40cb7979eddc9bd1a9ce51e54995debeb86ea57bae0e2b02bd2db1739a9a617a7a7ade8291fc40b4afeb981113f6fec4e0307298aa45b59676ddf354696a5272ed69da31a9c46a00f3e1b04184c6fd801ee0b1c297b2e5d0c46bc1a506cb58550fbff44061a90a3984eb2d057f98eb79894cea4579b1ac1cf97a42f1c9148c2b23a623decc308ff7061c4d1edf6aff2eeeaece62fb27485224ab0b6b985b087b0965e9568ca45f5b77b695f130aa745c6bec2a1937ef59fe07cbaeb38bcb8c1626a6bec3dfa61a9f195ea9157303fffae329178666d4bdf063022ba98d3abd14c6e2ddede13fdf8ce5008b122eaa12fb30d358103de3d043320c74ff40fec2728b8162e51ebfded36d59eb50e5d12701aa1d27ea5c9faa3552c12d99178f20382eac3a0af3a8ab0c2652a4ff2949dd1584471e14ec876d5535efa5d6a78f1ef39e1a64abdc91e41a45a0d9de57032befc2fb56a0472120797fe5218274df4a73719d5a6bdaec5302bd16530069ade611a2e529e947cfbc733e11239b456e0e14c5cceafb401dc08d90fbae04a77822f7fb9aac45bf39a3860f54d6204332142a91d639b8f4966f25dab7aac9e22f615a1b0b8080428f2766b33063ccbd02f4704457c3657d18117bc8fc118d8fce29310780e5f2e7db58d4e7561bb29a09ef87b497dc8d851c15c203931ee2ea96e9050cf9527516eb02b3c4ec058a9f513908fb98a9707209d5ed2efe70d73e53054b95e372600f05b21df85acaee5d678be545aa776a6b296b6608572db1926c3046298c343690a8a33ce93ec9f51ce319853644d71c40fc13fddeba1c58b4f31cb66295c0ea1776bd13249b954d482ec54fcf761bbaa5f822a553b81d3e9b29570e4a6e7e817d5a0db27aeae1475114a41abed351eb7bb5287779ae1545df9522418a97d5f2aae88d33a5426ef8e81f34067ebd733c528ae4c58253af47b1bfedee7497de15803fdd9c03bae7b7f38621959321875a7b155186f10606e9f34ea1e961c795e46bded7a7d24cd235aed38f324597e48d21cd832aaf82c914b50be6b379f63c5202c3ad87987d2f04b2b025ed2c865111752d971e4377b9c4dba0e22cd9e76789159b8fc37b6c5af8441ba8c704cebb7a7503498f225062471969afb90f9b447b6843b52081ed17a5fb811a897d65fa4eb0fa3eaa301a77907d817dbe1d73a5889876ad780aaf9492bfa880fd427b66eaced1b6d73f7a50e37e9b1b9fd82ed3c40f426340796e833c9c1fff0f5d3dd8944f71393ff11921450f1c97c33f85d17e8df18e2e47d52df1a03ce4e99f252b3158e86cebfc8fb243343b5af1ecb7532f26d515180fbef5e344f1924d93e6c6a0bd2689f4d922fbf54c6202de7ae55cea7ce507278769e12ed4f7fccabeccf5cc0d68f508474c64d20de4cf6443841f97e9d72a99566892afc715d10c66850e14d90df7897b3172ae37aa45e7aefe0bed2651966f71a73553340240e21351480bea0eb5795b113cb5449f526c3a94a93bd7f47fb4c88016944437d667a4258bb121ae59284608e0a49e6a7474b7315881dba40482716ae088309ffca3c4bec1e2ca2adddccba5808608779dd5a01fd1d6d9708ced90e02f1787d6461f6dd9b53bf745883bcad5d97eab2ae6df9ed5f4fa4436f73a184d88cd2087500e6d2b717087151dff61abc727c14d89d65cd0c4c49e0594155c53d6bc8482589b12eb9eceb4153ddcd268d38f3dc9e01e671be5061728d10f156afee727e39a6c41b9510880b383d460a6454e6b502fe3bb79ea5dff43c6c3da9e0b9460ecc24b72eb75389ea282a73f1706328584768a815017cba320b35bf848236f1217f7e32f0b33092ce2614f7ee031659fe6bb1956b951713c028b5146c63408c338825421b04058484883bc21495c18e95951afde3212d79fc34eb3e648649676b5182f014bf3e899f683df6f1512c61359eaba566030e9bc39df18f3c2774b6966a025f91fa514280b913bf6d86f9e52f012603ae8392630f90b22369153a9d9a1894c4d53bec2fa6e027f06de0b159649a611d1eecb10ad38eb47b3fa90dcebcd8c22ef6b3ce304af2ba9a4bd352f3009df82cde3bc9fa11a2d654660aa0e18a760fb6d87454815afb1a40e1152c7ea3665a5b8a21d9368e4746594650eabf77fc1a47556443ebf9de550c4239ff59d08b29284b1d9ebd48f119ac378294d1bf07b37f2b59c82c69d613a454a0c51e30b033e6e3d28de4b3fc47524f1bc46563634549ecaf2329943e715df3f7609b71b712461e5041edf14c45a60bfb57490a50f268bcc27b4a18e723958d781df3603b0c785e8720793d52478908195fe8ee13015c3458ddec570c7cf4f0a4c5d70925310f5b7630eef38970c9b83b4991e700d36fb22fa0a9f677d418233e3aad65fbcc1ac273d423dfb0b421f9d97a3db98a6673b00a5dc1aa8b05224f048e38eba2650136af4a65e9753cf836d830b6c79e5f6459957f0be21594f104e6a0aaabbbeaa70ddbd0d4bd637b8b6bc1abea033ed75cacee386fa5ed508f002987076613cdad1e39edd38f69a16147913347b9d5b49276e8975675f6d6ea32a293fefdbfac302f653c41066c10a5b477bc6e997730fbbbed1c13db21e9c0b1b16073feab47a2809830827f4339308e7c46c34e5a31c5187a539896912dec2c484538f24d56defeea13edd446b18282f8971a927e60e5c69191a1195e5aca198db7551c32d912f6b5962511e74be3f1a76490661e69fa31c50f0a74a19910bf734decc3411fc87ea95daa23631f5bfeb35498e4d6467e8608372580fb6fa7488665245a0ac7dfe4c31e5a9af5f26785d24358007c23dc702199431391abbb8a4d9f9650b596fc58700887af6950593808d8892c2fa3f9067ffdb67f8bea13cf115d8bf17b61fad8363bddfd6ae14f6aea03660131d2abbf1ee81c58b955db094f8e8620ee3a7523c02731f26945bbf3e91365dea9234e53ef4c2721865d80821575ae040ac91b2514a6e9005d5caad2d2e8fbad36dacb603ddd03bef0419e48b058fe94f7d4a4cb6b650c4100f0d8cd10ecc4065c79c04d0661cc239324336408447e284f58ae14ff138961c2c360398e565e043424263fe977b2283d700e325728a6a5820edb2e73151a34db7eeaf60b5b30fb06ee27254e439344cc99f73dfe4b82ca2b00a42109d5b9bcafd9e2b98a25abcc642ba18278c1838531d992c8190d068be1746dc3cebf4090307c589ae6bb27a5d40f42aae5c39c4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
