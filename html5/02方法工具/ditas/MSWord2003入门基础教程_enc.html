<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4470426a4d6df82bd23d403f55d961bbe2ec177c6cfb730f44d359a05e29bd9caa7c7db302d80883abc8ee33ab3cc542ee801db815683f83ad134656878e254cf3e6fedfa9bf48913b276f499ed91d099c1f3b3dd96545311ca22063b54a29c82f42e7cc8b1ce82909f2f6ce427b23df410f52f0e0872b7404f85a237603c064b37fed6b112dcc82c7ab146b8635b4dc34a56f1d3680fab46af5a6c9a9fea797cd1105ae8459d7d231b3e884aaa6ecfe6f6b92b78c7722817abe22b39b2addd6458c3a6c3abae44038700aeeb32ca3e37a4d30f4920545aee4bf67de1d21626dc4ec7b7ec8830fed86a782bcbcfaf49df274b41f5088cd7645520bd27d0b08f27174a416b93f4966bc919f1d19311bfc59a364c9d6a29a2696fb8d4b43e56a31168ab4ded7b12c864407b4e31eb10487efe853b029a0a00a977f116fcdb34b31e5380dc8e9356203fa0eb2a0e6e37a3f3b00e6cf87236153ae575d29cb962dca08aec4d1efc768c2fbcda5da2b8f5a974980dfa9ff10a72398570035b6a904fc6c0e93ea98cd391f5e2c8a6b07a4b4af34441306b2ba300e02fe8ff06d973f5806c31e461a73f99d22e4b718235a3b51a01d0417faf1560edca32f00e16996c4784b467e89ecd00602727d02694c843ba8affb308fe3a2a3a7b3084f1c6900ce35c2058d1bcf282aa2c9cb2d8317d1d5a9151f0193d806b655d5d454429760170754d68f0f90ff7758e40700fbe02cd6b9f59fa1272a5e4cfa4875470899960c5ed3742835c64892ca28402c3dc8eb36274991e3a8cb14d1e38b7971a9698f01281566551b06b1dde1ec4132f7ef07e1d6a6954b3d28cada4c97b8ca66b4d9dfd7de29585cac6ee734a34a9f5da498b6d4c4dd5ad3e3d8fb80a37ec992ec6d3e1532fe99009670f6dcffcc2420fa9e45e7e6a23507d86a1e934a41b90489ffba10479103595c7f9f2c32602fc29687170f34f3d3292e815cbd4ccd3c378833c2421dc1bf20983d993db6b2a5633b8600d482a08110b17bb61af8f4435d6093c5f517a8b9fed72b53a0eb41b5874eb2821350773c68da619214c38b4c7a536b5e60da4eb0dba698e4010fbc134f850d634d33afa57eac6b3b5d68d4c2dd0a185af260bb7a7995d66e3fec72f0c129ac1d88b180050cf10f9403df82d5538cdd1c23165eb4f5ebca1b8dc06b4026db37853fe33c11e2188615c3e155afffa70427c6c72b219ded7eb6ef30d3a6f6e4b44984c33bdcb95319536ff1e0b422720fc1672d195e2bc3719fca253e4ea6e5615be65ea80b9e8f08659e39d490a2cdd4497a532b69e1eea910be252d84eea96ce5044a2fe66b6dd743cec0e7ce57ecf3485ef74e9ba6785acfd89d03547d42bb07a2354852af995f11e3f47cc09e924e40c159049e37edfba355f6ea7f9401ce820e8a31723ba129edfadb217e2d91e0b2c0eb51c5628d05218c7bfebbb646bffc0d57ad90d64063ae54eb0b337f8520797ac4f259cd0c1bb5bdd66806b6f5398c0b45e1929055c82339fe03d50f0902d1313a2db3f31c26794e307ce5dccb547ca51dc69fe7321e930dddb308ae989271fb526e3e986c0d41c254533109a81ccb5b0345ef8c1ca63ba4156c3ca57e3eae46a9445d0616491050ceb81d4b084e3b0d34d004cb01365e653f9e3af01bdbc267c7e639f356d8dabbd0a83711ebf801048d71df6f9731ec6b5063dbb590ebe2ec524c287300ee77f42200434bfd94d1402adf75428b9cfdf30287ca720b4eb3fa5d79800cdc96be2aa33f95d021f2698a2cc0a375cda36c068390047f3a5dce5a7a88b478a0691d94e5a845e06ff1963985020c352cfa56037543b1a9279ee23f806993da88dcd68108d81a7b40f5949437c69e9d5f27c1f2edfdcafb0e4a7b3b4741711da6aa4d4f2956658262aab865d90c2edee6d9afebcc40d169962205227a59d41742ed4d4a87ce885b5222fa3472bfcd639001bc3be5879fdaa1de498703943acf1cfc59653fe05637fa3d69d3e5debe31e649990a007df02425ed5261e3c0e4f5eb881998d922deeeead5a443d85b65b5b53cfd168d88859beb8d72fcdf27f95853353d9220094a38cc3bdada696f57c5ddff88e9cd3db0de91609e92088d6984b798f0417d9429fdca7d6143ac603a2acb7e385dddf17bd173b8b2476a1c06e7a4bd95fb0c4dba7085df4731fda8c84c64298786a523e4b9947cdeeba9fd86d4c034ce68a19d84ce32f4a5621dc89d3153f7e6e35b31b05c98827f22fbaa643ea1ae0a9d6dfa0631251bc97e5fb844e7593c86f3994c6c23ba1f1d65a192fda6b8e7518ea2b6a9d668ae2f1e3ece5a11c48a959622702ff68a9fb962e03615b2ac1982a2612f0d1b48667bda35423b8a09c7ad54d3e5610009df551b68525958f7c0406299307bccff36cd173ff45387fb6bedfb52726b58ae35931e7bc38436689cea4ce5914d845a3444e677c458c2a3b0f6a1d8592b01bfedfd0b8290ab192a16cf092e8301f111f84ac1806f54dbcd1267a46c929a7d1d7466bada5886069ad74a4a827ef011554bd0fbef0f2ea2bf7aa74c1283094353a72e5e20ec8ed9c794adfade38d1314289b6efcbe170f4bffd5a2624b3f1b6a575ac61cae971d42adddae9f0af20deb242ad3967643ec5dbbfdcd9536c82a3081db96d53f409c124600465668f9c451def453007f07d3684c7018a40111f3b5b7cbfb8834a8cce95e25d5059adebac14a6d3d3f811ad380b206643f317b2030e07cd8e5cf340e64d7a0278da1d0c5a7e5301abeb424d6c9eb59ab09fbc5f7857b33511f446a087c86f115bed0eddc5c549951724653e1f8b0aca42b37cbccbd882b0f5e0d53630397f06d22b82ae406f82c30111f9be92eb19e28531ca751cfe78a0709a8504f7ad1dd36aa232e366638c0894d0408be5eaecdf530b8b64178211877716012ab8328df77d55d55308996b3bd46ef539f0a6d6e21a68cb2c2961a008c39ba7ff78e67bd1fdb1961ec8d797a93b76b0d7ff5c86ef892948fe6d083db6c04d0b53ed8ad832efe04496204cc3e33b643a6202258105eaf35e79f24b10847d07ed88f85f2a4676975dd8b402ae325536504b1e896b564758e563360b16ba8f3247d541877d3909db12c68bd2f40bbc14c828278dde92d17a721f78b83458f2ab236f6dd51a95a4ce2fbbb16976802750aa078d4c16355f284075513aa752084ebcdec9964873090fd465131eae0150238b91c5478c634507e5e10f76aaf3a07bd72249beaf118dafd70c993b58875467771626762ae7e0ed881b52127689aa6f59398d097da0fb546e81a1f07edcdea2e03943408c006cc149c7b9ffb9c36b338ed9e2b1fc027c5eb2bcd39cce8d025707496240fdf4e487ddf654c33a18d9577ccf67ad010044b5e730120c8f237de12ae0822960796667d9d26cb2b8ffbbd20baca0c7b2bf77897e70234ac615ff13bf71e8e7f4aa6557aea97a2568837b1a4653cc3bef20795cc5bcd971f2160fc30f294a5ef39eceed9d5f093116f73ce566a2a85f672a18898b494f9f7ef088aaf41ed61f696e473ef6c3cb1dc0780226c08e5c490e49a048b92a307a4158adc5325439b2c8b2196f5368c7a849017e6dd88c47cade0cb85d781bb7ec9b5e3de72cabde36bf2a0e3d97ddeae3ab4e9e96676336ed7d253333572df0a25679cc3945dc2127c396beae8deb7005158fb0bdb890b967181e85d4c4652626d7f083edc1a8890e00f99da3f2ea632c186f77bfdf986819acfa4a4b0e9a452ab2ba8a6d11606b7773f72371b672d981c1a9a802a6a022f4cb89243df050d5ac35201dc5234ca14237f3e8c197eabd5beaec386f68f7993d199cea088f23cb6f30e9ae977e607426a00d100c5c05211da1c618a15bb04913d964b2776b78febbc71155945a4c33ca3c8b84ecc20add944d9b1c6da5fa36e2f1cb42f9c715a4208d34557ea50f602c0488b53c93093bcad67b93677921a5d4fc8dadc4078a9dba6cb9dec3ee22b7c9340b2326819ef073510e99ff6b268b468eedd08e7ca30dd1948fff399b0e6a56cb8874885b583e3b53972d2ea2f4d1b581bd08a03fdb3ffc23c5b467ffb2c5774c728b6beaee9fb27f805e68f4bf3644ab2e273fa48b68785247e0ee5c25718d9390936354f76393754ff385c32d5080372e0246c6fc662ceb7af6ebdad5fbdfd3300e753779c6009a896511b8904fe794de36e0e2f6e576d172d8427f47d17a64f844fde880dd919c7a170b68899dd60acd2c960a57bae23fa15d248f6fd71d33924b534ebd1d6e6b7bafda9b0b9f8281f9e562a4e94648be779d60347d00ba03c8ac4f85d6cacada753c73e37ba56fd6e966ebc1334f386afab2bf44e9d9886a3e707fe1f76cade69324f81e2be9e7545c9ec626fad09eae2fc9dacf5c347eef011c8b26dbf06f0b8c9a969ca4c867e3de5ceaf73b79a890a5e6b38c8c25090f3764fc664b987261b48bea67e248324ff305016a30c602d2424da92eeebc307b4f46e6015ec1857d140d5e8bb8a0c528daef9d6e605c21d10b12b8be9baeef7836b8a296dddc49fb17b6ce6710af3f459ff62ce69b5a1b03c1ddf23ff6edce7124889911d7948c9161ecedc223c4b6ca7dc87d5c602830d30c97c48715dd2055dd3816dfcf8ad3e7088ee76efb7f847abd0a11321a52b806387893d8034a43b4be4974c36df36d1d18a92bb18fd17afe31f1987b396abedeb60e7814281a10971b892d6f7baf83332f49fef90dd831bffb75092064bb05b31a2843c2863527a6490f649b66556d945e0b1885d18cfd48bf3fcfe8c02f2d03a5dc94e8cbbb9e1a00db54e4b64c63dbfdaa884f22ae88c805a6d754a2fad0afc0179f459e32a38a89b31e429882e3004298ab8c7e6f15418e10752563f519c325dc8d5a7921b20ffdd1a2d8fa0dea33ff5fdaa948590b6b4ed66ff2a907407b00837c1b11e53d10b8e8c74582a7a5438b278e6fa9a23ea6f44bc262f381157e4967dcbd38fab5d5a6ad06067faefa95817d24f0d80b565bb7d4133f6d878a6cd86e9f5a8e2457b7d66cd1541e27d013beb445e6487c2afb85d5b0c115ffa8cbae4bd15159da4af979c1612356351b0d45d72eba4b50df1d0d98c70f7d9b72b1ef690222d7c36df8761168896d1baa327d8c1c579b9becac27abbf473f8a05bd564630725a249d7eee443f8fc300eee72ee5683a7f521eb9b9722fbbc85c8a3b4953bba49bf6222690c80c9546b748660a8612226ad36e55f877637de91ae00305c4b560e1b97449bcb47c743bb6b6907849495acb1f3d0888ef157b07412c0871d103cbf92832947f25e5610ed66a4c354fd58c1d298828a2b1e5a2a49010ecdfc5fc4181f6a8051d0bf6a2f793906ee348c8c6272577f6990cf7c3f141b18bcd0c4aa8e9766abf31fa3112ac2551040ff38cf4209f1912a1dc72b21ad2a4cdbd63b855b4dd52e91d36b91fb13f11d494e65cf848aea3a6179530cb657a9d0b95ff062b448372c4173c57e0e4e9ad119080b9c3bc3b2dc4957be597ae73addbb4c500b44364e76027b424985fa1a0ca042b591f2e870d73d4b3d095cbcbcfa27a0f5de9459c8f69b7dbc0c6a62af648ac86bef9971dcb4ccc697e6d4d3c6c3e10fecb7c5616dbe2aeebcdb11316f951e43f4a5929c7d98cd39ee8ee787b5ea1216d10ba71b8f54c74b56b9ad6fc7850ce0690876d5b3b4dc8e08f56cbc286ecff7d46cec07100151f17863bad313a71a80c67c7a5a1f11d2dc374115cd648d217fedbc6fcf5a27c8a5808942d592947cb714a8523b2b79174b10a78b1c4629991115212d0ea49427491a4dd8729b16248117f247e1dbf5889db8110a1c481789e671e714a713684667ebb66550fcb049ac6d3ff2e25c356258430df089404447727dbdea93b2197fab8853b0fa6e20fe900bf215518ca418a78fc18d4c908b053bc0cf3b2b641d30513109b2b3ca7c38880c66bc217df0a5cf44885c14ecb8183c4329ff889d90e210f0ef79d25498f19d2cd19302b59d2c22e6920951bc0130d96bf1f7e8a27ddb280342771cbf36887ffad7742f63083afc37066883d8ae6dd2e12a39ae66e2a0df542166f1f70fea109cba3188ff1fdbc0a64e08a9f1e7ead26350f31aaeb8d332db99598111f6647496a2186e955edd5dc2a091b9fe92309685d1f5879d6182d5acd01144a6c3fd99d988285452adc3eacba2a4a6b3f8884118c5837cbb62b2c75068248e9b2f9d007b54aacb491951a8fc5b4157799db9569bd3d7c8a526b5bab6a9bb696c1a41a608b01bab23d3f1f8de25657486532b15fc4649b6a42ba3f2b76e82c0a1adde84cd4d8139e79eafee31d793baa16c84ef2741208c15a46c0de370aea4bec7a709d45220310b0263d88ce73fbc71648c6d9c6ec2f2eefa34f17bc9f0a9d6e3b33f2592c72aa1fdf0dfd0840eb0031388844457b47a404265a6d3a070afe5531d4330d6c97e2370da114f9c411aec3bbee5c39fd4dbf4b25934f60e0dd620e48027ba559e630578dbccd9ee8daec5bf1d29e64536f177f3eb97c37b4dbbd959c667242821cdb1b17c40e233bafdbfd9bd5d7ec615ffc37cdd4292c8cd1743ad83f1884c598dc4ffec3a9e60ff3d6150bcb2e510666be7003b28419df692d7269d77271c0ccc2d6099e689ba6b6b80e3bbbbcbfe263f252a2606740686f8a17c8cee4f213232c2573e1ef3aac10ff5e69ba1a24c6844d5c08acf2a0af5b120b4a8ddd16499d31ffe9e3f566d927b7cdcfba83b5db03bdb15f6377a848949b98b33d3ada473f438ac7d2ddb330be6c1a65e1af5c2b6adf022ba22517241fabc5c11a252c8ae90fac7b59de39a4d4e500feca95b233b726ea4221e2c375948fe1413630473c00d94caf9bfd924b7815541d5606d4b6019869610affd3f7171e3629a2fe7fdd4851479a43dc61d7ff4ab0d3252dc75bc3ee9367ec423db0dd057971d4ee7e0c623ec822ed4f4294e7a3dfd07e583a426cb4a735207428556d8ce29b61942e48416f6de52af511f7149db60d2432afdefd36b521f96b242816a64b0f85342acd611ab8aff3b88af35ba180a9da34995a1102ffa07457468e4d49144602e05c9be6eb13bda7deef57897055c6b5a2c518801f20b349d00ebee68b4d2ac5d10edb07c482b37391695b6486f935d739798c4a88528899629ad454c58825d6f12c38d1d78c90b10104ed94d50d355b3ee6545451905e1ec7de72ba3fd83a7ee88d2b3578a37ae09700c22d84204fa5d50e2100bf6d5792e87947e1206407e67bd2ced26e64e995d8c8e47cbf3c6af21dcb3166411e897356a3bd77735d1b9eec7b0cb9e1b8b2628d7317248ae4e0369f4beb18b4204a11be282c7e1b2f51a034e2e608790a13bb0a46744b382839fb2246329a3bd0a9c2bb1d766343c7ce472dcbe5f11d8a3fd048ac8e49278ad88bf9e303b189c6f6912497313a7daf997cfbba3542bda2890da41e2ff49a433289ec5abcfa7ebb8a02f414f4d1a0f082a477c53dbc095183387d8d4a978c670076445d79a13e29b500b9bdaf2175a73103f1b6bcad8b5985cdcb567565fef0766a4839f79a2baf99f0551357c5e63e4caf6bb378fc46c60b1b2c947efdca1536a1eaa632479ee02d6af3376764ff289d7f0376edc4ed50e895348b352025663c08bec3640415aa0a1b09f0959c79f3078f6b42d194c3f8fe5133422691840df80073f5d783a5074cb67dfb9103dc4edf1821cc3fcd4d578f830493611fa46456816a6370e3a571179abd863b75c40e355fb2dbff0f5bce8e8e6072284dce51ee0f57ffa0085462defc299910adb8cf28ead7a9823fd3c485f5d57e15667e98abf6f0b577c58176be4ce77b05b68dce18d03cc372de99ea26989010b85382ad80674ec9f2b3ecb5c8332b82d4a52c79ca8fe1a6c7c7daf96dd93ce975dc1a03a268d6b6bc0581ec47cf549d7de7e82732b713c110bf4e2d2d788be6ce2d8e86ec9e099dc168d11ba3ac53be434c2d5dadd2766332685f402f917019cb04047098374d5e4fced3d51aa2bcc858fe87cea466e99159eae5f24a497bac6ef05216a7cd2de1eec2bae3d133a7c1276621a99cd2ef02af6d35749e4b8e0f0c9a8553011d2804f8a7a605e6bb6a82064bb84497363876b9466c3b5198da4d4b880c617bdd1e40bbc70741d79bb83ffbf26bf1577636817a76d13ba44fe34b7326533a4135bdaf4add9c83285377719709825a4d15b5ccdbeb116979747e780765d196467e4285d7285d7a3d5828efe41646b053f66912b87d470fcbd9561362f8458403c618b6f508c44e19664a801cef91bf66def6d0eb928fd6689e11102380ae5a903a50e776d4c50d89ec101840e2963442421f6e83ba4b6b114d903c87d19754d040e91cf9e671237f7b143c23e2b7bdf64a0180d78b287d6acc53b69d5507b50b135358a83e6aad2456268bd081a6c0f317ecafcbdb3c25a0a375711321f1c5572f189854ed191a4bba1c955b4b902000faca7d71cf95a11a9dd244188aa3f23569ce4bdf671fe636ba4bdf39105e19bef48d40126124d1c6cf88ae62f2d3e782aec14484d2127ed7d2e560cc8a87dfe0a38961e27bf9bbf6df99932a1aaf3b468a132af1e7a72412de461959fc2bb48b646ca834ee3a5218c2e70169ac4e9cb4c398529a6f70a2f365b2f41592d6813bcb0584fb98879b58c43cee177cd88abc09ef4ccc3e0afbc9371995d143773cd16f39dea23be936f5a0b6ba9771e70afd72d93f8f07c4f75fbea0200fa648ee30aea7cda2eebb042479e9691f4cd49ffae564d719dd57652b5d0c826e03f463ca065b79250b9991eba5dd098cedf8ab47c289c9c112bc814227829286e8e44b4448a689eeadf5b79b223a1fc46677708085eb726eabe9b76ff6bfcb9901d4609502c20173fde46a0bc0c477935b40199f71f11b03ba71f2fe0335b993f8ea4637ae5ad2c679258d7408c8f9d148a8ae9187df0e4d1a57e3913be5393e1f1f07b84d5c62d27036fa4adf14a100317f447324fe304758edd800c77487f0527f04b5b04f5939f3d2cc0569fe151bc780e9ba43905e724790d7fc69516de6720638edd5f4e6ae46f936ea8500fda83e2a09fa52506d10af8a6b1801dcf80691baa1bf301f50e08d30fe81e32a8097c6ac384fd028269891021cf0a7da35d905042bfa281ab126340c9d511ab3a60d888d9a423c1ba63f9072a6b6f9c7eefd1eb713d78434e4f798f639a1364f365ba25877a5828c4a10d25446a7598d46897f2d541fc71795f75ea61a39aeddeb3641fe3b2553ecf236cc625a6e713a1da05ad8e4b865bf75310fdd7896d1e7db15e536c8cf7de761c00c7025494d0e894d7d2665a799c6b1e5adf2687a724e1689a0b4ccec627a63e8dae45642b18fd81195c024d47336384b8255e2e48be53e4c5ee2cf28643a3b8bccc62aa32f5a2fd334f50e0f985c0090b9218981685097733b725b74de5328601a17ea4e05d76f35d4faa35f8fffd71b2a6001f1914a168f4b37c0c69dda536ed61ac8f53d19d5f7b23aed30f9d7841a8ef4a00a8db2f5e11355c881eff5e37e2bb77d8d6cbf47cac4441997c53ef20cdbd68b99833724ed886011f402fde85d9e712ce3df65dc29550e1dd0065ca208f3fa13230807b93fc45926ecba521abd1687ab6c20d6e77ec5c3cb13fd06c5d1a3153d800ad524921aa9f40d8ad56124fbb76ecfaf06980f263e7a9eac443833a854ae9c246e3ca00837564034d6a0da7c94e530dc32f2279f2f525fa4035d2bb3709c24a05aa18ffd690e67475582d47714a9537ee5a0bd68e0994c709287c6783a45606686da1d456fe3d345d56764a02869340d64a9a39fb8158b7a9761af2353aeed314e844be2eea24b429f7ccbc761e8c87d84399da5f449f88c9dfa0c022808665478a91df08890625642c7121962404c372feb862a1093c4f1ac3404f2c02862505517cc2e3925d4ee4c2253ca2df5f3ef3eb070150cc872fdc2ffa3898626ec42dd33be405933f97bbeaadac70d0197cb665880a82a584663bb7af331941b76c6b4d952c303161d4d0c401571bf76a522aac92aafd2797283c83f4b8e42fb2dcc6163155bbc447d463e605d716e6a7196c0348a955861ee1843c570fcae8d0759af6e2e3befcf5070f691acab7b00ff8c6138f1b6fd3ccb5afedab10e6a6c0786184a765403f20b371f1105ba0b245533ef8c38a3729177aea8ed6e25a5616fbc5d1709f6adc1251212d540af8aa0efd0be128ed8ff4cbe36f949d48b97b89167abd4475899620b5daf6c464c276cff0f7aa43b58f3d95a73440c7fa2ba95240c64531b74e5975f9c863c7145056da8c7ca2f17122b2ab18ec6f398f538c18703356aedd66848b86115089f14d8e320d23c96908569454473c4aee36d72cf1a6165ba84417a9e853aa0d51b6abd46b32bcab4fe55d97d02ff997318d6c801a9ebf06b27ec66cf17064749532ba3144b5a3feb083e2ed260af48360bcb75b79e8e26e6a6c86b110c3a1cc0bdd6a95a2baa4aaa3bfa622aa970f71c9a7b7cd63820f2a516b5596b86f1d3ab4298670ab3f15177000197695866742b98481963e37e03ccc2ff4478666ce0af3f0a4e169d543072ccd58997908b8c11fc22d0e9fbac6b500bd06d57888ca7335d1a57d37edee00d725c0f51c99026227cd086a78083d563661722a652474a76e10309158e1ca0aa0aeac472c42f9f293aa20a14e9f25778a7d06766050a213ae96ec9d2db1f014f261a76b9047557f9b8eebfa1bcd32d1a1de9e16a719d57f3e66e81dff3d9f844c2ca05eb56a5326f2dde4f5f0ab51eecf5d36bf8eeb487bc62669e2109b5e81c6a4f6787f2bc0b9643bfaefe417eb34f760ed4f39f6355e931d6be77878e10b8f49d9494d50c8021c6388b18087b64ae2def6642e9d848e2f0f262afefda50d4cb459af1ed7880ffa33b2e56eb39580dc37c51716b42f6cf219f642acf3ea272691c53a162c5433d96b01eecd637ab54d61d45b47963b40ee2a350fab34e04ea273e779b5e25663ee73b0f6ec2c39f17f87df864a88a8145c4c1eb07b870836349fecb4779540a60d012cf3e51230b0bb01fb031dac97184ce0644a8e9f14dfbcae6e314b63d4fdd31c93630559d5694445c5203af185c9e2e30ba3711992428ea5bafd08b42d434d62de7b290d154aa0c74ba78877915cb510687394de0c3f8fa12ca5c263269c1cbf31ba30931db545b0ff5d81ec84baff4d09f6c6398b7cf746a7a6ff899d4e07e18f0c51663aeba6238c37cf5120c492ec15b2b9558d5b3c85e30231de50a1f906f0e011e2b598becc92a748a9920ddc87a3e46155e84794b239641d0d04590aa666ed6022b91e620ded892b1761bb30387f1e79be2bd2e596d0a04cadbaa799672a246fed99354a993ab4b41e3d712607481729635349c89b21fb18b99e34db195d22de307a94dda0b86fa28a28defa7ef30e82b36458c433e7630c715e00d4f05beab987f0ffad5002b3cc72283f40fa39194f917baa3c4e0d2dff12a6516e7a997b582dd680d5169d340514529548b84828afda61c6a9d88138a27df54d159ccdc863ded6d1dfa4c625efea0405961d864808ffb9e061e6891c86d56b02ba3c2785147e3cd148ee785c79c662869d412b80eab14ed69b9019307b2d3edca7a48abfbaff843dbc7ad054b75415e192b287652f8f3349cb1e4990cd29f4d7a600dba67b589aeea3d26512405406d930031358328db8dddc882498d2d601fcb976ed23476bd116ef47ccda184146aa01e2497c6ff4c7ad39ad302baf308f1ddf8ab88adabef03a74f7bf6336a25c753a5a5edb17efcfb89109fa0a3f406f78860ce7015f212ba8d8a1b4f29bdd92ca83f3ab7e5c49ac5a9af5bdce374c8e6a3fe54588e9d4465b93aa5b9dee6bca178ef4796095ccd2e2bbd4baade9e4d8563ac5ee27ba22b60d40ce59f930327c255e04c2cfec3f78542641d15ba01c0f1c36773cd834669794e8b026f701c06b94cf83faa3d107ece3828072400a609c2ab2cf7280ddb1111109c08b9ae9e7c16906b7c9f729f00d78dbcf5c4a46c64da8b6d44bbe2a66f808076bb29e42dba33440f5d0ef7158c975d3136c9d64fb21dd056467d68bcba71008537909898c0488633f51cca20b55fd6824fbb8a6c659f107f38d7f78dbb123efac85702abca5de73ef6ccf0a928a80f2a825ff7da0f3f293ffcbb211767bef5dcb24ef14e2b61cc890ea574786b40e2574bc1dac857515d508ad67f4181b4b69f5a5bb70c5cfb323053737cd8d5c4672ec01876830decf5b40cc14fd8a0dca9a8a8cc29e80827481686349a012c7c9ee20e0f91582dfac8e8e35ac9007a5cef5e36a0458947999171018eb9abd4164ab154121b176d102a5e135a40abddff1560b24ff0488daec0a41c8a794f3e0df01d88076bad7e240a644ce853b33e0935ddc4a7f26561aed6ee446efa21a74a71dd71b63ebd54755037f065755e1d8427e802b4a10607df63ad6b30c2acc03a262d85bd135e373ace966f681031a64159f4f74c67115c44bf59e7c9a5e12cb198d03f555f04dd6b2ab38415e34bf178e7b605d7ec67c5ba5475a136797d03d2ae7e875018d2fd08676591f9661d93d9b8ee0f929156af949708122cbb688695b3f417fbd5bd58d4fb7c9a99cb573a0acbd8ea9933c4446cb6b2e999687588b870425517f39febe76e2bedba5f3ae690601c441e84c469a6d249833604bd02160d2b41fc868581ee15d93c457c2d599306918b30cb0b97bc6db26b7288054a276ae858db26a3467d29f18893faa220ed90be8158a33913d96f66742d44404b4da13033d3b8b783bd7101b8b6022d68439afb22af0adf9a811f80c9f4f9cdb8921f2b651373c4abcb7f2e91c2599c923ef0f72d06a50e6dfd85bf42c875ca35ec85ce2f846356c8c85e976b3e0b544b8b6b3709d845e2eccb3b35bd76c97b0623cd4cc168165f02c48c070331dd5347b0c135fc3ca9309adc9a0dd0c41877165e399e776fe175baa3ab37802e7778d1c04c7ab45e5d56efe9430de6114913efd4eaf6ce4b48f59201dc8b30eef154e9576d3c7e0f451f435e4c1969790a06932374f4eceebbb90ee51442b2f4c7b7dded1c7e7a21c8b46e00b41929ac156b96755c3e97b97d8687f1f24c44f1797f4cc196e5689f972387e8f32153b5fff68aba1aaf95b065063ce6b0a211353532b20629ba68687a83e4a0e9f06f18870bb4f8c820068fcd1e01fdfe1ac4282a1daac6d4d06e387d9c4ee125e3456bf1dee12e8d415a99d5537bd3e29e74c5ae3aa3ac0c6326335b281d54be6a337bcb14ded450569a8e1558a1f59061014934eb55e253fdd74f67f1807f3759d443a554cf582d6da9d7c3056480c9ded9436a8c6558c06492ace50f32b1c1aa1cffc8a207a056928adef065410518e68e8938039d5e0aadfc956d1729e3d785479d4192faff0b39fe6c22ff16511890384b085be66bc5e30c8befadfb984efba92876b04895505843856a2b7eb006d8a63bc082a48d31cfbd7ff67b2c3962f445a12b30bd29a5fffe1e455ba95cab4a49cbae1adc0d8cc0316188ee1a9547cbdd67c44ea1251ecb6ccf3f5b1e8fc2b39866a7b689aba77463636fe0143129d595ca99203028cd4d4003e32a11667d3445d159e0e36cb85d765edf08f2e75a726a705b5c2838523dd5ff4aa86cc14d4ef23e4179352e9eae17a1b9f274a2b2c7cf92c00de93b2cf1a5e456cb3c6f280926a51d95eb5405cba745e0a2ab8217ce0bf0c022f833b2ba990d1364fc5586e4006cbb153c92d6a15f8aa2a4175be333adfd8bb601fa25772034482c14b6c5f94bc7ea6faed189ff411793b69704da6a6bb81952b0f242ebbc0db5acadb6b35618ae42775495c05d6376c194d455c72462307472de7a8604364c89c5ea6575b61dc79b6b1ef5faf3106dca115d2c637e2b67e36004eb45d5588bb72e38ffd6b1813009c8a3dbae0471eff2a7718cc1f6bf57190cac99ec7c1601df51694b4a94bb2fa6e5e88135616c26626d6f00b93cd04f2a8b8e78950ff30a04c7043c1221e2b66ee3acd86cfe8100f260ab26836505c4a26c085979cc356f7eeb6a721163f13e6d6c022f8fcb9ac7273fa251c6fcf46d1f8641ccf229cd7c86ceb87b0c6fbb18b5e0932117bf76d81a9dea568db5b3587f30070ce81219c9cbd03e9822cbf850346234173fcf52d7772265a80980ba2356afcb454292cc62eaf65876c2446ea45b5dec0fe614e6b43b2d90a80886f32a2637b487698a4d76b4507bc5627a4df3286bb88b2b51259bbb8134f84ab763a4ba6f2c897d3d805478cf7d267f8d8bbd4893e18f6ab56a87ce5034ce16751ba43cfb5e7aeca54789ab6a7c24ac2586bec11cc5a336ece15c8ae760489b92d5d4a3780e7d506a713c7f722c0403cc914feec7bc96be3325f6d060166ddfe169d3c9d243b1dfe302dab0cc07ce5a3fe8e7d1075383c0685121f478f3921cce173645d239c0c9df9b812487f6c8fefd0409821b4083bce1bf45d0f6249ca99b7a050340761da52caf6a9ff3d54364371ae7353e2987c90b8ee1545c5b702aca564f8d1fd2cdf69de847b181b0e866ed8369bfa675a3e1463730bfc695ddf0b7c54c302a6d758853c42a879239eca2fcbc26fa73c554d76edf30645b27a0449e3df9c1a591ee6b1687032683498ca8d29c82853285a74e2d4ca3ec8eef4fe21ce1e46c90f2bdb06485665385b5c4a677a8250cebaf9e4c22ed5ef7be47145ffda4f4ed7cd6b10ab573c952b9345b9be11805f3d605832e0e664a8aec5e441cdf59b3a9c8622d489121592421093efc63411a120ba79ce8a688b88851a27b0bb60f28bd06941778867615ed56dddbda86393d1c0686254b52734bf586f164150fea1e822a76a1d2eca45f1791d351c7d539cd29e8919fa24e3a00c0ffdaeb4cbd93f3f8a040107d4daba9d18648146950a7c8d405a51fc9611068405af5e4e62ec5c2a74fcb2b879c23fd986a2365466cccf429e4750a64d9e580303a5d0093161ed934ab112af8516ba735e17ffb7a50af9bc2ab7a91d8c9a4b5d296d70758d8b304b4699a4b52f52035f4b57a85e7167b4b3b4f66dff5622b362ea39445f5a2c4bc6a56b7cd2efcfd44d5d730ca88440d8d8f90360f1f24b421b4520d35603e49c0a1e5385a4b98fa93b128bb603746009f2bc30f36369c34d6f0685ff2c14b6431d64ecde6551b7850e38a7e3047cc96fff30eac068729ad54ec46786039e85048898ec3dfeaa5f19ed2a8e9d4e555274571b706a3836b059409b35a3eef415a9553ce89ba51073a39251b75579d4753eb487e2c8c02a6b8a820a164abcc474fb22276f4e0fb048401e1880a9c0df43c4c0f4d6d39b957800ad482b86c89e85ee720d41a281939386532c9dadd3023223f13afa9c04452cdcb2dc963609d146a1fdde43c41728a7aa5ce0e3873c5ff06bc7af713cbe6d01856f1b8a3424c24c0dc71fc63f9e8c7ea878ac7cccb598ac721cfb2255510da5bbde77fee2bbf3997371d34c6204f4c6b30c8d967170f829db4ca08ad5c204564156e88f370fd3b4b402538c5c6f43a8ad8e85ce0e4fcd5fe4a66126630a99f8979b505a80da6c3dab10863160450859f004d39cacee64218f93470c05d62613c1211566c04d81f3775d88b033af6e37766b3a07e1a32cdb2775653a39b7fdbee802386516e6c5bf0675b50b2fdc4c73085e6e0a540c7113bee2007a8fbe5f10a467fd1751dbb858ef29ac71f204d4ba54d9ba7131e97cf19c8b77d3bd28913b1b6953e942c022a05fbbc7058ca7dd5226963f0c0bc5e7c36e985cb9429fbc9594ffa69cf7a333832d9acd3214c66a59eb27db5492be8cb086007bc3931f7e390e312ab9b23aed173d1b0bceb68fe1b5a34f5164bddfc700f843b3c9e2cce3559bb7fb2e06803e1db01aa36946fa73d269ade12f62d6396c094a2346c83a9954855604726399f8cf0072431dc38cf3607913bd1a4caaab9a930b616b8a3d79508d95ffd19a33e00e96603c843a071ea10de835993741aa8dc907179d856eb69f800f226d339c4992677e0233758e7749824872814d95e25e61b5a0f7849847f8b2683a82bb531f644327f9a7bd954ee1bd25214dccd30df39936529796854fcdb3e4c4ce77594d2367918af35ae9825a4a951bc0e374284bf58bfaac3da357411b7d51a3bd1e38a7a8f93cf19a1f575f5a7ce37b6607693922476bfab8685d4171ed1dc734eea9a421536c5f49420c5ca8b227609ad75f439bf0ec3f4eccaa39a42a73e2d126f5a3bb4b0a8ee9f0878d6c5ee94efbe2df0e7cc2127424bb2f50606434efd9d1439f9eacc5e0100ee4e2e85dddc8e2888e5962b210bdf897fd96ec28c1591e175587fd19abfd26e1a25ded7c8bf86606d54f791468df17ccd2aa12511a8897a547f35de966f97dcec714a6b20f81342b12feb06324467db1dc9decd3ee02afcc95321255a54d50617eac4e4a67ee81f15f57e3e680b6d9df176f30fb61d7a09a6851d7957f673d14ae603953fdcc23b503310012a5c9ed19c2456cbb5feaa1af56a85350d98c819b57e378d3c1a26c54da266f0bfd8c03067cfdc9e64afdce93194d4e49dc9a5f09df24060c4bb30391590a33aecdba496e6ae7ffe0e948964c123a88ca94db241205ccb78dbac22c118c31b73e09fefaf17c26f18b2be2745bc6f99d2acdc503b568bf27a9a63fa73ca2e63d354b0241f5691c3ab8c41894b39356fde12b2bdd93652adcef143873d8581a801aced946f079f14c93983010668c51c83e10dded7ad0631e04150976aa908e6b5bfb530f8124e4b88bc067c342a4fa825b3a862528f84715ede046fb9fd5074729e8495ab952bc4c3728194a01ed334648d91786029d67d363138ba1bd9d8b2f5b77a95f757f03054f481ea13d136d5bec0380247abca8d8a8a7d58894dff10b2659aeac5d7ba34e024030d09c23d3f51cd8cfd0f7f4b1e5db036e624b46b7d197fc982a810cdc328f063f8429bf70444fac0a653b54aec032823368cbf946e8d0c488fb08c09f2c246dff659bd8461fb1d54aacac933205f604a6f94bf4cd7d946c0c9462f80f41b56f3d9fa715bec1aba8ad404153b9e9c9cc634311af9a68886973700c59e79810e7193ad3b40119afc161bf7d123836b2909b3191ec68b739a71716d51937811a7a358ff01082868c65fd340bf85c2f70a9035d536a8b17094523fddec4470ce7ead15c0add1892955027cdb4dc0e628bdf254923650fc5bfea47b0dfe22df404e928a0206d8c12719d4f59bc1989c565027a9312debd36c0e2665b6e2db1364660d74c71542cb8915482badcfc6ea522b1b982c5f9ff44c669c066aeeb0818ed62ad3dd3a2dc7d743a54e1872d93090b45741ae6f464c6631e7bc6de708d1318466725a759f6c92f525fe691469f152e9f43047bbc6a06877afda1bac171b13293539660005df0ae29eb68c45d41349099ed7686b807261a5a8574d273daa8a7686de00e5a725e7224f7e17d72c8042443f425a6e7bb300f98edf287576aacc2179d4cb4eda53cf3eacfacfc398111065d591c5652b53259e97d95f3d143d7d1da7fbe93f05d19828a6fefa0efd5a183581a49710c4deca9ef7442512c44514f356ad631554a2dc6487d1b0203741d56bb279fda07db3ccefd411677171e1ff6f1cd4b570a65354e4aec5ea6b6018d33b91581bd8f3348594bca1547d68d86cbdc4c520d18a9b27be2956160ced1c8604ad3d401ed91e3aa04ca28fc6fe2c911b96182a4f6af01f14822f5b8b6c126d39960ea7aaa9592edda64efe0ab7fe4e67ea1d766ed7ab145704bcf598ad975b7afce78b28746b1a773935a936e570f9274abf92c0e1a800108467090de1145a4a0e00a8f1ad5b8f748c7cb7d30982e2885456f84261fa6462a5fecfab9a93d806a645ac265c966b18ef07844f6eed8226ff03bd5aec1dc46a4edecbccf10351ae15a6ae55c30991dd97d450bde3c569ad703eee89265cdf01c74a9c3cc1b31f23ddb2986b5fcfef331323132d2875af79d0817d372927e83f4c41eaf84dd018deea3d39f33638d3ecf297899ed21f0ae747cf58f3e7f9be5f81017db3878b8cce89c02465b747d007f2d663ac21f00577b93f4c3c8128e6ef086932053480e16cdfc49c7402fed575aa9b18d678a4dde51bcd026437507399e8ef59495807be3aa8b183bb663a4b59f1d26a899d155bfdd491d8c2678530740bdf4d61df08cf887ffa","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
