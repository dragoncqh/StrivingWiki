<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1fb6d95b6a54b5c33427a063d785be1f71c55885ef0947769e9a02395f4c3ce173e49c17ca41b54bb8945cf94a5cc048ab368d650567ee6690cbc32656f2acce674f053ebb539d2523f8146f569e5929a607fee52aad7e99d15f76cb24d2fa9312a19ec87ecd41c131bf964cc691d0dec4839b52d4fc4933269195863d8d59e33aa8857f020e0dcfc09549e14a7bc3952c8300e93f1c28e71b871929ce763a956878317b457444da0f6312e2fe5296fe558f86a778888c9ca2d4ec10da1cae3adbe88ab2de06078472856cd5cc2c4736662ec8621bc290257368cbe29595cf8210b7835c20bd54be84804ec6ddd19866c4648b6bc765f118cdaa754a8ac7e032ed7d8cca6cd6feb6f4102d1fa5902349ac8840e8b1b59f280bc81a89aab57b03212e9facfe1df41dd4d61b7827c862ab62023f579c4c6972da7343ae4b0a81023740ced919455d8c1164d42a4de00d0e10dbe708ccce51287df0e81528def7e09245574ed354aaa735b2197b6a8df6ce31b94bb311223adaae8499aa37067d8cab60e36bfd7493441a58442c12148fbfb4f22b168ff1aa90976136b6cc9b2c75beaaeaec14770403d8a8ee4ca0c5c7a8b9ce290a1310de07878c11a6d7201fe721652e94b81df44ce01d8b6f6fe5f3ce6a57730ea7ae266fed2b93640cdff23a5166459217f4dd4bd9c1f0316ac54a9e230c02fdd9bfd004390688dbd13c2ba8902b157fe732f5bc882544f1dafedc5cdb8970a95e58a3895072f6f36fdc61043da996b3ca773bd346b0f7b1a1cd788d6ee27c71fb325cf1042677593bf932a9fb0fa6a009a46b1a84f2ebfa6e9eff56f18024ea86049c8a954ef07e899cd38cb6a8f44a17ee0067d81e5b446bbe6b5dc3d9fefa9f682ba0217f8c76b850602fba6f770c9e6efd69a272fed5439715815c80b69f1f052e492c492c46377c6e58d7d5cc437c22959ddf2f59a333201ad5bf62abcd2c263219e6c9ca1716ae6d3366627b9a6e1f7f2398f908b6b858e36638b2b6ad76fb0724eb2443ed95ad007b405b73fee9dbf4cf450f5c051002c598a1cffe78a8e742e287963fffaa2d241429a4ce23c7a0b50687adca06fafced163628ce10768b7757f02c3d5c9ec5bface46420733d6e2df7b9f59835a61e1ea626ceb0349c8dee0b0134f8a8b4c4c4333aae72b6bc6145a855d696f6ce466537e0db0916ca259544e2a2eb9f5d25568fdf9a860764143bf36447f8189a1623551b4afaabb8f4cda55daafbfe0a84bcf997879f560433071e232a819775ad424e4341786fd4d8cbe23207476d65edecf3e76d7c36306f491c373b134ebb779ecc21f62e6239420134454bf8950a63603982adb18f998a29d9d7e3c9d563d95974bc7ce85c2ef0674889b6f429a640c1cc0ea4a50aba7b27eb36d6c50310716c86d3448afc53bb77de3a3d3f5eb99f568ba5928a8951420f31a3a5c45f59b09aada6ccbf78d72b2527059642bf5747425c244ddbb8702ca4fefe95338749984509c435c980f7eedb1b1f6979863765baa59c6093c305b89855bb8541d5c2d711c2fcc1875d604cc1400399812728f75eea88274d10ed41bc310f400fea5110d76b7e8c8fbe422b7aa8310b2df2f1faff0ab7ce3b6dff5b77afe79b2ab32f0650d12bc3e516fd039d4cec440a166c81a96f2ccd00e4b2c72636a6904708b2816bd14be4dc69779d4ad13482669bada10a84db523a34c2b6836115ec7db668a8957295f4c28a3425969b565b2434f263aa5e464017029a20593e9e341d3096dcde94d125555dce30103e1c4e0f2bd2acb6330a84e57bcc8950017379f5e5d1073356328c918c44eb45d63e252a48521ac4b6b22c340eaba371c285b80450351eeba014eaec174a0a18f67d6bc39fcbf6df66cfc3df0ebd12afc680d22a5a9d9d4ac4a3909b68b0fa0d4e38a94c900ea5779ef168626df91f8d316a21ccb1712d3ad349cc42124be0cf54b0532f024ce2d859bbcc0ec09cbfd65fc8d0fd7f3bcad3fc70aa47e28ceb4553aa860c109370639ee97900ae0d1ea3d4c51f58f34de9349ba9c7d6074506d20d42a61bdc63d4f164e4f136287241c0851ab358bae4f69950235030ec7ffec6e48f30f9f316ed7bfce66deef0f6136e0e7b4825f39712ee14a95e4260ebcd97a0acbadbc48c9f243fc3541d158e93853d72bed281b1df4d234bf1e3cdd29e33cb2c6d896323b07700efb4a7aed58ea34b07e0dd821ea93e6738203e016bf3493f516d89b55ee01aa0edff460fc4c275f33f7ea88d7c3c7aa18dd825bea16fcefbbf8efff2555f23616f65951ab641cf10fe3f2be5862255948a1f7f835cc85d7c2fff43a197d2304c3becb88ce5e855d928d7a820e0ea3d1e4d170ba1d98f27d62ee0444cbb1eb35dd537e03ef9bcb3ed4ac387bc98d1ce23c25592310ecd91505d40b26ea47e9f70d072daaae86a4d05e0d817b164db2ec1b61c1ad924bcaa82d928d62b2d37f69f33c64aad7fefbf1f952ee0d708d01812d0b783c9e2971cc88321db2967bd34f79bc820203a6ebac355b14b43e6ddf5ced91291aee479e187e1bde49c2323d49511b7c6d7dabc79183ae4b532282a22388baab6d0000abd20bd3fc2d85e6a145271567da8d321c67e920becfc23dc9a4020fb94a36491a697577336b707c29761ca84514d94738091c54ed3432cc8abd49c5e0a00219b730512b30c82389dd6d1dd86a2afbe440b0c4f0e828717a4be3894e96311e429d6138292da3da67281f7dc0a1cfd16cca2b8a6dc802bb7f54beed735ba4ddb27d1d08e43e1b01440e9237a578afca60bd07c15c57f247316c9250a4eff38fa17dab08d965bbe80a86d5dd8643d4dba68a46f0570302eeda21860608ad1f3990abad552d300ed741a19cfffb406aa6637d63b2c962a717aa81e5c789a697888e465ba9786d42fdda21ed6b5e057094191669ac5f9d4a0def50923be08b6446d360b7ae704ba4fccd4d4446a0d28b3b69bf69df02864701a54137187b4e6b4046cf01f24ab705ffda39670deffbd7ffc78c316bafb71ea4612b4327b5102ea5bdd3934be997a7b030440cfed32b5931e71d6aa86b556e90e20e55ce7d1e409829f515a561c606430b0b9d8d3ba0fed5a8c988491efe5a31434c724e8261c0f2d56e4be957647e74dcfa5702d39919eb1438425d0fed45e3758ad9f775f0e8a23516dd0cc0da25a2e23b1ce20eee45f374b8017864c19135431086be55cc44772f88bac3fb016fa00899734eb090e452375e0aac26628664fc17daf367d708999107bd00a12f9d1e35099a3cb0abf83173fabf7de419b8bc14d766f28c03f6cf78888599b0ead2621944112e32c150b9697931713edce3aa49e52f5326982b94322a962d7461d3f6ec089b59208f2c5299159cd402bd3f7a487a5d242a635c2f5c1f1d1924b4d05cd3869d534138e236d5d14cd8ad0b02eeb6a84c3b39c616f386e24f84048b4c0aa574de45f5d9b698014058a013c1c7c87e5882d1a897e55c7b4b1b00d07db63e4016251a55502bf0df02bd60fbebeb490337e2a051651a2bbd391717af4063af1ef4bf2c9f70566b6bd91d317e938b47120a1ac08519bfaf09c16fdc04199949a964e21dc20077c249c1de38c026f4f6cba8f4aa6c0a94abc1b8b07cf72fd152576fcf224d06345e3e5b6e86fa708532b78f86f8f83c53fdf96f42988a8b2036340ad0d827d847927325c07058e0b77ccc5b49d7b5fb9b527f724d7c7eb1ecccd6dfe9649fcc6c797a4cfff75232349f40b1c98d7a99ae84bcdcd7ebf958fea4054ef6bb3c01f737620c85dc497247538829ebbc93327ee904208cad9893e9c6a210413aa92290028f9c9d7104a488950e147a646beb1bf52fe688786d6f330cf14ca68186dc21c8f4cec5eacdfab4ba5dc7de9a9b6b427df415fecf84648147d6cfa3f10aa8c4cb2349d55c9bf868fe397199b55e233b5b9c80a4d7eaedba35ffc876d16bdcf6b5ffd95cf4819f20c84fbba2053e409d788bf6913d3c1a99767a10bd3a10ec354470c49591e2f6839a385abf77e5a492e00788bd74854e2dc83832e5b35ef7a2a77dde854c5719504ddf3547b938218455740c39efe7e5a73eedcf4fbca7648d78ae9a1c288be575929520d853e312fbe83697c31aaa44e2a359bf90b52698281aea356b3512f12b5b8bce7c774eca65ed56fc82eb120ee3557587772e11ec386a4bd1cdffe46df6834e5a190b68e4be334ee4a5b2a41f5a6ec555d52e35726f4600284ab1639a7a88e9f67b735e367a89368aeb920f657c0959a47c7f82ebf143f2b6e426296cd5afc0028781a13182cc12d782e1fa5dd6af2ad36855aa5815a10411926f847a3fb453e86766d052197766b9caa6fb765cfd896a370c5aa0e5a37634eabb050d6e9b3212f89968c9a66d5a243f0b8a98dc1c296b064139c9a4db521da69117501c2be67aac9e5be429d9b45b0e9ff90505a50d6083a15a5a3d20674ee27ca3594ab79e7960d92a9301579bfe87de70e75da2189d4f2da5ef64a0e7bc4891f26c6f8546bc7f925bbf9a7f893e357af79be37d0db702fb441c9277ea68d5cf7d5fbbd37464973ca223b638dfa983692e72913a2232bf0a56e8c316f4a6916ad4e3cad496f426b3a407697075bd90822318d4f13c9ad5a15d0f6cd0ad609a5f05760a9ab35b2546a69cf2044c63fa9bf93ebdded74aa9193df26bd1f2af3ac8a59a78600344c27e54212f03619f1146093b50170358d23e9ce5ef0a0ae3a548f2203ac56f0ddb3cd034509fd68c85df789ac9fa10332891964e423d1592b8c8581de9a560c409485fc4618b2228a9efef775c4f6c2f36d5e9ea173362b2983aa462cbe3534c7c07eb9cb326b0a22659d553e3e564767bf08415457bb4c80ae14b428634f82259205bf3967755f61c75d5ae9f8441f6f4900660fb8cab14650f7bdc20b8c61cbadb2c1f0faeae88dfd876d4d276d3ca1528a7d773672873f651fdaada74923de0bc30cf3354194e271f5d00c813439cc0c69d771c6cfcb88415384ac1d52bdceee098533f475d0420ad678663d7ef4199db3c2f564eb2b482381d6586863ba9dd787768a57134f594607a6d36cbfa6d56c207a1352c842151b8a5aaacacbed31c53a3edaeef1ee2b32f8482e5313f8bb01a37957e7f7650d7b159c052fda6afd4bf768ecc29009ace6abac4862aa91c6dc88fa109ad3c8b9b49ade40eeaacdffbd1227c8a17a5ec10ff9c4c1c90a93755a2c0a153f34daad7ea4c5c246a1286ee967e9f117f595081e8b04ed1c31575fef3f1b1c182174a7cc86eefacd7d59a9f7f3a2857c8bd458e83bd6ca7b6f2fee4f2cf67eebfec320cb682e9a7cc235239036df9835439709d3a9f8cd31702b9bf045851c6da199040dedca414619d965dd24508aa17e10f9b332e6416764ffd660b034d5b6fd5e926ef0ab0e6737262186d3edf0690e3cd751e3c01ebfb55a681db0fb05bab0bee70a907803bce9ab315c3f3471a4e0a7573a40bd74706b28849478ab486681c98963abafb0485e7dc951c12e5c81ddc179617a905923841314f8c6321972d78bec420f00c88c472d76ccab188dbeda4809bcceeba6d31b3e3616664f807e79eb5780b582c05c114dcdcf560789f9ab6e78684724091e6369a454c027fd6f9c20dc1f71a0aedbe447f69d8877e1f8b63ffd40666ca12e785a02c3396531e3583d342f9fdc0c71336ea1c17c395acf4f738caffe60ab096d46e5850be44f641ab6728443f162abbd050fc499252433f129373989afc0caeb7d356f80736f31e0381b85b48b4eacdbc301bd54b40120a997c88006dd086556a5a9d7f4c5ad6c130c44c4a1b9e292c65a38b2bf18db539bcd286f83f8317360c995ecea490ee8c63f335ec16dbcfde533a0603996ad310ba602681e8e00be5bfbfae29f88a5086def76f35f8863ea52db5017d7c48f2c8e3f2a546425f8bcc4553e7fdd8d3111206b92065a79729e8dee997f920b7747067f9865d82891568675264ede50f1c6876b78cd825149ec99646ec1756f7e97270e872d4c982173cd80bce2856650276055625d1a93ee2393e4ad4de6bcd89b91dd68b33f489554806de46ef58b2caad1de8619a209f9b244f90518f1f1947fc0b12d5565ec4e694a172539c53acc81c664759d44af0cedc58868be52c7383eb3c83f54d05c59b9b1d72822805b755d123d2f556dd15e1f979c50835eeed01fba81ce9cd70132c7222603cde9cc66cc47b6e83ef99c7c684e4a48bdb8dbf3796b6af4bcd60f4daaac55363ff8d2656dff435fa65b63190d3320600499f9b2dbe907c9907f5ac5706aa166e683aa1d87e4f37c7270fd8af883b94f5eef07d671df99feced0ce11915a36b1778fa7bcc71a08f60adf8c266f08234541e695b2d6496a6f5741aeb67a51701880f776746f2a9cb643917ed1cff0b6590b6d16854c78057f10cb39c82d0eaa992a52433202dd5e1c8edc3dd3071daa1ebef8f95796a9fef47f67b78464fbdcd20ed6e250559bb710fc97c866323a43c40b6165daea923cf7d22476051be922c68d1707e1104ab1676b7679cd498f1a3b4cf400d74532b85a4127293bdcd4dbcbc0d5af4e6fb2ac6e23cb319a85363c21b8a2cbd51e8df19c61fb668f892797ac97c394b1da86f4b170b29da34346881bc70a9cbb8d7ebba75d482b88e011a226c53c9e5498d024380090429a2989f6ad88401dd8bd9a8309c874718902fd28f5138cb9efd7efcc424930054a3611d0d80ef72ac15b7ef3d2bdd435b5d7e12037c2cbb4291435636e4fd454ad9f833fb9b18a1e1879b2be82f03981330c2f17080c27fb6da4380d89d8747aef0071862a4c0dfb48cd570cd41af3d037ffe3b421c7d21065870769cdf0ee22b94b28c457532b4259564941e9ddd0da5d630df912dc52183ce42448c3501da32e51a0d9c6c88d33c5f0f5b9fba8bd3669b1d915b05c93e1688b9106f79003d1211ad32359a57b765024c5d25db71a5f4a74d2bab939817ebfcb44a725b778e9e3bfa8ee77d76e42948991d4a3b40a691ba89b11d7218fa70b16ad7499694d7f902609288a4f37de9cfc856322503f38f85f71ad9a1a5152b0ab20c9be301a5c65d3f9e3625ffda4c1713d8bbd79374b2e3559dc5e640c04018d278f9d4e2b41d2c121159640229222c1d1c96d47bb49b31564ac7305f4e80741ef08dfd99865713157fa889509169e896e084082dcd7c52e4211e3ed5a183721425da26980ee8196448f437e73c6265334b2298c884691503e97282677559c60917515911b45286ed0b96cdc40e14566e52aaa970e850e28d10abf6eb97f94216c30cf3c5ead1651c774994d0b2f4ac73f66eec4c12f5046945359f46978ff1ed09fc55e4668e6c60894cf263313bc67db97a4415fe2e1d26e3dd767e074df8d7b04f8457321cdb23fe10ffc3993a59a01ae03a8d721f8f76fa70737db1786eab8f80e287433e5172a1ed384faa206f8591a32f33658fed70e5ce65b6fc53606f68ca0fcaf4c26f9052182aa792176538c2f25809d2ff92da8ea8f3cab54a4a80121ef20c31ab69bd3b0db95b29ba4a4bdc3ded14fea7ee1157d93f64e14ed812503ed07f5011c988bfb64f222dea3e5273675d4e9b727a73cf0f7e980f53ee397e00e98f4180018263f07e218ae62c811a53eea685f7e3f48c6321efcb9bbbe7154e97c3370747a172d931494d34339956b6a5d6a70ebb9014298c61bf30e91680563708f961cd650ac30e727f5437884c7cd22337383792a7dda2319bbe0eaed5055b7e8459751579f597dd0aff4b1ea46b5c4af993f55da2c4f297c06027a4e0cc527929aeea7995c118f535f0c70987793067598589e43dee874a86f2ca40816f2373a3ed0a666df7300a8900ecec698ec971ecfe0d4400b76c3948f0b739e70ecc0a752f0947e98b6e2755b3e29f9366fef7fe8da975543aed2345c6d20a570b1378a2fd7131bc97ea469cc7a5eedd6e9e23f7115a99333d9c8f39a0ba2e9f0d915f4fdee7a5eaa5dba6fef44aec753fc7d20b8950565bd1e6807272b7a4bd5c3b470544ab9954343cbc6510dedeaf1df810d91c54506d1baf6596fcdbaeaf617c3294044751fe3ebdce50260ec0eecb5a18d5e4bc59be39ce9873952a1711737fcb9ac73105ea215781e73d0ab69afd453f960a8e7d47bbb06fca8d4ce74be9ace48559002d67103e12379ce091aaff325018674560eafd8eca7b74791a289478713764fb92ea46b1380c835fee0c0249ee9d05a570e8317511bd395216f3b8af5bac3a2c1310a77f1511bb80de9956ef283de878feba59b46b15d59c0566b26d61f502ece8d464e0062b4931837afb1d1550eb8bd46d67477bef787893b67c983f9f000f2f04eaaf8ac492d8b32a3e9b1b934f04fa2f24a94d26b1fa79a5b82d132a21795c17fd1f8d7c3117b189f214201020cbf7cdbfea662e113a6b70a9718b99195feeb495b52a1c53c9fc0281b0ef71340e4a7db30b53916272afda8dc3ab1f14b7a796b6b4511b8e616d45b1039aa97583eda5edd30ff5c2501b6a070d0566ab34bc0e9002e75826fe84fabeb888b48d287229f1e9e50e26e6b585ab3cc3960d2a26a030de63ccf706f4590b3633a388f6e298878b288776d9ce56bac7e88726298ca6b86401c690d372a05dbd77c48257654b7f0dc26a433ff89ebf956b98009959de594f4dd552f7133e876bfed8e899a97cfaf7ad2f0b800170ecf5d969863eadac187f874bf65a893bb55440278d99438973e7e32f95d582a551e5df53eb39ca3024ff4512c1d9ad22faf2f5e27aa7ac2661e44161549539c388d18e99d8bf416476fc632b3d68c0b54c99b19e618b6259520c4b6a9902caa2e64d9d17a3db12d1f00a990f0d1da247864afab133dad5eca703d101f961f7de2bd84aa939dddcfcd61b25424833106a120ae3bf8b221a1779eb2ca7270783d499b2a85702366961778406837eca8702fac28da1f4b79f04455a316a79129f7b8dbe8915951c7afa8b7e93596fba5f8abbd6ace5169b08cc82c914723d3fa7ebb89aa4ce8ba45ddd2be901aaedde305de0df31eaa67ec90b8c1fb7c59d7fa1997db52c57361a4c1fd4ae3073522f1205eba7535c6b7ce1716a375451dc0d9fee1ed7b250f76415e67e014414815f30b0afe7a365ae088047f8cf3d6fc22891d7c618fcbf03dfe2d1164a69e3bf68fa2def7951cb63d53826b78a7e229f4df14a80faa1bd9b44ee00287b25491160e385c2e00dc1f6cba04fae7dc4b211cb149b3a3efc8ab565785d9e885800d5b60d70da106371576dc40909ae7d5e00d6e52a9802e76f1afed1912cc9bc7c93c8b4a5fd6dfc27943e94c8ccd60620e08b89c70b10a64ab531cb97c80a21ccd3ae14212ad931584c50ca09a58a1cc892545615056d391743dd57cdc583d88a0b96bc1cacbb6749bc81800423aacb45d520a06b42e1ee7f7fde8fc080822f13ce2e402bedcc97d91f34e7ae727f92decb52c009d227640268bf6fcf915eddcd6ebcd4ff866cb535576301e38c35660d8847326457be97cef5a719882104a9ec42bf1d04c4f7b2d3325b93b3a8e2e69244be5c916c5132f4e0ed1ad60192869d27680a7b68f91ee25bcab3de65e01b8e388c5775625aa85c93768d3f896d4e76a60c2d1ff961731579ef5f6fba83e1d9a5cec492168111489adcfd354cb0a12736c8b1c8e578ee041829877d2ceab17d3da8aacddb236dc34d33c6e2b28a15a934d76bcee30d2521b22492831d3b35a06f7e6bf09470b4b18448ed38d17e47c30727adf854a62f09deec9c3e6480a003a265f3d10f6c94967d8ce7bf116347a1dd94785ab9d8e12f053414bb6bfa9d5e7e83b66290f708711764f597c880720670f9761d40c991676e3532681a0686d03bffbc635341accdfdc45572a1e47d20d38bd6aa36e5f7cb39ecaa835ddc4448d413655d9fea4acfcf0a944a35a6e535abc7057aef81dcb9b944d5f62c2daca10bd5bab5500ec4ab68a6bf9fa3f6bcbe955ce74ff1131b1d698f66c9dda5a0d7b26e89d05eb0d682e2ac3709c839efbfbf8f03a030b3a88172f0c7afe4571292a5e7bf7b4ebb79268a137b50cede38eb0a7b4e2aa02c3c7f98e20cb22872c480c2d835aaf6cf76f7a577ca176cf21be814b9faf396c264c3c9fdf3831e202d3e064d9605c76987ee67840f5e1b3058e39d087db9bac85fe816fa6bf27781a1acbb5644b7cdb94a43043aae8241fdd019c4047c68901f24be5e82d01d9fd2e8e7498591d5a3335a45441a35f4b1cb46f9542ede7377ed870f8368e9c0da14008618b9d8cf1d31f054f9e8d1ad9d8da59b91d6e8934745500fd108d7486e79dd7e394353c4a2b5c8792fc282f142f3599266cf4b836e214a46c1ed26e59fce777a0c885d40bdf7418ac5c67ed4085a9eb49885f2a1e4ebe253eb7f58f4c4294384ac1c52ba985688ca0426808a20111671ff8055988785d3b3a5ce8aa01aec19925c3a3d3475047ccf697225470e378b355cc670684acdf1c3f3abc4efc1293c62bcba414ba49f52e4e7ad1e6d5b003052b804642481d9b966f41d849f31398ac0c87c4392ea1e43b6cf8c8eb2b08f358528490b4a85985e20b4e47643e3b90bdf3942fea3c1dfbfa42d512d2b43ddf32ffec68d07d3deae1a18e19765ae101c7c90ab6a43b6bb87d0f205a58ef50ce918b564597f83bc82fba9522219f64d2ecc840dc293ee3fa6192a6291113614ba53f2325c231cbd5c67a7df7dc2791688437ab83fa463e11ca1cb99102729c11c8be30de05cad4cde5f1b943ba906133fd4783221d52f734f3f47426e8468f1fe02736d72c46df85e206217e5470b3ec06922ee0f73eae801e16960aa59e4f8505c055adbcf5ccdd335498aa74178c8b718ad4c3d6b6d85bff299c62c440006a36d5bc3129a9f5e39d39fffd8e17b3855f402dac44622f8d4a3cd449c98a21fe056d1d8a925a47fa920a70dd84a08a919ba045a8d80438f7bebbcd0862c941818f128b23c679fdc3a7098e5bbb14bd9a02770e783e65613589473fff76601a4f671d5b28d1eda1393883cdf0a1dfaffaa8f2d87e0c6294e2f8ba00ba6e271bde85a03aae884077ecb5489972ec97f8aa8e17703f5b0912cc7e705d2938ac6e8ea8fe0cc3ec2a326a1fd8a76dbe9307b5ec73d7d21db161ae858ed6ae580f814cd15a8f1dd511b67a7b23f809d44eeba32476235284b944a4bce16ba312a4c4d6c45cb518bbcb566513f68df79c7bc5d4aeba198bc9fedaabbedde0ab15d959b56107d41086f333baa7c2c2c9e6487fbe72b2129f2a825620db4a0856cd86c1e89d2ffcdf44bd6a76661e742e1e85be3a5c288771241c5d92502a8f538f4b480fd148f66c29f60e5e1b67fdfa8c562816ebd3c60130b770a63c221aa1eb9c9a0c8146d70f6d704b3d9cc2c1876ae515846911f2d39b55b0e7ff70a6cbbc9a2423d580a5f166562a55394ef0a64bb2a6c913400449417454d8d237d5f4e09d6afa7c0612cbcefc4c027dbf29b8d26911c25bdeebf0e865cb3a981e1ae05a0cbf78a416b8fc3c778e4c9a0576ad1c23f8b37f4f4c844a4c9af3ac1ec4d3f9c357336df3d5726f6e6206178f7a29951dd430cbf1c8658abf24a401ef696a8c8cd93045cd4fe0a9dde0e923eddec392e4b0c8dc3b4491215bd05ad8dde3959e912234228c71b94116079aaa0399f18152644ae4898077931ce6166b7bbdfdf3a0a7749e7f11a54fc9a9eda90060bac3fb5b281e40a56fb6f269b4deacb8ac6bd1e837cd4c94b6852c5db71d0582852d46dc0932322213adc09d80d39392c772aa8fa64b8e110e4bfbf9ef20097856d12940dfa33ff484518b927025fa289397429b0cebd01478de884cef830deab265fbbe9957c11524692685b864eea3c5f3056422c744be16af4aae4f0cd6bcba568230737cad7a16ab20f7fe1c93577478534125e09f18a85256d7a8f276e030d764cea11b3f44e86139cfd588bf75d7ab9a5d12ad7889e2a9a0d20fc85c78c3f6907927042c72d041130d3cd044e6fc388e2d162858a5dbc678f63eaba2b36750ef10c969ec01c3fa5f65a5201521d3b802b5f85c701b8c3c95e3fe1c806b0925ade9a034131ac07a35c269c95d0c0ef30618fc4b27a609c2ec2e938598e0432a737f36dedc7f5ce98c6936ab06a05dd20a50f453233c469a8e417e5849dc02905b3bf56d4061a1e9357eae10880c817b383d8c79334ad43bb65561e231e241e36ff71cb36d514f056ecfbf8853918f9510910593bfda5ba037cd8797b9f62bdb7755c838cc014e9b9b68a29f23a441f5284f9a17afce690798c35e2eb028fadcf5677331ffa563d3792904453da49a2326c5e8303071761f08634f09388f280e2fb0e38f7414239f217273dd5f8be0414cdd892051bf3027d0de181011927f947f27d4411e9676d995f1a5866453dbd8a7fc984bba6851075b555fdffaa46ba2f8195f147834520e9465b228e4322d3a0b1a4a19de1d8945650d09b24263110ae95c8957ddfb87e077732fefbe8e15cac7738d2336ab2116a3861cabc0406ddc39223b57a7f751cd3f9159e34ae8d66a0fccde1247f451f3c6419346cce48a29acf8055117cb39c1d092eeda6359fdbdd003033579df9ad73d64f21a59da9598116e5b509d8b1172a0d48683b59a949079ddd0df3dd7cf22b917c90a85e7ff44163a0399da27ac3fcaf19aa0dadcde6c81b7410830c7c97b086cc67906cced1dbf64e9dcb50c867f393786d9e6d0731e3b5bfbf5a1f4bc596d376c325bf0bf67925d173e833c3622689db58fce79c6d69f6ff0bb5890c7c5ccf79d989def39aea834b8c65edae74eab62dc04dd0e9af1864581f5cd958f55c7c2b001cae8b4337b7fd74e58b8fb8252a77831f9ae1f9538ad361190097a360c09ef90039c9f3b6b80967212011cdd3da2aa08cfb303ef4908f7e6b311bc381a2199b06fc260dd4156179f3e47148d8a2d6fd0e8bf49121ba996e064094d3c0a4516a63580234fa77345bfbf343205ac106a8a574d83dca29070530514cb290c4adb57620382faa3f3bdaf7d8fc97177ea511ed3cd42a8ee0674e8f7bd0a6e246e0bf5c259fbf96e355c4870be7cd44d80de5cf553f3f647589482e0bfb8765bdb144c9de2fccc9275aee239a7790914f1dd94be11e86da93bacecb4bc985b6324c6543b138b530bf35c6e40b698313a3c34ec01e5893ee746331ea3651a942101d84da937200dd774b0cd419f70822a356d0560dff83944bcc8199e3040e45d1650c5b62465b134504432c218a615e64a9646a95ec676a27eb9e4176d8dc9d144af6998c9191ed92df5bf354c11fb6806f62ff7131b21d76e978f14e43641923bdd16af8e27df3ee709aad290d0e9f12d39c7ea1fc1be417d73ca320de6b2d50ef99dfd7d7b9b193982c11755e2e10e7a5b732f9ffdf9a7321f496afc8b8f28359f6eafcd75f4d5731da39b65cf7f65b6cb0b052e9c9017bdffc5e9a0f4a800622b804eaf4c4b3ed4b977f0ebbbf4910b41f2e2b12d8c9a32c7ae7ac502595cee0513e4ba14c05351d356cabf81c30fe7e9e21e94f209f63b7ff44042627dc8561b3a8f8e40453b2698ae2d8bb5fe7da1e47e56bed1601c6d30809f2e9271d4285b0f82f6ebe3531b14f57025e0783bcadd8a51c5be3e18ae0d4dac01ad8012747a9ed343fb4502a03ceac5ee40c86e4dfde0c7f43adc1c01d0aa37bb318cdd1c00e8a15d971bd91d52e54014f89724971d8e1656fa7399f9dc133e8a7688832df3373a7a0039a0c3c457270d015b17a3e1489384b954a3bfe80998e9c91ab51c73ec7dee4c195a69a754f9b2d6199611a7a87515e2a515a0d5eef89f85a25555d5ce4fcda7d69c8ad8cbe94c1e6523ad37b021a8419ac46e177cd459910c972cde525240619484ad21f396b0dfa3fbf7e24180cc23470d50a130ce97bc9016d57a522b569b1d9a78bb7966db817fd433fa44972f3fdad73b95f779965c2db9277f8e95c3a618f2636749e2dc48f239d8392c4a745751267038f6ea62208b17dcb49a8f98306e81dea5cc2a7888f8a57a03cc4fdf9ba693aef2aff587283497b3f46b0130446dce925d84496b06be83698bbfb6931b6d90d70ba1509c58f646e0ba79505e758b2ac8fad32a8c50dd39cd8af626aa24f46fe9ced6a9d95fbd44444057b74505be5224a204e154aa170d6f87b7b29e3e09ccf24379050599fc32c4f4df82f7683760b55b837e1c6ef8bb0cbb1d29f4f136328c80bc635856575c0f5453d5d465222afa3c7c85300ed08b244afb5b861ec55a37dea176e3b7046b3f0576a2a7b77229770473aec74ba3eeba26f8d45e11449b8a9a9c8321047ba7351ea2d4d12a993a8049e2d647eec169a3ded943e8e7456663fe69523bb170c478e51e8a848c8ce035936b42e9bfc0c2c978e44b258b04c513c199e5f7698b06b88c22f19252a515c3b1c595bfe12628da3e07120fcdab05bd89199faeff6f9d518ef9cc017aab34090e1d973606d1295dac99b38f42593507ab8b87ac5650bfec1b9f7fbffc7e7c6230f6ad1b0c04544452083f266b3df138233e63bbf917b1d05ec68fd043f41388f3d6a395271ddf03b9457c14799f625ca3d73ffc4c928ba592804b7e8158814f9c71b4aa6ca933cf093ec95d039aabfbc7713f53f4d5a7011dd8ff1e052d38e1db083173daa787de2c68cb2637b705e8018134ec935912c8bb258967dd2f568cc8193f2583c1215508e825b1968189a4b1bb54ddc9cf88df31c8cbba27aa08f26d78f1746dbc622ec6ff44739f569e44240d6145963098f5edf38c429d6ad16c56bd1b9e893fcb56ebf778a5dbb198a437305b92e1c6fb8936265cbeb5cc31999ef2bc3268b61d7e03cbafb7644dc27aa0b65b8a094e0cd6e4544dd7a17821cd06518897e7edaa11134333fd38a624c491c6c58dfac6401bae467231cc052c231e0ba33844522f89efbe6b269e37edcc240db59ccb7c9f5cd71c0556717a8bc4ba857a45b6572e3fca18b79b37246c1cf75435d2dc2384646265a4a0aaac327220a2e9e931c3084f1cbe7bef1c63f257350d15e5aff6308abe5e6842bbd8d9a2b12907457c300329164b1b279382c504dfe3fa32d806d25b22a47e99b53bf439c64ecaf17b367f03f400234f3873f560fe56a107d139484150286b9a00cf3d5447bf711093dbcc48c33da63e746d97a17675a5bc8b9853a52ad6e08c303d976e79c209c0878d26119d956c5a42389fc570d8ee28cd4bd8088e24774f6cc17b7847d51121a2b28905e88ac57df686b730d10670a2746fa498fadf3aaa895f04bdd3689309e83cf631543b167f9d484e168a053e0150df4b7f98f35ea2a917393357298af44d7e80d5c956f1a83f0df21c09d30f0fb0a00fd1459104cc9a2d1e08639ae92f4cb0ccb01b991ea00ed9d94c0dbca17683b1dbda35ba38e90d78cdd6b0874fdf56224472fbb6c5d7f0e2ff69e59667f9c23d5570d79a62e121d04503932d90b5390e0ccd1404e812e7db7d90c4358cea2ea2b75baca2d1efc0e25cbf1a80ac3233c12af812056432fccb21432a27f6f1fb2a06797bf11dcc8ca1a748de870614f8cc73e58b9f471c98e44e8e0cea95f28f59f2e7387cb267a34a98f7d15e6c2375bde79ba247dfa6213d70bdd70f4f91d033b80a4a27b9ecdfafa0c3ff6de57d3023c916ca0c14e8e4f7669a065710d2dcd42ab4a00b1006652c0d307cd236fdfaf26de72d6b47ca55338072273c4a0269e18c7375ef6e41948ce3fe119d49ef18e5b57d3ed1f958c04d72c6298ed3f019bc05a61bb67737fb3137e1e422b202048c745a6c225bd8bb6e5020df96d4957757320c109e044058b4a6c9b8babba66e734ba31fffb97d9b2426f063639acd21c8bda695470ea35ac32e6a17018a8b5d7d2a416c3f3dc6a695bcdbd314a90f6e5b61c812890fa8efc8839be916575f13e778322190b1025559fe02e41d9948f76a9a0b0d55d70f5c37997791edd613646dc63fbc171dcd06b4bfec3b015e52d5d6e181c7464fac3d03274a80a073e2a6f1470fbb0715c41b4d3c866e491a4106ec54da641018899595f0fb00b0c1402fcace1ea6bd18c0be4f6c48b6dd25a1ed13d7c5fdac98a56a5ac6bca3547a6e3b43f41539d3cf148d23242eb5ffc515936e2ee5dd7088bfc45b0e9fc751772ac6b94aeda230e73cd6b2de80328652d77e0fcd486a573483647c5e89e223ee6bb73d95ccccd1c8b8f5da6d74f8649c8408f082bd57bebf7faa89778aef5298f4ff3c782cbbb4f6953b91c71e43d278078e5afae2109a8d89a7337ea56f9495540fc52bb7f8f36ab8830bf15c50db2e5398e48af9d1b8c473747cd37d58b233f2b0fecf2148454e205ea33e6100ed486e4d7a0bb8e8f7f47f9ecf711072ee817ed49d8c6bc46e8fd59e2cf1360f349a12f0c36f781ead0915a4c81e66dae6b73c601d1da4ca48309983d21573f74dc1702af236ee1f47b79036b576b9fbf8373b765f6c952062d29cb786ffdf0d21a64c367a0521da309b7625727119d090c679d6339fbdaba818f64334afd8103b8316c43f49ab37eb1c377ed718830694347226c1199413521b0f7de48fa3c9e635ef461cb9553a1e8254b0bf9da7d30f4f2fd2de7cb27fe0a3e8ed7b3cfc83f580756db9ae287e815f69f9fad39750d6214d5d7f9f600a3788ce2c1ff7356b388cd4b234709b879c16fbb02e1effbd51072dab25165e3e1c62da9011cd5db3a7544380addf9163e9f8fd4159c60b579ae1fac7ebb2121b1aa0f48eeaba0cf7f02b353823815564088e8e8fa16c608cf12c21e07fa081bedcdd97e576fc429014e25e8bd3416b2e5a053d0ecc39147870fd61938f6c3507732426a356c099e6e79a6295e5fa68b9be0abb2aae5006996d25a26ea1054fd37405d68d07bb85dbb190c650058a0cdb0071bbf6cf96312085d5153a707318e1e46a1663a29dffd40146bc48b6abac56220d95600e3a1cdccdd0ae07c20295c7bda2e9969c7dfb84ee6a16cdf3231c2fcaca74cda075aa1f50f9840b4ddb61bd31ac7b03b6714e3021e807d46c92681f5116e402e6dfc70b1b0626749d94ab03192a2e7cf38f69daecf30346a5b9c8977b0ecf40e17113d206e4c13b5aca266909299056e5904d61ca681965371a77dc0a82fc8f4b2435749283f497c3748626d2e9acaa25a420316a26e8c6ee55873fe59519573dcfec78862fde84b867830044b23f1badd0117b2600f14f0aed2687e9dd5aaf765112894039de277928d8b63313f076e4968005e655dd4dc69ae1d1300736655a4bb0f62ebf7f7dc2b7125cf5197112ec945ffedec468c43191618802bed51a07f7ed670db9f72ca5086116c72904184117d3dbaa961a2b5716a0907f239e6d08e07d9fe2afe21869312a90f478598da29386b80213972ff725438d25f00040d2718cb31e66248e8d1f2496fd513dcdc116d40871650c44015c2c40985f5daf5f842c246bd71bff185d2c78bed71126b9530251e3b30cff041a16095e135afc6c9cde9bd217d6afc8fbcd97de0285512c7774c872397c15150075ce07a85e198e95c3cca3d8492e4b729a524f2efdc2605605edcc7b7139e13f4fb8b61d7733a71c6ba72c2a177212f1fcb39e6d3135faa1dab700c326d25d29cf3fdef0f8d93c46ae4147e4f5d51a4c1d8b891c44f11dfb81c5cda4d2b672a698d2a023770c464ac359ab2191ef97ec7722571c87add7c82f774b9896cb5e18fa72fe69468ad419f75aec9c46f5a526ed2491df5f8d170952331f262c1d86040bf8898048a0ea8598375ba6ea9c12998015dcc5c2413909ed05ca55dab069f2b706b204101bb4064614b5ce3788e578d224306e1fbf4bca0369aa1dbee4754a50d4639a76baecd6ec6b70aaf2e57741bd6c464d46a5d8532fcdd418b0205b6fb8d4262527e9c592d76a0200dd7efa7aec7ea2820b312261e2153822d0c16c1f471c1abd69418dea0484520489204d6c0ec22007fd86a2b424fe85703b27fc5b907440fc5e4f4d3b40db3df611331525b8b2f6f0384300c1648759f678c9d5ae13697da4f43fc4947faa4a5198e5ac64f19de56d704856c4065e41e195d1e1ed7b10e8d9699b424a5db708ce6b1ac830fca048bf8212308a3a0321c77900db9bc335b8b2e47b4780b03082b2c4df8d4f04dc591c35b0f6682170faa1275de83c29fa4c322b188c5a5b5a98f085b82cdac59a2358d73674bfe5fc7ae57962f2ba8ef27142868883b49b29d622c2f60abc881bbbefdc9447b7a159d51753b2f90a2d6e9c4956f11181f77454aa820fe034389014a80ac3eb20cd8d7c22cc62aba4018dc3cde090482e92a35b5b861b139691b84f8b65e7b19a73effa0ea0942ba22d62d0aa43549f8a799c88f5cd4832060886e364d020dcfe160495a6e50bdc78b7bcd51f0f3b15ded96cd076cbea783966f56fb6ccab073d2198e2d5cba1b798980e5c204ca7cc0fcf7b160d173677b7ceb125450cba4ac7ee0b04619c4d96f63dbe2991f9fdbd176ac5566364f217a32487ea920cd2f0a1cfe1b0d920f7fa6e2bafdf7bd836670b0a102cbd9c972a718fe7759e3f949fe3eb9c41cbb4bccf8b3180f60bffe035a206054725b4629ddfa4d8c9fc2dee3be1b9228583bd736ff4d3fe7c7b21820352d1e5be5d40d0da83421f03ac36f7b86e59a4963fd00d973ef9fd58929e2af9aa5fdb0b32af2aefdd915f7a70e843bc5569dbee06ea2c3433dece671bae7149deee7ae7d31bb24044713330c844e124ac266dbdc1205be5afc44338ac745a5e7c058f9f2c0cd7d13121041521e8738cfebd506c48f4b69d82581fdc42779622dd5afae6ce082d68741294988f8138742b928bbf9cb9d9afbefc6507db2a13bc2f319dca8bfd7d82e54479bec52230ad5ad0d40b019bd9dec4fbb93966f325b2b81386b0ae0e37aeb62d68b75a23d2baf3b9f18c17d541ed41a5dc4edc60c40a2321431311546ecd61ac94e069db8e7cf2d5d10a6a31e30248c58d2eac2f50061205ef2684d7cdb6b9c6c2dde75b313142b470f24b29892d28c04f2b6fce3412e225b26a5fc94262209ce70ebff5fae37abd97babecae2c964d7ea3aabe3e0c228b555a9d4af87e8e31818b01e7e6e3222024ec9ff8323560fad07581ac9a0771f3fc57675857023c026be07605fc03cb8da0d006e591f456d6a806d4768df005fa9ae8eb9958301cfdf6cb12a3bca790b521245e29d19795afdc021663068ad8f7e69587904db28541bdcedc3e6e7c2a4cc403d7ab420572e84d0b5046e2900b33307d499dd8ea7067f5c6d255e8dcc3cc3656c4b443345e3a21b35c2d0efa63cd8cb709a09f1d33baa91e58dca8f7cd6a02aa596af56f4ed2740711351ddd63cb5b04d4c6a9d9ceb78ddcf7fb8acd85c0a28ce48b29117c738dba7a4584b962b11a8aec497147d2a42c8302442ec567fa79d82a4c5686900ff102bdf0392f0c829792b3c96a0d6ee2f38b81a49aa24757a4b3c43aea019694b5afa272ad60429a1a2922c56fdc0fa7ed3b9ec2f48bd75e4747723c7c8ae9d80007710b8d4f6a182f528afe7764c01c22578885fd65e4957d0c08914c8a69517f879eee809dc7d580cface01035fcd291c271d30ec618d35f4bf58ef184066318865987b63b6ca8fed4459b867fdf66b1fbdcc54f75f40a1fea63c70f0904d3aaa07d037efc390e312e895787958a736cfb575382f4f5fb007eb08ab4e8e0f810057cda85419c2fe4357c823ccb9e91a3d70f99be992124186e9ebb8bbc4dbeb3743ac5a4096f205d4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e51cb6d05ed027db058edc159e71b81e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
