<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"05611970d285ebc9db2951638763d76c77904373a33c6111f0d02830178b73b7a09adc79cc012b8e1fe47373331e81492dbe56fecd8f5fdd6a71050385eb1f9548904c9368d0ea943188a278a7e8d778412e8e8bbc8ce860323d12b3eb51af02d899889a0b5943442e16534a6c0dca30c13901fdeeff2401f2243b8b47f4da6ae7b9c46c071cf614b32f3027228bdc26c81539247b173d94da5bcd8a7f3dd1dc018fea1d833e29dfb76358d7efeae54c89ce571c75bd306c9eedbcbf61190c7bfe55ba24d8d00c13fed8884e7cdfd2c4e6e47c3e7aaaa4ec5e2a63e9ebaae1d6e8dc1f4e0d3dad11732e79075818f5b1a5c22243e8989d4fecee52d101a01bdf1ad564552be3ecfad17a988559271bded01529f957c455601afd90546bccb091084a87fa8662893263f37137b5824d9da0248db4078c27da143c14ba354f5f96b0f3c3bb6662e369dfab1003dc4d6d81a842cc5c302362554278519e67883a3db00641fde95b27f3f34ca11bbcb499dd8c7eaf8730ed9b096bca3e12f6de066feea4db13d896a6adec72995b6426f8e2229820bcd79ef3440eb2e1f7d60783f3c94abf9211f52b8046c42095a6977078304a7cc7b3aaf551d2726b397cd25f44458f88a386ad8687041a214d13b830f38ac9578ad5098b620f1f9114d8b66c5b272ce82e74bbbfc5378644da0d46261797a7dac5a00a1b6fe5ba4fe95cd8bb772661198e56cf61e8745c8f864ae4211439539fc945a3521db102d40f7548bbfddce83074a6105e9e345d7551c6deb3e5e7f77b72b868c07ce7f857704d7ef163584eacd6eda371c8bc5307c483a80ae5e63bb183b8d54bb0ebb1d938520d1c472a07aac0c408ddf127ee38167ab0e73a75315f505813ca54d39f8d58dab6f6244b8d5f13f015e97525a95c4991470f52fc30d2a7cc57cca2f1c416501224f3cf3239367183d724d37f0067cab85dbc33c45ffb57a677cf225ea25ae5a8c2bd041c8e34e6598153361575d7e0baa2687129c0ada1d7b9c824351049c5da7ce668331abd705d282ed7870353722dcafff685c2b85c42fe0282672dee696faada7621b246357b8f1c3dc7e805c2295d3695a947ee470fdb7df5b66cbfebb9c5bd2b6b69495b562dae081c44d9fb3f4884381d8d40238295ab47604ab15aa8b7b5f3ede27fa24b32017a7df93a8110c6d1d83e8b0c56af01c8a17c6a70a1d5b5fd15729ddda15119eabcd94822d302ba31bae8fe0015b09b43a4e4a2c030257fff45bd48557762adb87a4ec2edb64652667806b02eafef9a1617a989102ad0eedeedf86f34efa5894f213e78c12a4d0cad8e7eb371b4b2e04af896e9362356868a98128cd43d77f7c5ff8cb4d2b84689dd4e3172dd6d50d52ed7b482f9201ce03e288df55a802b41f832c81889905a080d0734d955447b405e03586d0fe6d3c2a6f552761a180f636ed24e53bcb75dcc1c223630af5e442815511d1e419ce1a83f3e1e524131a4ad3f5d92a07c8127c60837c898a362da85d37e11a5bcd6cd858b6b6be11348a5810d19666d775f0780ad3b172b0b066bc5740683a74f1ed4336332461803eb300275a314e62bd006522e56b9492a685b0d74d71ce5fae53a9b5e49c9819e53a65284edd502fb7f714c1c8be1081e4c4063a1b0479b2867cca958b49da14a5300a44e276ff928f23036a38603d0093ad9d64bc64d58d56244e6049fdb507cbaca6914b5f21de3e4ea7db7c6439367c4eacc91621152f3946c64a4fdce16069ec3f8b6e8c5284878d6f995702f77fdb17943c86001d0ba1143b7ab7014307e8e39320db8c5909da517ca57ef483da34cfbc63aecfb672772d6f41b4c94f0405a9a0f0fd17244f8d592a3f7418f2f48a56740d7b1f5fc986e4221b13a0dc9a7182d0bdb0218249fedfd122e2fd49a07904433327579e40ea87e09035af92c9ac798cc8e5a6f4fae072d4dd78ca74068c632ca475b3470a011e1e159892de6b06046c04eed4c82a7689a27859c263e5c5915fa1bef1c7ac804442db35c5dbab8336217c90ddd2754c8bef07020c0761871a0020667af74d9feb16e89e8ef9e44946101a4a03bd326529647d90dcdafaa46553b62dd8b05c9223d50cfa46479cbe9d57ccd3baf212ff97453d461c7ab7fe2b2c7192c518f356047b194497e0f4f7ca16f752ad448cfb78d84fc186eedd2e069e268d129fa16bbb58b9b13ab96ffb6b07e7760cd20ee9f96b0dbed29cfc3f4bbb2b91f8a05fd86f57135721acd89f15a44faa65284c08159d61c4deebb8b76e96e4d9e6acfde9e604ada72d4f7910ba18c3efdeccff0addb4e1f1471fbd73705d8e770a169f014bcffe7d13b01b527d0c560487ada508a846f398bc957105fedcdd1404ce80fde2f807efe5767242b5d6c1ceb0e5830246d927582d8701c70700df225a6e3b5ec05b1d1f6dc32681d7798d5bba6b645fd8b17af0bf073fd02f9fd2581eff11e2a79622881de15b36796b041d8a6b585363559284344b73c77abb5cbd286ec50902adc2a0614b3064b7ada6d3f1632e300ef5a985a489c6bf3754057c174921f07983c01b1a470713fb41a937d9c48e268bc5bc7657a61507351694c19a1b4fc33493ec31557515f55d93093e958bd0e962c579f21bfb6aa0d0092530ab673a2ba0ddc1ef1b02d8c20e3e04e0b5017f8ae3bcf94afe4183d8aec0e67550377d06b97400dd56ca27e530919e9ea8d159fa80589c5d13dbb819e180ea26ab47bbe9d67934f9223c85052264ca10d5945c6172c1b8524d5dc45c7a0f5918c00a1ae3187a8857329fbd490fb4a62f0f0dbceea1654520d8f3fa0012f3e044fc2020486486271bf666f9f3f6da66f9436822a2db69bbabfdb828393089b15c6a1f2de68e905711da93ed37e24efb2f5c898ea2b445a57fb1743b72553cd1f7bce25e68cb76e5523691f766d7a339d750ee7b16c13a56afbe93fa3292abda6570edbf17bfb9f628c3243e0f1aeafdf4ed50b757e4c10bc6679aa3384880b0a879828680971c26ef8244d94dd155c792a7940e756f1d69cb2f149653b45f390b4547272b375c657c22b1d907e3dc5cf4001a8ce301fa982db964c5aa4a044850e9f0128fcc9a4fd24aa42e0da2b78bff300efbe6363fd33d7f2bf9aa7e572d1cc3f2ac3f6d84c3484ec1d904d71a87420f4a5135ffb6b71a011fe7c2675bbfe87d1368c31d0c3e9b183264ba0e098e084f66fdf8c48786504da18bfe96f87debc4133cda5dc8caeaa4e2cf0b91d9278445a48edc10409aae053229a10d16e70e79cd59791680b256180d12928c620fa110ab6d105af2367b318ea49b69632dfd2c953f2c2e55fa4eaba2bfaca9cf7dfa16ecbc3c110fffb5cc706c9ee6e09dc6d0d6ee90921d2a3756d469d1f56c540653b315b3670a845639201e6a67a88859c9c58500a7637a3ce35f9f9eb9680a1f780fdd59a9f49eed776788d2e14dda9d1bd22de59e6d9b3df1f914fb23ae227979195f5d39ed994c2bdf36ad140c041f458fbd133007d37e572c92b55d1417462d3e5aa06d2319ccb0a86122ab06e124295022e114415f3540f8c4f3519cd242172e977431aa90cf0dbb732c631753dc3a6d3b2c4153caac728e419f87db2c0faef35f2ce2bbb3764dd01a009075bd2d4d920fd345ee299fd1ec1a6b66cfc4e5318043fd55b2c66e7eab5cbb9bd260e2c347830d6df95313c1a8aed068be0f437331c8bd7d488a3c174767a1fa798c828b75c62e1bb140ed9dd32487b7f1753241f2d1a94bd2de4882bd1fb81573efcb7cbe3531012993a9948d35a27aa790791a055af5947f8ee17907e059da5a5a78bb8c4372a9a61eea80ca9fa959eb147fc69957c2a36d647123f8b6ab2543105aa6e577500429f2ff8221e144c4b142e4933829e9ab1a1463c65f97175632668159355986b3bcd944f84d7167a2c4a392526faf2a99ec4ba03cc563cbd5000c8163a151c15f874f51b796a4461706f3ff774504a55765781a91cbc97d8011936f94f877996745a5046309f24e2b955a3a957a8531142f74fdad9040a09f7694a3ebf69ac15540105d7a5f213aa95c9850554babbb282760f2e869e321da6e6b6a7c597d9d1125174a1431e2fcefd5f4e2d071fa443a29651fd1750729469237944045d1af18b8fb7a9f7b625c315e8063d789328ef3a0bbaf846638ad9f2b273b18a3d270a8c62a4414852dd970d7661f9fbb83ccf1c7e200d69d0c0301b20e0a4cdb42824f88df9126aaddb5f51b2890da6335ac44ec0dfd59c11996a8cbfc5ea258e230fd584db890aaa83b324084e9557594f85a075ab91056a2203271f7d8d872d9b93a1a04ee29da2320ac84a5c317e67d6d333287d0293b1d510fa5d997c6388a74a3066a14738a5beb7d0026aa5c43da2e7d100fcccb82fba7c31e7308d6d43db54591b8696a55373dc7a4e4bdb1ad53bffbeb45a7e630a920aec2409a53b6e4ffe75d987a8c3bcde7e08443782b7217256b50a3e3c46e305d41ce7df260d13d9e696736c6ed4365a1e73e79f71159e25c2b3970540f4e2de7578c1396501fa276978dbdc456337ef4086f7a3f3828fd4f74c813fedf10cb9908dbed757e2be3acc87f19bec6b33554734fc07fb44ba61ca2149783edeeb4fd0a2c5056152491d9ee0833846ce0bacbcc013deb41020370874abf8dfc3211d666ff3447d0ae8e018b79bb7b203d7c56aaa391a0d4daf36f69d2bf1a5cf42d1b5bf44eebc784c2b589bf204fc686cce9343a534ba2159747210e62e6176a2348c9f237a63bbd4b5476b374e533049995d6ff7d2b906547925d2d86ed0456ba9bd27bfc38f1c5fdd06e4936c45a3d12d696131a3f30afe59b54c84410c20828d0efac36dd45928a876d7a34a993733f9a86d3148b5c3cd0b01ef1e96849a6e5f483066b4d06d53fcc6c7c3c3ebdbe435d408aa2f6394f53c49ead3a15b7e3b4c0f886005c7b4b05b1edbe75ece345eaa8940e478c0c1cbf8281f0c897716a07cda9b033135d0b94bb3ffb53b7558d49357a3ed683607574d642d3108c3f4b10afa6208fc4b8a3af621bb5898bbdd02b920d28c953a977a2cb97deb7c0a79dfd5e0ab0f4cff6a4b6aaff361f8a3b6c124c7b60942d5179ae63ce014d85658eae461032adfa58465a196bd03e00f54225a6e69f17b2122f43da5a39415c7eb02e65a4841199b15d2a1d1c8e81d684f449489a1c1189fd1b524350198436a39b3909b11db874cec4d2b7c0869385aee8c1f998e3ef026c413ce7b7468e977e1169745349b9d190676f9255c836d77066e3a04d1ab665bd94110c1d4780a8528cda9f3839a5f9dfcba7465e378b0610684c53d99d55daa4cd99da8487b8515bc6e3c8ec307e25a71f091d93188efa37e5db22e206ca1fc3ac9fba504caad2e1b6736bbb4e1b927ba69b94c50f6f8eb0425f20d4ac09fe7fecb12a2ec57bd082fdb69615c6cff5b7c69376622f900b2aa3acf7e867b3c0e96c82318d0adb9ac9ce06f42562ce2423cf5c603ed471517dfec1424dbda7513239b609937b49838351367f9c6d79303a010598295e2db551751ae2c8a9ba829042bfa2b32701b5204c224184d9e325a45af33a11cbc8aad470f6f74d3c431bec81894429bf410b4ec91dfff47ec663d675b04211d6d855ec7b8ac1a749fbbd34a550f82d6d69d77b82820293a647ace8082572c69ea250190615986b130c84b3a3856b7ff4cd5c94bcb4ed1904773cd0f8210bb545a887373485a46099a2b37c519508484286ec61046d02e88ef0df725d2f89e8fb171139c15860d46dc1d6c05e5735f0069f66dce24267b15d171f48909774d16fa949a28a5c345f0cebc173b0eca5b6c475bc407ece7bd7c112bd36d7d1d4d47cc528bab8b87a104cf841bb25dd627e22745601efb3ceb06b2c2a4df8ccdb07de0602b90ec3b66f03e0561011bee138ec25d1acc37c1d0bbfc663282064bda251d7727d1753638cb0d967ba018414458582a51dada81c24d1029095dc7423337f1900477dd2928c8dca8e405152263167cb0c1eecb12c6bf138fada45a53a2db81a0a97d994bdf0198e7ffdbb6878bc9b5782898fe6c6d6e1afbf8ce0e4a5178d75a22fc85860f0760c62e741c28816d6c513a5e73cf1a27ff76e50f3856aaa81766afe83cd2f7e54c79958f5305da6fb761035139fc562e566022af12cd300c00144c9d71c742dfc905e793884844b3e18a7fa350c06f4565bdb60d3c23682356ec0acf9c137f0542989a228b38fcec0e5325ad27c8faee6dd856e02040f9fe3447848208dc0d020f33a1021927b6be1755039a1046160b57265e43032214f31bc738add72adb44c578a080fbd3b5a709c18c1a4e67c8104eb505757fb6e782c5428124cc5c14db6efde637fbe63edb6922630873b2f25ebdf00f19085fa542728982afd7d3635d818daf1e5af171f00d8eabedbf2b17cf36c52a84d38011d362a782ce5e18433003bd6ea751ba0c6eb2c99d6f15f4371c214cb480f63a88410729ad097ed9a1b693f0fa16fd4dfa53ee322c4c5ae6dd94e6b66919c98608238fd1b0816e1511d13555b1151ac0672e3188fab6b9cb9679d6721f00b4de47bf20cb79e24215adee53ff2ffde94fa8b9bee01c8c864b4d59e537a1b5c008f42d192a7a571d507d075bb2ee9d88166ec4ffa00724f2191af403f87ae242f6de569d853fef515e2ab8079d61962d5143df3a22bd37a67475e7a2cf2fa20952933580826b4d5ff1ff13005f5ce06d8407d3a13468cf70818b62e399a367a0a8df05dcf7647a4bc93d252949fae34804fb501a59d8d277de57d465e8da782354635906771d500c22ebd874d10cadebec7ffb4c77b94dfbdc12315e0f6953cd8e707df3506b82569b582aa7a00e304db5c893d441fa0b7e0cc9d28a8b9b6c024011779b7667c932ef67a744fdce730687a7f30741325a1bda5e0dc518b175f10cc77ef0c86a4c288299340cc3fb56a2607f3e94a7910a3f65468e61e0698fc3701a632c17ad1457eb866c59749a7107e62ec82d1ef441e0e86519db9ab145b8207a3d40b49951681013fc891498d93942ac930d224e51b90481b100db19394448ba4b1ac8c4e52c07f0b280e2015398bf3149a201d270d43dd18dc686a295525bbfe2a66ca7cc685ac24e92ef2bf8594797d9c0d1aa62a1137ec33bfb45f820badc2cde9faa11d851581341eebace94707d0fc79fe44d75f7a5f91c471af3e8f38374a60b14b5b6a3aad2d2f1c4c62e75259af3d1833ae433d5466d1351cf29ea5b4ac9022b7996a093dfebaf7423ea50450c14e411eba105ac558e2448ff390c6f999ee0e736c28452e462311f8ffd722c763b9840723d31f2d7e25fa7f329c417465b9937f76881ab80ca90e915cc7000c16620233b7f1f599b1f327568f68215ac21523464b0b3b489eb234f7d227d2f0537ddca9ddacbb31d5db17aa16cc2905b815cff4ab08fc2062bc081ae930938ca73b044a81717fd29ff24d41ce6c849a43b36f3ebb8eae5faef1b256d2fbf48389a95946268c0ae7eb7197a0a093b2346dba8078ff665cebc99a08f851224bb761e66ee2823e5f938d2d1732cd3fe5587f6d69db11bb04998e3441489dd179fa9481ea457518f220a950223d567f87f0be61917f98743c96ed3ca402b19ae097e9534e493d9a85f3aee98f1278efddbc519cb119b3e011a3526f17a560c74c3c08027c2a36d7a90f7e368cc1a0169e9412e45523d242d3e26b4835b8b8a3ec8acd62c2ba23ae28f15e5b3a81448ccc955b503ad09d146e5545d3d96a1f601965a3b659626d085b52ce641451ba60008bf4014ae6479380445eaf665f1b7811a35bdae3be0fe2dd0479c5de8feb65ddba4d11af963ed3e4ca63d96b7cb01a9a3cd4c9aa34260dc2bc1995c444a85bb92378e33f3f97cfaaa4c6330c8b424e38f1f4ca663cc9a1778bc4e1a056ce37c20c63379c63ea348e38b89263c4cf68cb64ec9066babe813e92c38017214eaaff52487a7193ec3c7846bcddc4830f2369cda61589c687b5102663fc8e6ad7bc51f97ed75f4034404e29002c67a2bc12e408d951e5c27d228a1f114732d178a8087dc36183760c949a4b07165d4c5a7c1d0240ac70a3b872f0c34a9fd395c00719b591f8a2d2457dd098c5cc8b2950b0aae5a2b5c3915ee49056ab07d8839a1ac6336597800d0aadf30eb81b8c46cbea1ea4c90706dc83a512037bf80c02268f3dafeb615385600a93f7e3d735da259fcddd0c07c75c768a1089550fe6f54c43231ebd32a26e0cef7da017c0e7761a0d37c25a78ff07d0cba5fcf5e74a8a72c0a23503adb22aa85cf953eb2b2c0f4ab490f096f7de71101bc79ca6b96cbda52efcb804c8800b415162a9e52dcf524fdfd1d5b691895fe0ac9a3e5781000a454a78e111b45e921cf812338ab82f564fbe820dbb5b44515f7412f244763db57c60700bfe16e1f5108759c769bee667033bcf92d5924414ca135d71ecc611a90b6234da401930d10ae8f3289463198dff0f5717ffb673c9e95efee010e28972fef127840a013f9662c84e487655207febfddd3b90f890ce5009e835c4f2e8afc6be8e093208d3f83a2f8e73671f9d6b960a83f3c4835ce491a58489d6a835ff6f6d702a41466b91a4085c5e836759a376c3616124f0b2b9fc8d84fa425725ff2af55a33013e93c9d2a3a8a5b40c1a8c0772d49823fa745c9773cc44530141a13012d6f7d8d781cf23a6e7d46e690e93289aaab62a647d1d0ddeec93e743bd29b75d4f7e6d872e58ca5b2431cca2d77f1573c83afb4ec7e95cd7c976aac1979dda4447acc07e9aeb550e570ad7e675bbfcdb09a8e0b552f23b5ba5125f392ad2e4a2c0b511cbf17096f4a5688f0f963fc708e7d8c47b0e259e6a7b7096fd7fba4054edadeaa68da51290f46c8264e412cc1ae92486834be7747b25ffd8729277a3a0018b5a6a6136a4dec41698bb0faf2114ffaf4322f231ef84b2f96770a4ceb4b4d728ead86c6b1ffb95cadeb828d1b964967a728be14b04e21ebdfc163fe3fe529332dadbb9d40a865d23a859bb164f50815926a796e8115ad1c6d02a5a1846df5bb5334ed112d844ceff2f51a5d5243dd64cf70746a4753eb4cfc41dbc67f17fe01270a49e98185e7980da0d37062daf1b7c5aa4efa5304ae2c7a8f8bb11174626a7315d84e07b8d6cf3f85529054239ac3c28a4d9c9232619501b56ef61e94a5271ce8168d5461a6abd447cef0b140a155958c3df86e4f2bd39ae74324deaf637a3e3cf7c623a00de4fab0f62dd5df61fb47d823623ab90d47ac555423f8ac58fde14f022f300a334d73cb57d8033d31c85674269dd49443e8f3e99befee0ae952b173781a1fc451f14fca7fd4e6bc43350d4d765080822040054795587e2efebf1bae90e71e731675aaff7c88f649e3097506e6360b8d8d191571956c4c47b180c84363bbb12e90856808ccdc5841e1dca9da62fd97854cf75034948af213681ce9f7eee01ae2ce59be1bfd5aecf9aea7ccfbb2265087d9da0918416f8865a230d416716d76b808ccf6e71743e4af723e83f2abfaba7b6031edd413cb94b5fb7f4745aea7e93409a398d7546e3126297a785dc84cdc31b4fadc226563aab6b9bd9fd5ed87e268e7d20ae486bfa2cf22adbc97f09a59848ea96a1a24c9e8933a32f136398186daf1a07f6077b0c24324275146dd7ca795c14ee9f5fb04655068752d435328284a8c7ed932b27fef87960992d0a279010cea3ca90249d519117fed56e59f246073796ad6b9ef3995faf614705f88ae1520ae6f1df5223cf189b343934ff2cecce6ecc98248ce0e085aefb99e399e5f8d96e85fa66f09105964ccf55b5969635d75bb90881d1994b2d78b0b835f9b2465557e12271d41a2ab429aeab00c83021901f6ea5072f3f141b084b80ddf5bd087dde9dee3b7291179024cebfc249558b415619b04402359c69eab95e83516d5418f2ffe79f6a3a990e3edc82156f7b6f99342dd339bf22436d4e7f9e7e819123b469f5ad89806eb4fb682b8f20618e26f9747601539c4d13a36fd5e8b23ab311d1f76710009c575d9200ea2d7b31c4d89f9335fee785fc23c5f4f62ce86fdc33597e1cbdfc9a431982cba5a150d4a39dbfb1e02660fca46958d4a3eac80ba75442b683dc027bc717f5a82925e08b445872974ca8eee08867c07d7c3ac64c2f3faf9eab9732c2b4e0808d4552cde6a85a142a86d17767769aa180e80f3afa232bf1d9094ab1919b1aea9a2be9e6764c12262f24fe12a0e257f3efd7a9577f5b65e4cd9357adc0fce879313722301d5e98fdd73ae57858804fa793155818e3984f8bb03a14c2cda82c6cc0d6a7c44405db2fcd90dc8f93063011086edc12f9d67583a583cb1cc09a70648f85bdd8a7e117c46132b274360c20402e7131b8deb35fe971ee74a5a5aa58ac8e8114fc1a5ff8c3e4d636eae87313132c10ba8005437c0a7d0ed095d1db4c90283ec5037fd9765c556f821a31f0d70afe9b3b2bd891f2cab4e535bfa861d026ee30181592b9fab572767ebe21590e75d773760943491155cc3fa2ce5abcad7231fc02fc1c5fe3e4180a8659461afdd1f8b4ecd71565d89f91806964e6db43ceed8dbe847e9e3936d1a6e43954dfa74af90e43f09b508dbe5d17d2d98904ec90b0f71e66530ba6327482de84957db7adc8a43463de50d6c2b254b6bc27113b32b7478d492b402e0a5dda1aee0acd9ab3f638c5d1fed2949524dab3e883019af36dcccee2a44113f89c73ac42b54c9cbe5f1c3283ff6d84b9480f82722c55bfc1357c9e3ab9f20242074857d35ad56d143d71a3601d41802cdb9f30b2504cb0ea8d86085f5417babb3542502a5a50a2549afe13ead113f06fc6980ab0a4fd73aa2e7da9d0cc63eaea9aa10d4322d6618c8b47614283daf581bc3cb26d46712d0aed7b5b708212c796e605149130af6bfae06a697230030003a2c77049940da74e3f7a22c89f54008fa21b58eb76ed8080a123c9906f0263404ada6f2edd288e33ce3bb2805d8229e88b8f8847a2d5c1527de870b5c1278eb4a5f5d3e2abde82d9a5e6a9c4b038e9777faf3b05292bfc8385659433aa3fd0cc6631e87353408d98c4fa467547afc1b12716e76294e2dea663b2ab5ab97e8ed5162dd5a1a9adb525b588ea4551c88280d4d0d9bfa23d9db9dda6d68a259d4db9fd0a0118db4eb54b7e4a97a1c74e08fe086498a284180be276f2e5efdd79eee71783e3d42ee8f9d154c0d9ab87a6412cefd6d2ec7e54075f3e37af408a823b31aaba53460ccc4affa3ef66a4879559833d45276dee1771672a8c21a11c94a3e0e76f1527df5139235ffec41271b44afe843ea83b6097c027c01cb11f2d1701599092d1f97ac64bce13f1a11a77280ae424cd8df088d4d1342ace792b9b605331014b4136c0b346fc7f429b4e71bf1b96c816b5b469b452dd1baba5dc8a75ed664bd2303259f53462fc9b0ac0d0fd9b662bf8ac926435395be5329f5ccefb1b7492c92c554782a881adbb7191e4bf94ed9bc65a0101ec05fd8610380c7914c5a9c4be997cc353a4e343cc1f7832949a8715e82c68baeaa0948a9d06f00276dc12b22dedd0e40e84f5ad4b9a58996c2a9eec26f2e5c2e3393a08e23a23d0b0320e0ad1dc7bd457961c5fefbdb57efbb0a40458178ebfc320515ff591849d4f003fc23b86d8bb1777935adb76f32b8fc3e60488e2a99f48b6c47ab3d894fca4b99cede394cfddbda1d6e5f0303f5b94af4a7ccfdd58a6c761b7ba00ffb54c379c1769fc912c093a8262f6209a6fc9b4b0eb31c64e28612a0b08ae7a53409e0c2a7f12698ae57a6aa5ec1feed4c0421949662291a2f56c67b6ba80af8171aefdc4da4a63c4be81c4e35e0b2282b5fb388738eb6ae6b4106b86b6b9a390b9086e87fc794570f0d822e428dd5cf416502f0a34a880d62ddb7d09bb2761e3454ee728cedc2282b060f09dfbada4d12374afad0940cfa3ea18f67602b832688de8de71a25f04467a0595dd6386750434574a0b4941abeb4b1d03428c46e0ae8151dde4df7805d045e0131e7f9f907656621696fcc1eb3c0a754d9bf398a64a5b699e0c78a1a8267a2bf12f034d312871e3b90701f3b6b2674ebf37b013107d5f087968452e971f2c8bb0b9c97f8d891d2e867718a28310fc8d8edff925d9f4b56ccea1e731aabbcf9032d7f83ccddae019aab377ca4ead31d021ad190c6be9f5697985c10c0c2bdb674d986897b85e2889ff57646728b66b24b4a1214b2f2913bae65eba11c8bb65a4aca3c561a4798477f4197dd2a4e74aedb1366675fead0e1b3eaa16bd5c198ad458991a3e3a73c66868b635371ae53c39799a89a96a02a2ef1da32ecef152fdec6d5677392cc89a35e76fcf9bdb939478b68eb66f3c11b88036b450323d040c2c7f6926e7998e0af61b3eed47a159b46d0887b2eb0ba35a1a5fc59b68c3c6ed2db4a25e439a6ca4ef83fa8da3855389e5d8adb9145bd7062ac950ee46a8ebee953b68535d612fa6de8aaf75bb444d6789e0760c3c36341efe7e7a3e4faeadbe537a615b48c912b5afeb7f26dbae2f3c1684b1aeba34bfa3701de4b8a96819e8fc75fb157b6fcadf3a461eeca2788e024babe429769d3b5ae4ef949e59bc70c1a98ad0053496659ba746e3f1c876433ca529b5de248189dba1d388c65e85a92436b432fe6d58da17de99d54282427a179fa44430c8dbbc9968a71d23dbfb8f4959fe79231592e4d8eab0033fd8051d5122e7ecf9e0512f43e0634414ef592b4a3d2386385003daab8a17a2474b67333c5b5a7f8282fb5c68705d2c1b2fd3d9c9c66eaa2174f42fc81971d202a91f88befa49751cfebc618fb51187f5c1ffa5d9dda1bacb0dc271aa72cb6aa19087e4ee21f3de22039859600bbf384c902a18bb8551fe55d6079f478e361e806ad1e961afb3c7a87c34f37f9a6a41c7b51b36de55a00851dbb066dfa6cd2314881225d0cb4cd92beb3a0647eab1b218e6b4754e16c9d73c742b1f32b8898457dae8d4122b56d06983c154fe928ca686902eecc3226c6c654ae2eb7967127a03d9e0436a6d490c89dd14852abc38b5d1efb022a5292ca16705fdb5fd911317e8dfaf830c164e5d3341580f61de2198d83d27b991a8bada5c8bb3c5e299cced7c83d8f0100dfbeebbbf5ca8c594509c7052c537044d317430088c27e4797fda0400f4e4e995a3b4d4a4a08b4208937928db218410b91c2231f8122fecaf69870d63aa45ac80049f17416268dceab90baa9d54ebc495ff9b4c1a79a0bf3442fb38b71b7330729816d08b7d2eddea2ddae3ca5225a2e8830b24a22930da7a70dfe82430217088d2e267f1879c4cb32974f5407156aa2c669c434ec90b2d0863e3bcf8c36f66ca0b5e3a8f42f43be8521b91320bda5ab693de100fd0e0fc6cc8af6d20b2488dc519886190fe63157e622178d1c9306ee1cd748c5deac638559d63f5c19b0d0c77f54c0eb2ad4d9f051288e1ed16d3b44ed6e70e9f96eaec98b8d667c62d2f8aa6b5700f4eab0829fc31f10d63799a788957f748bbf1696a6f3bd46c48c3fddc365c05cad30c96855cf9f56e6c06d91a739f2ebaf58c9e33ba377239235f5f3d2cfb24ef7bab90d68e1262c0fe397ebf34d7aba3e79e60260665958b5eef992a899516fb44491d174778308919791ae50a19ed85f3f83aea443018909cbbfc29c452ed73369ac9458d215ce6b00985c29b60d3cf8f9da712514f90260632b50f557604f8ec2fde30e11eb57610cb4e88c7b793609aaac711150b5f1e02283742299d535b90a20413eb88cf6c175de3969f60492a37df7ee2f9fdebfd953dd56ecd160773b10baf865f0399d0c73f698ffb2b5594d24295e9b553d62196b3b8a87a7e7a6e2a0fab3ec56938ecf790139d4d67ec407e6e45368038eebce5319b7318c22ec920f653640bd8173ab0f6cf7a62573f61dcc8421b50f7c54f68edd0deaab6edd929ca5aa2553b6daf4e8693350e17e8f791d6b9444bfc4471c51b01f7214faad86a2da7d71c07204d0f04a05e0f2e5b41abc6be98a658029c21f03769f60f987fb26f40e751c9f4bfb359be3b17be1013228d73d3eda19b192609079501018d00a0d7e363b07bfb4f941d284a9e2c2fb6f829effe87e0685462ddbf2834f8f14b9afc4566ffdba496c598aa809feb3861605b5bc8393244a660103313dc53326f7ee22bd158a66538690fe8c849c8f3b1343ada23b6a0fb9e3505facee573e10d7e044273970309f69d43f41a090dfc809edbe854d28d174f426610ad56ad20e85de352f2ae6bf41148d2b0de7b3acf032dc732522e8cc878734c7a63a4f0c069df3ebbbc5eeabed95ef89434952e91dd9870dec66471fdb783907b97c1e7ad3f0baea9cc0ea4c22adfae2c03fe653edb127e888b261023b89498b798f42069df4e39f06f9af75cbdbb8607261d4f7535d04b7e06a9847d165ca2db5dddd6db1f1cca23cd40735053d96a2167027432dd9dffddd9887e8f55869c06ac77a840ad1d81b34c1e444d69b05b8b51b801a25208861eb922f826d61677d7055120dc239ea13a93976ae798b5c539dd00078a2f7dcfd73d449960e0944fbadb535bcc966680db0fdcd44d82bc3e05073ec8fb94a3d965f856dc220d17b6a831a308d4174eafad8dde5ce19905732597ea8ed83df265785e19b00f674fb69f388158bb45ee2b140dba3289047f35a7ce62ce0daff107467a5d2a248c0e964412b2ed9ae2e470fe22e1515b5b6a3590742f51777c6b45f5bd6534ad746b72e830c4b7bc7502a932e3414dd50b74cad9b89187fafb1d3d4c78d7eee1a01bcead8ff8a8fda96561ab69d4269d50df73a619ba04cb51c8ec9b0c63873c73dafc42e27a99f5973f8da2ec52dd1381a25a4a6a2c83719b0f22471b1c4f87172787b293e96fd119889ff054fb42740529dcae66ba05b2b08ea6a8701bb641fe49cea962d3ce473ccc9c43eae108634f41e15a0fdec3fafb5545e20ece24a1b595723b35e5b2a491cb60aef807f8a3b30b7a8ccfbdc4c42ca67a3c8a6aa757e8f4f2228f636ecd62bb6e7566e979537d5e058ab385408a21303c8d0d7287e61dc94cd51fe629d1ad8e2e8f2ae1bb21b14b0681fd7da969c6e133d2438df90e170720e416c0ab06d7968ce8eb0657c7f6aed7971a76ed609da4ed6d33c26a2c0f2466630f6736281d4c6b27e73a6317f432d297a6b2ab39f1ff0ec85adc855c16d0bf3bdc1310ed7cd7a6052008ba0b1f7a262e5c951a351c4e95dbf2e06f9a7cab5baabeaf006589120564dd90cda47d605408aefd5e405926bd0dfbf98e7a6481bbf43f25cedee005b8ba9dbaf140efccf5027266c4f2a85145b393fb772fa20aba2831d423b3255111b710d63c601fb4907839ba7a9deb072dd8a0840608081316d24b2cb598a2573f74356fabd8c2389ea7e93dcdf2ae4112a659acc0c6c93965558c397695597158686fb4d38d061da1b4fe5a00ccbbdda3ade94a204f39f09a97e2488a98556b4cd3f9d8b451b64f12c25532c8b2721071014d8c80d2f82f45f09f3ace8d1001beca0ab3c334176570348265a1538937a07b3009ec1cb7e0f48c6c33d6d7e6ed5537c013709340ff51cd43ef21fabe8b6e95cea6d00d2f362fc3098e3d50bd5e146fc4d93983d75d9a3c8188e0dd14326f17aff7a3919975d2cbba76a428d0615b9ebc9713d0478e4381dfc061e01357decb667880cfd018d901e47e0904ff391b8feea90b8837bdef624dc24e196d426d350146e4fb2b8113afeaf9663eb1393f71c787550abc11fc2a8a592f010c75c0c1b5cd1400903d7f2928d5829f6069d169cab1cd23ed911cac389d5e1ae311568b90ac79bd76cfacab85597d6c80e3afdb0575e9bcde6e000e313a678e9c1c697bab5d6cf479b38d24024fa92fbbfbae35864ff147644ceb048e8ed4053871630e64860372450a83243cabdbf694292457dcbbc6a6d8aeb4946306a2ecf53bc319bb8b28c5532fba4ee75a4a2eb8167de7660adc9b0fe1edb9a61d21b426035a16ff6ad22d38f04c8108d9da3d7717f93cd7bd5aeff5405f5bb2f41c42b89974a8da8dd54501fc4d722c14463258e49f78dd9adddb0650fc07dc5a2974ae08ade2e4c8e8be085c70de77fc1c31a36f50c81e391065098f27451a6445898a71ada661ad914c68dc39eeea10405d8ba7acc45c12ab30f60f5c19691a7beb3e4a873344c3b6b1c424321cd7dc36f7c049bd50cc412577ad26050bfdea7670cb9181d7b8ece04350217fb497b126dbc723ceece275b450defee5c028f765edbc143cb4f895e7fd20016f7858b0070d0fa71a495e1c2a04865b864598a3cbbd91328795678d4673b7c274ce93d05914742b90a9549e569b6b9986e2a79eae6b54038ea60cd19d6bc0b6208e3f2b42e0c7d2455bde546ef8c0183fefe214f3ee1131b59c279eed476748311c1168c70814b3f8727f4373eb1e854790eadc4e90fd1f11df307aca191325856dbf55ab992ed19bba55ef508918f951be4f064a01ec2e6f6036c6877bd2ffbdae70d75b5483c24f67f7ff51456efb11d69b344ac805284a993fd61ff198002b55456e6ba5a590039982106fd0459c79eab021d0c07f2b732f1da7ba59f982ac4121851ed6cde29e33793c1bdc334b6dbb15c3bbd88c1cfabf1b345bb2561fbd60db80a7e90b069d826f73c401512574d8589441d7f9fef7812ad49a9dedded262afcf6df7f3602dbb5c6bd30791aae927778540a220e24737287f7c2ffbb0b296e5a16cadbb50840caac56914d949de4570623b06b6418658a1121315df080f9366d20ec6056ef6a9a505d50beb4729fa6aedef4af84f9d4bf89b00b3eb0e6a2e7efe9383f956bbfdb867f0fcdf788b9e0802b50b99cee7aa5793b4bda292459551109a049c0c2a9459b61c83679d35ea74c20646f0f0901a92ff313e6004c413481e70c2f899e3468c63e72b8b55c9b3d68dd4c7f23d9bdb10e72323a3e6d1cde11ddc7065dd712ad6e9c6b9d90bcf9dbf938a3f2015355380706a58ffe074e7f86cb723d69d3e71ec727ad09f2e239ef852b6d3f247baa9d09eb83d8fd042d1d1af9fbbb341d59647434911bd8c9bee55ec13693716fac5d4babb99b14bc6bec3827d3351c1959e1b5efd05970a888c76743c4cf7cb73e0f8d6aa7055becd62ed1ac8872bec085d977d506833b66ed8ec6c39e13c6b603ffdb8ac6466083db7b9e1a21b67895ce9eb3f3350d6652445bb12402a8dcf46e155aa476d6a8d38dfe8f2136341e62080b4ad03b1f52486dc92c51d78f66a2bb0a9e20ae3872aa4b7674870288aaf7dffa4e0cc118370fd977d905795465c3f8f9cdc0a28f3ec4ce9066c3aae63bdc7826c448c125953b71aac40c1c82b88b828be4178d74f02b9470de74180e8f77d51ca5b83d6e48c520718e2c6a1fc44d4fa5b9947a8ab6eadcac88fa6da6fb026fc893c1ace48a1f6a6ed57969b961f921b722bd0145f4cbe430383c5b58e3e7d7137458a47b5cecfed132956409e9a239e1d52c0479a37e04ba1e20fea6642f20ef21bb7cf9b6cf955fae3fe61706429a89abc8c88916615920f321d0ce754da5d0c5b95d3400c9ae61b6fa8752dcc48928f10527c21cbede8cf13a45cf6e656311bf6312f2a1b3255910471cdd610cc5fb12c365790d921a10e22fbd6b7abf08def8ae662c5ee8038f569447783cd567e01dbe107eed7f2e35ccbc5f2e2aec2dd6ac553edf9048b7e55ee66414ed92dfe9b80636ff2f94ba48b3cc5196b62848a61a6ef4201ae838993b2637942ca2da626156cd7b152196b443d2d738732f778cf24b83a935e64e06cc8ce0e026d7d5e9a6576d1f88e0b27dbe55ddeffe683eada3d5bfe3c8aad9c04d69831d2f68d9cd9b19bab0f88d1fb58b8210630c969593445c5051f3754a7b682ecf0878295c92954ef290a1aa7b03dcb41772759b4c90818eb0179ce9452ab6a194bddccc02425e34797303806ab1b13635358a1d5565c33001ff3fb356f3084998b78641086a6fbd83db97dbfb0b559b5c9dccc1ba4999d1e36736ad51c3a6a32eecda9abeb25737d3d31d737eff987babb33f31966533c60e19221376be220a080981618dd1e9a5a1e714cabdc95951fbe03c546860d4609296525616a56f7924d3190f68e3e3cc3ad8cd9b8d51a98efef1bb5837bd0e89724afc8bc1384a2f2711edde4db7b193713216aa159b34d87d1389c03ac339e2293ec7321ca142ef008a3e7219a76c83c42a55bc4908323198228629e8494c6d0f83e6ea3ca196d66b86d742a8cf124d5103c201705a4de4a97d2fcae394f1835f6899f2aa0188b94a8ca2ce4477b15be6821546c06a8dfb87f671561d564b3e08a6b4ddf136a594f9cbd1e5c5392324e1acd5a47b3aa799835b9b624c9d2931c3c48434ea12030734d7266f7449ed72aba841db5af0283eff472cac9d00b9c6621dccd2af93292464ec1f0dbdefc671e01ddbadeca943230ffbf5b12fa6982064af0c498ed51b08886a57d63f479fb7549da7b90c8f9a78268574d8138928b8743f401cf80872d2114633619d0011825552b7f61f04dadc693f754c270e6e5bba51d4eb99a91d0ba0980a435ec19136caa266638cd66f8c640c2fd4b1c5d96eec25bcc7028989b53e10a6553e80832dc0f89c2356b7b04ff52b140d720c4fbac247d1d22b0c9954d7038d5731fb623f9007cc9123b595fb1b110df7ab3b4aa4f073bc4fde38580b9d9065061b74cdb732dfe39c008bee4fc29842d4257b4f3cdf85bd34cc6543e9dcb581551a1414b15e365acb77bccdf75b7f0ebfae1c010d9529fe80f486efd8c5d7866ced7799a5cd6f8c8993342410ee49306d48e0f8eacdec3c8e8f24d4910b33055e97c48750637246228ecc9fb2e3e961d7e6b35e3d1eb4b92f8c107e7f50d7fe29a93cd4b4ae887bbdc31cf263ec77ab98c72bdf1c4511f5d7d0c474200b8001dc8bcb7a8ed1d71d95eaa6efb84ea9c33c226e9d8fd45e5dd94ea92d92556a3502424cd23a5717ac93dd9aa6c113fde7c75f268e0a44274b4f8f44a27116450345694e732f75f637914a0e8c21daa5cac23f54cd7cbb9e7a48a7db8868c881edaca08bdf7e99f1a0d4226fe3bd4474be3690f0a269ff59b0d271a3285b30eba949b8ba1130c410f443af00a7c5f03eb1179344d3b7f3e99565cf79799ff0290f8fb3260afbb4395f36690e9fe870e0dcc7d33d5a3bed2f5d9d2a46c48406da619e736d8411a8df63c3b4d27e281d6483676e0fc8270cca812750656a316655032bd2ac494d2bda2a0bbc012cc75e1afe3abbf08be6351bd491a2834724a8a09e84b227c5a73981727cd77cd2f2d307ada39525a34adc19728db7596d45c10feb33cf585c97f6737b55967cb7ac0311976f3afac6fc2d7662d696a0c97487ed90f35ca6bf561316e6a8e5205651e0a3de2f6aefaeb9eab950c1926e4eb2d302219562a212294f294c49c3838c2aec99dbec5eb360e37db3969933d120901aa819be8bd774000118559b180a455fa320721108220c6a717272e71efff041508b02eabeef4254ea3f7bd90fdd0e437446585cc5cab74a0734b6af6d9767a825020e8746f1a12dd6ac9ad85f3b6dfa0b2536bb6018bfba83ffa4ced9ba1840873bdcf109e59bb5f6c9d23d6097d7eb730931b9fa21795fc425d8b01f09608aa0346b0538616a8c4ffb6c8a9b4f727336ab24b21e1eb60503351b60f7f75093137f5ac4c82171b1b4cf0508582fe6c6d27fee3d4ec5b5291557cfa0e4c3ede6be5891fa393352f4e6b503ac154ea8c51c670d9877a131d89799d4ea5501033fd2c03dca73e585631acd75cdf08c8aea0bbccb98f559172317e98435b1bcec6bb63d09ce27d114457c38266df28f516e0e83a43ce76c39fcb63d0f8253d095818e6682abe56a9677c724ab26a1099cd42bbefe37f0a85ced98fc95d1339d76a2fe8d3170f94eccad70947ab642827d538c9957e6fdc6127fdd23b07d30a28a5f4a532d757301ffd96606a2c1e84587aa9d3745151b35af6cbe9ce59a53a1125e359cca5a2556ca4a239c1474dac0572c53c60451aec80be28e8c360c96ee9363fb8d6aebc1869caaf4273ea2c43034a254e1444b551012df241646fe811d64942c38d5f20c16a6f56ed926e0183606c6669509ea48a8ceba0a05016f8cd8fb769dd4d9f40e56e3889f5913aa157a26bc295baa43dd69aa2407ba40f9301772f941eafcdd22cac1de9306b88c20d5ea445547dd734bdb45b1ec73c677581750373af10a23401048f716d04c1f98086baa57bcb1b756cc0d4c6615f203ec2c62a36c8882e83a8889ecb733b4cf1bd596817fc75f0f50ad49eccbb045a0669a2822a814dfe51f288e377e2089d0a2272b73745ceeaccdabd9c2c67c1b350d61210e987c69d5eace7588ebc4d532750efef49f5b298a750f20877055b703d933c3b60a9c8145e86fc0d56b54329489cd5e0891c9f41b69f27ff95ddcba8992ad3d631e31e4edeb7ffa3bc24929def09406ba9dab7f030886ec24b01a4792895cc25e182be5ef81e55bff04f4ab9442c9ecd6c0ff1f2278e9981989a5fb3bf0c60a6565e112586ffd6e64bd5cd3566123cec8de77bf10e811fe426b201ae84b22c5415000f047bbf0b341282cfce417be2350ec29ae0623a415deb5b087a3261c549605d4e75f08e947eb3246c06912e440d881ff682c4cee3fa69b5a9425723e111a70ab291e3bd2aace2a6369cf305f566cf105b58aaac742a280cd14fabfa771261b1ee1bcae6ac6d3465ebac857036e7db309a501df7932c97017e463d22c2b73d9ef20945b13c8389d31e588009628f29e50efb639a31ce98ba2a6d26231a3ad311d20c2d0f306cb592b6a2e405e86f4a68dc94d950f71e24d53a284fa33604986cec5a97f8b7ff0b0e747de5083b602d6ef76b85d602d4b7bd21c56a89bfd80825a35d5a66bd43942ed008dd25bdbc25707c037171c2e474437abff15308ec27a8367744b3f3be3a6ac081340d222ca94a58299831db9173f49afa4745d4a27e0df2ed7761a6c3e10e7021f5bbf263dae440ef5c09a7d5fa649ed5a0ab08cfda135b14c305fba5dcf0bb7ed162091ea437998b6add6eb4ef7ec72bc2e8705dcee3b644991e52cf8aa766fcdf6a349f1d83ed2316c45b92faf9cdf3a5b2a4dfdbf8fb359b94f493d3bdccdccdb49cb25cee3173bc6635547b9264b5ce308f3939198da8c172e39b7cc99a2e3fda09636bf6ee35e35c63f5af0830197c896047053c62d942f3bfdf6a8e0aced211dcb73e5b9653b106039e6c3066812a8698b4918522f143998c146f970695922512333c9e13b2914fae7deffd23a8f9484cb318f0483f4f3a3e7d2ca73b450cf9d833be0a396d8c07d193f26b82f12531b181befc0e133f85caadadd7a83bf305b6679facdf137b4e0eeb7869e0680fea8ff130b20f5784ed1de5c78f6da38c5918c8b99ecd7436c39f6d55cf1da13df67ad8a33c797c44db9da63c9e7f37d9f37f3fa7f0912b93a442bc74303d5c0a155ad294301919bbbc16d3606789360aabf6172a1415845cb65dae194","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
