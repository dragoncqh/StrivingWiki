<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c403737f2ec75ac7aaf5f96fb9205ff1e7861e3788e0e44d7844c6ecf63c88b7b01e241257c6b4b4954f5d2c7d5e9281f8bcba92922b9c06338bbb1913928c8c7d8d2c466dee81a048bb98fc043a94dead639d83756163c1bd25c41f7d3c146505083e7c5604bb6b4250a8ba38e22c60ab2e756b9290c40ed7fc0a17fb8fbaffe5644b981a7e9d35689e2916b7ab566b64c521b480980e84c9f5ac7a8d239b72c23683489debbed73c00b0bb6113be6d415251125d55212b84ef5aa48cdec1a6b8faf89c6ebd25a13db4624c58269ae7417b9ca3c30c49d83511e295bb2e3c4894ac9ae531e97c1ebb60960d78cfe6f34693a0f6196f10d8ab32d363e48a401db9c095e765d8d01a987935d1ff0438bdd252cae9e30e49975dd1cec4fd214abc6e47cb1334ccfbe3679a50602abc11c29d9fc0841b32fc4d63f378807e66fd851bf465da89adba875214081738c3db930b671db1d0a1908eea4c3822f6230063d436d39bfe375c7cd4d1f87c0e4d4ed3cdbeae3cf1cab1c9d5bb0f735430565d372fdcd423e60f1c4ce83c8584277810c2298bb84cd6eb55789e40113601b6b92a5de23eed14d9070b17ff0ab61de75b9225c82671fc20949dd3a0d66717dc3a14c7fa8e758b2ce1cb3d92d178d59e8a9f4733cea49639a82fefd40505a49d5120c48ef5ad098bd79a3f966f7c2270b80b59bc5c0556681ffde77c6c89603db43fae875729bce9b753aedc16bcc146f147874fd39770c799e30b693777f41152ea23f1a3b65cf0e6d2ed1a172335b2ae3ea53e413becd29eac52565e7b4d814617f0b6a2cf302b8a88d8cf483962bf32e223e81b8fd1a74437fa343f29d84e50257f136c7fa07bd46e60b034d9432306397d43990de3cc7c9ebbb91a5783f7259ae1325b3b2b56daa18d297c5ee478a673d89774a8d501f4c3f88107d9341fc747b3aa346397b63689b7cbac27298bb6bd3fbc01ca2e2bd5b731a2b919a87bf812aec4b9867272d87fe923eb7de90a796f11f1cd7a3722126aa4bdc3f9835f241c745ccfc501d473104de47911a763f2226fd4a21c47f1caabf29afb3b5a301032c9c4bd133e0e6e01f62ffc9f494028ce8dfab8453c27be7431fddd73a456070ebcdbf3654c02178d3656f7f8a8bb0de1619d507423d788e935baea7c288c0af55e9c9339e85f1462c215c4468f00d3f964a0c6a1301b62b72099a5f1c1a97e6e2e16250321c43ff291b3ea8dfab4ee7258d7db60d718a4099e2b0ec09e3a21b6b90b41f15552447ae847edc6fb09329fa1b133ba103c74832f16e0a0adb934ccf2cfe80f267d1b90153a4773eae3b77d920fe8fd8ded99ad866356f5bea8b3f14a27dec7a7ba75b70763e2263148b043f51501853029a1ed4f7759bb15ca2e74af2cbcb52a49f808351e1c196c51e7acf0d5161262967deace3384cc51abb1e8b67f40e4d2e2cf205592a8b7e21b076c1c0dd8c2865b2082c6ee92d714ab20b03a0b8d8dac7644f93dba12edb230cbb9ceed7e2b92a40beb05cf051e2e3968b95ee7f1d4fbd05951f4868c2b727925e72d8fbecf3df3da6d3f935b0776a693429bb8a7e12cb0d9f6b98fcac5759f7d9797851605f760b02236fd68ffd96e5388125d3660b100c94f1cc54e4d51df69ec4a26e110375a7a3a542477643b4b2dad187d4a258a158fe2a06c685e288ed11396ac5301b55c569da4b69fbc27a8fd6351c74a1fabbd5a5a53f97a40aee439367420cf1d6388247b42dc739c06ba8e621475e6d0ed95ef4e70dff979a4018da0f9d0ebaa84fa31154fc5990ea17689cbdefb063e7eea962f7e52c06da7964ee23d3d3ad61acdcf489e0518ebb41a34c6e17862dd30ebcb5636f13881b175b731e405661e30570d80029e147a5f0a61e1af291fefd37237419f7116c054102a6e59515a8c21bf41b72cef06c0299d2ed24d7071f8a18391d0a72a72637323d9ea69a664d7737a0f2474394a985443c4b3dbbea81d9d62558526f901ac412bd0db528d9de6ae51a6890ac51134e66fbd67a05488b9c41d95b12c2e27ecaf8b2da17d7c2ab523b43708abf59997d7d1c9d7e42bc2bdf0bb2ff2186e0db0312d817268fa2a3f978b74e3b8ffde5d4a1af8a3355cb2b24a2673d08b823427f00cce770003cc3e6ede7a0542476604498b341f2d3a35740353dcfc026c9c9c8d83fc449e6c8c1beba7e3683821a278d7d0d312a01bb8355f0dc88f5211a374314559da50ceca225dae16d27c7d49587aa69a8aee8ffa6c412458b407655ee7a7b6a3151d3487e21a1c973b982ef588dcd8dddb400d44a77c484bde16adf8dc81df5d832ff85a59eba401806ed9e1ca2f375f97c9b2daead8546179b792bac5fb02377adf9590fc2ea746f47f82b86e7d50033a36189deb8c9a065b2bd8ecb12d1e7801b7fdf8d835a735a4c637d2bbe3f8ac1203745c9d34e459fe91109a68e53eecd63a29e0c6bd7094e19b669f51cc39bdfb878c92d2b17c0b88178b8c22cd2ebc7b523f276403f753e9046bcf70aea41751b4a04878b95131abd0ee250036d6629ed2e4faee594aafd684948d696b88dcb2587b3335d3d7b9f72fd6162bcd31a4032961a0b65e41fb2aec8c1e7a24ba3c5fe7cddf200e3bc238bdbd3d4b2c3db83310ae3289a4a78da51592094a6301235718a582ff2eb888d6df5595a350b18d9f635f99dd93d8a50dd58fea577b0cc17940b353302dbd76e8820e76fb3aa08107ee8fc45e0804ad9de52e5bb82c5b3421c6318ba0ccd900f06d39527c0bbf4399825d699db78085054dbe929d0ebb2c0ff3e24dae1980d67ba54ecf02a96696f0e0a08a6e818f87951c9c8f1f844905ed479dc735c961e0b98edf45087bd7be6a7effb36f066266ef77dc52c7b03c547171c3dbf29611db8e97e96162aaed4bad30d5e5fdf2c270c8cb85c10d744c2945294162cb81aa40a9bb9c918e72daed6f86a2a84ab7cea20970a628e2e99d97a9a98b4164f9e52bd74815ecd3ba510f5ab530b82b067b1703af95b1737474685e0015982a465d92c7e23dc1cd9ef871a26257a3053b9fffc5d8daf7a131265357229c14515c7524dcfe2c5be0fed6cb701717ffe6c6205d04a506be896f0f96fdbcc6da49425207ba145d967b17f36fb45998856955fa1cad37e0b965abe22a58f1bcab7b555cfe090f794aad5d22b2ccd32c638a51dba4f8b1bc22c09fb57ffccc12149ff7c6098b63c599f11a6d3c0bdda1331edad890ec77478f13b66bfb97ae2d2913ad59cb9094170bf049bc909205af468753145b8eb11e60d10f0095a27a27e1197c244c32587ea9bc9a6e83c5fbbc416a971fb640584b916a93cfe6e0f8c9c9196f9820115f080073f16ba07e792707a244501d4f1f8e8d3b343f8234048e70cef06200229be00da516aad9337ea8ae55de67a8297161c17927c2e81c8eb7a3961f1417a7d1a8b4d88950bd94c9f48f23998fab75ee81a86a8eeaa87281ece7aa47959a4a37efe161df695e9202b2829c51ff5604393e7bac8f795c09858d21515a860e57af735f2a16f4e8966ec822cb61837334043b0b269c7fd29a1456167fecb0946a3dc92e27e78d8536f71194e16f1f2e342a3d54781f0c9d51f06c0e101c414a5b920ffffc747690efebfd49b198e734c742b581312d2fd73d124a8a63b734a8a250ff3827d006d9c8433c0ed03082766945488ccc9e021c2ddeae999b95c1eb9fdade0a28dd1f0de93cac2fcebfd47243ccd1cc12becd6d9b24af6cd5774ed29d22390da7645c04b69fbca497f45ae7b8384dd12eeb84d2268a1e19e3f53d87110d09c0bb7630eb18e1ab0571e64770022b80b636e2babd4214ade903402053ae1ead2c95f5913ef94c84ec0e0893482127a58228881c541ee915092c3f0ace8867e5fdcc1647b0a8e1829a283ecda20b38b272a9a1797d684b98e5436ded5c4a1ea05554ba6a907f077b2eb3a66e3b84551328e7e84e7f9f7b7e4e4907b6a2713bf1f26bed096bc466b568e248e396f3d943e4fc521bd578da9faea5de0c453dbb047c3fde674b4470f098bfe5335097c3b73d95b5c366ca018b792cfeb10c52115530217dbdc07bf9bff9d39b0c132373537bfe982b5a66af126e32f14d2476b8e63f4f71ce9708d7c6c354b7f92fcd3a15e57693d4a1f8d041a0de9fc6935411ce5a3a7b0fd7ac0ddab54c978b48a65310f03712bbe951ac863d9419edc3b063d533e41b1758d93205593f981a5f9e4a3d00feaa9196b16702659e49659e9f9ff065fd5c0f2e7de46413007b78c49d1a30f9899ac2179a3b2f27d46aaf5e4f4690acc2405a0f2fbf113a3a2eaa2ef418e58149c3d7bccac7b1bcb5be2a6f3254c5377795d332d4bcb39ee4470a4198f5e1fce07178b7bf8f1082ea4216c06ee0ee432fb802c06eaba3e06a88b5e25d1c39527701fd634956308d17b01d08cea6e67bbb29418026e0923b81ff8b80542b79389fc1448a6fec8a0e74000cc9f1e760b09f3c913d3f6cefa29848446690f8ed4c1f95c00769f537971b189e62085341530e08473c4366c6fcecc1f09a528001f923294ce4c0dca361c4599eb24e351d08468b5e9fc2b8aba81eaa86798ad7f28e220a62f333f95453c7da9d42be4781cd041fe5913a524154f34e0dc217c19a88095497d9c0bb7c32fdd60b815d3d90415cdd801949933d846ace2b07c0f94f038ce3618c18c568226898adf9f5dd93ffc4fc0cc3c6026e7cb590b3874c684d01b1e8279fe149ad7b73ff9db3b5d0fc2a94290418eb33618fea4e1dcde22957d7542376dcf6f1ed92455ecd19170261a76d7d87ca2d7ba5bd53828d929bbda68684510e66c46ecfe187ffd8e90149eb6696cc9d1cb57f153eee50073eaf7a76eab1a1a05dab5afc06dfea3d07b70cb25cb47fc6b7c9e7c0632c7f21a938c88e796febb4595e51cbf7c86d93935410fd155ecbebb370d7c4c6f03e032a5e10ec2d2a9532bf112f52bcaa3c7a202b14c83ffe4a60c2510d828e2ea7d54ae39321ee25ba30079fa926458315538ef90de5696870d93881f4f9bf79a3234f7aab003e3e5226caedf3e4d10e60711a5fa662e386e542d0313d12635fdcb3d39e1895d68ce1a9bf4b2157a2112ae8a34e79caad294766e6d7149efe847149e7bb6583f6f02f5d49111eb5e3ff741007c68779486d8a9e4fd7f8847a940e71efcb26ed7f7f9eb876174d849e820594df6423e77f0cae170a633c276371213cf793b5dfc8876d0121cd525b7b8cdf5f09c5a1f4ed748de52fea3646887982797a78cc361ad24145e11b87e8ddfa9bc147ce3c26c9134c198278d56be5b514ac1aa1df3a9ee15783322709759d3a513c4fd28ffb311d0f3eb68ee4fca45a54ca5e0cb9ee89f9b6ffd7dd3687e3fb4070c2fc2e285278f55fc20e8cbda0e6ced6aebaf5ef107c6194715123b763eadc433dd55b1ef0f62277141b0895dae9aa34fff978f80dff653e5422dec04facbed9b54db3994bd7556d2aab4bdc4bf3b613d443e37aa732a8d547c389491ce471db8ae4345ec89b4958c97b9eac24b580e8ed6a45897d6757a38f0a17589a3fc226d76d78c9e2c2135971ab738752a264dcb81d409512996fa315dcf27ac7f6b5939bfebc39f33a228530f6fdef1a75d78836877a08b975d6741bd4826fbc65a542bfcf22dcea66f03c3d02b894b75ceadaa76b3786f97cc3cfd53487014f026b171cfe6b33f78d27ef1dbd715665606b0481a12ee4430f632e267855da262314c2039a04c563b1e5cb4dcf0a8cd8d1b5d8e5823435d6271309826009a51d5a3799ee003cfaabef9646f3ac9f9770635705b8ad3d8d98b971fea8a6e317c74fccb288df566a84016b20694e2d3da1678e986d0e9683e013656f0568fdf7f27888d7bdd13db1b5ca57ef0bf0b46c8bfc641fe2ee54f7c90561a84dea35056da58ab3bc81e7fc6a473875fed03f00bdf513ee512699f60c1ba25742731f6d5738fcc55e30f6715daa9420e11fe163714afa2e833bd2654cc47b03dce2a14e5f13f0a154351ed31102a22834249f592c1b85402ea12346a1ef144c5792c5d9d0428071558137f5e3e7fc959058b85968070d1b07b13e71b981e7d2b79560cedf707462e172739f4352f2005a9cacfbf2115d5a8795ac876b359eafe0b50b578951e2e2314bb6a8f60d5cc36cd65961aa959dbda111dcd9a8bfe7054c6f6cb23580907887341e082b84cbde757fd502f1091366abcc871656807806f9e9876df499b15983dc87d9d0489a27b0c70a925bb41cf9e221a20ceac98e651bd7e3351467cee80223f554cb120b2273b5d9b85b78deb38b20d3eab5d71109cdb2a928e84bf90a34312120a98cc237f21878d1ea3f48ab0a9f4067f362c9974789436976bef626df21bc75d7e78019db2d5969c7a41dc9ca32970cdb84296f6787c2d3b46a45da313c28a99d9c02b4c3f7a112ba324a8d337acafecf73e7b4fcee58bcce9a05e54c0e6d6dd6ce9ab7bba558c59d8d6fb31e62bcf9d4c441b7691b54ba45e676715112e8f6e95cd03a7108f4c17ae2ebe99b2dfcda023cdda747ac3cd4405efe3448f9f21b26988cc506c4c8b7a7bcd18022b5c888e86ca69d93ce2814b487a5706a4a6132b3b22a1313b25b4ec89ebe75b07a8993a620fcae0ab90decf0cd22cf0c567b373278334bb7dab7c614293097d99d4ab4e83143076218cb4394049af73c10f6dd2cde5feb8d61422023449a2a655409ca5db9613023a44ee0de4473456bbb1d17be71180b2911694119de7a3eaf8accf1eac46060069244c03b296e0abe9291b5c528f725c6000d335117028a00e59dbb2592832a4a4f49d0b2ae9cf952763511b38dbe5d90015c6444ece4dcfe8d4c6e6768c95bffe0b7c175e6992f585561d38a74afaf20d2682ee80c301c8ec49dc11d9c9a4fca60bec4fd44d16d8a3e8711f18a969de5a0260fb947104b6354ffb5f14cc9bd3b9b620b86a1eaf912c3f167e601fdcf26cbff47a798eff6c504b47e25c8639ca7d6dfbcdc36dffeecae7e9698479a2dae7a2d7b670af0a8872daed0f808d5f6c1260fd9004a7324cd8496929cf099ba715a4da5dbc416096da709d1930e7be5fb189979113ebf9c0241aa75b11394c5f86d654e7f93c17e0e23c64a1292185fdb7f98751b9a3a6415c94855d743da79967259733807f1f0d7b9f7b070c5c04163b3dc71f340dfde000a605bb14ac89cb02418bc33cd7a7a397ea3a88f9b4a053beb6f9eacc1d0c3cae71e18858b7e51215505d57f03b4bc593faccc06616af27fed62312cfd70a44110738d1c82958ed83ef3a841d83a92e57b513d56b6797c0717fd02280c77e640e952707b19187e014398787fd14898478f9c0a782fc6c83881f43c88edea4a642fcb3d66466ba5666d31a998146c94bfcadfddbb39740703518eaa220bbc9494619b7dcf7326fd1eac189115458682195ff4a8d907d850ef5adca81bdf04ee09da5c08c371a0a9a9a5e30af0bcc6c6fafccd09de71dc065af6fa674a7ed86c711b47f853e576d8b94d3045d9681f7ec3c20a0c4e79cbeb36460aa3a932958bf00a0d09477804192a8c6579464514b3cbbf0955d1161b984a837be620bc038cc8aa13c95b5542e944a611fc84dc5d49a98075d513f2d9efe02f19b29c6a133ccd122c4d8791adb53dfb4551f917a0e7a5ba435a62eade8ef692c7c51feeed5b04bbd99e3dad69eca3b003adbf786dd3d0d7ba74b549ad8b230df96e1b4b557c16af6e06566a8a2d20c19d8bed0c11b1cda3f7780923f4f0035474b8942f484512183db6fcb72576f1ca09f8e388ba73683067d0392762c0e23b0f3917cb2ff13d16b59484e79dfa410e03e758d983b80575793e213e035736916cf2c57185771b04594d2edef9ebfa43e722bb3fb8322d901af3a78852120672ca68f13121527c6a7434c8af5c7543abd98999664edb8ddb3fbe53b9b41da06e676c8aac1adf5932b9e2cb2b66587d34e872311037b2a82fb9ac18d998ffaada16b5a137912c3a73259cf0113e9894afc9cf3858041640188049b92aa396a5262214a44bcf53a2e129d5c3a2badbf177783df66727cf5b30c34b376ccd0312f82e10c44e3579294553517236c7e79d749534db785064907ff9919d9136b69a917f0e0c1a2bd9449c2ad1f44dab594ae240f33176ace7db95aa26e4e0dbe12a6707646e87becc64cbef99ee08b69015a604c91a562e6f02e1d72778feeed980a69c291266c5f8504fc81d1042341709cc1156791dfb374eb6890550c3fc3ba893a19426a52367096c0abb6511c213041f5de3aafe262e8c33eca5609002c099fc2163402fa8829f0b0500e93e91924eaea6584f9da31f937f90bd7ea58491df26d653ac1452d6043d3b48ffbe919f16377abde1abe11ac745527e1e335555c3cf9f82e2703742260f9afb6ce6f0b4e390f5ba364492f090ce7dc331312bda8ccfb64049fb31ad903630343bff444d5d5f4303ea22b94f5dd1385bbb68e0e75482f66014511e015e664033c5200d98e7b1cf23ca0133a8d9be3ada16c8d3d5e738b036e4d89b92dee965abe02234a95be3cb742f96ced6ec11bf69044b99ce9006527a5314320d2c0163a69076195d1df0d6f24e910bd86c4d3236d16baa98858ed7737eb8db2448f5b3081d8b2a5c6170aa6f4d3767c9e6256aab777ed40a800ff0968834d7b7c12fa8669392fa6161ffc6604f03e4c9edafb80b680ce9cbe730fed5c895b77c5e88623a2859c285fc8e3155ce9409e8c96db44e6e47a5968f2348bc5c0e5ea6e9202d25fb476cad092e7941625a571e945309f923f828ccce6747022a417754d6edfb6305bfdaaeb8c31c1a3afd11b958233b5c0767169c73813803414a68b0f3f8e9bce1af7236632bdb03649f600a8357c1c17ec7d54c61f3902ddd6c56dd51385f6f50124b29278f60996f3c2fb4da20329ea8c7606102b069d61ed46d35b3db8880e2b21e3ae93097ca961d95a535ffaf5828b5f85e84b423bf0fb2f97df8093d41097e6ab5d7be4ec21876fad0534888d746ff873c838103e46b2f582be60a45a6dd99020fa84c2ede9240f8efd5a759f11b05e2a9070e58b4c45450d812d855d04a7bf35eed33337cb44d374c7de853c9e24130167851cd850aec4ecead663533ab69bb0e8327f73b6d1d6b65984711670f2540167493dc56a6ddbcd89ff3054d75dd42d5962e9853bbfacc98588a48513fa0abf60e7b85a01370b42a8d9fda2fc78840c1f21f412ef58d9a0aa5c0de2ffc29fab13ca3de75f5a63cf269058d0cd8ddf4cc46723c67f865495c4a1aa050dd250293066226451188178d89584dc497cbfb0de5e40661d2b7c89b0e240227db3697fb321eae1514ae940acf75eea51f48cf2e3d8ed69f6619ef5fd643f1528190a91e80c34512583c220b103fc8aedfb5d56f91f2d739767bf94a7f13f912dcd1b77fc61414bb2336c7fac8167b79d72866565d284e101aecf4d2366ae0976f46358eec64eb3fcf4b4b4ea9243f1f5489ec1bddba0ecde31bbe8ac8d506b0026a56880887043f655a3bfddff634b1cb6c6cb631e6cc82ea550c4d917e66e9120abfea8af93e6b5b66670c235a3de1150126622425688f41d17476894e636b9fec2b8f7d4655687b26c42be028aa0e81939834ecf49aa166b8e7d94db89995a28dd5eedad5d018b330506ae16cca54e64f2e17154d03c93f262ea64a9a3e0d88536e01b6009ddcbd12e55a40f14fe95eeb88bee4607388ae5459290ea7635ac8d4acb42d4dcdbc574833114fbf47a4c85c9734192bdf21867d8a533e24049542f60b9d2fd660482325cadbb2c75818347592f7b6bb9e811c9c882eec1cc57a8a714058a5543686e49a9b5034b22e8067196486f27af3c6817f012530a33f920f6bbf3512cf72ec571b12da9d0e2ada56bf50364b5fa27f089ed0f8831d106b8ab592a1f4c3601f296631a9bd2c9255133cbf2e8e3f08479e127c1c807574455fcc277bf86a2a2233cc975bc4b09189e1e36031567f39a0bc11104cc583273d9dfc6f8abdecb3baec369c4d53dbd0884e0b51e3746f8e42798a5d8d374c025f6ca3f810c0a9b41d53bd8b9727ee408b20abf8e1c307fffe7924d3595aba83cf4e702341d3590d9b99a7320de070f28cfece81b2edea857f3b53598515340e51d0941f231fb9246279cf0d6f69b71f1c9f678c55cabe6f655b6fff48296e05d346a9a7600a43638747f34e857ac94be31a05bfd2a86fc6f8b75a145417e024c6fcdd76be57fd59b55159fabf2e4b1196299e1a8fa63f8180b8889907237d28a8cac9dbc210aff43c329c6fbacda010ad10c9d8bd4fcd7aac40633e5041704cc5ea8697293422ec775274d1aab157f0e15883c158db794a98637a2680e9ae80462931bf3d566262ca2545d0f8c2f272872757b2dbcdfbde147050b937fbc5af361cce58cbfc0a30f581e8afc7c6b612a693167192aa77654710f78b2cfcbac3badee033adc0a32da7a8fa9e9e1c245be6a756630a5c8d24e433e2f8cf02c84843555b424fd86ea2a7d9ff145c1ea3b4201477a2bad4bd8fcb3eb513e73b0107d36da01200e7d36c117b5f41c39c21f04d7d76ff38b292e984019705f510432a58ed4e45bbd95e7895d2cef598cf5257e07f7e53d2cda64e53180f3698a70789a5e1384e699b202a459ad7be9e32b6ed80e2edb6cb950fc7aa939ccb0054c0fb177f825501625fa6f77892f094e1f10dc1efc693531be73ed639ce8c777dbcf27de2d5187c1929797fdf196c4d3eae63eb98837aff672c80650b9397e7825a29f9182b34a5d3096072ac59a8c9fb28094d60ab812d050cd16bcb9066ab942fc808cfbe2c840a417dd46d583085305a2a3420706c7487d4450da187a878472e7beb172724b99f3e748fb2a8a31ba3adb615138001ce28112f4eaeee00816fc71fcbfe26d6b8368450ced6a9bf1fc2177174e00230c6ae37d95d21f43669a439d19f0f13d22ea23b414e3914fdab842f3ad67815365d044feb9669fda4075bb192d46ccf75c77c51d9f59c7f88de41cad6b7aca249ef7f9b8428810a90ab436a97d5c9dc9f38056b36c7fdb28718af236289b2d0adca1370f12c3fff0d925f73b767150bf2944e4f8f2ae0e7731b4bf539f188d83c421d4a05dbe0486a24863fa6a0fbfa318adf2c2cf128989f210e3a4cb984fdb8c54b5704ba9b123ac6bffcdba769f4d6e7dba026d7d1fce42d87472be891fef716f85cc896328745d3e6419f11befc7906a99c0bf344aa4df7d1911d7ef031610518ab2a98a86a7d1d7a2bffbf8d64863f1b8bc5882a7d4bb16c8c116d2aabbc8dd9eeb125ea251665bb7c7acd2d5b612134b228114c913be1a98ee8a17029db5b7e26dfc113d8062dc871ca3ad69d7f4bc0572d14b806dafb6887e0145f79bdee58fc3a6a9acc59bdcc0fd135e8b0e9362811e87cd79d487f60335278ef41013ff72e8d13b3492e502dff986587eb0fed03159abccf843cb8b822a6ab6f6f6d2bf5685f6cca8bf4bf7d921b0aa999b0ba013da5bc2dad7408f97046635aec877d4891f9eb305dfe5f136f5f2b7374f1be6570aafda14b0761bcbd1495b20a329ea12a5d990940dddbf7af1ff4c1dacaf56cd3c5559eb360fca96830fb3a46d74693e9314df5bea6a8a083d4de2337677287945aa3dc4b6b3d9344e059ec1ed845d45617c53d37399c198e76ba227e5e87163933175eb0427ca5802d1754d85f3d312657f0e0e07d75a7119fb5282e1a7dcafb545dd1689185043849fe890b788372cf3b77d47aa05c0bb50e0aec9cfcf1730f255b23326554936aff5dc7ca941f30f20873285b562118c51d105bc1e6161f617bc0f30e6540a0702a60259f870d849d0674c7cb5429ffbb2b0ea40c8831463b1e92b445ca958a79504101fea3af0d234f4b7c3331d0899e926230a5ad0969c9ab856df4044b722278a19a773f65934cf5ccb1aa3ea344f46029f00f149fa3abe144eabea8d923a5d529756828519f84b24ad666275df1b34e552be0a2a9d88bb013718f5f01e6cbee830e025494d355bb65cfe0b1d936152995713e64ce4050fab04b2e33d238951a5ab359b3e6c750406979bbda03836ee197b516dd8f2195acd6eede45f8a08dd51721da8de19f0c57bfa1d6501d317e9f8286e78206295362bdfc513f19455c155fdf99e54fd0c1eb27f1057a4aecb0c6798c95a56f578f7308619a2d6c2c02ef89784640a8d3e6d8a035d4c6d2227a8834284dbf6ff2ec3028004ee593cab21eeec8940c3e8dcf9fa00e00d277d5d611b75e7a399094022b8df5475242f24d2adba87d1f7521d671e7fe626817a508168102ae9e2bcb52ebeafff560caea848f372937dce2214a583fbb6f4a3bcd52b9ec971d1f3ea244e0ccb75ba921dd91776aeb75ec4c7d5e4721a3e824bba2cc49ecea8245c103402e7d3e2c78da0ac40cfb8596dd1d1277383ace18e2703f3d7d925dfc1168550e60285195cc46505bfaaaece890d1e6ecdd2df75a7fb4d06adb6c8708954247a8aaa261c07cf1868eb629f37a11094c34db61b29b6630e86dc75a3958dfc1c0f11b940daecb58411f4ee775eac9b95cc7a7202e97364238de4263ed96a9159e835f4b84774d11c0811a8d557bbe78c275c3a5e9e1276e61a5c58d5fd926bbdf5da6ad19486b2c8549f218ba04d4f0dd9ceaa33351b70c064c529e8e1e8ab17fd0775ff325d59fe5a19ea4f8be79cc9f131a41e1880bd66689807de810a1ba54c925f42703431505c6704c51ac1a6e8691ea8e1179da8e93ae391653266360c099ec576ab00c1af0ba48d34e2963e0b1f1f7dec7df086ad336a90fec16819e6284c2e5afb3bc63b549474787f8f0d1d89054a5cf0544bfc2dd372a6167c3ddff215573390a7c69d06692c4a70e5bcb7cc4010c80ca0395bf0de349a9ee7418ab616306a16df88a6b7a14b57ab7926c5dd427a0147451bc49e36713878d2273ae6bc46b952315f58997c04daa043d9c3361ec3da62eb8401404e5158996209a13efef8f9425bc498040000b3e6c85adee5c16a5b00741c8c1023e98a74e3f5ddb36461f7f498fda06508f845b8001d824f536ae3f375a11d62993fc8181670800bff51e799e8a207509535d7b93266bd9072be34409e7942a72ecc7b0c6c85315dd1d53b87194652f0d2188209e66162a0962fa25195661e11d7d6a93f2d5717e4486bf3af3dea0970a10d3126c3edf948f986e7b1a9bf7cb8937519693a680256ff6d9612385358b6e2602b9ae9f52fb8b32f11fd24e084f0e12d65914115291e7b6bf1869f4fb013c692abb6d890f16719eb228e2ffc1ca12103dc3ff47b6b5716e32d51403749d5dd5b4f422be58f322d2207094981aa1cdaf8671c146f22dbda32592233fd1c4e25c5492a8597468d9e0b0b76821ae56476057ae4a0d6cbfa61edf36eb1e15baabdd1f04c1a5206abad9c1560564225aa5ba5284e1c08ee9aa52309ae4faf0a659b655c0e6f00716b698d773e896ae1db82398d78fe9e52214af5de3b76d9e70f942b14d4bd3234fa4bcf450397fc887e40925b662c0dbb015033b44c476c66857679359928ee13dc718215b89219fa6b47d8e93ad886006ace89022c6e20b8f9db8dea9492e11b4f4a29afe1987d512077035088fef1683f9525ed0d94746c7486f6b611a806fa65cb691f4af76afe6cf81ca9c0159af9030374166a0551e152f9e8d872a491a43589772662bd5e8c84af0543019aeb182920ece8964621865cbe37f06a9e011f12be400a45773d90a9b3eb48c542fde1a7ab4b86fb98bfa1763d2d8855cc1ff75e46d4ee898e79ba0e1642ce8fb9093cac0cfca7ce0c574406530e5edcd48a865a8860fadca03aaedd04b9490ee0bf691646e84131ffef0d741850811c968d188327a0cd6c64a1b2f85e2c78464f6a0587a5f3078f28175d37411fa7e3afbe2f81461fa2c4faf2f30024675b45654eabb210365a5b7c1a2acc50443d5cc9db3e2358eba8bbd3707025fce8209fa429a572f5cacdfcd55fa120eed4a22e2fc32cdf61856280b867dc77201e4146047adc642f582625c196e9c5d34b7c7942549e9bd5c3e8e1d0708ea59a70c8d9881cf36438fb6440bc7e496ba63c8c1c5f1fd76a0f2c7663ad4c9e88082db5163e116904328cd3ea43387983501ffbf5f8f783eadfb313748e03fb17b35876764e149ff08037d2f3bff4f0a0464e5d78af11d492fc884561bd520494219fa93d4883e2c9479b67a3a824fd313aa5dfe30420a151f35610121e28b109a7155e5b40d6fe4cac7436ef1ca2752c18cb523d0038373c35fa3f85d81934f048cc08c73d8a39340d4a428edcc1f36f83ff0d5d994130e345233dd34711e274f454c01a5791f6cb111d461174ce03c175b3ba04043504ccafa3e2dd5575d5bb6cd261b340f1448fe77ca03ef2a1f73ec45068ba0af035ed962af87fc938c962475e4ad79a6eed0c79595d604096a8da1317e681ea7600de06593599aff74d09989c74abba4dd186e4d9b2d82ff632f5dd646c635285b6eae5a2bf3b9ae3c3df44a9d9906c558726a762212dedae3e951b15a2b6403ad95d01cff2e9c9985d7ac9997bd216586b2c99ff97eefb7e4ceed96a1d2b317e80099278aaef5774057267531db6680d72f5f07338740993f659a8a1567d0c380dfc360fe662f77303f933b8f5da7f1ae88ab88232a09b8739824b6de064e93be275e8fc04864bacf5f8dc2b2e2f653238b4ecc61601e43100659f126efed56fd93804647fe536931c3da7ea41cd66f6d060c560d6873a5008f544c344b2f528a8734de30ac9165636a58cb77dc63c56f83fdb78b9bcb3c5509db807ae58400bb744efa76a85fc4e99b6fc0133aa60d15b0239ff40a216a84d34acd71e974e6a286c7e229a7a244c122afee4ace46df30a2f58ca515cd3372708485f3856e2f159f5961bf472e18d8306ff5b223ea716b077828009dfd806137cbcd07f0c14f433f219d892db3c659666d7ac2766dc12e2c2b81388bbd379b66da775d7bdad98f38a6edffe7bb1b7ba171c0064fcbbb48631dee64bd8586978bc8c43675034084930a1dfdbedca1bd794bc80d3ac03b3ca890970f58e6cbbf3fe3a5c21852701456372b73e5a3cf9090e7f9344c42408b4ea20e46fda7db94929a2a4c238369dbb40087eef7f47866fdb4a7b95298c55779c906fb4eafdb040ee3ed7bb1488f595cd487b320599f5502f8c4516acf840613c1508ae20cdb1bfdf4b6381820c99da82ce197f019d69e55394d0b4d3b1d0cca789433a4dd5d8667df00f8963a37be19043ce3f14c951b9c1b631a434a70444f84c8d1b793916e06584286d580d03a145f6e130c9f83394be60e6a4233ffb2d4d5f1f669598ac2987ea2bb5d815082554dcc2c5bbdec590a99c88af5243bfbfc0df06df711fdd1a762342939ff8ff7d9cab001ea786ca3e18c072d1dabbff507487c1f653e645b01c4f26306c35696b49a6e7378adc5271eb3831ac26fb55497a4b456f4c466752bfa03d5af7b55d402aa54c843bbb39a8a5b9bc96c7eeb0d3946e464ccb6a918b4643ef5e1c1efaca4831f85d6dd9c215683b405c1cdddea3122260a9c37a3d4eeea12c2f9bc3380941b38cba7fcd18c3bcdb61571330d639a101326dc9113da3b4b6612834d837b1e15218e35a9e5aac6b0ac95c2f87da215bded4c0afb39b1fc0f2532eee66b0622f2ae851b5570e78b98408008cdc07e8b5bfba093477b69b4c99db4726eaa90891842778c43dcc93f32c93b1f4167b1fee11177979790fd8245365592c9d29198570a720c503aac50820c1e967309cbe897fa2e701939bad3fd38b2d74607bbf225a029a013c47fd95b2ea9ed20a0c29ebf0f0a07e89980f695fa7e7b2d6fbdfa21a89b4e3d745615698a15c6922839ab212831412ce005ebfb80af7d872382179f8963f14849b13696681b05dbeb638dd49d8e153eb842e85bffb0a6d0969cf2eb7e2323d97992e167b77727d90672fc8071bb34330f8e7117e7f3c6369ac8ea05818753bce1683010118494ea71e07ff68339598e81338601e8f7f78c29a6f3eadad08b7fce9dc0c5a9271727a380f423d94d7f4801e300c16e56c869d1f4abba7ece5d220568bb3ddf0909606ae192a2c7b7bf608d92b751cfb4d368b9cbb000e02e151c8819e2f60a7c5440ac5c1b5144f054d56fdb01408ba95d85ad9a29a3a4a15a0ffecae5b2a5eb6e76700521a63a6694a1bfc504fa42ad50e0aa62a4c2426bb178d97cfeabbc409fe2f45aba90f7d7e91546ecb63a1ecb7b7260f63bb8537426d5148a710001ed6e839124df50a6c3ae8573c20336088591fa8e4ab3530b4826950b48a487e256c307b66e96cdc2746d2110df44ac98663549971e4d7204731882b512967cd830f3e95e5762fe74a42d8d8409125d0f35b4f246ada1ed898788baf6a2012a93df84c3bf9c46cdf7b83f3b08ff6513c19bdf0b75c4c6e4fe79ac6fbd30fa1055716c42644bbc1b2064e762194ce3a35d80c44105034062e2f10fff582b2b76b597e57d9fe1fa9f7bbe39c4cfcb792ddac3b24f8ec152e1f8bb695bde08df8fbf32c39592499cbc2e9d847179bfc4937673e9130bb230d76249ba7a516b335ba709729abad42a892161f33956d409bed71c5a9c0ff33a6afaa6c1e9d06722a848677cf8d986804469502fe294b37d0959497da87ab419e75c47b5ce39c69db3b1234b1bc39f04bc7105526748a50dfd6edea4e0635bd41de4a4599693f9a5e300fd9de407f47dc2886594ac71b2df9fd6dbc6a4a6732cd41d131916c32f3d3f5c12bc6f400385b26e78864075d3482666baace6e4ee12a92057558c5a7c663094e007f3127e7f51fc371857cbf1df696073f6031d081329b8ba16ecd76cb2f4919f2fe87033178b3e5a8c81b2bc56c6e617ad4054401077c90f729a34b1e331288d13ea0ff4c592002c81d882c714e7f6f786666093435338af271420ec7bb0ea231c06890ac56f32adc0ab3e66edb6cd33b64b083bcd0ad54011ffa97c6f2761d898e1cfa63bde578024b0797c3fc56cfdf9cefcb3c1ec1ce2f04382dba7247ca6065672107e323782c5545f99cb054a05d552dff1fcb9cda227574d38a8750997f6efebdfbd11eb2498f2169a09312ec26602243fc685e673aa2e040fe9d01268e9240e1ae25ce3f91b8c0a7f53799e60c1b6cd02a8bba3ca7a2f08b8ce7443db6b09d92dbb955d2fe045a8090c0f84f33151976302962982114aa3007414a7e3d2c6253931aa822bfc015c63e4e58525f0920f3392b3042a42658fc611a0299a437a00f1eb2afb2fed819d76b4ae78e08afd7c3a232f9b9b99b0f99703dd556488ca0b8c8a1412d81fdd0292dd38b7fd27f92084fbb2d8ff65c09e7768ea845bb71c00783214302d239ae9ae85306d753ef379c63b9fdcfd1f79c3a9efe33c1fc8a668f5aef980fab00bef8fedae6e6c25153ccc41d5395fdcd4ef8bdc59c1ceaaf54bcea242d0b1f14ebe47ea7f178810d2f28c3b2a8ad2a7ee06b47167bc97b61f3f96ac344372be19e62ca35392cd7037465f7bb0313f926c9bd6979bee59839199299656148dbe7e94741745ba62d0ddca311015b2c94634b4e8e426b73edc675945aae72b8f1c56b15103e1dcae3805285700b21545993085dd8842c71792741b1cb338ec2fa6d9666d656d46e7cdabd60c7cb90586a41c8145ac64a3ba6ad6bb8ae2e3c149675b55a95834e933d8f0aa78b08172a4c6f7b067085edc7409108e2307bfa36a5d03bdee9a1a910c83b58242df74d780be05dbe9fee395b3f89f06e125291aaf90f5997adf8d83119ef96325aa1c11f54dd581c514923cf8745f92f1de8326f95da34070cca3e591d070eb1a899c0d397e3911a4e5e0830d3255b3be2f51340602eca6d2d770d5ab93eb63c70574344e8262af822e90539c86724315ef9d7abed3d60f28e86a6a297c5c278bbd909dc624992aa9804fef959b324abc7cebc27ea5c9ee4623e0c00c842ea588d973915e3c3896f48612fd6a662d868e9dc1f517c4af96fca4ce0425941c2042ee876db0403ece1032a12ddd4008908cd62b7ff37dc302614bedcfd9c4690b36c40e3a5e47072592fc6950893b9d7c3f82207e32df06bb8d29a14825be9f7c42f586656a7a38aa531b86c1a6f890c3c58c672a01c8b1c93440d30d84ef19b85818032397de59e040b4ff7c7688175baab3e5f4fca323dde39b963580d350810ad0a29247b1d1ccd5901e1dedfbf0d03971e48ef2e1fc85f66ac93a7d0a9600f1bbf4672932578280cceb955bd70826785f402b872856c26199408ee4ff7066a5cd54dc2087101663389ec5bdcfda5aa8c8dc8190c6099997b99d7df81e8ca6c0a77d2dbabbd94f61ead09a501997b054fa140c9191b79cc870125ebf98d2047d0949f0b90371b29a336974fd565534eec97dfb0e8aa94afae081e62263072379a9568da3d2c62d3697ed5788faa42c95b871f4fbb1c8b146ea9be7b6bd304059c2d31569ec04a03899be6bceeca3e4f5c4fb4b54f17875aaff0902cae18b6b4f8afa20f02bf40d12774726aaf028695d445e2cc673ab9e71749f93203b5f88d07cdf01da48e1f3cd0412189043d6b7b8045d247cfde8eade07a4d683a9f318d33b7c95005f7e664a2a1f95cfe43456cc98df7c5ccf62fd6b02821091b2ea307d759af93f93bb42b6bebd597853a037c7beaa379cfd16f1731760ead5346f755c68611e0208aa6e0c5cad38e74f93ec2201fa77e2d6a85598b4fb0e3779cac3bb8f6a1393d9a0facc66c99f8232020077c12bf19a3eb98e5329938a743bc3e7477612e462a332af97d2484d2b2a5f6905fb2108c918e99e9d2253e2ce8785966cfb11a34b4ca621ef1c70d6c12a593e11a90dbb428d45c03e9c7fc2352f5b2af78896b89985ef570e37a7b13d07799f369bfabd48e12439cecbde3e343b28a91ffcad2217623c0509a531d8a0a7b25cb432e6e8c4b0b07254b146064f2507abb0469a8857e71cefb466adcb8b2c73ca98209ecff2c7990c02a8302963f682c98195df2c9ceda533b346578bca9c5175bced08cbbbce44daf90182bf94f7d4087bba9e2439003f42332af05716aa0ffac6f1f442c11322bd64a28b706bc3c62655fb91497f1ba46e12c631f2afae1867db0dbcf9fe820a508c348a945fb8d146295027493f635b24f1c997af927234840bf36f5f4af42f8b6a2277462d8af2aa44f74107f9b6a6628f45902a1b106b9135b66e90b53533395cbf69f365cb433d486e119f0c5db038b78eabf3ec3dd41a096ce95d391849174aec9d0dd7d1bd698f7e17f5af3cc79dde6d07d11e8c039fe4e2fbf3ed9914be1f45dbf3ab407b5973139d9683c13d32d3f35a06aaf09af322679fd42153f6d42e2ef59910db9cd3417b68b597d65a3a59e52071615023a604d35f3d58ac4ada56cb238e42b05f7776dc5ebe3c5036b4b2186047f3efb5a26f2e2c4183b00d60a3f16a531b91d486ff04f77346461b3cf2762ffd4cdb3171c2d53b8d91dc16d8076da5dbb6e041a6a43ff6875cf17a9e217e21529c0a224c942b8a7452303ef77587d84f9e572d80e65ba54a1bdf85388a8cd495bce7afac22d2c37e81f131f96cc07ab4aa93d97b806c79fe5bcbf8e5fd562abb0efcc2b6184b69a3d5627cfa5036de8a9f8df9a5c58af6786442dade8529c61c6650778499f0633de6e1a75288aa78543a5695f36560e97a2d63e73645366975a8636ca07c6e7cf44d7cd89064faca4a64b5bde94ea9d270e8a09e776756b72ff740363de2e2c90d3dc57d320701bf57cde6c958361daeef5fc6571f3a3ee6a52ff7d2ffddbc4e5477ebfce88b1d2bf8c63d65846db7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
