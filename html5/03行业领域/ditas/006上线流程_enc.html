<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6145516893601ea956a11b56c105632a8e1cbd7ced4605ef2e0a641345f66afef9d3e60267171d19a4b8c2f8b826f5bb2fa8412a18dbac55a717998f9f0b19fd87bfef1424bfcf2f2f2dbdc8974574efc78794bcc85cfcdb7c9702c926df3413c4bf2827b5c9ba887a975c9aecd5d90ec0a018b32bbf3761723dd4e966649ab663c6ffca68220f5fbfdd9bd9a86e66d24acc4ff734de95938e379c24241bd3ecf1ff31525af1ed358cf11838c10a76ece4ef0ed3cc00e56dd02f0cb9f42388fbebe4899e1b95370e14091b28b0c8c56bd29b9d54aa20b4a9c67e235c000fe46b35a63947896d79635a66e4f83e4951d5906471d27d540e3c7f8f2fc4626a2993f3f1ba1cf9e672c8d029aca28acba1ce02a18f777512698d5d703588dab97ce39d18271d93149e1082061d7468f06c052f1d4e27a97ef6b3a09ed2c3f5626aad276a083c133fec9ec2b860f1626065140edd67b324bb9bab2f8e39a27e042093729a4c35f7209ea192a276fe016f12190b20c10c3db337f76c32d8cb98b5747219b10aff6b7a46acc59649abce47f7a92c946a14481b6fa196dd8fc01de325381336142799dba261c5fa68483947c85c9d18e9b514022c3fb123d354d5771a6a80abc05c3da20b90ff6dc521268f242b4490c1ed494a56afd4e3298fc32c2144ca931ba7aff6c560c265e9baf1cf5a970d77c8140accad3b9abf4c794bff0c7f09e53040d1562bf687d3e74eff3afca9defff5f0f9576282ddd95a48e17416eb40cb6bc03629e5d6995b4ea5fae8f172bd71b5ecec3a6ff9196e17a33a475d0144fd68dd533b4e2d6774e922ce38b03d7b1b5431e800046ab7d54cbfcdb26992e02b2c156aa7053642bfb5b58e3c6dc9a8114f43faf44a012645080955433432efec0ecf86e9fbdfa17255d9069d0d12ce35c52864d699e89dbc227bd3dd70078276ae1c4c0386c507b45adaf8944bcae67f2ce9b4f75193a9e13b5cfaaf23223d59ae6bc7b01909f4a9b7fc99a8eb61d76854bb39f6028964bae5492e983ab2cfadab40a4ad6641e2837661e640b4d4cc84d08e493a6db8de74612ea02c7651d6cddb6665182e6b6435123d2f9e4937ef8b311a4695419ebfc44a5141c2c79db2d0241f9e30fade0229e58d243e49cdab529bb89d9e12f1682b223405641c5e4858e3ecd482f4fc11e715c252e5367d041577187bbdc63a82611fe6cdf0f9b4a16f02878c233be9e442215ad4f1917e31cd550e09d8c373f5560e78c4f0a74b4539fd21b29cbb0d7f7857712ae44fd7ae1848ccb41c9b3eda683ca777c7efadbc6f83190d1b38c9907192edded16106e3c8c92f203aec26fe18b9535f69b33da29689becad74bfaf9a4c7895aa41e58ed40cb839bb8c4d5fcd12c8c75346031956dda1b523b0de00a3d618c1f36b3450286ea2362f31c1dbbdb3a2d29e67cdd104a67c5355d06747372a17e6f37a12928133cc3f0fcd434edfd743728dc56a091f3a49bb2a0c6519a3e8d520e1b4f4fc5bcb72d71141b3bc64a4db70fa9df0f2a60b2ddde616b265fe7965bb602e68a630ebfa39816e7949c13f865e50a0b9fd24634f45ae87e798006d8af1d87cf4c92196be334a696885369234d95dd4048427b37574a8700b6255ed92f20aaaef063ab5d7b5706f753b9aaa1c62741d3a12567dbab248d00872c51c0cc505b71c3bced284161b24bcbed95caa72ce2d92319989e1ae5057a9cce19298619dc976326efa43e4bfa39929f6bf761cc99187e39d32e9a886a275a2de74d14827a7efb8421583fa79f9565210798d189eb353e3d86446ad5fa5d033f6ca54ac8575b74e4f0e0795ab739e63c7d9639d41a669a8d5383627b6da90b87e4f7879df7b65460e9ee81e05c88cd51d0406dd6842a207f7dec95722bf495c386812c0ca91d4366877756f6c1e57fa4dac37ca8d409de37417e176dc087f5fada8fb439830d57c11341acb46d20b8339bb1311e9ebaa8f58ebd6bff555342c24bf0e42f3bc2dae888764d69e8261145257311b847fccd34d74ec7504f13c8b5ec2a5c19ce4ab94e41fc2d82b5669d761b25820caa5d6139b5f98ae27a573d7a85393cb79cf63dd0c218b0774b37944a5efd53169f37a23a1f1573adcfbf39ce57e3b716e1e338bfa439470335b3997dd84b302294841bf80e6b618b13c9894d46c76c3050213cb8dfd996172f175bbda909b7bb2d8d7e958942eaaf807bb7641d41ff4f50f6a1060838afebb706be58fe8b2da44a3d69725325d24da1eeb62caadf61d7a0001f7c8eee6fc9b733d3d3f45bdc6934769b766f416ef46ed991f9f3342893c918de452134627645c8747a755bcaf412a758a3352edf862ab277202afcd4f54fe9997fd257437e0088b3724e5c2ce6c239bd51dc425dd9e3813dd440d2b073752448494454225c88f05f2025d6d12fed998e58c82b9c5146752230d9bb324e1821cbf54146cc18bb3716924b2c109cc9f266660cd0a8b40fb114c638abdb736d6e8fba3238f5964d77c29455064c514dcc6f3216142dbb29fdbedb4b76919c71733c04df040cc0426a9c6dbb454645e43948b19e8368e4c9dd0076970a48b9a7c7666297d67195b6aaf04104943852db82d45fde9e37df3033c6fc625af16348ba868630c5e80a01a7327a7e9fa1a868f3acdb9483418c4be107f4502d8148605e6c7eb922a973997cf7d93e2f72e481ba1b1a7799c6ce41d1d9a2eb0caedde0d4fb0c2a1804e782e9e47ff8751016eb2180f56ea0f63607b7e6d4b450bb932932f6dab27c3d7578ceb0c89035c9338e8049c82c1ec5d1edaa22ddb4b66846a39baf9491692a150a8ac23749bd55bc9f68eba652048898ae703e7c8b05a562df0b07e3b0445752254be3b2f2090f6b0447cfda13a9588d974cce6c0767adf55ed938686dd2365024d30f3a658b030e13433b316a005f09de09acf09d5f3f6df1765246098cdcfb7b6b27f4e9d0f939fa75fe631c2aa82045f2fb0f7afdec3106719f6f90fc165de68e4ce895f20ea77af4018b901c5e4fbefb9a1fc73469552d1772d776d7f4b9c7600295945a89904281dc95249ba90ec123780517321dc766ff1ac4978673ccdb69ae58b8492caa2caf092280aae32c289d5c081daa6d5bd2a1bb97c73219bd0ade0da4c4aee9d29c697a0d399585262bd9c794b06ea5f914880da9252f8acdc91e18aeedb47cb06cc1131ca625e53b134cbe5dc91103417cf09bf6db105cad7ebdf57879da215789d666e279194e40283c9ce9526a67e8cb95a5ad74bf7807b21844977e811342e3e4e550b4da8c92c43fd3ba7cd26996ff654f4ea3b7de8a170a17296b41afdcf0e99212bb5617aa002b8d9ebf26c067e6b0f9bc03048ad401a156e31f22fe90b7dd54f64e8e8bdadafebf3191abf070df830171e29df4a6957ec86133ef50765ef38dde6b0fbd925472b47a8f63823f6996b68bed8247a386d3bc37c1fc689ad2c27289a3ba708f6d992fbee20996ddb47307e2661f565bf7d2dbb0e8de1b17d7ba571c8ad54da0942f1c2a1ac3c865c0f21aa115f491f041f8d981b00bd167dae322373a7defba5f29936f96ea5990fa43ebc98f2e473637954ed900e553216ea70db4738e35e152fecb099abfd0faa487b17300437114bc22fc364bbfc15e317d089277e3feab060f34a0f9fb978ca9b1c6e51586ba4c59995613da39b4a5ac5e99c17baf2140ab0763d9c17e107404bacde136d5a386eb6a7397f0f696a67e6c100bc28abcdc19487c2c11ac078147275b6440b6d95f6866b1bbc70d891c7fbb2b612750f3ff8a0edfa8b339326a10f4bc2f2715483f1839ea2bc3d4bfb53db8e88453a90d04e4f86cc83a9e919c4357af510377b569040a17806e5a897b9131701eb049e41848bff1eb8302800c8355290096deafb9975fccc185a6165cef5182bd17f4e9238911afbfcfd0881ec8a9bd43a2b82d9862a20016a1857de21ef262142ed7ce188285585ead8ec12fc3afad4f34eec0880c5039a18da30f1519bdc2a52996e7a06aeb5c2df518895d2272001f8d2cd72a4ff916bf1f5eff80cf937a250c3989ca57e4661d1016d9dfa3163019e70e5e4c12b3483ee192fa1861f2f9ccc12fb70fc981f4f1364bd191b6b4eb2d7a53917ceb68575af670b573624c5cae90cbb75b9ae7ceb4e3ef243a8e3a423c2e613951e1c0826c37e222afeac3515f719bb0fb4cf30dacfe55f3b8d6cb19c3fbead9c0bbe514ca3837c3e46818be3bc4dac2c8a7993eee8780c79102929859e85780f58837f936cf4259b01033694cc4b49a0e70592b13642a7ff1383e8e8bdd97f06bacd992ef2c45f867c2bbfdf7aefd06cd8b733d8bfc2fbc80d0c9faf0207a08a836bd1762483f6f8a8a6e232ed5f0d96d111618c7c5f4e7682bc4b9aa628e620d67cbd4d719dd78405c45df444b888fbff71789390a6d338c2d40dff529d83ad4cd41dbe84b62005fafa4803d04886141acebc2599cb40ae0eb900e3b1d3c6d533b47d3041b3f8f5a88a12d8f4ca0a24019e87154a5047437de63ee5259b790981f8e66c1a2bb9adcdaf7381aa53e5bd6603c7c1a64cb2c2df6931f5670eb46eb8c7a5ceb9d88c7072a0e98b8baa200496aaecc2f94b363f31079aacd1b8ba470379ab1ce8cf72ec57a6666bd33c532ab3dc5b40367559fd2a1b45f3e851c823789936f2fdd32fe259aae67854ab2a588b6ab7e7922aa3d1bebe892d5a187acfd339bf3d72c73e2a30d97bd545b2b450ef732999746a6aed82b960fd7902fee8c9ce805681e2d143a8e2679fd1707645d6e879aa28457b538fac25e8aae9c3cecdaad38401a72dd2e34afe0af4c4542c9b8175a684cc69bc8ed32e2f5416fa3f0f16800d062942410e8e35b722e571aa164ef445e4cf9a7cc9649619d2a69e4c38e5cfeefe4b73e2130387455f14384222c82bf6d72d337e10187c5e4014279364e249dbaff63be38fa745b538d861d029f18f7e1e9f24f178e1c2fe746e74f02dd8e9b36fb3732bfe9e4d484cd265ed32569f9661bb86f93734070b952274c19b07519f13cbc4c580508d3c3840f9d9cd9df56349b21f3ceee14ef3ef2fb062cf135142531cbd20685e0aec42e1d1af4d9aa77d0a0050d175f2c8d10284cd72c88c9864be127a07d902465c3f70a160351d3283039d0a699592285492ca9cf54f0d985f35eb5d13e04a27a385ecaa5de46133dbaee506a3696a7fe99039afc9a43274314047ceb29fd25a07c6ab11183faf7470fccfbc6726494db1b1661dd0d6ad3c9a29f44648c8e7d8e48fd445a1266437ae6f126d376ceb1d8c3beb0032f3882124c0c001369c1ffdaaadf5f84224a98da635ea413df7e5f291084e32318aa907342538489a86f1c1430108b0d4ac61f1a68f9f56c893ded8721817ff945fe716594b9b737754784bd16b17f53a73c5da641e8ec86d0715df78f91690a813c23ca587e7c26dafd561cb77e985cd359bc1fb266086413e9508c6a6daef1e91856f256e8cbaa321e4e7bfdfc09b0c0efaec9a8c1b2478afe656c6a960beb0c5ca0d8b3d09f065a68cb52ab0d74236a461aaace6ceab10368d9e55a572b37ced23b393566559656dcda31309c94640819ac4d1423194668b2826e2407669302815ddf06d01fed89851cc347db3fa8eba3e9c816c73781f49d09672cf434480c755fd86f570941446a40538d6c616793476f9db257da1aa68b629d9abbf96e49d8262ac8826ae155d4d3697a9037c33daa6c297334773c642ef5c59707e537ce0bec084e657facdb7ae3d9ddbdbb7c6ca6dd3429859380f08d41c52f77efff55e59d44b6cd8d26a223ed1221f34b57995d79c83d1c4b8c65aacc38eb7b6a5557820e2909790902e5709dd8bc9ea69e70b785a6b3776111933620ca750042c4233af38b931d46e20b4e9028b5c70133ef21fb6946dca215b988a291e6dda7ffe3e2f58005e8f133622aa44c17f46d519d49962c3f5925cf1b6b653afb11c3fbca09055cd3cd3fe6aaaedceff83311412329fc5af77469c9f093836a33a27483067f70ec440abac0334299555c9cffa7fab7d8b3f4408222e8ac01d6ce26a0aea3a520746034af67dd429af214a2554d9720c68ebfc831d500ad7abcee7db79f80243a1b9e016eae43d24a545dbfbbca73097919a6b2b1827857862640966394ffd0be8dd68d2e43e7d6d0cc5b810db5107cfc13862bcb504c6fe093bb7026c018328d0dbe70a62a968c24e5cf1cf9eff4636e6be565b95cd98f34464ea911abcdbf1e8b6efc4f36e0a9322bfde76914654ac930558dc3d8862425168c48f294faa93cadf13b4452a46c8c0d97dfb21773664a6da6be5e1965402672bb8dbb0118c271acc36e5ecd15be9583ddc8171382d7f6868c1dde9ddbc0569bbff6675f03f798935c38c601e73fd5d6459f69c8e1bddd6da6cbc4a175c4d805fca362289cb95ff48ab6b542c982844b517929a3b298f53c3f92f609f7d422798cb331af7ad5e97acfb2373dc254e062a0ccfa4c6bc64196d845dd493d20c3b3d8aa0e9cd4d0d40449b417d65167cc4daf9d1b2e06cb46cd66a16260da39cd96037206be683a9bd54dfaca163c1f7b86b6676362d51c5972c91ce5195d62870b09177dd64752ba57e889e7bd2b455ff5c9d379c95d17484b5d5b673ce0bfb4b39393e30b97dc00ffbd986c64595dccf54abbbba956040c9a116fe2e9ba9a5a24837a03a1d411439bc37dee452aa20868eeb2bf51f6c8ce0633b8287f6ae1f63e8683f7e4bad0ec85cce08fe97836c379b29a66ef5c7d954e8c0103aa5c3717b1b4f02a833c396315218ada75db67922bbd8bd064da5f0bd32a5fa1189f0155dbc30a59ea6347980cf817157f9dd71c988a97358045153196387c4c629891ca480106a5eb5b7b51cbea1cdf22e488fc648e05cafa158fe5c54ecafe2ee465bd29b97045b42f0b18827a9a19867ce54f17470f64b097c569ffa9087ab63ee957f1c7c734a8f727fe20968b214b127301f426ad285a72f51ac5168f0574c07d40f206e3e84f08e99092e0c8fa1bcf9bd9e023bad28da61a4c1d430b12547566e6769e9bdef58c35da2b0df1641bbe286b45cd83705ea2e216e5ff055dac004b229d1803cd71c111816fa7b4f4d3a027358b065e5d08371c12315417bc3bfcc633f6b5bacc98e28fd4a5534003962a481c89b4facf1ae3c80ce21e0a5d72475196987f6916a2d33ca5a65eacb6d865baf393bdd0f872ad8d665326ae1f134b20c7b9133f134d8246e0d4cc483c92a4927614a5e3bf072b2007fdc779d96601b9739bff3f28a9e793a446c82b10cbb8fb63e0f791c546578a31b2ed62a5025f0390ebc0eda0094acc4568d3e16c9dd079f571a4aec1f91972b3caf7af4299cf73389e22761d6b7bebcbdc65fe08b08bcbf7e0287346abe821f0bc04241c33c74688da7b10ea9fd87731688c482be327b534e5bc47ae0fa7a45bff183e9aa25c25342c8055fbf4ca2a34353ef242fee542ff203ae072b429e29b1f51f2b19a315f49912b05677b66e8098b042a9c8505b1c2dd8938f4bf510acce534d0d5760caed4db4d48d81ee67258e6c12c53ec0c22231d12c425f30a986c89e08a60ef4f2e740c726ad3adaffdb8138b13048b3d55b4a2e7eaa683e4b60525ad307802f286882a4296ebf800744dd9de60cdc96d4e2675fdac31a15d8d8db8eed87de19b0e45b6ce2386698adc5b87013f41a0ed25108ab380725f821748a09039388e993fa566ac0fabd53554ee4dda3b0e0a757b679914f5a9636ddbb5bf4539ee6ea5aab2241d640c52c3377e64ebd418708d2d9f663a4815a61a389fcbd9d108a6e43b4a813bff1266ae8bc4698d533eba2289a1f1d28ac13d61df37514705809e6feb24a6b8176a491252c3277ea30a2c052523e61f8ebc196c418ec1c7b71911eefab0a3ccd982201aedd4e66b1e3c8bdea9a9256871bda03b958727f90be35ab52a237c3470085f8a732b70b08addb7fa691af8f4d80135c13528c41823f8075c9a5c07e35561310b612dece37ee04acb67a54bf650a0b5d784675e4a3beb2a0e009061522340dddc0189121774f773b0ee4199b1ba0dd9c54e0927a546824d53420d23ed76f5c609be3c198bb589073ffecba60f0c2a99b2921e29217c3b02198eb0e50fd53e6e4351c25c6d81081f76d222b082d9ede6eb59c7212893ae0429cdec085d68b42bd252f8f293dc8e281dd2186c81eb1456a83adb17281b5ca891a9641ecea0dc857318940e471516db9ee76505643c723923bd664a0bcbba44d79ca4638284fe49d0b33d3a5b9ab44cf22cbe015ea48a2f04b2a3cabd77ee13834c3f09e1ece5c26ec473044c4590eccfbb4b6e38c40b7ac8eaaa9669fdff31eed2c6840ab7180aef1f64ce7944b3ca6c90be47299e49685c4fcf881ac8620db4a474a08184b36c51c982e5b2eeee06c37f5e192a51f08de45d72c9c885962f13de074c7cfbc120caee41f8c90e98a2182df469f55f1b4d1da132e1578f397a2c5f6bec6bb6487ca860989327bc7516b70f9e455c4e7a71e9e1ed4ab0b77fa7771af00596fcfcb70db7a2cb8d4d56366305de78632129a83630ac48a904d474970c0f2edda4d602483d89e465e0ea7619f293086853f56dc26784bb36dff67a1a38dc248c10160a3b87af5cdd906c9d6aee893e01faa763490cac1ac2659a3eed10c9054c468130887af8e2f252c4d5d2385549837df7589a01f1e2f15fe6f83a4fc63dd83efe92d9f95a39a603cf8a446d2ab92181833d30f69eefa528fc3f8ae68760cb494ee0f2dc77e3f8f910d727bd4490173bc31dd6b9b2960f4776b378a3db467a98ea197763101f15f4af0f08c8beed8eb345196a9b9bd8667e563ea686c8f3e00afbe9e46a9f0f57626a92998a60b744820d4381ab6b09c7218ec04d1ac22e809f447a693b9af554c23068ab115bee168cdd9783bdc450f0698c72d07e6fcbe0d332c501c8d272250b3d15843fb87b698c048bf99c7bbc452289066d33372c929baf04c76eab54fee2e45e6a49ae74515061f25a72baca6ab8fe7c3f1f6e69d278e9c24f457d34c5b32782fdf76b517f91234def4065bdc4ff885b9c3f6a9b3f954ac574d5847680440fb0a2bd101d152845b174bb0a5e69e1c8040b855f91dcb4ff80f2f893eaa2b1451fce7d740c7a0dd4ec75790dbff9095645d65e82fd5b55efc57a671abf9b2ff60bf3069550a1b775ac3b1c4208a31e2e31e9039b2f028765b7fd6d0e3889f33614a5eb6f3206f9e2acd196317bde76a61bd89044279a8a0faa55dcd4ba1acf563a6cdfb99e0930b128cc354872bba08408cdbcdacb120654d3c6cc8bed7f2bf5b06797462a98e67d648add3602eb02246383048d8e99ffbc6582d10d13fe81e10ff638862bd70e1459496427a898ddfae4250cbb8ceed68ca1fb2175c9a30d0b0bcd2b9af0a2063ef2e11d8cfcdcb7ef7b15a0fdb22164c3da51f6124286ea8e40b7fc00b8acd7e48590509f726a807151d9571bf502fa05763ef48cbc92d712241a5c2c75562df1a885f3c369505870219d86e578dd4ed690738bd5ad2b592956a1fed87ff80f13e25cc1866543d2cc26735580e1c47247f703452e7d12a07b2052611af12801cba67740339d65d6300f41f34b39f19aece5ec920c502d407a24231a2113cb9ff8e479bff111cb08bdb8004b6cc8c7b6fe34e3076f5542110eca3f3b6781c0a9c17819f0f588fd8595bd4d7dee4e57af37fd81752d6ba9a1030cd9d5902d71ba805d68e2d57466b3fd5430abdb0ef8510eff3e6ef9a1a1a79e3b6910f6943cf26f7f125ea21f13fc2a92dbb7f068d4792f6c6a87ec781617133b5b6e164e3e46d39a13630a275faef36eb298b908e85bb93a4efffed723ad38b6469125989279a881996fa7c3f3d0a1ae3b8b9983ba07f6933597e6dce569c3af7e3e4721ded3ecd5ddca9dc84f457e7f3238baa038cc49eb0156e7238cbc39686f0cc8904fbe6784421f95ce1b5acbf62f1681fe100160d73513001414f775b6e4c2dcc541c47de4f323c8271c8b48da7da99cd40f4092ffa557f30ba092f2e00a61aed88dfbe5841e134e8c915e7ba2fa5e59b4a88eedbc92e8de3f7e25ac577fadd02372f88006fee307e748d5d639e3034edf9cc49d13098e83a0c956aa0b1ba2fbb4fb62d75cc20be40383b94c0b8a26c115eee1042473095974d057f5e6a8319517eb16ece9a36955aa3af1a4b39dcf984d8447dc08c58754e3e8bcf13c6d3e4395661beae474518748a09d650b7f32e08dba9289043dd21652b4a8a9ade67b570d61ff7ecf0cc2a6464d8ad2903df78c0ee94e59f5aad423affdc1cfdf916add3723bb6937451caab85be2d968aa2ce909a814926682cf81413a2a53bed5198ce5292f880e0c6b1a1ee753f9c373d9fd3d8a09c57d95cbeffaca0d338b97fe9407a752bd75f84c69131a42ffbc119ea6558f6ca061e1c2e585c399ffd68880f033221e2dbfef61f0d3245c478a807c9275d9f9aef7764ae9cda9201fc4c8d8e25aa3a4f964e61b5f0e69f705a3d989c470d3b151a2d6dd3d45e77d6c9c209746bb39326959edf9638149cb9f0558c6919692c19515a6d5241b7b5af7ec22d5617287141b34b4334f22cdae4340ff05f451971e0b2bd567c6568c85f209c8f34b265f508e491dda135186bcdbf7984b44366984c470853720c27181b2f06884d4b627b8cb17d20bb293fd8ac0316abce33ec2ff3d75e81e4581775ad2ae0e9926e5713d72cd21d702c624e42f51770889f2770fa7255c1d20740fa080406e1907a5fa0c64702023084e8f3e8be04132c99a11f682d00c569b0ac1226a9a42647db099671a35eec2b159f3923e0729278eb5ad13c86178af2e8c53e6505df263f5f73e7bccfefb6b2f6f97c01962940d32ffd729d8663b64e2b5bf3cd86f22eafa155e68551e15a5a2bf0bfd04cd47acfb3348c3488b52e0e6b6fcd5a084bf0ca13d6ac0b32fc844947ba5451c4cfcaa9c9a07b4ed8b2dd640edb610dd664a1e99db1deafbebbcc099961853f6746cfd86aed031d030e8004aebdde4ed1cee839b65bdae6596a700fd944aa22c439a7ed9ac5c93140e7f547c0301f1f40045f317eaa799464b39529fbeffba1f45fd553f28b1ad700c6b441420b055d12f6ca010fff7ec6f4b184add47b74dddeaa36f26f9dfffffd0023fec6737465694422ddd6f35f8fb634e18460742b488856a90e2c7d9f2a715d82f0a626c22cfb3a82e196441c6b2746fbeb2370b060502fa14de23274058e7aa065cda09ab2a41ef63a57a293470d3c59a0bd79efc69accd7f579e6608f8168ffcde06cb883a6574a40e7080a3cb459454f024da78abfed649d78ea0ed0fd64b5d42e1843e2b1c304aae77437a8c397c4ef2b9298137070016f346f9f07f9c32a882ea35d346379373acab03ee3c4b32daef8d6f162c6727901a7b61e16537717b18a775ba5619864a60d9c38bf094642127f42139cc56dbb6ffc467e988431eb996346f64058af005c24292fba2f893c69f441c5da64b7a5d6d35b8dab0693bdcb1f35f03aa7d7bba48ecdcbd3b3a7f70b655afac8e67476d9b28b7a9358b9d617919b03ad1e58e91ef99018002e71f51ca1fa120b27517e580cdc51167b22c52ff2e180373a333280fe6655e75e0c07a28b188689b77d4f298aad09b36040d63b71d9887ece82a185969fdae5c5859fe10d8e3c1ba3b82b1e83a165939029555daeef8290f4e4d62170854d54f7c436374ab8c4fc09db5892b23043c85bc12b6ebbad25acf464359faf1840a3f809bb19d8fe106cee1a870c39f22dac79e7111cf31e93e01a615e5a7a6398986483eff6d3dff49fd30e889a0a035614cf553effffaaf5be887bc9d4969e8f00e99d7b970033150de150889a3b098969c30d7e7e4270143a0143c136b2bb4df755b5184a405a7f6604db9f0cb61ba03be21e8349e23f5b1102bedf5d2bdc10638edfb14acd12cc6770e6bbe4544a23b0ceb91db576e25eded8b0255486f40eddd4bb48c287ce5030f73c4a1b304b933ec0df645eda2a5de89d3081402665c4e389e38c5caa5688ece3311ce8e66ff5c428d197b1c80878f7233b85082f5aff34a5203d6b8ca81b711c213363daf161ba068f935b6b9ecd046863f9d09ca06f08f9c22c1a9cee4c7d2da3ddd13cdbe490f3ef40e8ab9e802115d20a531b9dd118f8337ff84a5b9d3fe46604bfe91e8eefdb927a1eb6433574d606e96e4dcf4a44b8fcb90648217f53cf5f384114ec048887010c8189b1a5bd0ad0d56e28d009d16276c40cccf56745753c69b3afeb6b1417f53f12e86dcd1c8a894330a94b8dc4bb8aacaa26e5bc558e99f08719f9668d92bb60955361e376ac47a0e09a0bc05a26e3ad4c52bd07e73e7190ff9208e591f7c8f0b9dd003e1580d725cea2d8eb52c98d7daca1833fb33ccf675bc1404079224d11fef1e46f157f3d3d06c9ebe0d9c7c16d93e818401a55b00cdbe3aec9e6494aa11a6c0548ac032c44b38bc57c9668ca302353e5ee9dc36c992cd4a181cde0e77c1b77d85936db9de772b9f44575bdbe3c380a9b9fcdab3db9bebd28a76216452a0eb9fd3e5347098db068677a387af481c66d47fe4f1bccef2d104011159caf71235a496f55bdaaddc61d03c807b5ea354672a989a50940ecbce5bb1e4c893f7d70d146ce989d5dd794535b42e1bf4d2b7cced10a05a2e4d0b37f6636006f38b60dce06f19dabaf809a6168f5989a2a21a2e3c0e446e8e143be54ff93308cc21867d35e3c07ccbda740ca6b38f9dd9aba8f91947e062029c06a2c48d1853c7d0a8245beed06ace5b895323e6675c6a48c3984b87e0b0e62b64a4e035170ca588a3d1594f9c8b5e2cefe28f6b053848530edfedba6841d56e00888a0bd5fb8a1ede28fa2eb4b50df40abd7e1ec70706456294478579966d84720529c5190754c5cf05c24a0559d8716f85026f6e4b0d089d588a24be9b565f74d62922fe19158b26cccd055a4b20e615ac59abd48c641aa57a1aae39a9115214f4713581bde596fa3955ad7b2b29ef991ddaa0ffaacaa2b6bc448ccd14dfebea5051243f0330ef62e87555f596761b2e3e037c47aeb55679f1107fe5fd68054182a732446f69fc309f4a56fd90576eebc9098de22c351e6a230ad6b5ca6f77900a6072453c28c2e030d33a2e959ca6f2e35b5b16022dd3bb54f2caf2533d7ab75dfcd4721dc347272f019a85ecd6ef4b2e035218cbc7fde57caf07dd67630917e2197967f7e737fce1b06b8ffc5aaa6bdb76b6a850dfc378f67ab4108f602abe36c6bb4ae3fe018bea78f9e3841882017828e42e7a79785f0a12ef48eb60a796f9390d25ce200031218816a95967e2b637d9bb254ad231e2678c4eac48f110bb26ecc601299d68569dec5b7a25e8bf45f9f2c3f5785ad1c6d1d4ce0312f2d7a6e054221d8915f1ff5666ed9cc72930f8e48546b4fd357d7742db1ec4ab70cf7177da86b6d2ba0f908ab8105ca031c1895868983eac2df4d67290507f80fc2ca6ba6619c71cad9eaef72a73c722d569338dddc2dc5a92e7ed11fb6790ee13568b2024fb7a4d289e7d3315ddbd7163f0c2e2d6272597e34bf6e2774e8e11ecd233f0ff3a15422b2b706709e7b0b94f3b8a9ecc15e8020a48e0a6cbdf1515688f13c90d8a40748940d707119da856bb9840e6578b7cd070c33a182dd7ed45b5341e3d25d66450e2d1c80547aae5776b99def8348a4b92edd1c3634351395af8384f0e5dfc39501e9e67af977b15740ffbc0f408cc123541642bbebb2f257251bf1a7162a15c6f7ec7ee25d2b7ab75b6867b9d7e39522c299b6cdabd622b022c5294bc8ecb1adf10b871614aadfa7c03187c0b4e671cc8f825ae1fcb11c1f271ac324cbf976e31b2cc8e1a50a1e69f21be472df44db3315109ca68f8463155af94d528079cf9e1ff512cc4824e91ac1d58be2be2504d167a0440948555e5d16e7b1fddcbfa22d0c7f900c1621fc00702dad41a367d2e34299d8f5c6862b7a92188d0b0da63c471a64ee5bfe8e2dd6dae09bf41c739d4a1ac5510e54c7806d20486d5c414373d6aae32e88939666a43752d82f4b3735fa91f6400c631daa4a29dc370239580d057487f4d751f18b49ff07bebfd96cd54d128a1edbffb72dc0a66de7d551b31e0c4fa2e80fce9c3e819e24009d6b450d3d29468d3d5f61637a2def371837537925f1c561208f0818088b2c68d37ff6c0d1fe02e2d05658928be5c00431a8d324d2bb6f2e71126bcac391c280206b4b0fb4f387942785cb7d2d0aa2ead26c09cd1afec235b78216c9694c19406b6bf4dd1173911d869e835b4407f11641565c6558f6ad4193d33dc37dea6841474e3c096a5c667d263dac07eb23af5c4726990bf04b3a53826a390a38c6b63f311a2564c7b83b51591b62391e20cac276df8a55043b0ad3e5f7ee8edbaffadd5bb1c71401df2f55fd6f853279b518fb3b852e7b01338166e630a9097f34a37c067cecd3072df7458b51280830113858623e8e13ad60ef8612cac16feac10d599fd7145ad2505c75152e3033b919adda576a3c0c05da8410895dd40d1faffe0c6c618fd5f618b07b5b4678c229470e9e09b77d31f4dbf73893583a8bf2841ef3b4dbb1e93107c8287f4c222ee4926d8c8b11b0853931e65ad3e84170f492354667c2f388fae1fb84f38c9db39913af47dadbe935d95c9c29838ebb1ea4e2e31e8dfd47e57f411fceab8ff7b4428b568f2066c27c5d15ec80869c5e0f97f871d318970e701c312d50bff2beacaab3ecbb6eb28be58e9cbe54aa56d49532d9241e39b8b90a0084c0eaae5631f147d1a9d54403686b13ccc4a57c9ab4b1a494c481925301fc59a2b742a54d5453f0b3337795b4bb5ab8ee9fedb5256f6aab01d512e6246437e0bb9432706e947a68f20c4d4dbf167b2b4c171821995b5079c24ab4272bbb908486da67849873ae31cdeb0ae7a09ac8fee760a37ef381e925cfc6f8d47db8a0b45a460b9e873c06cda68440d1a02619285ee111d8b75f5003c2e197d2070b7b8bb29e1cc9ad0d41f99b521bdc27f328a44ef04ab2e8c2d2f73a9d3298db7f7e366203f32ad011afde4ca9fa1ad6864a871522d28dcde08b3a1ae9c91eaae32a6012df81696ad2cbd5fdad465d9be11a6096707af364196365ded1f7a7e896f600b6bceac5357a0aa4e253f18c11d193cded10ef30be0c92a747fb65b91d76f1aeaa8885816335c1ef1d88184238b6c57470130e1e4d86cd80f5b9487f358e1101e4f7fb60d248d3e4ba74ba3735b20e70b0de7ad9b3c8dd2e2f5515456a0dc484a92d8c6af847ae20d33fee5da553230a830a46c452c58fdfbe36bf450f13831d0b5b808c6dd8233cee2f97da7cf1f12b53faa07f89d7a8278d66626b22d07c20b920d3b85d309b10963c134cd4baafc5de54d054420226212d076ca401cbda382746cf6dbd03e9cf2506af73862b52a0b77e15938cb02cb539e5b9d81c1bbfc49927f6607821db9546bde41fda4f7eccb502ed32b8d42cbb4295702ec7d5ca8c13fb81f884ab3d27178dcbb647ad35cd29924809c1268a5ae951abfa56c43e8b85243c93c1e5fc79096cf26bb5b1e33edcb11feee1a0a079e44b4de0cc88b389d79a4cf8f34e4e9d787d2c65e061845c5f575366457c9c7c352aa9e1d04c53fb3f1eef56f478efc7d33dccc96a4919d55e965e1df4c7bfac040f188a2da8198f9aaf9a4d0588e55b8ebc36b55b29d684c652dcc1b9cc0b0cb4838ce0051d60437950bd2220f0f42ed4a7f22fdcf11a5c332bcb0b2b9d4ea3270626c12df24a13e20ff797b59bba7c18bfd4ed0fd682dced314c1c19bb8c9da720879839d89eda539628ff5bd2a8c4141d0595474c6e83719ba21005d99a91466243b05fecbe6c7f1a48f4c63b6253c8ff32895d9447743e82c9a76f72e2289fb6233833b7f8379dbdd8f08f8254ab38824247dea836eca218d36e55139356560daa598f485b3ada4b23523159ad43a9061f474640b7a20dc97accb796a9d2e2cd59ee1fc8ff1ff97c9a34c779489dde1c44f436319c7362fbd15b7e830c49281133d10958883d28144cb578a277ceb002d619172849561f801c10b542127261032631d1a15211c08a051fb2d140399c0a25300871d032becd30bc48d0b722878ec2a468351df88bf2dffce2b34718e2bc93b41baf8d49ea2461b9dd4444d9617f064238ce7555c00eba9f9ae52802cc2bac0142d432ba43f5845b66174ddfb160cb65b8d1d6023f14ae0fecbabbd2831f515076c96e2af973ae989f558a31c4bd7c15978bcb87757caa7f84ef1dd8248e2554a1f093c0e711af46ec59b60dad6f89c69ec4838776aabb24ea877219baf34e1c077e692a73f1d831e9fcd9fa2c0aecb4c52077eff868c5b473d4c392a16a75192c70f769b4300008c74a9960c889cd46bad568e0b0d91e70e7a5946787764c9b66d57cc0d10ac50651b7e05e98b4436562804a09250c47cfe9398c5c1467f8217d232bfa1fc611603c03e9eaad97487da7bbfa5c0b16168a918c0f5fe178a6733f213fbfe14f02213561a0d299291b9db9b4e712d6638f0e10be6038db92bef4cf736f66281824e25b55c0daf4bdb014682b14a64fc5a6e2a2442ca4f508e30f04ea91e576549f7d9b2a89bc9a9d7ab7577f16c9945440eb6d1b9e77fccb045e4ab13d33e43646c80bb0fcf8487f81cfd6f6c8e623121f6a69a15bb375ea451a0f6465cdee4be3355a3ecf15b6f2dc7cd8313ddff7b99604dc32f2349c12bb51b3656fc5e900118819d93466fc9580f6f8956b0cc59cb5ccb8a6c430fe64e7f11876d0160793f7a930c12bac7039585496e611c0e669f85507ed75cbe19c6539a5aa7231af95f39b196b1fbb39c6a630ee02a4a3476c6413ed4c6f891fc3676df4888de285c15b6097352f0c8b6a64c2828b33c23bfd4212278b38f449e4e4e3a8aa3564e355a3b52dfc8f95d020389b6fa74222f84b4ff1612d2b81c9b07b26beb46f891db36928454ebd9de5a5d891118c1be323323f9c86b58f3d9ab2372e88a987986fe7437293e96c6fd7ab8350719fdc6ac479b2065fb8ada43626007b1502f085130dac336f8aee99879253cb34bb77eb1a5cf1bf4a6c75d15364f08b915631552089526abf4c7931d0ad42f28be238c49f16a88ff2ed609d8674e30d9c5fd3f9fa32cf16427bacc740b9c5f355ef79e4c86c2b00f14e09a945f951cd9253c8caecbe66ad524657fbba1a2aa76818deae7b34bdd5cacd125d662f4d5a67fe2611dbddc2d97734d847adf938afd6cfcb505bf60777f7a0ce31b21c41b9cc68b1763837c923576b2d88b6acb4d84ce34769d1ab04bb0d190fbcef60a3d21e7c5d15727a679fe52ad1068a78fc7c77cc2736f1bac90fbf4e1063c15de593e58d27e8ad9fba862c16794464131421e3cc6e5fadc56237156ed675c60519350f388c790911efb8ea713722af04c171c7c43566521ac5a1aef72888e898dfefc8b1cc04ed716afbdad654a9cbb6483f8e71b9cb3a86dc0e7b025d487af92d53342ab30ce51f1eb8fff0fd15d5b973905ee41c7d5f1d7c8d1becdd8fe6d17fe0059785600ebbe0441deda099a3bb9d89a950ce19d02cf9e0fcf6b0a94fadd506bbc2a52cd6b044bf73e310fc9b572a4a5d31d702097c01d63805e57013bafad99c282e53dc84790e9be2c2566c54761c93c2185d6233fadd1f3616a0b9c5dce6119992e9ebafad500a41c3e41b05e33ce00c8e88d49d534970a61cd00496a372027f16d74f52f6a94f620af9e9be72d9ea39612ec93481be5ce2f708a544808f9ffb9c24a58b2533298fad2021063c974fae5108a98255acfafdeb4a7d85a48262c21876aafcada872f4e4e43cf4c847eb04eb494d8e9fdc73d61ba8cd0e1fbcf19b6124731c210473e09dbeb6b06c7256a7941c08f91d27e5ab1808a56d0927c6d5cf9eb55b8aec378501a12045704b8eee76a1ae7bed172a342061329179c241a8390f546f89ab5ee80e2ed101f59f9730e08279776c5c42f2b9a90aecca8fe559e1114aea4904f8bcb63bcda6810aeb453f782a50a529cb3b7b96cf66bcfa564dce51c44f5799f84312a31bfb1916b570dc7d475d98b61afa31072142becb7bcbd66b364f7bf2d4a9e6854bee862233bc0848f3112094a06873a0d63739a14a5448487b0c71da1e752f2a8bc6e66a84a51823d4572f4413191877ba7876182185292e3216bee373171d15603decda60319e8a9853cce292fbba8db1e48095b233e699c68b1f0ad24c023c59c4368f7d901c52e8ad96730fabb1a6eb00ea191b673544010ed93f9dcb0db1be470db4a72220bd21f5ef5998b921e2bd1d5673b8eff6e6823c0ed52dc25f5c8cab26693991052f98770b90384e77232d0186459ee8069903c45bb316364ffa3f3c3d6300245ad949a1c8a994a51b8e042c77e670f1d779e09ea1da90315e851828ea8715135a74185511a4085de56c75b186f332e5a36bc7a4aeb634843f4a2737731f3b5d24782a2c8790a4c7c199e2f31f79b163dc6901f0dcf232d65f420c7921d6972603b1d8c9ac35b321dec5ecbd2eb7cf1764a0f326788e86f2490ebbeca7f846609816d11273ae66d2535008146bcdf42760e8cc96a4735235bf919e989c2e867449d7e3ad21c70b7846812e39b635547c6cfd6167c8d33338530d5f5f028ec5c61476ab66e2e2891fe5d63d6d6cc1dd093f286d15114f6c193464bda3c0b58504883e2a643ccc7d728e49dd1f375f9b5c3e779f27e28498099face466e32293d506e9941087612175fea7a37858771c4eb837067b93e62e4084790e13295780f8d142c84142a9aa4c626bcd76e06cd629b63ad29fb1514832f7ed4c353f4c41f5ad971df8f36fef749fd8f37a5e46c3cc3439cb1c97410e6ec7980562712b52b0653040161d6997214581b69854022cc250480f0c39d72d9f771579537cb6a9850f9525d2c242892f4263baa9b42a156525e6435d9d01b341088b781082c6e4bc742944c5e730894af0c3d5c351b589f166867c591e82c68cf56522eccf7559930fab6b233d1c0d18686943f6e3727130f5334ca140842b0d4a29728543135422bb1dea76f4f9eaf9b13819393ad087244fd661ac01934a97196692e42953db785dc318722e3602ddefdf1d59359fe89a6881180fbf382a3f5b0e8c4f14e47a5a86e25c75919674c2cffc6f367d09d728859a41407bb38c3102578162668833c87eeb561e422a743949baf5b549ca1eb486e5c105b35e9693cdb1c33bffb20e1e2f55f06697245a931d0339fdf7f813052e0df881543b641a92642e0059c3ce5260e4f15645a94d37aaa20da72ab12d919e7bd559a940085d632a964560556f98995883a2be3b4ec0808fdf9661cc68ec310afcdd5d63586758c90919a5b77820288f843ce9f86bbc8c1bce4e8777213afee9d448a3857d5878c4e5833d7b0b4dcef19f7e4bd3dadde70c382eadc8386fa017ba2f585a2d4a6f26c704b30f7bf4ca1bc8f1ab26c1660b96f78d9b31779566d673238982730edcd89f980a978c8","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
