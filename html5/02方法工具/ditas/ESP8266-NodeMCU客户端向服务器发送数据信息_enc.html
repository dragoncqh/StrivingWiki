<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"183e11ac2ab87935ff4dc554938d6c60f0d510264fa210f2146685b4ecf446c2ec9e6b1fdf2681c2fce1f3f14375954954c0ace94b1420701836cefaff4560426a24ec1edb556a8da193cf6af390443f96accf2ebe610df8edccf78179046b0a000680378293c39919f4b632196a87d8b1f01ff76d8636d8013bfadf24377e467f3beee292e9c88157e98458efe9852fc5d81b8e44094754f1b1150109a779e5d8cffa9927fe87f071e277111379e2e230ae9ba1f99e36ba7fcd7558c5b791ddd297996212fc60e031b5185f788fab8b15e7a327b5adba822b841f841c82240c0db386c69396338607b424b1341d55c40c66bbbbb199184f6aad477e5634f7074c35552103f7c41d9661eef45c00124b85a98de2cba6cbde698e3405f198769986be048193309281fe3d5f08291efeaa67ed3b3d6c0fcad071444350338d258f4123430628cd9a97b7f86200e7ec18f7896b3fd9f195d50afe6f2666eca581fbbf4f75633ee42ad52050fd02fb3612ffa48ec749deb99369daed66ec1b315db4559ee7afc26617465176ee6572826b0eb9d9d92b4a437d2ebccc79f8df54451722d45d2e15cc609fde8c2cc86ae9540bed0e49678d72c854e551d0e320603e9e86a58c91b25067a0a02e83039f3328f92efd5e1e15290a32938eeb747bd6a6d99235bc21586938467f3c1f98e13007808bbafeba6728b78718233c2569dc2f31e007c813489cbb6ef18a8e5c13f73cb3ee651b5daed583b802e8af9bca2a2fc39a77d226f4ba589064ed842cd1baa2430bb1a004a1e16fe52d3152d33da040c29189a940521d401f555495e7a20a6023994aabb433bb295f1b4d240f6f86103dfa180d11e60727e29acb83155e7c96aee03c8b39827f74578867350bc0d071e11d74b6e46f415c47a5406b7bc4cecaccaee24c3c386123a16e26481bd2833fab11f4b1ca916d897ee8ac6836c7132d5527e866a6151915730dc0a5226a9c605d8cfc0498ef36f0024144a6eb23e8e5d77053d6e2c3a06a46f79075fdd8306540dfae0e3a7a6526de6b16a0fadeca1abbecfec0b7a379ce67e805f51d74839b40e497ce02c979611b1d0e54152496b1a292a9e044a5fe3c40188d503f08886aa8da1a72b70daff57c45e4feca0207fd3a6db22ae93c59b2539c33a480d3c3f202892ddcd2da8b1a457c63f721859d51be9576ef8f6a6a493b68a14242ccf7358f517bfa0dbcc99a53e6f20dfdf0bd1a2531590cfdcd067ab95ebcd8a8595e7786ce2b96ef5723138860695b7ee6bc7caca52e2f57f3f975c6efa0041019ae24336a97468f8366d4b4465fe63d100cc3bd8cfcb052752a7b55982b9f149b999b322aa2edc43c2a30404dabd55f10c398d87de00b9886a87798030c9c8d545a7954087e8ad42e86e8b1968647c489bc920944422b31a9db4e31a2c362b035cd756ea6b84b3a629e40c96ba61183a1a566ffd328fec465d2fe8ed8d909e23553a05b70605ff23aa36984c7c9ddce1fa5d4bdb44352154bae5ededa33ce9e940124fefacb9f5046fbb70c9b467ec7ac25840b777ce736a6ebad7820845392c0c9700bbbc4af5afab922131247d71b4144efde7a2c558a32880edf15fc0040ef5751c62b47158546166880ee2841b887b43a9d0efe0e3715da03225be18c49f6a4d29f8c42f47e3691d6b1678e84ed247f5da69b53b240a69ae3c705462550337cb859fc60cf1f4b900c9868967c018c936d8d68b6e26d3ea33ae8f108514d8517cc87d9bcac43bb2f82efe83946642f8e38337cc2db5a43470933984f463524a42bc1b223a64bc5cc709f9cf1f9c650b283bb3dc438827fc669fab8b1caf376db5167ed7aed0c30245dc05cc45163e54d9ba453d9ce3244a5e7bbe2b964fa830824334ce1dd786db89bfb0a33254cbc9eddae636b51230c8407d2c20ad3423c41a95202fbc2acdc40cbb7b8637d38759b8b248e9e1ef5286b163ba2d2dbc51efa6e65ac87b1b24f511caa81a230060f09d287f99a83c32b60291858e7115103364b534057ecc16b437e6df096c74d68fdef2353d499fd77174718a23ea86bf337eb4f7e29bb8368c1e9b1b0f641f154b17ce3a5dff9ed34b5fd98d4480bc9a340eef8b8ddfee969fdd584977d4c325a1bb8e0b8e4ecebf4289c4d92fcfdfc4ee62c11bbd0d0c8e35850f58c940f5690815da3e2b75de1da88fce05dbc2130a2284bb9306b207cc2464eac391cffcfe13f53b913e299124b434fd52948819fa9850d11d3b6e0c015b64b8debe9887e8f2ef64e5a3a058da444d83ae272229930d9dc19e62263fee5288bb85ddf73ae000a61ab4accbc783dcbba92e6eb3ba6e03344680413a3b723f5c8a14bf354e51bcb3c7e2102984e8352dd6d27ed02eab811fe52d7d6548b53e0170f6551b26819dc2964e169420eccae1c71c590320700621a54af6b0a02073b02eb4d5ce93be7304b92417262dc040a33839af49549a337e555d22fb97a820c1ffd3e669d5b4d8d0bb71d4291f46f811fe7633db319296967ec57babdfee9960cc6d4118f4edfa1ff0129d83de467e90b10cd8ca7f69f5118567f32d268a407659d570f5b6d37794897de1ea5f74203367dea1d0936a062f95f437ba6a7471209048fc7248efe31b336f5a6e98e1b496e5b711e3642e8b52ac6195e9209f2f68bfb246c6a85091977d04c668b68c6a08f3818c3fea4c5223955a0631a3b3ba9237e45cd1fd3ee7bfef2a0585c38c3329ec04f74a5fb7e0152ec85d460b7c7a19838219f3d4588168d9346057225c5bfa3041dcf8a36ed461bdf08a10efe99d4b77fe1f3bd482d4c32e91ed12d8d2afc40a4981b4f4e2c9d3abfdeb8e39b89279cb1c5268dc5cc872d52bed8a823ed36b6193b9cc35e1d6df9debcaca1886603572c911e5e683d478a022d93705e4c612d72828f7f6c93e89a04bfe3300da89e619515bba646705ab94c14e2c562914988c6bbe68b7c48a452a45e36414d597860879c2b8e5787193139fdf800496ee1e2a107846c26eee92728876711dc4dc975bb2e1a4dd12298457b4d3e6bede37e6bc743df450ed6fde14952ecb27b8b1f0cdace9afb4844e61d49b52104a1009162a051cf7c91587854ad43fbe1ad217f2b8fe4ed36e6280ed6a5af68d77abaa46981b9a94394bd029542b1d111ecd11056f9a45d66ae06ecf0733b2fa501ec86dfe2dbdbc52f3788b86cfc416029adecbc80541280720671b76f5c1713f22ce13d1dfce9f75b9ad1d76f6472e1b7846d83699c1d8e3cf2fdc558e1d48761d9fd90ba40e483fd7d8d084f7501a25ae8947109661cf8b0abf448d56c48120945fe038f956049c748498cf7dd62b105971643aac10023c88e784b3571be35778167d4cf4bc7f50d12ef7489628fa12d61d89bee52e70421f25cb0bdc72fb5d3d2f740d141269805e5948571fd2c85dedb5b52409fd565a513d93c0133a6cc8d816f452f05c4bb82bc5a40b49d051ef60422a026633d0c60e5001f0ea15ad2f97b9e2b08f36c347648b6b7d48101892d0a0ad207124dbd96b53afa18185c44de7f549d44a20fe925a91a59cc54133ef6e04b6dd36db6498837715be494d6f1bb45441d017b0e328b9d46319ba18ca19910f8ab906d35508a02d36a2a391cd2ed3efe57d872ace2456b2fb434e036177bc084849c70a266906383d92397ebcc4cc4ab4f03adc898d496bbb794c62848cfcf41e79f9655325f65e3e43ef182316d944ece2a101f763bf003c36e8babd6cfcc3e279115035dd315ffb57c193f97b04c05d2d00ca941de0295ee47d472104f99a89a972fdc9f070eeda57b0882c971e4764675e20a16618ad7e807739fb04cc16d43ddb1dcfbf4d7afca994ea6e7d29f2f82d8607596a240013024c06f1e26cf4e59a1d3ccccec8f23c80b7b4cebe1fffe40b51dddb746efa4a5eaf76b33433110225cf2f90c0cf1c18eeaa0cf94a77d2b847221bb96ec86e17f2cdbc5500ff7bbbf217546c30c8566a52ed03a94d7edc517b843f9dfee58cb4be33ab53653365ce199267bc0cde7d24e18c478c32ceb95c73a529b04b57eab5f32bcc339c8112a9300e189ba0776e2a3cf92e0ba5a7c7a9fffdcda8bdaa78999a4c6ba25c28d16065cb5172537fedecb40c2bfd73881eff6b8491ba153762a7cfe382a16bdb461f7d1178912d72122b87267ec3cb312d5fb8ecb86826a0d9446d9c1a805fc5edf5776d64ca87d343c5728b1ec75b88adb2a3816a4583ae2bf6bff56e367b9018b9ae2bb168e983f4e873c99edc0d3e5ea99f60c888d617f711867027045b0f0beb6bc777962998749d61f14e1cdbae8be998f9f77ccc0d5bb61faeaecc6da82f314b4192a386ce1dc6ac944b424e4e1943f3106519b7e688bae49b8629d5c8f6ae83d2e27e00441c8dbb6999362371a6f7a1df69158c776cfc951ac01138d18ea1c75e48d0da6cf3227d23f4873ffef55b2bf5a292345a4a9d608e4110e57fe551b1256cc7ae2e4627a97ca415a23b864a3a80a727cc49896aed6d3381eb6788cd3d3febb522424a9a968afe9c8b00eae18fcfe137bf0114ec3a56c3896ad8f7bae2d015821c9b9059f04ecf27c47e95178732c85c00ff987f022d6825cfff064390c68fc0b270ebb15e8ab6bdc4a3f8de94190363ba974f506e82c5367c34e3c6201ceed2ce426493b28448228e79aa9a39d8b09e7dafdd3dca9843f1b69b652a00d4e368a66b213d09627244eff83dbad3a87a8692f59990ca8c1384503a5bffc4341d45550431773e878c60531181cf8089c6628a8918fd6767a2ad0f1601f82f33563e8ebe6eaea4a2647b79afb9ee2f75fa904f0cd15cf8eb7eb422e5173db764d10609f86e169872dc5112e683a75cfd38f8eed1f18034c56429686537a0d90cb5abf2c18bc81b28119f699d134d2dbf6ebdb34ccb260e6b92bc92b588a8b3f67ddcce93bcf12693fbf8cd383afb5d76101a9859b51e1b7c576663857691579a2884e5b02741fe48f7a7605db542d8cde62d8085fc6a917ee550cb4f5c39606aadc140893591ca8c0c9a2ddb665731cef6fde113dadab6e358a998c2c4a01c8e75402a343793892821e44ef03b0ffad74eb2ce61ff25c533ce22c4e2db0e2665dd4ec2e29fe5bdccb7d9816b3ed3649fd13bda6a6c40adf7188aeea35a85ef9ffff41bfa567028f5e5fdda3ffa218d0e6018c0ec59adc0db9fd8394bead303444758960bd5c561739c675b74a15ec0b9089606391c97b901ffccd9c8b5f96a23493af94e0d075ff634664406df1ccc21917ecc13b83bdba94e9cc2ebe3fd12781a97472417421bc66398d6f9ce5acc8d97853380d1e330368982ddf011697b648c87d0227f649bffa3c0eacd8ce73eccfb35777a9fa566423bbb55fac8c71ba629a7f7fb45c2f40f5ad179980f28d541e531f48d401507d1aeb069d9d36b4ab11b3c917572124c2028653bd946a71976c41e7e609ad09f1f117db00dab5951daa31d5c6e4e6b693bffb5bc1d32958575eca058f448413bce06dc8adaf2d19c7ec81748362875fed4e4da69e889f42a6bb37870014adf3b0ab2e8bdf8ac3666c12a69bc692ef155a341d81faa94b3325d2eb4c54ca10ce873b66923b4349491a41a6cf5d9af8d830b7ebaa130f39161cd079fa0f4aeb73f60ef1c5889de32a1ff4de26472fbdfe428d288ad17bd1fef31dcb7b79ebb375265e096dc219f9829471a36911b57af9d5b20dcdd0f33bf6adcd275b54109d6a1936c56f99262dee81519ed7725fc54a1104e2a80f4430c38e891bf41310389badea09b619b2f7fc35f9f298b3155bcef9f8228d94929199b04fb7d682718479c295d19833d0339b2edfb43deadcd251362ea2c32b4a5bd63c14875de70bb010e7209016494fe16953c9d88d38033459e01d9e74d71968918b4351354fad0734cd9c8bb9bf0a0d58abf7ef14b7d206120e132d650d52b36631f776cf970dbd6965c7c0d5263aa490f9e45b51da8d27ee921e6a734479c2d196909ef6750973f60ed8a68ff2c66784ad07222ba3c3fa32f92a43f23a29444a0858aa4a7f37ef96313b37adc81739c1a00a5a2777165f44cf2e2bef4f6536ab9d4e56571d5c7464cdddbfd55f2fe1762f3ca102229e5aef6cb7e0b57ef9572e2b678d3bf5ee760c6cecbbc5d85aed2da25b4c65e690e6bc846ef22fe5e9fb03174b5c6c3e83126ff1b1d5c7fb459bb737db4ab09e6e4647ee3e7feb42a8ea40f0475a6f08ce76177f3c76022cc96741b14a70b0d81ef42b640f508017b6c99d1e543a74dc6a910302b3f5b8da30ff6cdb35fcce9010523615796944a7d4208656a60d0031e1594277890d7890bb85409ec7d9aaf88b153953b10110a36a1646fef52bea76dd3f33913baf2f634cdfeff8ea0d80e91dd3795588133ea6f3d6dc915441dc56a2ab55fa5c20815d5ce29e66197c7199bbbbe6dc6d1df264f74b43a65c6394e46f565f216ada4a8a4d0343299213f6d697a3b95fa78b1f26c50d17ad922229dff74192b19e1ffa461235cb3c495818fbf17d602b59ff08c7ea257c997f7cd23260ddc3cfc9507477b414b715957a7002d3ea2a425ef053f4cfa675e2e176aca3b03fc7d16e89f7491708c0dfce4a26964c2044398a1c96edc5ce2d102fcbdf2281839cdfee4d2243119d0704444746ef612312ffc1cc9dda34eb916254d56268cdd83c2046f4d1cc6d8a1714bf1dce495860be55fa25ee220fd3a32faf0f1959a2d56a455c933a477030964c90a12564a6eacd81a288542eaf22bb62de22c5e27e82bfc904303b4d70f87b7ea957fa8da20b71853232c0a0a08cd7bc4c8d898b30aedafd03397b854b4e41480c35395c2540e37c6cf2702b3d4a330ef4c4fc619ef4d693119e320168dde24b8e6146819e72b72da4c3b2a30d3c53c11e063d16c4ad0231540a9e87f98061200fb44c36d5a3b3af13322add9efea518fd21e6ba482d4efe789ffad13580f5a1bd555a6f6293954ad1a036463c7814d69445f50d0e8b57ca08984c9e4fabbd382c8e70433444fada9f60a52d354fb9990fc86e1608ae8da8986677a95e15c31c771746ad2a1fcecacce1793ed9f27d24bd0dab29a2f489b8ab5a6558bb935e8e86bb8b59ce37c9cf6919164deb6eaa551949998b448a3bd6995c0d121907c8c8723dff7b25efb3a5c2491a06ca842713ff083dba79307310956c3bff66407763faa778a7c9699fcf78a384535198ff7e6f9796382db3cc0a0c856e5f63a9f618baafa6854ee716d129ee8e276177be056ca8d8f3516fffe65a57088f18a588e6b6a8e5bae4ea2db0d3d8d8a8239c29fea447aaa76f787e1b2dcf0e14a549c880229023546933c0fe69bf4ec957354a7fd5bedd8ddcf6060a1c25045dc43d9f0113faf67d466fef56ba9b0b5ffffeec6a393d0433e290755b4069021068c82169fa09b9e91177e3c9410c3a6d9032a2112235a766aa3252ede2c82dc173a61ffe5b1cc2cfcac6db8ec32b9c69baa4beb4530f90b60c2c0b3642089415a9a381449e195d0e04fdf8d498fa166d5e0fef57953c230028d87e0e6d4697c38d40e45904bd19ddfd9ec6bc6a6b9d1b1aded6ffd612e6c9eb92be62245ead92400383dbd16147062632ef6f4398834fe80df5095250929376c3e9fa57705820f135661ada28b5b8ac22f88be0fb2bd6a999ca49d3b4ba276e44615009604cfd081385a3309b7c8c827bc3a9ccbbd29549b2a72c706f0b35c16ef4f6521b0c5fc41573e01aba2aad2404ec60b5910520e05082def51c35f6c6c9f9c09b199f4547b399e2634ed32e7692dc17a0789742e1af6565cdf59fc8307c8d18053422a2f607a6891fc5f2cea39b10dc686b976bbe8e82423f201affe185d664670fe705600c725833434ae2fa2f4b14065fc53fb63cc114236eb8cf64618e66e6cda3612a4801c830eac6407465e80386097d74687a8b24d4ee9d7deb6464a153a8aee7b57221c41eca06393bea7a6bcc35f410b3d5de41a0b3d519b36e67ce9ea395879827e0d178e2da3623721c5f5d1a5e85c811fe6d6c5a1f3258cac48e6c3f1a2a3252989f0ee4904578b8aefe008a09f88f79791ca9b99052cdcf514ba6662363d90bd81d20808a915970e797ecc56e7e7d5937656821a792e2ea5eee481ea41ccf01a83db85aa9ef32ba5ef1241a1de1613cfbe1ba69e0602b5716d041057831b4a7c3b320a61e0a21f35e84a42856a66abcefd337b58962de1a59eb70873099a77ab9a1d28a0856bb6958e002172223a7335cb215a0d94e6f9b5ea57316d6a6707af7c2cf8f9381b1c43a02e6bcb0759788f7e78c88489e09a4d202d241e7c352f70b489fd0f6524d5f2499a3944437fa2bef52027b7b5371b3f0695aece6ea47d32aba708e8ec580c945454ba56f1ea28c8c44db2b3b64f63fbd51b89a6594b2714a885dd7e8cb3ab185849507c0fe50867d113a0b2fe5f434a8e111839ff2cad4af6259ecb06a9e61a9ed81c79e7970ab0957894da37b5dae51d468090fb68c895a7afd354918aa60b4a842ecd93d6923622017c85cd2c9e10b0166da3958cbb0b6e0a159427bb7857c4225ab3ecf99cc3cc4804ac6c4734a02ca381e7b6a21aecaea09cb826a3b7f673b7894b4872518daa0bbede484c653792be4da2534937a5fd71eb1c429242935d16216eaa1b8d646836317a711c2b1fd24677c366d252ee7fb8fe40d7df6d95e1074f1fa87c242bb47fed77a72ae00b40e029c133d554e9dd643fd93cb593f64a4cfcdc2f08e98f344675590693f8a6fd7dba9a46ea5639efc037153963a416ef789e77e077b98393902dfc7c22c58b56b4105f5c21b52ce199bfc0269126f901ea6d34ef157c1e3aacc5823fe8327bda5036d27ae2d2b0d62dc5cf28bfaf79631a27f1be80b6f423c0d2f57550eee0b18a087f1e685c072ce2999cddfa0b8aebcda6218222fdf50356c9adba0c7b80842921c3873f85c3bdf52335728726e2d5a1f57bdf2413c2ec47044a30a0a17f47b4d098c9dd9f8e050fd8c33ded80aa8055d70cb0982d67bf0d3f065335cd9bd97867e19854f7b3828db8d861fa4325334af52af0db96823b449d6f6781110a0de1d19e6be11842279b90ec03f38b76aa574fb684ac0c7e37557becb9fa92273c53a5c587e0f852bfe1213e46d47a0906df67be2fbe32252c098dc48b00b5f350016b3ed9ff72d9dfd68911f470bd2b9fd5c2bfba5136a744195d6b0c1a5cbc5ad5429edb4a4c9c7838a970d2d76ba53b9f7b3686defaef41893bcb242dd4c28a8dcb3454ec4ae690c8b40b5b8d41231f4399d3c45dc5d80b60279077247f7a61dbfe69add1dd94b8679e5aa73ad589e4ec35f4034ce5d796a0fe748cbdd4ff5ae97ea0d6de7c3e51c8e12db6ee90abb9b7d54255a239e14d9fd7f68ac1e1669e667e8256190587351082750b9d37fc2511b187acb3bfc0192d78e1fd3859369514f2e87669028600d546c704da2e2eaff9b27b2e3414ea983b5475b7ff5d74bc16cc47bcf1c7f3b604f57e0d5e0cc7e902329ad79844a8b17d0adc6df7bcb08c198e9279d720f8943ba18e69e25cbc1ab8deecb7e00cfa9179088370914220c84cc17e1f9b22956ab71837d7ef641e779ee225df0785b8da93916b44b9f81a844ae0a3218ae908ea4023dfa53937d81050f0a3564f14aebd30bea37df4d36b534ee4be17fec7f17d553a8a7cac9775706ddd130561c056bb7115bedb420cf407a8b3793bc3dccc1f3df4fb45021b8aea1fc7f6733e486c17b50101bb28b66368ab319780c71e71bac69da542793d364591508dcb83b3850a6896c46758f78fab6257b85a95dd981984add45298872ea527ba0a52e6e9091e15839a5e164a45322433a769a1a0cb2e044bf5a83d6f79b732d72a8575c9b01fb5cce31a9b4379b06fe69a36b9a4055e6cd05d4da931a2368f9d6fef17217b18c7184916df304d29a91eb40f67a2704c9c66809b781355ce69562ba77d18bf40f9232d0c2f222903c4fad7db67982e0f6edcb528f92f1aff3fc2ddc47ed12d34210a1f65d809c8902ce190a53731f3c1d96c258b0156f73ccdce5e44db2b562787a277d41166fe829b36297fa9b8b2b1df64b636fe9dc95de5b05444da4d89c4bdb5a47697f6718e1aaafd277ea66ba0ed3cacc84f09ed05e25cfffc5f2a46cbecb4c65ff14aed625155e36f84ebe7f046b507caeeb1183718c830c4f29441a0cdf7d82ba69f16815282c49eb2267ce413da543598e0eda4778f38d4c56737f6af2e805febd3538c0c5d602d7c6f749a49e15aabd9f0985e61a71769fedfe4e4039ec3fe366f437088a82df5be6a4e2e8905ae30c15c7c961ecb02a30895c967da75a1c0026c16254884aec3cd6f2791c5291071c96550fb227121ff1ff1263f09274b9bf36192086593f50da9ffa5e149fce346ac8c81bc4d00aeeef12b74998ed26ff94509b725feb4a68c5fe85a359230e9db7e90697d8d890abfe54ef44689bccb8ee113d87eff128c180d12b04ba4f57f6f5217db76bb5bb95751b7c4e5a11dc82b6e2672568d618eacaa913906bdea9c2e28f217e01e7fe3f9c2cbe75629fcdda594cb19d6274d1b70373aaadd637b665415273a6cc2b7a3ec231163b0d3c04fb8c09961ff85cfb3c4d418d20d0f6f3cf9dc5e10ddf5220cc96636dcfebf9eeb25cbb5422d07d82704dd1bda153c067c2de14473ffa7db7b10fb438193867c50f1224e1ea3a100b2479eff87ede4b39fabc5d5430f3de8c889b068b5e52c0f38072fa772bd792d288e35a8461c528a24471b41e0d9cae6815bd957edbdbbf6f18941558894a35839d5fa7394e18dd83e25c47840fa8228c9fd2b2466ca855c3a5f09bc2f05c0018ec4efe55a0fff1cec61ab280e8a8fda3035bf3dc2fb4c97db1c69cb8dbdfc5580e7027481abd104dc8bba32e167fd0125a1437cd124734cac8f4a9e243460a4568eb18708620bb11c1cadc7937c20c294a2e7c06996615eba2da2bffe9ecd7092f46afd0142ee113dd1189555f6da1f33d7ea1d3a6ab6f48069abdde0b85b17b46d53aed0844b1d97c8e858aea734fe2f47d0ad8deb7df4d0ff51a21e2cc9f39ecd47736d1efbf7e8a2465511348d3dc0d35d0a28ca9a57ae7d6ad1b647c258a64c79f05a4bbe7109baeef66bfa884b947e97958dd910fe440444bc23143c5236b44dec8c0150efddb10c875150e725f7c0f795c655177ca9feb4be262e29ca24983ba73a2be509a55bf01e2b7299a9218c451380e95860b067a164f0f56bdc1bae5710dc50e1b06f0692c7b2b92c5eac79719d05fedc826d13ffa1edd3c033ce6c094d887bcf4e135df660e7b99c5177cfced5069123edcc14886b76deaabebce3fe138a2bf02e12d42874e9077f6390c0d5c22524952e986ee1070cb255499b260e5e8a65fb07e4c8916f773feb0804f91c80740685e0103b34a6681fa21c41338e001d92005854ced97915b1742c44e1da1a0800c5a4685fc883acf38ca811ca2099771292e53f88a06a2006de5f91dd30057e88d875e7a283ca9d36497bde24598ba02e9b81a27f4c72726a0e227f2351d00248f3c1f91e88889c762b8fe48c620125c589b0a0f85f888636a3c50797e21a3dd7e69d5e288d430031384092a841b58eb08294414796a77259d31fea42b4d9bbb08bb5c6b230526a2afc08264a30ed1ee210efc27319f86d209f5e8b48f3244d6ab3d6da8806f9525a6d16a56876e469ff92a7fa31d3a82e118eb0ffea785f747c3ae25b1f0daed5d42e3bc4194374a16a7c15a232979f7f3ac73a1a84acc6ae28dd6f907a4a3bd82aa2688bfec0259157bef4a5723e27e4dc658c827e8e69b65655818f61ecc6611ee27d681f15e0b259ceea92c4e90120b755526e11bb54644299d7ce5fd84bbfe2d393fc1bc7b8d0564df15f72fc93db1854175423c4de19368833f81fda6050c31678720e5c8997ba4716500a86423b7838eaff616c907b6ff02c70cb5d870f02fd797469010c92c572c2862ea850c55f6585b26cc8c4297a5c094a7253b42bb228a52937839e43300cb63f75357934d4ff2ad23ab9712315c12b6be47066958b0f78c9e01e0d3b96287873b4961e3196f8bcdf077f81e64832125485d3a043fe95c1ae3f3f635fd259689a90e53428bc6073d7ef8570e013850c9ab3747c99e322f62c73d82d719d14d34dfef9472a5f2b7564d312c2041161d67b3791ddd7fa1aabac7005df3b2821f15125f2644ced42741602bf61d731d1f3aefda6ac55588a724f1a3696c250a6e503c2bb4b92515fa59d2cc47ea9c6219f93f499cc24e8b3e9a62a0d859c967485767124999efcfa47052e423f47c45022d0c2040a14c3009b5397bb50fef3584be49de33513658812d5844827eb255e1be249814475211877f7ccd2ed1826f148477fc9affbe20017d5ce1243cd263cbb3e1ac93a38eba0aba6e8d10e207ec1753383e1374960cd48bba70640ca526bb34b5bae4593dac787024e76477da7377dc869fe3fd9d6c5c9f1fa9cdb453ec761f7bcc3e668ab43fc762f81ed8305db59c9f0a18ed70928541b9c68c871b2562e811f1c6655ebdcf8ecf8fe78792ec73e29e550374f0495390556bd5da02f6ae9b002495c4bf10d0b26170edf978294598d44fdad24752ba3c5d73cab3165f0b9da87b37dc4a8df305d410e740f8306cd7c1f01c6e85f62488bccd04da5a16e64180f5fc0ca65c3a775b8ce5c2aae0ee27b431eea156353acbd002a35e2510a9251e9538a93991240aba8bd1caa8cbb4863f5ea7abe39e26aa2351b2975e488729dbab3119f0faa9a1d4f9bf82f01762951903ffddca9e5106bd2173b5c53b65284a758a6d109265c5c1bdbba930420376e50375ee6e6e5f7d511ed968deaf0a682a6cdb13c94d81c8f17b048e29e6597088d757d970ede8dfed92668ce0781d6cadcd75b6bd4c92b112b6c8b49ba6879ada0525f7f6d307b67ed4bc4d0a2cf8c66d6ee7cc90c50778587b4d091bb08895b60f5d4b4b906981d74be254c9221f00a496602056cab21f40e957dd8613f966e683487ee98502b6f2992eec091cdee78b395793efcc9a89a9f87c3a2caf05f563be2c88dd504193092fcf0846e2d707aa1a8a2113decb0aa15046c760bf7a1b33b54eb6363897dfef6f8372ee32b2666dbd59f26e44824a45cd647cd8569f23b2619d4a29b99678cf4401cb8f28ff97910f22055c2b388cf80883a4ba7df61a49508a7c6fdb50b57cb4f17b9a171d72a11dbac5eeec3d8e75adb00a2e6ab876c7297c69eee6978edc46561bf80a6f2ded7955f9e77d6e9cc1d3cb6ddbac0a1519c642c4d283a8c3fd5f6959d108d79a5d9683eabee3c42696b15ffb501873d67b2324ab6c630204ecf16b8b2f893e2733bab49f17619b9f596942732a4cd3784616b31373eab30d71dfe2e650fe5951c71be777d873b8fdef008186db523a041ec2d2c7bf0e41b7c1a305662e5a45c4c1b7d1c917b47a6c80dca186589ddcc2553d5172d1c250f054f8cbe94934e663b586d6a6033afe67c1bfc1e7ceb8c4d8417674f9afc2baa62b8b79391d340a7634a73edd2cf40bde323ff512822575f43e888f023442e47ee4a5ac4187e6e7441488593c09fe8db9d63cb90a1c62eca399a174b40d9ba5924a48c763045a98c5bb457260be85c06d735b77144dc080afd034749e6d68bbd94df3d2370b7064c1476f466fb3f1bb31c662071a9fb6d13b51cc6f9fb3bb071e89802d234536486aa8a77519bd2938daa94c2f2429a9895799ea1eb1c91eba10630e1ac6b4d417b909cd34a02fffb2ab728338eabcb2d0ec3e2b0827b66f548b34955c2a83ccdd6dd925280d1a798ef9b07ee9a44c082e31310b4a46e09b665258739769a8aa49a2b8958e8e5963d81cbfef9dc9885f332a8d31a42c4fb5187f61f906a41b39db6e061313b4ffc8e0797e1203d76d4b3c98381096460ba5b90c9289a5e589c859b0c6a159ed04c67e331e138565314a2340804817c4d147db5a251c737a43665eeee888d533c9fe01853f922b1797c76f63dae7e0dfe4d5bb582151c11ac2eb8110cf9a7d8d03f3c6a80bc6c5dacd51df0d91708f55edbc4427974dbf24b9734257f8ed578d0446c8d18e959e85d6bbd930d5f096a054c1012b3514cc596fee6acdbe7e838b4442ed5c900134124e62d50dc7007d545abf80ba52b41b6eb3c5c06de5ee30e1f46fa045c443e0ea26f41dfd67d98a07d0b07f04ab4ca6f8678d78e9d0ac44b241616a6b1b5f4c4821189a1dcc13473bfe6a74d8404f7b1e84e959b710172d393456d46d68d1a527f0fb42191e4ba4931202b32983fd72d1d1253fbed48139217dbe875a0f11e7b464a132ce8ff875aad0f808e87f935d05256f533d3fd760be07b80bcdc8302a5c11382d3e91a2cc9e24cbf654ec75f278974597e9fb61c6e73c8dba9f9a6a30cb65082ef06af36964d872884eee419d19946bf06900843e278d2d73671717f40574154d1e3c09e142897289597836c0feb116ab826fb24e7f43c48ffd242b58632c07402f60402f5e2c5743fd24255fc2d769154ea4d693433b41b29f72c3aba2e605720841b54e74c1f5da7a5a9fbc57b0e72ec0282145fa0c19e737c048fddb19091b95659505b36dc95368ce136b7252da24b4341477d65e9bf066a365c7e19b63cf1def11c87d69bcba5f46dab3c3de10942d812cb3e728350631a10f5daab0ec95447420c3ac4f00d437c0f76de2e56799627c1015638afcec2f46bc830aaad1751c996c404f15277b848722f1451600bc65b0d5b777d9cba2f0e54f150155015ea7597b0acd097e0767ac269ad1589ae3bf884810ee906869bc8c0400f0181e0d9515838de1a21dd1bb240b2e69eb698457deed1dc1b271bec589bceecb4944bd00ceb9d7e09352325c3755de38ff98a7413c02e04d789453d4dcfcb9e4f8d8825707d617882e7fdfe022eb0e0c41cedf019defb6469f249e72bd3e41a3bc8feedfea3d116b274ee1860065e8d33e86234b90ccc709f8202f9009df329c00095d88b9fd3f18255d5b0b5c674814d95259cc2c473116caa14b2f7cd8000c25109b76f612a377495f82f46b1224d9803cad3db206ad9d40c8304f64c0f58b3dcffd1368a157486fd85f6cf0f5a9f0b8a4f07f91af31916e46a9faabcf8e9679f46b257c60551dd0d62eec11e9b1dc20cf71018c30fce77ada4bec2810850ada59ae38fe63623486bb20b723cdf86a57ab5ba1c298725738730a9b3350ae2c9ccf8eaac85e758ab5c7eb1ba4bc9825b708817c2a377184c0a56545f7773951a40ad43a61b1487e373b59fe27a7a5164396767efcee61cfe474ef849208ef724e25c340ae0dc34707ee0cda6cdffa6c64c84a68356971766e0613282de70bcb61241855d565ec0b3d6a57e8cc5cd95a27a3e3aa6c30210586b41305e98e2a1d4dddb767af92bff7ea16cd383b75b822aad41936c78efdac18dfa4d574535a104c7008af996cd77bdc7f0fb81b12cfbe85b58e260b9139576370e315bbe1cb8aedea42e2945763218176b43bb1b489894d46e901ae4df30a9ade052f2a4d4b0de2f525b08416cc25dd9ea25621db97d3c0c6a86f8ce2fd5b07bb94bd9fa30a1a61111f8683bd5b1d6d904947a8d851a3988d1a071861eff8e67b94d854de1ba1f5116a50a2d3416a8c75eae98b85c0d8e601a16049aa4ad976d2dd67635ed6a97491e8e0b6e852179d363b3db36d8b8d26284b58a46739867cacf7992c751d176f29d14b2b1143cd65d6c902541458495e338b54110fb46926c11234c8e67c903296f65bdc705deac88e8a2e9abd7664a56f8e4d0548a761e884fa31830a0593bdc226d10b0df86b3a7a054b0210974d793898b4a79fbfa099702c6a1252e66f410fc6506a33b697b917bec1a9482fb96f9142233c68e5e01b6ac50831eee9da9df7c97b0050990cd0244fe3147f152039a88542479f20abefc7e26fac1de5e5ce8523080870e5dd9bbe5115d6cea0b0f91f2f3696b4d0639a023ba830c4edbfe5b65d1d65f2ae24499a206a451505fdf25fe42cf6f3de38dd4ec0551d1f7b1aa942144f580a5564873706b9e2041ef068094afcaa0c9c8ba51c189100a152ab8d71885beb1b36842ef9ee3dc5714ee3d571c230c030becff56a883944e11f6042d59428c380167d454806f634d6aa1816574676b9bad2ac45f4f6e554152c6f8861124518f7fe104d45a2da3db39a1010a52da0480ce83970322c73264e579865837f578beb52ca2889ec5d6bfd2500b4348f7c062c93236a524043220cac13cf2d34bc02ccea32347923978bfbaee40d0cffe025573badbaaf3f8ea4e9bb8ecd8c0d1fc01faf26a50c88abf43fbca6161809d0c3ad4c60819606086b96d6d1b7061125190a69e066afc3795e201f04558495f95fe4356b392abdc897a912af79d2197a2b509a570a0d57bacbcd3c49df345f409f248a2a2c53667937e76e245b314717684dc9ea4eecb094e1bcb06baee0ae1331a5a2c57d28f98485c9b02a84566589e8d301a1b2aeb3636b518ebf4d469fcd1bbdb0f0f961210d60c466a6464acb0827bcd9cd2719cc5c7ae6b622f1f076187751a7a16d7068f8471cba53e7e2dc4b610ee93f9338318b4bff183f051ff1bd3977d84cad3f3daad5d64b47f429bc833a83d3b38ba3745be08e89c78ba19324f4164437d87298fcf499788ba09870d0981d10e083cbb137376cfcf3c46f89f196ecac56ef4e78e3893717dc385068b3699b0f8ba12a6cbafcc9eb7c07ef2ba4fc06bd35a7796ba25e8667abc8dd29f9dfd2e335ed30f98aaa4a8639b2a860a99c1519bc273afc3295a82535ef4ed15e31e0a6bfb1531cbff2a23d242f0458457205fa2d52b2ce44d7644ae7415c8b5431bc2e1f664345dd0c47c9d432743e2744694945df78778133c907b18db96313f6d211f99b092072a8dc84295627e9c16fab60ee53991cf59ba1aff182a62dc7efecf2ff4b669a01ee7c96677e9fa38a57fbf4fac27ff9adda5db3e5b2945bd8d55c64e9e854810d5195c3d710d384146f69bea3c588a91a67946f8a1c0240037bc0a4c88c35e620400d1cb72a3148b1c59279d672bbec7882abe503fa305458586cdbaf92e2e82aeeab0da9edcccc02baa0ec70f785a4ec0286cf811cfb3afb3146003c1d0f760c69c183cd166cdbef88856e2ac8f19bf055ae8d1aaa82e62c698410b7ed108329d802eb800a7ab897cae1b0f37234f5cc564b73c5b86645d77fb122c8e9815464c51e860f106c2848f4fc63de5f82f70b0967066817384a54759aa177b0dda4fd5d7d7e0b32ef02b59157e1b91ba1c59c7fae41ba4777e6ed5a2d52a26704376586649adbb5e7611cd73d1ebbb7db3f3e9bfa6a1ee3bbf6e0eb5919f6e0903eb279bfdd607cf49f0dd9093aeeb94dcda94d3738238f1e6c75375097faff3d5de93426a6c7170948051ed51d5b43ca7794096e7c83dd3aebf77ff35ea9e893969fd6f3f3817bb199a31bed47dc279651cfd85c46a7f72627eaa5088aa152f72749cef5640c1409dd0408900221e033b9f08d5af73be69b6076e017afed408fed6cf7efdcb2d369f2c9ef4cd32a3fa79f0fa5d02f8004738ad1f4ec2e7c290537d84cde0b72795c0037ffa579e0a5af2314537f31010d940fadc73151c93a167909b907992517156546e102462b89836accb186804247d0671c0697f9ce4caa45d0014b1fb2cb4559c6d489a3ae55df323e91c7eaf1d4f5dbf9fcf3ec70be52e482cf9d1e695fa012fa91df1094ac816120095049e7cfc02bfd66cc8c36e812f1300fbbb20065a31aec85022f7264146baf0e9feeed65f493153083dfd8b043fa03a6810d9c1992c9839071d8b7a7720457db6326ef18082acd5a4ae89fc06a62466bd7edfe30b42e10c379a6a676f4534da0d0bcfcb7b0bbea22f3dcf65203a2b1557ee98cba4f8a98c3d966c2abed3ad1aa4d3cf64aa909e540d1116781eba17a683cbafa52b72e20bb10a79ab6c3ebfeaeb7e701ac2e98e1eb75d828bcca469321eb02f6ff8215c9266ea699b1c202862e0323d5a4ddd65d160951b62637","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e51cb6d05ed027db058edc159e71b81e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
