<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9705480eceb649b1a05f77ec0c39318e60d42d17a995f13c70a8deb508b540d31a6779eea6228bb290dd5284f6fdd1df868f19e4d337ca6a7098bbd4ca19c8c0619f13bf22a9c1eb7e9dc71d4c63eddb5af1584da2c2a1cc86fb1c6aa6f3d069a97bf5401192cef617ea51ac2f1b53be352de20a616182752bc4cacef7d4f6c1d749579fa44f2fe23f6e0c78daa10a43af70145c78cfcd42906755fe64f15a1af3b060a8a4b9d3d371f8c15ab16aad507917a2c555aabd79706487f8729f79f37d8e0651e9965fdb73b6c3b4975162e86a90fb5091a993f2bc073d7c1d0b42b804e3827271928a4276e9a379200d3ff3fba6f39966643a5f08e8338989dbd917f2b20df3e9f93af554c2937a04d131c8da74e71c22c25bbbf01fed8acd85d2db63224a87160bf7e9280950f6fab35a96e1f587ec8b070000aeda27c4c1f363537efc351d7c5f56c4ae4f9d24d109d91a8927798118637e17915f88859ee3347b8adf085db79280db8be56255820fdbb9235a239f109fe45a82fbb5a2ab642a4ffb8d061c1e1db95636beddbe730eae55555deb1d8bfde7867bfa1156291b2b4c8422f2da56b9d432ef677550cc855d446b1654421b0f0035a7b29f291abea07ac55e64804452ab1dab494956d8fdbc17ccdcaf26ae855587a264eaeab9b65353bee0fbb8a8d489501a270d56598ca974883bbe9c7941dcb443a5ef4914e26a3f75009123424d3ccb8d883362bf8a737c0d8930032143b4f178b935d518a212f269525a2e7bb73317594a8ecd5787c7c532ee46c73d0c30ad2aa2056fbfeb1671e37c5e15b147ec2c79fb4bcd1f486cfaa78108026f1bc5b42cbc94a6ccbc587e2d562dc00df522ddcd257b1f8c1e2e5a113333a648209d67c6b788cc85e4e843bd555a49567ca80ef171d2e29629a24ba199bed9d100163529408e118f60bdc900d8b20c7631a7d0846816bf541823e36eaec951f1e53a97b4aa4906c09d310ad06880648bdb689eb0fafb6d2c118891f36a18272dd0044cfc3ae8b932993a18808f79809c4b813a1c2b7d993715e19eaf0644a3abd1e041f22a7b13d22de23c9a109307df546fe8770a9bd70f8932cf1da24a0029404a64ca3e458104b3e1025c938eefd2ec227aec677659bd0a725966a01f9481ffd78098877faefb651ee49625c8893add6db46eb184ddfab9dba2cf8ed6915b09d77b236d2ef87465bd8dd06110da896fa3413b9fefb2dda3c5d3632af1ca6ebab4bde967a5977704801185c9b744aba1a4c35abf36cd68751a74a344214aed65573a457e93f77f8965f870b609493a3910813a7f17443fb1979e0f6012905ac009c52cd10749dd0e9821ede0202dca19c4e18c3e654d5cc35b1d27db3ecac2de096838b11fd5858c36b91077bf2e9e51f36ce4385d754dfba062391793c1c1e628521201c88e775118401f9bed8e70a3fd976f4ad018e950b1e6bde4c677712c58da11356c14d5e368e3c9d2182f543466baa0d26288aae100a4151f891b7a2bd9525362c935f05ce6141c5fdde709cf671d8db146222323b717a7e81deba26ab0a355a7e7505b8eec1e47e3e5eda6694581e4ce993e638e1b854e4abe7de9b77903acf08a2ed36240294b43df36ec089a018765371cf9bfb9d00bf6f621c128ee1dc4dd8387c00ff15d57ddc9d50188be2e4e0b755303325de6d6377fa4018e5625bbd5b5a11e7fc63186b8f2247eee595e6764356dbe380f082a207b70cc2fbd4e0c54c63d187248551d76f2e0968c566aba6112759027f4b327e081ef7cac9c1692220246398208451d49af592efba68324d6481a33fc7f771b9bfa6fb6eaba6ca1dc21283ef8d0de9b0ed5095002c2081767d1a695fe1d304b22c4e5027ede70958043bae6b74ce3b0dce21328095a8c33ed605f9a3325dd722b2a00d16475e4e7d6835e9a0cc35b3a6890b4b7fb16f1de1e084dffa857a108ae2fa73af63109ba24063c391f657b1338f68cec37765b9a9960c3764a87f29f0383fe17e2628f9482574aeb48d557701b9140be4554e381dc9aa9707216ef0ec39454889bb07c534523a2ee4f5d0d1b20924321f34996e72cdd93d64854f4c03e255ce081d3ea7545b9b023fd0ca6aac1bc70eea47ca1c004a6850b3d74239d683c1b49d7ec3547dc469873b2a218c0dfc3577907981fe83619ad96371fddb1688ff8cdb1d3b0f64b412867ca40dd67abbf8aa23481c6dc07e0aada86cb9396cb95fa2f2edd3968617fb3ee06417476d1df34fa790ac3f88b9527d8b59b9e1ace9f1d4e81879a057fcbd9025ce44887e80f45896f8c95d6434a27e7cdef820b80fe681b552872506816633ecf957cdb201f45b01e3f42ebaf28f1529536f163cc8b5d09a56a933cadb60c5a5801672dfc8fd3f0e9b714581ecc6159944802f2b8e964c597fbe3de562e49eb813f68cc6449c8892a4c3c02b7c32c2569aa69446ed6a373485c8fb038f283c25232645da7a10f3044cf02bc6192fe4d24873c6e916987bd1d53d822a6d6256bc51ad4a235d9a60679c757bbcdd15f9e49f45b5b322de036a1d482fa2d19391923087935e0af667ada5e440d104570f340bf737579fa6b816d2f1c723f4be7411aaa28101c8c351488394119632e06763a4d60bc945cf8a156cc6bec509080968aed5007b8463bd240d5673932a2b3412adeb55f5588028b3d78dafade2cdd23eb7f139f744e97a7445fe29d5a27a73de2b4f150bc8b571c780990c32429eaad38751848e0cd22e65f54e524240b71313e386011d8e6fb98a510cb3eebeabb89d3b3293d777fdbd528a65af2a3b5c8c8bdffb3aa073e7c07d0b6236d2cc8fdc00419b3a92cdb93baee121fe9ff44683020316a117173e88ebe5081be8afb588d474bb980daa33e52fdffe38e2145ca4d1f5db571a37ba67991008453fbb1b9967810883160eab27d8961057ff9c2590dac281b0d0d37e4d99db298d94fb39d467c91f945596e8d851823fb75a543851410835ed27e37c6bf3daa91bff189b3849bef8ec45f1b759ea75da405752ce327db20aee19bc353bb8b09f3542c9845439d9de53ab8f9991478a3a22eeb9c0f141d631b86cb99b589bffd9a101c987d7b31fd9b4bc0419780b267b35c700f9b8b8655029166206a011c76bc43fe40eb715287759dd76d416216643ee2b37548f2b82e9d441f8721c8336ef277ff37b39fdb5a8f6aea57b7577857a5d83b619113e12188dacb2301c2d40d2d3e1b13195b0515687212a16f6f226b8fa10f37fd6bced5e49698ef3123ebfd838348fa95330bdd4e5c4d808dd93a412d95facecaaee69409f7df50ff97d569eea8e9eaaa704919ae962b295794ffa99e1b3d7d84fd3d94694e7be7c531a1eb2071842e6dabbd78103e3daf240939e12db26027713fabaa1010f28b0cf64af5bf0e2dced92c39a4ab0ebacd642777b7295886c8f34e2c4f5a190472e7a41358cc490d59e84e8bca1cb225b09b76bdbad55f406a9705e462718d12afb0e5e24d3a1eae6458c162730ea70375c779eb3d074ea7c71c4588ab312602e667453d009b36151bdfd189ee75daa1b5033266e1e165940a4405e2f2a5eff9c7441d22c78e49f4554d4b770aba1e581509ffcad4b8c3d37cc142b3c356965bfbf96cdfc9c297364616a71e47424e2aeabb3ff6ce34441e69f7e2768bf977426026b194019808d0e196b31edc9f79310b68f336716735827ab5feb897f59d0361497ee2474a0e486d9b0e0d0f1c3b5e68339985dab8d234137ce0f40efb3237ff5351e71596d4d0d3ecb52efcdd72f1a372d1fc176dd571628be8f492be67bd2d949d9c15ca9392b1ed6a23e104ad853f22417072c926f19e5f219eb720ffb8a053f3a787ea620430c20e5f7e6f33f9d1800649391ae43deb50de8f2585035784bc250d62221483a6811bb6c2479f33a082ea4b4e2ac913af34c1cb10bd7f69c8ed451f4010c13485f9a1187194e91cf16f18ad773d0ed0065817bb40211492ec441fed01c662fe164c6ce948ca642abc60f7d32daf2eca471b5277d39ee4098e75d8f92d4cf332bf060323b5a07b72e70e7ef9e3693a126dfbd92f13d4d5d07002ab34655156918c131bd791bcee0408ff7f69958a8d01c5d3858a0f80b9fcf643903e10dae0fcde62a4509033de2e255324b97cf891ae9da18ff7d2c4839eb6dfb6548d36737952e15db70d72e80da26c7e7587ad9c3025e0da8770eb53202d29e2dbc4794e41efab9d2cc70653e826ec0836cd1a60bfebfa624cc683ab28fb843d51685140ac032a81ed8af722059954b3986f99faff0008c59b3c6d2c075e4ca530e88db04c6bd27fe4e0258fb67cabbebc263ffa2999caa153b15d79805829f111a6893df1db2af5589f21393a07cdb9fab53102b7b07d4bf4d2224e3b8f743857174d2201645975b7c726578228947b5064166804c9ea600129282909189ec81673e385fe2a7095b6c5de15c763133a1d3e6c4dcdbe04d97b3fc1bc31e912516c6559f0065ed84e61c360689fabd9c46649a5a279cdbe4200b342ab9ffa0f4cf4936cbd38bd1c2124816d512959b806ff875d1b63545af4072f4c5e8de218e22d1209bacf41ec52910f3c31701a3605ff95d4795d532bc09bd2aa263a55abe4635a114c451889acdecadd739de49511c62b1061f5a199c827a02c8fd72be825b7f3c3fc5978433807d3b15c183abed141b2919001da0aa34bc3905d4365f5d789dff6f0c68591400748b7abb287ad268f030224751099195da515249a6da0bd0f65280833ef9bfda0defcadeb8be101c9d3e0b4fd27f6cdbaaf451f705f99e54f8ef6407d5765df83a29dd9c69e58ebddd43f3c4a8d5dd3fad085b0e3f001f1ec5ec8d6a6c8afc721f665c484d76e0fab7be615e4ff9ee30aadd83eef657a3ef1682b08b8d83b92aaaf423a4136673554f6f917560f6749f47c7c03b1ff6612ffb433f783bad48811c701d446c8502f38a89ba812199bfd6877fdac2f85b615a63b3ece0dd0e312a84823dae3c159c82909c09cb87e1d967d66aaf75c47e039641b0e24b2c83983799beffa4486f4566f5b119c3da76a4e5abd9f699fa04a391dc288aed20378263e0e4c71e5f5bc4e53e66bd119c872df04fc484fc8494a260559e59993e165befb0ec2dabc5752eb8b99a09e60aca9be98e763d77fbb46c85f275783bad0f1465e6f5354e2bc91afc5f615ffc41e55d3f31dbff525672619fd8ca4fbf323e1d6d5c414922a52a516ab43d7512fd5f712fcc677021868cdddf30e7278727f5224e9dd3b6b0784df3caaf2d0626ed576d93ebab19a7a816cfca782c2a36a8855f28d505727361cc32c7441ff188666892775b09b14bc8e54504ed72d55e3dc73f87091719a8fa63c00a8f8a304d503129b33913eb8e0df334e6c34ed5034ddfea17c6eb19da22a5fb1b060f9d1425b8ecafeae9c9fbb9f07d0bf753c216bde1105477701d45d20eaf21fe7993d9b15a795a6e52a0e4651925823d8ce7069bddfeaf12dca6718c3cf64a7c46e9793f25a3890a3da5fa13352203c15d9db0117a70d122eb86a15b71aaaee3f56413076dfda18fd1212cfd581fb65773d17865b2e46f1dd7cb591f6b313a4ea4abc585dca0ca79fdc0e73be89b3a499e8bd3dbf506d05f8a4c09fe49bee0e3a7b4cd96b948e73bade18e612aa5bd7c2f201ad7f84f17fae254510033a93d1d07a7f8b604501f1e23470412469260c7794b5f6d411dc4e91398f8ba699e65dfb5acf42c01f6704e405719a0ad4e59acab2c3c646ad410793c7b30ab07f0814e761fd0deada9d8a70d11f56a52f56d73c17948c60353511ad290d82afcfb7e3baf26217a2755d532a5c1a51ae4e9ade781021c7056866dbb70c07e9ac5bc7a9210aaebb3a72ab82af2f4aba84715d6dc011cbddda93013ff84dab3bb32fe352628301f91a42e84232d5cc5ab6c30fc449577eaba3d9b118d0e798a0d81b5d502879a82320cb30b7e6a2f5607442105b1158056ca7bf20d29fa7b7d0978b3a83a0f3c19e2acbb254bd781a6832a21c0ec4e2c35b6467d86442817f74bd23311cfa6a8b4fe02fe76e8666f5303f845b1272e42e2c9b42d6132c07eaaffc4741f75b4f9a1e0569550901ce44f564607e5e88135e875f1769cc3b09d625834fca6d79522f811e8a4b1eba7a5c6212f0854c58becebcd8fd89988436dfba3ec42d5af2fbc0d217cb0b13f6fd6b4146667467b7a18faf61b01278281d175ccc892031a42f9caeeab7714aed752d511df76ea89cc7e76c34a0b65e915b862a1337e08c6109439e1570668c9c6c46c9190c3d926a1e5a0f2c9fc23a743a12f5052d3a161d25b1b46fa114478a439de7c8e98ea40839ac2df3c54af9fd5e4ee5911579a33802b410c6682383599837497b34328f7d7b8bfcf3283c28a9287b3b82944c50956a3f2ca30a7e678224104952453d9e75c3109c65e4114aee545198a4677a59e4b5b642058579bdf8c18c13ac65da299a43466a4ab819d2e0bb67ac80086626eb559c2e52b4d97a4d7fc722ffce088631fef7e7118fd7cfeed472a0dbdeb3f5094e8e26b637c0a90b63bb3a42516c1cdd9bfecf59a404f9c9db495b163090cf3abfd8637d256b88c799e374cbc6719a84f941f5ddee88f6a4cd706ae9f5625a716df0a53e07cbbf970d938922c8653cac441d117fd9870ff4f40f2b0e8e8c1445540041eb18f233f885f8157ee12c101c4588ffd0763b3b89e79d574e1c0165a7f608e3dda2e679483e19bd1a5a5a303d6462ba47eee1acbb50dedb907d7ca3d42c905dd15b2031a161102cb5e18eda18a930649c1d92383fe3060323f25ad412b0127e4628550b88b9ff7059c5dde2e00e5828d46658c9d3abfb0ff7d0f5dfe09054549882697605b89cdfd2504b1c44d895f867f926700745da9f10d14dbfa625960d795695f160fc4107435d257eb16a1a243c90be610c9763a18493324487c6baf707fffccc3e6f28dd56daa05b51e2bb1d4ffa9020e73d1f9328e48cfa8569debb7c51ca9617c79cc3e0d87fd741511a6676328fa39dd07aef92bc1ba468d8f6106f80b29a696c35d2fc4617b1c1fc8924151bc145606059f269f8d7057dcc33d20cb1ccf4e2ee54cb13b806e51cde3883c9c29c768fc42a2531fc26438d3fd7c701664031959896468b39941d8e4725a6d9dba7808f523f925cb38acfb3fa24b3d4625b356bf85e269820e42223e971caadd5d8d9dccd24246631cb1b6515c1595155a7521ac5068104d483d8009eb193a86490f95d026ca5125cc6222c4b475afa18a9ce031c9de9e74c41472c75957bddeb6566660510c63f7e3a7a57410e4b89304d5bb96db282a244a3b43e922ce40f4893195ab1336f118c410691de99487763f1b17f5cf6828dc44de513c4d8e9195bd677ed8cd37036a715a317887e0920f00e99c6a1dedc582349897b0ea374584914a7f9abebabae0c9a588c67df2099e1a9ce214cbd9e4c781ec2efa325b8c9e32c770162e07faa605181cdd32f107794e6288db745519ab2621adba979c7148cc72f11ee4e4d7ed21f8447c6964c72e28cb305b0787a6ceea03f308d7b34f9db1aa53a9a288d43ee6180b9f160fd9a6087a298119a1ac49515f1003bc9c26d48aabf01956a1ef0e6218c436bef931db8d771a681be5d6c56c0b93e192c9240c4b3e9edfff6e53384aa530411b66ee78050437f804ce41cee5093fd234a6d8e9cfb4e2ac4464b8f707eae50b6ddedf56f56c27c916fde8c13bb0360ab0554e304b828f316763a2c089904d5e56c6b15fdd208b8d6048c24c8de624860fbf4f32ca448b0558bb2ee607d404e6354bd1173af0f8d14be5e4460eda3d55b9df9f1945741ecdb21095c21ac02448cf16ec952593b601c79891d8900999815737484514abfc221776c2ba7921abf9d44780ab1889ee6dd13779552f8be39ba5c7d20a5c653a1266e7bcfb44d52f1bf48a1c89c92ffb405bd659de2ea6e35ddaa9afb25a0e98ee55332c123be6d1d10cf30ac9b364fff91eb227e795d01f2dbcb35cea58fc71843bc870d42e2c126aa8028fa3b53b61992fbcc8c64179ca23c34911b53ef7cf6592ba5d1fbf629755f7e81b3c238bf16702c7ac7167943d58b9909752ded9b04bbbd308abfd6f889dabf370596a8439b74a6ead7714de8ac765342402ccd0e4e09a0e61b14343b6ebe20276152b7f873ca4e890a2e80f9ba6a1b8c236d5f858e9a4fadd3c74d3086f52525c7b26920532c08f2b92f444cb512d0ec039147b38b5cd78e74ac44094d884180a0a0c59c09570896eb43fff6d2a0711f52975d6d8e56e5b459bca1f887497573c86e0922e4322fea227f4b966d62e8f91cdaf12aa6d0f2145bd0a4e89a6ec350dc224c08244631b9f37a509c0af381be989af4e5503ee382986ac85774dbabb1c84d9c6f453819bb83eb005b18c8ebe509bceac796ab13748be5525c538d1d15e55bd6f9b7966bed94c49f6b1dc01a683b7c65d82f4000946c9270ecef73aec3c2f22e39c7afe40d883f3e6256c061b6fd4c0f4f2c21755c0462affd8b723d7c4349a08cf6becba089d313350d72eb121859556e69f2691f4dbdf378c4478ed1a475dda61449aba62d04605c58264128f71228d59f2cb76fb2f55f1e87ac2fa75e83ddd9cd2a5a542971e7b01d4e9f317a6399ac2c6fd51c8e4b53d5aee068a4b500469d2d685d150cc16ef700e8e905ec9b990a2289117f9f305e8ff7458fa18f296c9c74f4db8732628374997fe31c44b878e59b1a0c0124b36ae5d338be6d397d019ec133378374189cd8539ccda4fa1edb0821a18a34577ee5da9fdbe60fb94cd668e36c627917cbcd38f42b7bdc9b1dc1633d568c53b410c7bc088be6ed9cb8c951f2c0af32702cd0b9a043eee2d5548c15a5c4b9c78ec4de913be8498be0fd3b678f1892e1eac36a878988d46c12d2dde0b25d37aba6bd2801e9f06f84c138f9135ff679774ea9480a233b3de66d0ab6ed51dd5c12a2da92be9c0095c356adb4d6eef6ede6913714e4d8e3cb096d137797522b9b6c3ad0aba4a78c2cb2a0a912f0622f09550ff30a39b672863a2d1f6629cd98c16fdaf4e8ffc08f69972e59b4276cf6a3806cf3eb8a16e1a6713fa216bc78b38603be888096fd043c0f9cd7c4ef858328e724a0ada30c9d852f93804d60be7d1641eabe018fff8e17ace04694532a91aa87b816a38197f61639f781d8ae8f89fb8433b9c2d1c58e0f8f091ff592555e93ff4bbfd02c42e02bbd94484346bc8184d040f0c7eb75151f47f60d6cccac9c0596e7085e7ebb63666673e0234b0f96aa7d23383e413113008e7e1536572a6cbc81a7bdd7fcea99bb4a1dd33c27fd7d55dae06f2bce6ac862acc1aa83833397f0091b1f93a5cb7d2f12dc4c44d91589e6a245c99af61bc11f14f0ceff0fcbcb78ed460efb37ec89b5237d7d2eb8a2d46b21305ffcbcca2c2f38160b7deaab1da50470f2d19c5f527b76503780fe0777f4839d23b70307786cde37f5b0d788a30724f88239bb736d0da099d94ede8adf68f7deaf3db5ab3186609292650276802ba0d9448fe3bd953a9765f56d7170cc186e467bf07693f86d22c6edae23a840a4cbe5012ca49dc6e5cb4eedfcf604b58e541363ef0c8905c02dc11d8cf97574cd15f2753a649ef7f92b1a5ab6219019994602b3c72ae8cf480e86a85df20d349bb73e2f08b5d4255f3211dbc27d7ce53eecabdfab7aa11ae1f4e897c1ddbfbf8a9fb818e22d816a69119c5c3875906d2eec167a9589248d849b3532f2ff0304e6a9eb595ec0514aed4de1a97931273d89bed95e25d716f5c5f637e7e5c7776d63e9ed2c3f6ec3a2f881101505448d27f5bd2e31d4132ee73eab0605ef4e944cd06fa85af3e98e13ce7e9fd86e2c89ecb5edc5742a2d2d1d5df897088555b213754bece41089f00f628f6b4393a5f6908ee523807d066862477f0d5bd1b1927d867e1db92e4b062d2fc49f2d1c6150d1abfb2576de68f3ee6fb3b5f3f801dd1e79807d0c0e8650def374dcfa29e42b343ead3637ba76189c300d24d7ff579f1ddec38fd5cbf440a4e7395767f847b0e4dd02f9763f53a2acd98594b298c85858ca08489eea3cf0531dec35ec67566bca105092863da9d535c640427b8cee0ffaa45e9c0fd02ffddef40e733a99889b355e3109b79bd57290be2a3c49e03f37b0e973f9f50960b560b9cf0f93049e4d88ff2a8e871a8f25caf16ed03efd0e9ac1ee06085d7f0d65ade86c6017926bdac0575f5c5b1f5f5bd5af43a57d61f197dbd69c1a768f5f3982bc3a331ca9c69d74077232e2aa0aa3b3f3dc8252dcbd732b89817f40614b6eb4c0060bbe613d60206e38bbbee95f141408b43822826a5f74a7aa5d5fd1c2eb7d8111b1d0e35aae9eee8c8577c0862e486f4803ad21c0fcfc4d2af25c3016b7a754a66ca306c659714a9d4590cc12cc01109bd924b5ff180d46c74b5d0ba7388f1fec281944d49d907e0db7be9decdcbbff49cee62aeadc45be05cd04aa5550a99e26fc1c48117d97823b0358e027bbb08506d3d90d5ef8d6ddbc3de9752d621f5de43db485636c0f2294da63e98f2a29cb21d34f30e64b0b0ebef59ddfdf68bb773de3fcf435b5d0f28eda1a2c97fe899d02017993013a39669163e33aaf3ebcd2d6ace9196f5ea5c0e9cb3413182379982ee82b8b55eb3339693bfad23a639efefe98607e7360a4754ff657dc6b65d73912d4b9fbc7b0cc93ad3a41bf4700806da651f0a213328e0ffad1670d3eed2eea407a0a1cc9bad7170a793734973781350a4cf4e4455c114ac59bf70cbfd39a5a09872fe7318ea8e6e647ea01525f09edb9b8cd2536c4717bff514ba6cf57c8e297512e2e1933b2fedb7e399eb296a1ed3880f7ec776277654719e424a81779cb465914438ebe28306bbac844cfb0e4872e2f5e1c70ec8842f8d46a1c28fd7ed776057e884cf42a1140c24333d81b24684ddee9472a84e3a6fc21db19209861fb810e6dc342344cfc815875f89f927bab7bc09115fad9596952870f2dd828ce9ed47f3fe905af7a8e1d450d606bfad1d0f9bbc3d555ecdf3eab56b4ac6b9f700b3a646aa7f76064b2bbfff33b34a0d8faa1ac844f624a3fd871450e3f08019d93a9622ffda35474ef737e245cb7dd2642fcfeeefa0be05681e32f9176cba7cfb81c091defacfea9de204ab3ca0283c7dd57dd7dbcd52d7a401c95280fc2b603cbb7722429c8878638398983c3fb7f6dd321d7d7f314172f6212db33cb8c8e9b0952d1b858b677dca3038955a3f292dba1b8418874a0fe508275f4db8a980f98a78133a805483f2249c803634cc7bd200857c938197db887782e2c003209f156bae4a37ae792be855e9f725c2d00c83a05dbfee6cdb85f6139a0a1587be74679f77e7880da5666b7de363f7ae3268b4a02c4a3c1cf74d1cd19ebc1e0e80a49e696bc8c026c8ca34a8bf1d227720e4c014329b591793257e3c1f50d342e373d7eb5dc66b8518cc571f00aee3f3bf618be7954474a91adf7fff6eec3864e7776041b27b5e5528694d1c4aa8caaa039e348f852155598eec7f3a67eadb21e2d7f4f2c86aac80f65acdcceafb0a8aba52fc914355eefd31b407414ffd011e71cec3ed5e4e6c869197a5840f0e8090fa2442213eafccf41d3ee1a2757f1705361ab52dabde1ac217567af5831f36638ff70b183a90b7cca3f8cfd945a4380f4450939859b98ded3ed76668f45b351f0c97b770942c2b7ff13170b7f849f145877be75b43dfba593221e69e58f62beb8a058a1f0f94dfba7237d1d49fc919b452434de0a0bded42d699e7dca7df09a41c99b39ebad8263846ba081b9002eb099b14d8f2b52e8cd1e0f596935c4325535cfadf9bdc82d758972292944582b0ba93ef05c25184c1e9550d99c118d55954080773fda5522f926a86f0ce80bf0a58fc57f4fc10ab663d0bd4bf029676a8f0b0ada12e7add9bfa6840350b0fe008a97ea91c4fb122a8644eca74dd3f4d1662a8fa10b86ff0217088c3a6b35e2b41cf10397ba0f1836adc38899063b6df621f7359682212d73f5b517199e61033db83ed923ba7a0ce478c2a8497c2fd6ab71cb36b83088a05645f7319aedbc03cc07a74e2460890de3a5fbfd694f8c4f726e309cbc82c2fd71418f3362f0a8f072334130c751ad05cc05860f76f6eb5f36e3eb7e894feeefa5c6a9c3d53eb2b71c701627a507d44290d7954c5bdcd3de2c27bbc9a28f578164ba38a7bce7e784afe85e00ed7f6d3f0f88b0ffbccdcee560dcbeb9de85f15af5e293784d40c8884f6754047b3eb44f763390558e3472812896d7ca958fbaec288b3111412d85ce7adc0bc14f43c3364648d4eb0b4fc888dee41541cfcc8524abb525bfb9df9c424fd3c8890b1674d9d891f315ec34d90997a5b743a6bbbbcddfaf169555d4e140cfb120f1ab0c95fc26cb36f53bdc64ad191c9cfdc3836a0607554d1ff35c67c6b1657a3a621d93217e6361fa76fcb7853560f981d6b3ca7e410b72aa92043d4ed35946d9fa9db4c8880080ed96d47d0fe00a11210b4da458a913f7b0f7116481b202f8a56d6b88fc52da6d35660f954ebef631faa7f5009054aecf4e1ca7965dbe05652c647e4c1aa48645b7126b11ff3fa4904b28c4228676d0926a654a1fbfa9a458344126737a0f481179e9b864514db62c53cdb793582bd9fddbfbf1ebf987932ea2ca231ae9fb1810aac853bae17c8aea379bf79ac368253ef2159c4e79438f228f6b8813b8cc7cf1a5984edf83022d9670ecc263699b6baac5429883d199cbb9ad71c0b2ebe7d4678f02e057fec286412df6e18b18e584d5123930e103ff7747ce942386044aaf828349b32348056a78cc970a0f9e09b6c1e122e1796e2aa0d36f5abf17b6743c20e51bf9b73a10046936f6c1c648073ada7689401400da55b28bef9e7c43c17512586807f629d368119fbe817687370456156255767fb87cf04b1c4bc39bfbed48f9eaee43af2d2643d3ad51ef13f9a7e64e5cdb995f5cb8a84ae804dbfb71fce9fc7213f375c85eb3bd7ed004ac4dfd25552fdc91d7f221dcc1b8ba36a19245b1e4daa88252bf33e15ae6f9f069acee240c84454abea51dc6c0b6a6eece8ebaa655ca9123aba1c5329d08424e4265bacefde821ebb3e0bcee91f70a25e243053d9366050f3757d8d6f6b93af55d24f86a984e1c3dbe58acb290825fbd4cabb6c4b6af033428eb0e9db0aa171dfc67eca323d0d57929192e6b328a5036b94969b43c9bc2adf71a932881b7d5e970026afe0aca088ea40a607ee73e811e780b68727b1785bbe6d92cbcb5297edbe92c1a89202d454f5ba2de16da70c35c7f9de479a0e7a4b5d260f1e6d56cef4889c56b5dfa216fd1d4094689036f8562f5539b671f634dbf04850e3082d31591f6db1d1e4d96fe3213b43ffe3c2a625eaedade0a093a90dd37e2f9191e1861edd67f7e35b8782a8e93ec9d0e8e7d793e134b91ce973b9e68b4f739ddb35ada459161c2e727c656fae1356eddea290e84de2bb55929e3d7e3437c548a3a2eb16468e391277c91c18f4cd2888ea660c8e2d2fe82b1b1da519d2e5c86bf17cec80176f3e71a215cec9b1b054e203a20597293bdf448a9c6c055bee38235f55eeb782f9b0a8cab521c92f0fa5301216d7a537dc5e867525dd2c31758b98a9ff38a8787d2f9a4b920652ba6dce5468cb5a827fc78cec7fbd5a9e19dde3cfb3d2dbedf8a8dc3a910ce050cdc53176f05fe8e036ee30621702c887bb9c2fd7a7a3aecbfb1ac18822f6ea43269dc6f108bb719e00e11ccadede67c78cfd3d97d1f9df6fe243218f6c04def0c6a416b6c2eb7245e446d813c29b32fc93ec4da1c7603304041b55a99f4286f48033b6390ef5e3e1ef93c63bf45f82f79116cb72d3f942df5918f9c4af0b1c802438a9a36b4ce3db1f62687310d488f319d00aa52346b1de94612d7d17aaad014d3560ecd16a9aa2e3310d4b2f3494d9e75bdcdf3d8c603630d973b1608f78e2d16454b447e46e84abcb2517e2f1eae10b4c8bc96e435a118fab237534859367a25486468e6b011b70500e9ec0711973769b3461d7132c4c5592c3c56ce06818fbae329cfb6d6ccc99cbbad04f5bcb31bce7e490dea9125d6e7c72e9e2565a7db76ac3db27f195b8e9ee069f8e8147a69bb9980a5a91e7fd252b59fafb336bc99ae1d38b5a6d72213bb82ec86c70367da79bd515f679b3c2df0b2d5265cadcde0caa5e21ca1838e025fcba3d7989a95fe752e1c71190aeab551278880e1cdc21fd892ebcef7e7626bea843997dab6a54cab1342dcdd9ac6f49738738a3dc5a11397032fdf4d584066b40bbef048e4db4f4cb8126c3c43b97280ecad089a7b222d74c0ce455ea179ec2ba2f926c0ec7bcb13377030c2e81593404e8dbd3131969d2bbe7a55843799dd1bc586842877c885e43be8615ac1e50c63458adaafb46a98b439951eba3526bceddfdd541dcd093586d93eeae18ba11c4aa9e8f496c27433cfec5683c371516bcd3639c284662a08b3fc22b01fd1b93f0b0d05004f5b4886bcb9c1e8117abcc7d3892d986f1344b9b88ff99914e8cb84abb264df1ce3147153fb55a71b68d5d20405083dad5b0b6070f9d7a718ea69bb446136fe7473ec89a2aacd1243589207a84266cabeca99103f8a1e5076a9bdb6adb414f0bbbb133efda5fbc4b0cedbe2bfc5cf04cc0fb452f7ccbb2c99b85ed126cf79114d10f43ff0e03b38cc21ddc659d6b49de4584ba3da1bfa1c741c72ea12b99457b5a539d179caed33ff3d4aeb88dde33d68fae008ef8b8d9cda34dbdf2be253361a7e76c6ebe0e87583400023893be0ac362c3620109ed86e623c22f72c94ecf2ed577e76a136aa9dad5458a76bfcd76309026e6fd543d5dc110490bc58d1c3ae5a3ac3f824b7e56c6318bb9ef3a9350ece0afa47602c72db93d03aef8883258f4762cb6e11d5deb3a5ee83173cde5f1fbead14b276dd3b77f2933887a58f3ddc2701ccfccfbfcd8a49e1b39d555340fb80d54243098327a9fb01c3ae63fbed376785e1442fd2ad3004a45763853ab69f91dadf757c0fa2b772374b75fbae56d6d562db0aaf56e0d1b1c05dd320368748c2476fb9f965335b236f9614979f1e73c4fb885038e18bfcbfe1e22e2bd4a0b3ce0126814838b9d8cf809308e65019af942c4e3825335ef38c36354e885f03c2c480357f2f95feff233317fbe4d119494c19a94fe6405f6fe07056171fb98bec68a148540cb85d4c3a7c27b010ffa3446eaf75d36f6b99703997e6bcd82ea28b77b093ffcb0da9905a88b2dc8d78442d3c13cfff559508ee32b780585426e7080054264ac806f0b3773f2b20ea645ab930aa316c2c7e25b9064c6695fd72fd10cafac9fac5fd2107a0f3fcc1ee65b62289af8da2934f5ed497a5396d7f424f349e0b1c21120ae9189e77b23c261b78f2d0d209da72aa51cd345f5c6c78ceb21ce255d64097f440ed6e529b982cd42d845d6aef72ae6349480bbe009be637346656a39ad99152c5725a29292a62724fb1ce2dcab0ab546250d1cc27af8d24d8fafb4870c61a28bd159c8c8e585c95f1e906674998ee7593421278293d0bf0951eeae958be0b13c7f8c229d62b3d5e94c8ee014b4813db98271204fc92c90fc56577a8f19c906bb36970b7982516a835aead7f9ecfe99000d8622d3170bda3171fe452b2fa610f84a8990fa886697555d97090565f3a23fe4136515390b7b6dd1118fdff16ad8b6eae0ccdc6fbce04400cb3db0dfe652597a3ac3914dc4d1d5107b2618627f7021b38a63fc62938f1f1277d54e736d237085423347814768bd24ae7c5721f8ad29f86e5d9be343239ebabdbd909ba841f0056a2ff0d497d5d36e9ce5852fb9662be50b6299f221362ae58028370b1f45252fd837345cf48aa857c5b051d331dc24117cc2d4772619da770c6ad86ce5ee93d5153efdb26df5cbded8c90d5fc2c37b4e19634c0e4cc1879b789bf8bad705a727ee9f0b07cc71ce05f87075f76f6a65c0f61e52b64446a526b38f15d6d30f610610ec571e1f2cfb8fa034d7946984dff8216f0c5f62cdcd711be89c8140016ade91731db4d29985f73be275614dcccc14e493cd3ae81c85dd6f5dc14adecdef4557e8ad178aecdf7212eeb7d57c68ce0725c054969bcdfe6059336b4b0ad23d3551e0a3296846d648f7420898abf04df149e35cd123b46d02799b374b641a33d782c04f46ebc4808073ea7367af6a1e535e50c4398cc664eb3da1a750188835d2b33018e9195c257137df143277834095a5b98c5816936be55d3065e55d0c2acf0f33bba27bf152981fc7274fbf062d4926a0e2dca6546b2089e3474f7a24e7d449dbf35803cd20855f065a3ad91b0e6c34f0498c4e73827a2d6ec9a1f29ab914cbad12e8e7b26045aea371fb6b423d2b179c9dee4b72e72b9809b24b395e72ae3519398655c295423f2b2a013b278b2c95832c88b2a4ec32c7e404203b67c2b3ae56a0c4730d8643b727ad5e2a3bd8fe28aedfdac33040bc119fe4d1d77670953506e91e8d613751e10ed9ebd6af8a4df60160755d2fe5ed9acef7e0d788b3a748b32570781b481ad824e3123044c46bf564bf08c5293f0a38cc8850544a2cbb3a1a1bac443b11fa3f27e87ae22ec1586c164d36fea451f623890a276042433980fe96432cb4d578ede05f67042dc61c4a977c591b58f71febf436f5f5f37dd3f96469f400db4a3d175a9d50fc209b3767a24a227b403f16ce1452cb314658b14c3174c576384837e8e50d21c3d2b2d2681013b92dfc7f1093035e50cbafc54eafaf9703fbc7b5962cf4c821ab42f7e1d05d15836dc0528475f9d57a11ba258076e54f71703693f2e57f820121b667ebf1bf8ddf660582f4da832473f83f38b5afce4656c187535a2dd9f94f7fd84bc78965e686a62775fb20cdf7d142ca07004d17d8e6a075c119b0107d3e37cb7d27fd28376ccdbd78630601f49eca99e063619fc6c2086391f33f09c9e2aa87967144d5c081529d5bd25ed9c15f45c86944fb26cb5041364dbaa8e6f543af5c1c3432bc622de7642c7143b34e097649bdb02f459fb15a3666b0600489dde43ac175a70001b6ebdb0333a7cd678e4a479bd21218655321ed9b8029699b0527de1fba5b4e9b163d10b96e589c4917313e9afae3edeacec985a34843ddd750f9e4d745f6281a6125f4cc9cfd10cec95948d3a35b43ca39ac1c701cd076223e6da7164992081832f433fb6ae10ceb952def05adc8b70b6e8c43a3046a52390d04b5f1687db813ca7f0ef84550aac506f6f0c5d57f7103a426f09f25f3dcc72912a8e3adc273e8e53dc62685fdf698a31e0feee49ba3ee647e19ec7b91814a851727e2d8436de5e3bb6026360443d4d718a7284f45f59514e48b3f435c1f9323cdc260723265dc9cbc1c1602971c1fff4b43bac0419f3f2f4c12ce7a6a091525290208e543e0e041d9a0294fd4d63a5a0f65bb98ebb7010e98e61db16ea0a923125b7c4e8512074f2c4a820da2735f4ac7963743bd3b5ac469c3a63ab35d822e807f8af1f6e4b06eacc23651741f2c957f31eb2ceee24606e6a7e57c2bfaf87aeb9362b202f220a4115b5e713ebe648f676093532b0375f2acb26ecedda48dcde2d054779836838a229e35a9b85c35b081611c6619024c6e33716146de7d85b71f364f471dfb3826081eaf664531848f18db1447ea26834ed2bb7f2574ad76919a77c95fcde64d682c1200e17f320b9f62038fb00fa2c147a52708f5ca6ae31798ba8cec1a1cf74675168f5d696dce904dbb5003cc008f9e5c9f365facc18ba6d40786e42cb4f7e9146c02481f8a3c39f3ba1b54919961dae3816646c96ea7705d15a578561a69430f7f188f9329e0f734430242f304492735147a2b5cf30658ea248aa55e0c08d14850d24979a507a7aa41fb48a95465509fd132baf168c699c6881c59e015765e9072db1d6f12e1387b9aa4f73b69c07bf9245857eb57e59d5a250d0de44a09744fb296481a8b117955a03cc718bf3874bcc93f85d25b55d43d000c18969dad2830a127637e12e7768d5e14055254894ac1bff1468bcf3de157a8f72e14664521d2f82ea326a3cf7e22f9003f74e438cbd5c4cfbebfed44abeea6f003efaed32c2910243055211f55f5e2c3b26c2ed99f5ec6e1894c6ae7ae3d0b733b4fec5110df0cfb150765129289b4ed86eab01a7478b56570af25227b1c69ad7ffda453c3a9e538a23a1479e46fd7e6bcd8647084b75babfcacd57d7399a621bc5a920be2923879c41a96a363d19809eabb652345d806088280dcbf64e5b4a941227052445c206d2aa93fe107c4920ff92fa54f4c97dda71fe2c9c2a920ffb2062daba65beb583fa33a51e0678f06bbf4375316c97501d161b1efe24c8ae8864c621cc2650fa94ee837fc7dd05973c53589656e531aac260e8e3d61ebdccc3dc80239c3d92da173878e88aa70361fbe11fb42241b9b82f1da8d9819e41396b6debd43526622a3c8b27fef0200df90cfb5b5bfefea000a561b42317cfa427bf90b6a3d9e07f654df78904925de450357065af8999af300e1bed355b09a52e7d5927e8fbb5027fb00bc6e2b708320b1ea369a1462384b0c00a418bae5ad87845ff71f1d337d0ebe583c93bc6764054e5d682a4d6f8e109dd63ec4cbb95c953f004d8c1a10d9cc3079f514d70c9197bc679a20810bc1365d8fd42ceb1d8b6bc8f4a7c8e65b72fb355cf51db46dea18358312dcf5b5b2040b7aefe21ac789466063f539618e8f5d92baeb2167e9e69850d55fcdbb8a8032777819ce0c3aa9d9ff4b53c38c31a065307c8c44c3de40b546f8b0ca2a9b4974878e04ad7b3a0d9d0bebbb9958562f03beab444d6e66e38b30479aa66067b35000b6d01761b08eec6eb3997c2e4c55656f38a774fae27265b59b8588b8acdeb201de662c4c29fdf12ec0470757bebb81ec996317fff4d86eff995ac25872664979325c7bd85e1ab5431031dbb4cdc41934fefb7e13669ff202c731f1dfc4e240b6cce13762f09f7e3e1460e04396fc908432f16bdeb5cb43a5aa1453b91e2b261a40c69a4f8e4fb77ca5cf6c5cb9936c67cea8b378d7cf8c78df42299642145c3bcf98946b680ccf721513fa4cfc733c517be3a09842e88a015e4b7ec8aaaa6d7bc732ff7839d8bece83d335016bfba45bbc68557753f264aaa3e903dbafdedb1d63581f3425ccf5f980d1eb9a6087a9d69a33e1f36dd2447e8ee30e440c44a5f64635697893fab51824fab426a28d5ea31f03930b946a32cbd0f98fa625d0420272b8c69eef643ea5920b3b397774aad568bd34c6ad42b1e801b60f66f229df52193090eae916c80e5b2cfdcf5b20d1e023e751b03cb486696da06d1b616fed8c04f4b664fbebbc4a77154c78a66ec31fc5ae61a5f2bbba1991046f8914c1b63c9b378eab2a920537f0b4f4c47022150f025cb813a5ee7fb9d09de5145c775cfb7c1f0d958c3554896d7930eb241e96394f7cca3a77727b2859274de5d6bec41a71bba1dc24997cd37b8e2d8173aa8334758a8a6c4f6cc2fd1aeaaa796cbb3427eb171748337b27a423bb5e323831c625bee4c5b94a1a39f2b4134cba02646c31c0203722c4a0353066fe79aecb63398a43ff6cabaa82406ee7d23fc4cd95e638e58bb722704231445ad1ef6c6c9b34740b7a5b1af077f964ae114e09c7a0ff84556b220a816d0ab24f4df4f80d50447ea4ac9d17287f3f71a4e67eb13db8af1a6298b7936a232c168dfe33e4a8090e990a1a4f84299f5b59a78523ed35e4e0b446cf447232f92d7dd31ec6092934f75066498d842d131d6f8900d6f9d4623519fa59a8a3e3512f533d8f20497c58a7ff694ca0384779f053ec59be867fcd49148a4bf5d579189382e42d9299be002e2a0f71f245152f1a999c0608fa6ac2c75acf50cf65e5de6cc8de8a176950376e402dedfe1e5fc5c5fe4245866f6e321de04225395a696b1db7de6182a6ca38a37f4ae9717d2facf8875e76afc8f5b65b5e3590ffb497f423285ef921dc1e19bb5f96a691b0dabff7fbcdfd9db26fd02b737e3281f8220093408eeb7a570402d242b78137388a26479f2e1a13fc20ee1fd0c3eeda6f01251b952f3b2d985a513fff45455eda4e03c965298193b1e4588c9cb1feffa55ad947ae6164e484bb3d2fc8587a4d85af2e1e97b2226da9281498ebce4722ceb9659c7e40f6e5a85f55499d4b2e9430bef366c28e7b1487bd73c1e8d59c7977217667beb5367d538a491fcd49fad696e611a6f934de76bf1f27da3d79dfc6bdc6f9ab40f80531e13cc694c458a1457c487a38df311c9420a86f3ef910ca85838853fe8208c123c5322f95aa8555bf6e58f1b3dc7580deb0a473c18162bedef02848100e3dc115acdcff1e0716f37cfb86c2d0f60dc5319442fb68a224f2361cf8f3fe63135e6fb9046654094a70196f58667cb7026a8915dd0c911cd3f725715fc54cd8917701b2aba128c1d704b5f46f8c6e276732ce42b49bb8de33c85cfe1c441885b9a050b126d9eca9b777b230935ae91bec399ebebc103886f849b3d69539ff8efea3335f524e4dbdedb6f378c1f3ec29938b459d42bdbd8e277e89bf090537dc9c29b14527d3c376c7c6398642a62be29a928f4a02d38074a637deff4c94cfbe8fa42e8339fba00c94f0cfefcf284b40d29083851bb6161e377682f7f76669a8debc5a928633da7a43ae36846a41971e0ea429746ead4fcb828aa0c02561e28b8d3ff3b771e83ae1b3370520503d8d5d62d0352fd16c74c517f92bd21b1f30347f03da216d89b74d3cd3646170401676a409f772e181988006dfc3383a1bdf573cb9b3171a5241b5b55fd83821d09f191b4e66edbbc7d07839304e45a5ed58a8264b8e00745dfeefb57bfdaa07d44a32c6d46b4340b8d8176c34cd9b86965c242d23cc288679f0cb6d1599d3079163fb79ea005d5d4db1d6f498e390524551bed6b46bfa37422c46a9e586baf5ab9049829d16fa7cf52c1b8ef0595bdcb1fe63500e123f9c9309a721bb98609fc829ced71151d17dfc58a170c12bc35a90244e921e5ac64e4927049d5c8dd7a7912c162066320c5fa0de2420b66ac55df6d160ebdc72fd4433c3f98e3129d12e5fdfc1bdc5075d0ea84ca8a9bc85940154cbbe0011a25871bb5ce195733add180d4d9eba6d82aaf1d86ff1b36080aa55969e539f0e2ecc021d5b15608d8d071ed7bf88c21bc5e9a0a49482f3dde0634315b9d5ed7ffe33df10907d2a9b1bf2c344b4a063af94d11494a51d4e0b178307d5d3c2ba5809879097358ccd0b65e4634294aea52177ec5b6cf349e19dacbf1c056cbef5ef67135ecab7d7b98290335ae77532e29a0ebf0f450219ad1e1a2c2cb289aeec509a8feb4639ab6fdf9e9b167aa04c56bd7382ca4dc14b7fa2704fd561acf9bc88bb6937503e4a29cebbc9ac4ace3752ede44546ab6998b25ebcfd79fd84871bf830fd47a400f877c847cb8382fb455f7373398ab1dfd47e88a36f84ed79899141d3333898c20714f5f971e4b21c8779466e0dfa5946613019bbf3d79fcafbd0f94d9c3aad48d08f9fc0fd8b10ce34313e61f47dde1186ae9ab5b22543aad8382ea435be106347f0b130da7f7084dbf789c918083f1febd7ce76acea9259a4bc91fa2aeeea5a03407bf98cd22d47eebd655b43233b533d2e93b3cc29a570fedc341e95f70e4121722688508ab09c187a85fde9c1475951b21387e9dfb3bcd91746f2fab311d8848512f0ff4f7531a4cf5b947aa04ecbe2ebc7ab4d8b84666662527845bd3f36b04c7e9bbf47782700211e7e05418b73442a3cedb335bcd300d0b9df1de90b4e0b2943a4051eefcce32c7671a268e38711c10d53315baffe33ae1f5505e1e764e28c9f202323485f89661971742728da4970e28fb5fb2d51d3ef0ddb1b2d1cc1e0c907259914657101322f760e859e70a2d3d9d8cd4dfcd8c1f817b3c33b6dae802f488138137c0b10e88afb11d420f68c310570d33c43fbc4a7a821ec8d353a69b52f3b916490cfc1ad6340898af30f37fdfd3b253526279532b48b117c90562320cb11396f047f10d55dac43abd10eec98123a72ee4f6b01a60ca55474074891b7b2e8fc1f54dec41a0f25a521f356cafcadbbceb68cb1312e0b25df5dc79596962108c253276ce18f0066a0266604e649d29faa0ab9e90ca74433059ff3c45ffb9f9b44ea616d56ca7d7eb0fa53a984dcc5c485d4c13565ab9118037e224bcdff3c21680272fd7a44c35b0ba99d2319e5903dc152041be323f630616666c57c1b306ef63846573773fa265bd5d4ddcb1869690930702e986bcde0a68b19c2a1a4a0d05ab5731468a49fa7bce0679718de655d4b553b2c4886d72e0e7195e092272144babb57fbc2c1a55cb41bfec8d0d1143932d7a92a67bf15cfd65bb007fb01ac539bfeb8731eb538aeae12d3529b22553a4cdedd3096e8d9aff12d1f16198c5d9105511c27476a795ed23302af8cc6b587c0be8f595f07c405b4cdd5b99839484cf7cc63ecc95dade3cd14956383fda81a008ad0575b94fd6faa9d497845989bc5ae5d09da75887cef97a8b7e5ef98bfd25742702f11f328e24484ec43c2bccc0e48b24d4ff51ccc4122564f04c1b7434ce2a69b208004d41920fe03bd9def8e50d6bb4c1825947ca5b13533ef02598d89d5e099cd32967cdf60276cd9f2f203dc68cc8d68bd05e22dc84931fcd959de91614b6613385c493410c2e3dc0f2ef0f5b5ca202e39d046e1a7e8ca942ff7f3cd664b3ea0d5834cc1978139a5c6db9250aeb3cb124297adabb2c0b36c02b54883833cccc4bb6f496e930485bd2a0da3b4f3d30a4e84d1946b307f21ebc36094db919e4e0e2ddccec02c09f7f07da82f48fb18e70c1494d7537b0ae3a7c0615fd5a8cb0","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
