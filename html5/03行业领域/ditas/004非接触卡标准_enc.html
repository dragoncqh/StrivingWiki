<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2a4f8125644fe7820f1cae91a4ab8f998329c48ec3aee59d4203c7c944a8ae0117831f327cc6e914ade0435c28bae0a189ce20b6602f422e9f52b747a1a8991e616e543767e37171252b2a2d2bee45a3750c732f516e664670dc8bf9ab0f6518e2a92450b53206bdcea1e83b840e1384e667cc1c8889b4420a69f4a119387669d0054928a9721619a4cdd83368de28736fb14a720d7ee0207813004305ae85b04220b5cde6aba74416f87585de563d8bab0b0425adeaa42bf016e8d78748841b53e5aad3d289793b25db5eeee576c4bfdc3e97b5dab00faa0c0c7399d3d6405107df9da77b16b9043803fc76929c45aeb3fb4b3926e9f12431708fae29140ff079499e112e4dfde30683ed7e004ad3d02a04894db08e083c5d96a2634d26487ad51078576d5d6da9140839e6555c6e1f62251dae7d20ce2b00ef6c501f7411da4f55fea32cd247e77f391de5057ac3273d0aea5e2ef73ae7cd22290345dc8ab459c2da74b91383f640e6910d0c8b295dd13ac66c87adb30fff510897ff804546899da7ea941f0cf6aaeb8b9ec141457dd14bc17d6dba1ccb6ceb0636e27f3881bee8657eafa1991521ea9c09f0e984609aab30df83c989b358753ae397d1b01c437450d413ab392e63a0faa90e729993a483b7ffa688867536ba161f668adc1cf7968f7cb3952e08d01d8e153fd1769005ddb29c3060ca6fae67bdfb50c522d04d41eb23fc02a3dd261dd80d51d5b99c5dc643d076538a21dbbaa872ef25eb23b5bbc3adde12f7bf6fe1c543feffad82972949386e2dee68356325dcf133ab0b822b9fb7046a136d3a19ffebe67883a076c357ea971fcdde169cc0b6b473761f1451f48d1bf469435abc9dd14b1095076de10ca8380aaa40270939c04e8aa1c47edd3bdd14c58e2828cb381a738a90440e1df9d89063258439fba173e3a1d94f33de011a848f69241b8eb13d4dd5089404e5c55f69a2408ec5626915aab5c9fcc5716570df7da07ded219e1fa496ba58861cdce2cdf75eb5a696483a9cba2028c2fbf9f4957180daf222c1900807de4e0e734b136f2409c2c62b30c9d84817f32951babdc26a157de3f3e81b6e2fd86f13306fcf8243adbcd2bd697e5368537133161bdaa3b505e88fac3ea4b9b9b0939ea9ee722bca188f04e27d5008e7ec4feb1ba6cc9d1fcd2994698b1a96bfb6cfb6796eb519e47383b89cbde5383c012184edc9dcd0f4b6cc53868b18140ba543ae067a7c90794df250d936d35b65c51b76645301865755ec220d9b2aed2c24e8194250a28666613b8ab730f1a5f1c250452163b8de7d720a918ed45879b16d5b67395f77188756faec2c5c34d60347be594a933c1006fa1a89b828f007d4500c01ff898684e6d6f4a498c36684d84eaf0ee00308a29cd6304244146cd65f11832a59e599f0e053fb2ce8e646aa8d239bcba587151933398da60c76b029d317a83f660e96a95c55e4a08c5a6f910dde20402b68f76ec55ed16b66e972737a522ff092cf35d35c5e889da0b7f03a55873ced6dc12c24a3953d3c34adbbac8a82868b071404baf1e46b61cfd71a07930e4c61e798294fc1008ef647dd7e3560d4266920e8ea516e3c02edc37a73f860930430237c662c8969ce8538fbea9d3cf1f34211d5db3d107e659617e72cc763b06ecef99385fdca3a55bcce38e5bbe2f20e2d532d0b4333c6c453451064a52ff6d82812a81f1cce55c61aa18a70d949ef3f53e67b71c91746b3ed4d9281947c21a19f9f5f85f5cec121b1055ba700dc8ee9b5cd499c27c2787e6195bec03b9458ff5e029b7b42b09bcdaa7dae501ad08ab8d9cdc901c696a6e4d46d95346c2726929556d7431be5c54a0f0c25c82c6558854feaf4372ba25b855ea6597cebb554406036b8d6c93dda44e5bfef4caac3f98baa49b8599b97f12961ab6f235c6459393391474e12bace3260a35be4282a106aa4c0e711a2ff650b5c678184cadf26cf0a15ee9ff81d88ddbf873d78fc109e12a815f4b7fc956a2ff2a9e7ca39fbb44c6d3826b4f568f87d7c9355ba92fcd9ce635bcf0d99f4a9e9b5d840aced0575aa734f6409d4de622852038d5a844000bfda49e1d5d4dd54268e867e4ac3e6d6aeaf2bb96f59a7fe6abb8e0977a970eeb70bae593b92192ad459919b7eaa4ba5dfba4282371e2ec2971c06869b90fc8190cd2514c98f4d5b931ef9e086514a8c887ea07b19e339b844947243200c75142bae73772dd2a2a04d10ebed9b4029d3c86a392ea3e68aaaaac0a88a54831ec7ca86005aeaa0dd24333bb3419ad5e42eca855e2c60cd351d6ed96534ae28aec64b7fcf52e59688865c6519c29c4489454d3e8229ae670e207fe453ffe9dd7ce767334da78e914aa884db5a0150b7414a8e5b4200de73408d6368d621bc0224717d08015293291a2b4d4be2f28686ace8185ebb919f6b9843fd0d2dbad678594aadc1a1c96b89a0380e6c3cd28883a5eca88a8723b0a1ccf481adb2da808fd6036cc4a67940e8683d08603fc6e910bb11f44949ee54332c6132862bf458eaf56c67be11c4e090ba41840701a6e08de19260e598cfd23b2d5d79e9790a9395cd2c8cec47c6792416fc5deefeaa146c3bdda9f8d3ad8ee199e3bfd2c8808acfafb8f85e6e46fe00ce89ae843f6954f218594345b6cdac110b091869c2e9e73470f143b126cf8b416d0009c3b9374f939d4bb69b36c531460e66c8525ff808fa694dee4e0625c2508471cd209a6acf004891f9a8fcc206a83aae8aafabd6b998cd3e160bc52ee2a3270643eb06eddc1e6f46640cc98eabe32007b41be83aac4e9aea59434153cb8f4aaf9ea5bc7fdce28d3cb973d3f9a30f1e821a7801eb92f837120d348f344cb10f283fa77b2a5099df3f133412c72243497be28382079eb8c8b612e90f7eb10543a0a00c27fce86e20d758a17e9b5faaebeb09f34d28d1f06649719f254bcbf3c865e5e1de2259e9473073755263c8dab050a9b6dfb33167282a0024528035f21c234935edbe30289f388dbffcc968d83ca9c7dbf84814c37d5e28337d861c257a1582afb09d11c2dcc54b15ce56ebb1ad7d112f10d0c776bd77c25a678633341e2be068cc858351e6556482b47868c20c07306f0692ded8b54446712acfafb279a7365936403486ca40101dd29d21f8d76723a651e4786a1112cb153ed84da2894e021f07742e7e6cb210162cf1d01e01880d9503fb82b31953be1cee7ab766c6d2d1c1c0b6619ac8d36afc4bbd27d3677f6e94413b1c3f0d48bb72cb40ce87f3c04e636f23f2f121383f65c3d4fa8f54590e04df29dc337fb743d0a1af3462382de2aae7a171f80a5bdadc4330e864c09e3ad6b5490849b6cc4a7a24a9ca9ff795d3027b4ea6ddd4950a807f1518302f62a7f0b69386ba18391c40c8d5d78a2d82f8d7f330f6257a73051a43672135306bf874d409a9e4cf2454df25d8f7c0702c3841a2b7542c256760bd090169b320ff406ac95f095701368a87a96d367d9b541a05bb944f0d104781bd55619158e47ef9f531a9f6436a6473ac22158b070e1983d2e9714b6f8168c6f55139146abc8083b89a4611b85e3b6790b91e6950718d5e74dcf519437cddda54bbb1b2b52cbde13aa6406c2730a770593dcfd419d50cc3a4a0bf1ca5a1a31aaab8f715cb53c0778928dac1259cdebb4f7876ff4bbf7cb493dc225340f23c035e1913845606445d9e31d9c54c4afb19251c789e32027ae4a4c011a274880b52cc02e090e3e8f6ef5b95b8f777ffcdc239b84d74d6b5f09db8a69036e5d3294a4b2eb73a36ede345e89719908394d6f09a7508eb37fec79f1342dc36dd98b01b9bc018f41c6a9c034a37c3a450e8685980c75d163479c73c8af55078b52fc50cf20b093ce70726d420516dedf831c1e7faeab54777aa9ae589eb83c7b5acff07c3e610841496e4e6ac1cc45503143d5d480acbc16cb360bbbb5a14de9f0f7da211705da8bd47bb8961b61267bae66e43d401586f01f7a9e2f0300fc227d1706282e5c7b3a3f7499eddf393ae4f80b007acf8802f87dc4e9bcdff72e48a097796f13c2d918c063f1e105ea34fc9ea3a30b46c1f1607b7e9d52392628fc69017e6424b2fa4e259e0309427b2546e8f25ef43ea2540de5aca142612eeccba2ea4753352d546757c69ccec3c33e62b857d774877f58be8b6b0d7cc10e9affaa491738327c8b59a7985734dcf5b60640ef331610aa46414b9a2fc156414c2beabc909db11a220b822ee1e09097995493320d5a0350ca18379565a1e834d7cdcc64ed5b1607ea4f8d71b588d0632e0d296f6ab4510bd8c15ae98e8cd4b90c83047364d25b1014536acdfc7e75fc204881dde27c289ca2dac48e19e6e9f58e86de1a224bcfdc55a8af00cb318d1f40dbdbd415d2cf4d23cbbf26a60061fe82c1cb9a72b5e5f285e636192953219f025b2c7d407406eaa3a362701b97c9386a641d0424df43e344e54109f37c5815d4c80b51da0dabb2a15a2de932bd9603e63b56f3f197062c6b245d43b7193c92bf4e9d4b17652ec8b74c1af107e96a376f351035a67c4852af9a470a56b0c673261c03ae828b7effbe4b80f1ae552d17c29a49373ad0414c2cf05cbb60846aee5fb4a150114d7f53da336c7517350868ce1ef4f0542b3606bd6fc661a7e78524c3249b5e1803384f94cc7d7d60367db10ef136c89dd16215f1c92b0a3bb67316b198ded36055c4ce119333f22a31688d5f45ca3370f081a762c2e52f4e5c5e7965deb4bb464ebee9488a3551e455d9f37595fdb81363e10c868a22429471bed745aa5b9118cd940015d4fa76daff1375dd11f3203e0ecfd857163c3149b465becd77fca5c537779fc229e24620b38f4746e419cb6f2b4e24c4995580dd3571ed9c5500e15e66646b580762060dd8c544e1a9975343fed97c6bc4b9b2fb3b576f548b89a5a4268a6b3b85cea79035e08c30446449cece7e8c87361ba5d753fb02f6a3a0f9e362ba687f98a265b9dd72e4c5917eff1e1cb03ca04aa4d7fa34fa1b3fe023d5126bc50d38c73eac83328f308bf9f48e11782aaf268d0f65270e0a8f1a4c7018996a6f0635af129c61c9b8f64eb38f71eac360cb8ce4bc35cb553a5bb204908a1b5800931e42a8ecc8ad4660f4a7a8c57d09bb03f4a1c1286537dfa41577f896332cbd6a1de19c10024a635426fdfb2019e1c8c0c0baad1947d76d1c413ef5f33c53266b653454b637da16b683c8559cfc9bb3359a2b52ba08e9365bcac0c1de1428037bec765c6e5de45808955a8636fffd8b5020e8ce88aa86bb58582c07de3c6a98dca48faca5bd62c0292a47ecf61fbe960ecc97815bf88d02e414d4436a4b58cbb2814472e1a18b7b751eefec7f517f5a8b3552589cc4f76cf3107636a1bc2af4a2d0d3bd90c07dc6164403094c8c700e256c694bd4311cedf1e00fea1193a6ca91a83c3984c9f4ed0f6f54079a62a79a0f5582db900ddfafc06737e602125478cc27ad774ffaba6f775b391efc91794b397209e9c3300dfa20c051e18db573429734fb30cba1811c034a852e31923b02a1f4e51e8d41950073e2fca6dd1a7e3e3d76d9ebfee3fb137a961327fbc33e43091bf2b31903eba59906ea771e5e8e51aafadd42f945ed2ecb56a28258458c6ca49138a9f13a9ecd3835e80aee53bd2224d5569933aebf4ae53bc8dee1fc1ea393dba6b6e0038e75c1fe75c54e0efd5073840ea9a7728fffd8e74354aaecec6c49f341faeee271e53a87c2bca1736232b7920547e3acc6a6e55780bb8820a470345b48e453e9f3879b52f7678bc66f3a17729695348c99d12ab4c211893704387420f83d99a1d0d4c9f2f574db04fbaef3fac7455ae95e08fc070b2872a1b8a63b571b97676ff4d511b3a4c8cf276993e7bcbc1670fb322379369e96b444befebfd8069b6951b7cbf19c51d36417affe3f82932678dfc3b55f5ca8e0b11b038b51cdb627a10c4b49a438626f2f3f7f062196bd0bf2812c9ce35b91cc2a94bb2d5de2a1a53ad3cfc7cfe1d7ec1532f21695334d8e92b93199b310a372d807cf384c09cc47e17c5e1f7989acfd0bcf47f8395950608cb94189abf223174b163fc39a6628a8883189c3142cb5b5dff2372f31fb90e4fab3ae399dbf869a35cfe551108e239adf0a267a54b93715f8ecd3fc2fca5f505eccc68cf0c8477219554bebfb2a507d4ffd668eae48f411932c290a65f0df9b8cbac95ca3c12d9bad0740edbe3ddf8d16c06247a141d8aaa0f91be0aa4a1d0872fb33efdd522cdcb06d0983b7280220f020658ee8cdb78fad335f562c6f25db87368dfba9f726d0aaea7ff1c35129a9a1e856070d78b3b1d6cefda381abddebcfc1f01ea39d4b5e6e3ebb1e1241bc6dd3eb300bf05a4f07c221be37768e35ecb62c0164d96541df186fd4c25c0218e6d878f6c5ff691d349bca5515a8248eb182139fbfebbc1e4c4af927d9538fca206bcf4e5ad6676e3190847cc8bd6b1aa29a46efce970699f5b4b65f5fd1529e69d6950c7adb716dd22a8ec5f87191bf0dae664d1723228471c69dd37666c3c93ba6300539ccf215ed5657deb7596ab52d057f083e4fac2b2d9ade3ea32ffe6e0ee45afa2438566bc68fe7e5896a53acc2bd800479c21c429bac93666ae8debb41deabd6becf13633baf32a523cf26c807ed29deb4cd49dead10de9d0ecd025b2408daaecc192e61d6ac0fdeee2510affd1b26a53ea4531299990e9d2c570ad393e20dccf4f6317965fbbf5de2b76a5919663c2f2da9fcea098656abca96eb41ecc9a5d7fbf16cb73bf0fb9f4e49df28ba580ec2f91f21f8328904a4f8245a22ee7684562ad9bfa52646c4905c82a043c44892d59ba1446fcd7e3b8d250e2eb5d18057a93d91ea49fd57d908543eb19d66eda0b36df486cfeb24cbfb8ccde9e6b837fe36353717e66e147f459cd4b778295a2bc6e35e1a386cbacd77554d39b781c3f41d8a838be67b3a295c0aa9be23f1bd97a1db62c2b731b048fb963186376f970b51950af73d0bc5f5facd06afe5bff015f455e98f4a18ae7a3ba54c5c6752ebd297f623ca553927186782787f8f538208dceee29c532e5a4491fa7f811d418bf622ccdaed5c945ae404eb8a76f6dfb8bd894848e23657bd47fdd063a32af9c1f58e19055499523f27f2b12cd076063f788fae0e10da002dc3778277e930425fc3241dbe0293f882fb2195953f56287d69ff7574cbd36aa4387a618500eb5f5271d9e5555c9e294d4802554fb93e7d93a44864cf1c1efea675245892edf818963a7760d4a9b56c2803da74ebe03e8e856524f7fc5c784616542f006301005dc7260c72868f4f8f672453eb2bdd0520168a3d49161f40a601c281d48f5fbc64a4d3fe08a8e1b8cde8b52578befa33888cdbf2896824279f4b8a424a786485fc9073d3d82c13ce9174da440777acc594b4f7fb8e0c9385a8481d337387f82623441669cb32011226f0f1d7aed0f44b16fed24f17b90ebe590a51904d6ccc1f124e7f5d8a4fea110bcd214322e472fd893a42a6b3a06e8444fb04550eb0d2f0989fefa23eff051ef7bfd3fabf16152cea6061d0826334392d2c82b2a3d76eaa35d22d46423c4433e605b00697706b369c45d136effa2bdd9cbf619e77c65417098312411dc943a42932649ec9c3f2efeb1b51500a97d6df9881dacfeb41ce74e9db9cd9ac15bcdcf8bdc38f3051cf0babdc2feb604e905b840ba176142657fd728b393494b999b74156a446b3ef23efe0d4dba929d58a216baf26c2d0ac0acaa0170ece8ba208690e0c3f60a03e2f7284b13f479ba8a0abe4765902a94f2661847ffd5a775dc9e3851a1318e7a0faebade10fab54129bdef6d15dd4704b1574aa287c66e0ac8492bcdc8aa23fcd9a9d1995be904f8d525fc8612fa381adf626cee6b5cd070378a367f9b49b80092c2cd48c8c85abbdef6a314b590eb69e1051bd7791dbfdb0db7270973c83a7e27c467f9319c50aafe66ee05e2663da23035102744bca22a7daa65d0f482b325989966584063c4c466edda717ecde379ec3c45969d47d72822bde3e8b04b6e26e0b09f4f4348345646d89631b448a71b8f6985ddbff657d37733fad17fae5c01a334b5bb0b2dc633f31b78626967bca94db6b4fa78dccd761d617756177010486bc43688c960ac4a796e96ae105b4f1ffe49b60d8659d35f302364a8321f9b6bdcae567e55b989d96b3345b3918000f45b6e402ed322a31b270b4872e84f623e6d46cacc5e47efb502cfbc99170090266ebfd947d620d75528c79e755d2863e0bca711147623b5c6735553df580200b13855e5c1de10d7bc9cf7eff075b15eccaf29c1ad4666d906b4182cb96e78f54d9d6ce202830d794e349e1b78b1fa6bf9feaaf9d411130d67b29e8e164726eb143b090f6d18d46cbce07eef9c5e4ad2c8a9c335af120f15649e2f75eadbbccc3daaf73aa4b7d13ceee0d7ebc009352c8a55561e8e1a34f4fe3fba710feeb68da07a8cef5918f2dd8acd04737ecb670c7b90c7e77c4e690aee21fbba4d63dc7cb54ab55eddb3ab2ff0a8819d7ac961ace68162aab346e0e79090fcd4307b69ca85b0de1a81b57dfda6a69dd5121d06834d5096e0463b7d538628c61aa1dac1df06959199da1494d929944434f32a32a98ebbf161cd454e367dbfcddb51502b0a0f1b17fab0384813027f07ba3662412d4ed3c7c55e1ef2f9e4a966093957bb5cca3b3996b52a8e69e262cbe166e3b8e0cdaaa32dad194a1fea6d60dd63677d8c65b4469e31c70113e6718d6c99ab9eb67db3b1ea1024af1f27d1452241bebf2677eff453f379abac593dc2a9566f35be65facdbdd734bf00cfcc4ad9014eab161f930e71de5ea34ba3b8116306a7f12c310d815a5edd90c50bfb95bf191f3b5b0c84b9b3ff0fcdafe0b0a2463a2aaa6a6b8296c5fc0e26b94d289156468ea9bdd53e0035306a1305a93c86ec98ec1b2084a35eb87b01f549118f693801f70abb197d954d95799b8a8a3b04e46140db42cce89b14ca81901409c1bea89b796791ea57a0ef655031acb65f661c56b3217cdd03ec25237f73034a3c87cf524051ba86aa19a05bcd6533284b56c34a51ff11a5b942a557df22664ba0ed2495e9cca49a987d6c48c2c58b3bea537af25067a167c7fd9758f03214fc3c51422928abf0bb80eb5d6588b4346350d92b806ba0819d1dedf5affe8da687bdb68702d8ebe5fdefbdc934bdb41ef06573b46f9b7a85cac3db81259cf48a6ddd6ac8a2fbfeda65cc405616ac32c303f3c001891de2a2a5c3646c5c593622be49b6e8932938abfc8efc986df0bc24213c1cbb701cf79a40edf2c921b7a528d49f3d426d0c2616ebed26de3a88fad2026ad9d93e59b803006c29ac53ecff1a54f9574ef1339eff1d5c3645887bd2dbe6427436c729d6dc704b31e2f97a55821b48b1c2245f42245778b4d6090c5d99210ce2f6d066e6d54278040f6187a376024adfbf9e115fff2ea5d50f96e3bec0727329d26f6aa80088542359b8652ead31ca93a3be4f75ac03ede62c41fdd09447823aa77377b4c8d32b152864d8b8a3420bb004f3947ec1f61e21ec622822e58a5d7510cd104851bbf7ec7411c3b92d31390e4911576d15caa5e8bcb86caed0b8961be52cf2772bda418a6d415373ca94a2b8f59a7087984701ea98688a46f841e5079e6069ab03a56309c4a37a586db886441caf9098d110ee5147f147e6ca0c59bf36946b8363f32cffe75230c29de888627fe9f492d3671bed685a566805128863d2b16e3c9eff07d301cc2055bdad3faca59114b434d06df6b2ad556a8d91cb718d55a6526a96f7c7476233b3f3a321fda513217f18463c4f09f761bdf3c36aa2eb7a4842ba47e63ded16ec4103b743c4ead568d4e094e8c306dbe1a59c5131be7ccdc545679290c3a2343f0330cb737f4d23de953f166fae17b4ea32ebf9a38bd6f8fca7328426b234d26574273739a20b33d11bdea12e9528c81133c0d11efe02be15f2dda185383254b3fae68e43c1e968e1a18c18e1c4aa3dd89710f6d190ad8069bb8cd340d41cd837d1d7189b0958fb72e3f2a72750c697e115fd44b82589a0b4c50c48244781c0d4734c81b4679bb75adafc8a39b66be180254a50e3baa6b44251514d4f1beba3499d96472e063d5fd533179a4c6f5a9ee0cd3b6529e8847a1c5d3716169eaa40b032e4e23bab77ed71ae4c566ac3f53ccf41f3af56f952e2feee6f985b768cf7fe74e398cf15a11d85e90f37a5af86f9841d1096111453af7a7f0b33c0c1906054279c153afbf119d48ed55cc6612857af9ceecd66ce40aee1617e2a9a5f297aa7ba1e2ceabcc4ddc006b81ac5c3be2416d5b33d2e36da8128a56af838fc7c0fc4aaccb728d998e5723f246bebecb6b95fec936f3fd394b8666a57f734a151664ed5b7304362d5a9803a17e6dfb62c4287eaf06b9f716351d3cd129905e0fc985c76a5bd76fe5d33e4d645075fe9e928da219d449b323b69282eaa64f3733d6adc85e47d296ef83c327f015bedffb7804b984b2df796d30dca5cb224b42a2655ece9417b08875b6d96b684b463d9ab604beff9616523401dc3a6c35e520b3c3232bfc2dce5c127a2cfec545f0441ec56a28a26962b75c338bbd3d82b6e795f379f1f70a505f4c76c29ac2c0161fd69a919632d960a3e024ee66b134e8d7efa1ce2a43a38b14359b7e8325fc12ca80d5b1771939d9c984a2c2d44a7863b63e60bbd87bbe8a180968a80c5a21a4982c8bdee4824e2c4842adeac512656687c6b37a91d9b0345125bb5eeb7139d2043f9e271be2f14c7e535ab0868c866b4090e0634cc752e2a8c264ec2d040ed288dddcad20253e866673430f4791863a5d6b27fb945fc1197466f1db52e4d51c22e8d9fd4410cf7eb8a174d44b49429ca53ce2248e2acc1209689bae346b73ea74ff3ab9c916af78e9ee51f72d0b0fd71b69a950c0d8dc327d256fd3ad9e57d0fe4072408615e732c74494797cfedb3e3d5b3bcba1135b31ed8d009bc77be2853da1d603786a6967ce80996aa13240ee69f77fa40ecbdcd9ac19f61cb88b72b1b7cde98d73e07748c75a537635eb07a91ae43f7842e413a0c29d644325648f8a2c58fdbc3da6da55582c61c9bf547179e2c153a0cfecdf686c8e3a983a36afac040d33e88a8a8534c862fe8ce403bfab88505c35212569cc012b7ba7c94bf3f2dbeee1626095ddc24221cb9ac488f7eee06bd2f2f097d81a78fd09f3bcd43a0a901c91f2bf2629c102d062594e777e0e44baaefedf17290ffd905d30bfe13a8fe704a5882b6cc4c2eaf2250ef56486bfee30d65ca7e5ab97d40c4cd2ee1ba299ff654b896478a6a3c772d6d0c9fdb6b72ed214c3a82a0ab8a58ff98af11df81b0b721a17cefdddebd9c646e8e55c2f171a8a4154a307d6d71f64c98f58f52c156527d4e9566bcd7ad40617acf2c6f35be5620d8279977e9f99bd7b44f361905eb1bec494162f6542817d7dbaa75d4b656ed1c5bea84390be8ebb82b9e160a588451003f9e46b15498c00e83bd350ac64691e4070007ad2b2bbeb9404c36ca6b69821628f6ca2323d8cefb4ff80b104037f682125d60df7a2bf86a68e0dce60ac074b07f45261d099a0ae3dd9d667251c8ee14cc5272794ec5095df546bf82147eae4968288c0a1ee6d6e336ed3a5f3863357ac79137d872e2ef1746814947773aa3aa93f5b4b297f587444250d70866fad37191255cdf84643a176eb8259c8bca1e88eaeda624e48601c0e1e1d8279ece4f1845439e6ce92b4d7eeae578262ef0d7ba4395b37a158ac73eead12cc95be573ff9e60a5b4229cd524511be166f7b991dd6c4575f8cda2edccb972586ab177cf1068b1935579fc3cbcfaacc3d4e755a5d9a9a915100afd958af7445e55b89583bd44c86e9ac2f4481cf983631d51f4fb1a544ec2cba7b9cd6b635b9b631b63ef13979d6adfdf0412909931ee6a3b624c7cb09f2af36d264bacf68a4e970ce855a0867ced8138c11f2be7b497260603eba4ae82e29760efa218403b07a940d92b6146f4c0cc332b811dc3303a338434f818dff8ba8ef32ada44de6da163e77dede89bf3c7ad1285d2c48a9120218f126317df0d9f1eb68dfdb7d9e94658215eb03682bca07f2e207cee3196b7c5e295bf47c5ffe08b9c90d0f0ada4f488c5e53517ca0f605f6be5547db8ed9fcc1325333ce5cbe532ded249527f1a1c94f587b3929a04658eafb90586968444109dcd2262fa0480d4dfa0be8df9e4ccfe3c65d8929c894170103a601d2d1627266ac2689fa72d7beab0cace54a96246a570db57c178e59ac3b9d317b97139d72ebf7e20f31292ac088504bee63c77344d274d6e3c5882ec5844343f17459cbb051e206a2f55e6789af58e018ecd578cf923127c2b3ef7e04628a1cb3802846a1c0ff2ae64da7ba198d8ac04d3524a9d4ae77b071191f81fdc7ead2c0ea59d212b6db91da8584e5faefbd621b27aa050130d9156f46b7fd26d422996e9a405a5e538386f64ec19668d0850e008b1dadc4701860cc93c1edd9c2350321ae11b3156fa31d2bb9ccaccca0009a6e1a0327937b119fda85a775d78eb491f5b2342014c851c6fdcdf7616ca97e167e5c1a66bdd5fab8743ce4c4977f2a1d3dee2a40652d5ef02045536f05b981b011820491385240c064c3575dd6211a516e9b2c29849ecbfff82f6f39fd8d2416f6bb759c3085a240e285c89a0c47b01c256516d016684770c4ad481d91266845b78a9d2fbe4212ff1b5a0f52433d89ec9527661fe94a352d558c4293633a69288d422868b28beec33eddf525fa1bc5d53d408a1db98c473b588a86642683bd5b13a602cca93e523d4058576994a0143456e66f9d0e342b4ec4cc5b92f685619085089027eb02d76f9ed8e2e20ef4872e07f98746d422987fd6cd7e17121f620e427420c3b2eb5a6b890e11a37c9b5188bf6268912e9ca7c394d4026b9ea8511cccf3ffb5e98e9ca89bface5af2bd76e2951687c548d16c4099422887b8d83bd705e8705d80b2a5820824b35d95ac5e14b29e9328b7e6055fb4b0947d19bd9d28097de3e6e19c46f55906e506f052665da968770e18ffd29902170824aa1d76ccbf2e524687e45d1841e7a6675dca700456f2553ca12b7fa49ff5783cede6ea08839f3dce721a5299d44ca6103e84d2ec0a8c6eeab3405bfadfd06e318fcda06e505a81e08f26b916a7e2bc3c30b7d7f2b4a4c42439a678dda40b21867f9c4e57c112593fbd5470f7dbc578e05f2ba98758d22a1c2853cfae0f92c2983cb9838f31674fb3a2b3108a903d9aa9a9b4501fdb909776f147eedf711ccdd0ff0fdb35e9d4bc7ae6c38b64561fdf797577f268448d0cf4786f1cd29c0ce01f303be8a9cbaaa961820b0ce48747b2839036eec388fff14fb50288e9c3990338c4804aaad315dbca96e2812226f65ad1f4a1148d213f1adf91e945d489d27d45b7a7ba1f136e5504145254559982be10d32c4bfe3cc2b24af0fbc6d4576c2e256d052cabad016ac8803d9316fb7b7cf5848eeb4a2226a8ba19b18308430300751b03de45da01f33288a16ab33a4c45642f2466de1cef8b26468f2d4dcb7bf27703f5c39e1e2492490876d86620935f66e2915fb377a4e8c99f5316a681164fc05bfae7ca8a2bf41c640e13eb0c3ca930f87299e7d6f0f0900599f241ec1588ddd966e6ddf4782dec91821d7403eeb605899668e61bfd03f864725c7f5b003012458f4b815798569bc9047bfa8ea9427ccbe5b108147f16ed35920a273699c115688d607abbc338d1cdfed36d9e42cd7d0d6c163fba2af440259d59952a1d7bd19212b07ab34fb2cfb304ffd4286bdf877c7c5ac6fc87f3e71f1335ea48bd8ef32e9d3be8fd167280e69197a89a5eb78189223a21d3797bb4be829859bc923939bd9db9f4c0eb849c951a674750e5759122d83c7fbf98a00c9d5fe6fd664052519fbde65f7e432cd5728f9b48970eb437f118fd0710be72af65b1559c5c7a02d4fb955036819a70ce88be71402d3bc79ded4f85466f02a2cd95f96d7954abad61b17253a76811f92261e00a879ddc7d4ac0bebba4aa0185e835717f6e3fb26d34bca00db63f237cc236857d37b04e47aaf11fc6329fd6e540337c1ff40081ace24b64a91e59edc9b48d1da96f0c876408efbde210248bf9d7e8a2b8dfec330555de9876443712d692d4bc7d2fc4fe9c3063a37499b47f9d44f8062b163d31bcc5ba190d93f1435bc166f18f4b434af4aabc975a48683a6c110edd828206dda3cb73080b8b5d116010dee83653dae7620c50590d16ba3aa1c32345f0fc47184af0259cb2826fdf0699cf42477c7dcea84090b30bd825c0683cd74790c2b8769e6741ad17292f84c99a532bf57dac47eca167bb4dac07973e2ab2b896225972642ffc0d2b2d2d2420ede3388db4b4195eb7268cceacf196b83d4b49fda7d29bb2fa1b7d7088e7f745daf0cc60417efc54f674c232ee98880736e87368067965901790b531fff0dbbaa4dea19ff59999d9ab6b1b7b132b7035a0a807de9fb8a6e2f28dedf74e7c5cb67e916bf845ca4783f5099de50b973ee45db430def9ef52fd8aad3781278ff8dd97dc045c91ba910ceeb5dddee06b79338a1c401a878d6cf8a8b4646baa7c09ffc0a97abf459c1f685ca6cdb5078336b6998dfcaee52bf42e95541cfa95c2b0db849c3454fec2d10e1e6341ba03ede6657b18ccd8c28f01d51f7dfd6aed4ef148a4fc14c0ced7ef78d20ac1f3aad3978c836e82b7e22ab21e9b78db4b8721d973edd80ebb0235866df89c47594e48109ce6469fe310e405048e77d2de161ffc7f5ac3ababc66b6095b7c734bff5f56548b9c5ea409ab56e323307422bbd92aa8bc0ad1ec1db67d08d56f874c7cf3df2f00634d53d291388c06a711ae69314a31a62030dbb00be423b4ab8f1e4616fbe130536f61db788910f1372d44ba1df0effcc700c70cc208af5ba939ada657ceb5c7f8f860b187b06493f6aac0aa2f7cd978bf16d7850c201d3b6d689927496a79a04427f32e3a6525ba182b0933f87cf9758b225380873f82cffb49a20d820700d46c6cbd2daa23e4172046a8982d0711c82a78cfdad4d5bcd3cbe7aa23d1a59ebbe2b3dbc64b85e2c8666031f556f008acda40b1ac68c2043c8d4f151e0cfd73baf23d7a43fb7dd739ef12d9b68a500ee61b6006efe887f8135bcb88fb5962f555d3f9672dfd8983164b7087eee41a17c89574720c79ea458bc1dadf5949b9a4cfd86341fdc7701fec14d34ddf654d1f541dc715226cbbdf29ed0e3288ddb7232666d0549cf35ff15cce0adba0fda2724b71992974a4a2828a0041159f321627dba1b64cdaff45bf14504e23d8bdf5d64ccaf47eaa2da9e5b2121908aa68d564aa01683f354de929dafafb58db18ba6b78b90f4deac39c5cdeb9393df1ea4ce4db8bfb0646e1bfce78e3808b42f08b28b799015704e768ce018db3cbe616dedb1c6aee96139b15a382ac71cd3b6dcf2e25e7ca67de85b76b0e2a817fb9a17d7bb34064307b322d04c311a08d7f552d253232ee1911e71715c98500b63d75c2cd20dd894da28522069376674206e424b0b71bcc4352fd3195c29c28b6d2eaa063cdcfc28de2a2f7ae5fa6ee979260972a82a8b0b8bf3b8ab92fd62829585512bbb6a7f59c0986a9643444a975865592541ae49c94576e5f54bb3548068be78e0e84a67ea8580eb87b76f87a8cc608feae4ee86ca77892bee004c19670beb07fc649bc6864f426417b381c97e5186bccbb74e2ccf2040c755c010c37cfda333409b316d2dd675ceb728723f0a523c62a79bbbc9c6fbc63eedb11012723abc803c0c7c3ce23a31ba227abb200ec8ba14f0860be1faedb2591538631248330b09362540dec2fd2d34797d2babb9288402f98eeb8ece1b8e57b7ef3a02d99bd8512b02cfc8d5bc300d503b00dd6207a79e05e573f7b8cbac154dabc3ec9d182143c13c1edc3ca1ae3bd483105c0f3b48eaa537377d73fc3ddccf4bbe0a453676796f8ae72d04a4784b5d28536ac3ffc9ddd258cf3c9b5b5aee98196b8dc9bc95f40b1f50285fd305dc17e1fa5dcd13cb1d8394c28bc8505999ef2ca10de3e1e13ce2bb34221a64d374a70c48ca90f11829c9d93981ffcdba7cb8143b7b98a6d534c19f7314d9ccd723eddd15ec1ffafcfab1debd95423a5ddb4f1bf14cc6d9dbe82e1f0378d241e420611446eb382b2511712010cbe1e7ec55381c42d85504a742be13f6f3f5c6b0e36e98c20106b1e6286f1d89678a10232388747c68a6532bb842bf15bf002400ce33da21a32e550f7afcbb33dfe4989e2473d2022c0b651b5497f0a29a90356252157497f84f04e67ec56cb18a4a504f0bbf2932def8e456854770410c5683ba87b32798743d86623ad77909b6228ae557e150992a1496d60b305ebd3df418a9a4616c2740300ec26e5eea543b92631822fd384a13844c72ccad88d97623a7a73cd2cba9aa80ab4c1e63c322a17dd588dce7aa46f0d74236024ad969a8013d01b71650416f29bf82b5ab059c81aa77a474caee0de13af0fb8d20b0813c407ec5158b8303e215ded7feec344198a668247f17586f48198e63738c6b2d812144804a46b8972d7a2862bb4f40d4874b3f372903ebaf357e2d9c90b38a08c0345dfbaba2543b6be9d09166772e10a704bdbb601397f4fed2bf2cd3e39cae240c55c28744affb28d67ac6329374a6591b3d80980e16fe79f9b495520cd6da246862b23c549ec32105cdf6f4a0f2ab099abaa33eb6116da9e5ab4fbfb229e0b17a9affa5e5306fd2a5b607b5cc44ab936b03b30323c7cf0b7a7ad4d9327c2a069a0adc58d561919586d3154803d74df5469e2774b8396f2101ec4e4243b07e75849375c7039409eeb42dac39aed678b8e6a27b7b7e141f677ae453228d8bba4b7c15d356999e2918233312586f079dfb79ae22ece843fe31cd63a800c8a9d3bef000850672c0632862ab0a9ad5b6e346f425f626ac63a0a4f27e8b60c142f59a7a1b601cec7dd6c088fd7fa00bd79b8a4aa7bb1a450becf8a502406a81170c3306efc0434a3453c571c9c514e9f759a279a5ba7857c259f9e3615767bb484b9559cdb75275c6a0e9de1981c74f7f0a7fc498c8ce8599616c904ae67a3e10caa4a58c126e2eab092fa50d0bb9ba5568771a597fee64a1fecf2ab26d533e4d5024e5f4e6332b92d1f799f2cd6e522f2215c8ceb44bde0a329e5f60e8f2ba4b67a59220da0555f3be8cae5ac86629336225fdb467533a027ffb4f28dc88b2085b46210293701944c368ef7b40c8ad352077b8ccff5e842eb5b0f7afd275c073e56a7f9424b6558f1e22bf16fa143bc44c8c4bcf732740a6902fd0fa727e9677c3c44cfe2e1e6a0197849bebd6ced0b07cac0f5c983ccce7ab7b0b094438792693490d3f5a8400c104cb1a9f3575b3dfb37a51e230b0f5c3909526d25f226c628e0c4b8989fb049b6c66e98ff0c41996422c86609f5a7e15a0855d9e42296df2344ab6a2622f68246ba6b3116d7caed51e45d57a40a830ab1343dcba74d466ea36f89d6710a907d1f4a526f154e9ed2b145b8c81ab6bc960134849db865216691cced3c771154b2a2c25615b1ecdd638d6c35301cfaf82056fb2702bf74f2a006e0e8d15e7a47872ba531d2e7a38ad2aa1a3c8e9b5e3340f47d2fe923e1666c24ac987bcba2b9f7843190dc57656a4825025078856d1841a423b9ef33dace8d7e4b1c8131360ee6ab8bf11435167f623682","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
