<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5da815add2c7c927dd586957dbab86194a4294df574f6dd771e948c7aff0ec5ba3606e0c21d0fc1fd75c8630e9d45f0197d1d3d4ed3b488ab5bfc4ac783da901164344bfe6b8ce4b05074f7ec72d379e4167095317a293ac5d06becf21b377ebfdf8d0452cb2884002649e508acd72cc42542d1ef9b2107f0daa02c2a54423484cd399934b3266466e87a566594b3971f0a61033fc6f810aa5f79f664ff3248bfa4ed787e9b2041ea21e862566b8cb911818aeb31f37769451d49f349607bf5d0446c32ed7324f117f9c5c125bc669e8a9355df677d9e4bdf1eb78d748a1fd6a01e971138754b82539ff5c8a139b732feb92fcd7e06ab66311fede491763c157287d87cbc6bb5e06f1d3923d0424b5f3955c697bdf9a844fd879dc0a25bd48016840004b4f5d8828342fcbe8cc2c4ae34a0480887f9f4f0b25fa0772b3f2b8597a74eb33d46b36a4b0431442ec061f677223c2036ec29ec55acd47bf2d5655128373b7c998892fc177318f7c2bec0ac194e8979426c5e8f3582a710dac774635bfb710798204084071b57c81bcab4cddab49e383691f54c417708c5254a95b0c25d8276f99b12d3c4bd5cc438f5c446a1aab6e1c65c758ad37342ad05e0952d07848e0cb1c5622067015dfbf3442820195aa222b762b8a28526e9e9e9d6a454a51205217e4b23d3e340632371a8f76e5c00e4f89a8b5d1212add06a11772566ef23f805eb032f026a2ea3a3e53779124e831e0699269d421f766804fb6d67221dd44d4746925e701bc60a33f5d580382e0e1e7346f9539fc897b02f912f767caab142a69aaef6eb658436d2b23a10f9ca2017a881adc11162f94aac51c892da23efd240e9d180a9b35d37f534547418d51d4330142ff74abfd3d1ec7d52f372871ee9dd93305869e49574c2fc7ed4d823e0ae4910a77f3c91c7e09ee49f1720afc72a68122a2690674a1b883a77940ccd39dbe0d4890a537b14d2bdee139ba145c73d0b18f2ccce2f206c217d9e7bb20db591981fb0c55b57bd9caef219d08b90350715ff3b8e6757e26da83cc57930bb338a97795e79ed6e64f79700f03843af8c1ba58f1021d124cc597c11fd1b6f147420ed801403c0e802d1e9ee623a5d31258c27a093c96b25d04b057ca5cfc80d58e4996241a103477518732691e6aae2f3fb399e23ed7c8e7f2527778dc3ddb52506d6e2e94b5167e6edb0f36c371b262f4d12e291c9ab9183c2d238d46576e673b5084469940ddc33e37882b0c80636f379947891dda0432400729d5b1f4d5570d26d2f0a39a6841cbbb5bd3c870e0244b88cda11cffa972c833ab986937caddf917cfface32a177f4765973f656cea0c84ecee3a50a5621dac32d1c4edd0d59bc3ccde74d47bb022e865fff03cd42ad56e58d2a600b7b7de65a656fad192857d8e59bc28c6c52838f314ce9d7757380a4f004177a9cf04c2fbbf8e02c78b2f662c2c1850d865f677ea15e7200139be5d6e32fb4b608a59f7150da8a950824684da0fa9bff13f59757609aee62065acd7d988e5346e1911e4ef5e82163537d6d923b3a1213073332b17c0248bb2afa676b2ef1c9ed9d1d58ef0f40730d984bd0362f2f082dfd780a4cbf00b16475edafc8e01efd93c99b6048998c32f4697faf7f18e5149423ff223d91735fdd119d994ff6d6085298ed74dc88e40bb2bf9d670950fcd791398184085e140e32f124337cedd8fd30e612827b405dbd3b51ad5ae2129800063f45c045b1378fdb7abf7acc17238c990f1dd54c40338213d5a56c611feae6b29ae920b2f1731c9b40d0ee6da14239d66f5ca8006e9ff9680bdbef9fdc4c6ada0785f4cac0c076e6c17aa532aa27fdc8bfd2e1c34294e91c8d7dbe2823116521d345ff1556e36538840da8b612f8c4e23047cbe45ae0cf5920f4d36ac71fc6dc3331ca7652d875b5de1ab9b6e6e5104d71a168b3fc0e1dca87d6012a2e9a513a8df7b5b8a00d7e75b6c712c3dfc9b00d3ce26666011fbbb0b8ab532de10020c01d876037ee44db7043c5b98684c39d5aab2addac0a385cd6066bfbcc44706d8b7a087b769acb4c0ce68e556a90ec72d646ed00e0c6ca58209fa9ae134c1d74d5ce47c009967d8e82cef7f49914844867a2adacbc45095b09de985638b7a56aec8970dd23048e6b404e2f2cd8f9818df0eb47ae13e06abaa999723d6d523f8f2464dc54649ba7af0ae573700ae9dbd404ee2185d03b31e8b51bfc6ee2e603aa72b0d19da036b06775037b295bc90ffc1c479914790509837daeae26ce1dd9ee98517b2d3594a3991eec2ca889a0c9b946d3a9a77d7b168639997b3f1e56f663f439229509715f6201423c461841af093005109fe73bb76c2f25c29f975295a6930c94d9755a2168ab4d34721a3897ce6b8c59743d477045092d7a2f7db768338f29cdf27081cc6fa0195c3ec03d973c89c5735fcdfca82bb4fc521b4ebc802dc86b0a38e58f22ced5a9df10416110641b0b4cbbaaaeca96882af0ee47da45cd36c2d81c1272c31a10d61f8ec89e9edd48bff316780f6acd858aff553b7b6a48f6b73689080621f38dda7a04b4f50b87b656fdc5ed7511a80ce2683126c69e19a812d5925a5301cd2c6d3b98a8548489722c2de716a1bc3476d3fa76ae43038722b7311603e44ef1a9936ebb869c8b7927eb03c2123897212e34001e312e46d892adeef5e11eac45a9eab72d296a26e0363687b77202b8c1d691c52d556507600008db66bf789e7c7147a48ffbadb63bf859fcdb1131cf6bf512bd08b8b2eca6f3644757b104ca1ce0ef73271b21800866987f1d490d9f3282eeee6324d922392a33f909158dab18eed1dbdbdc73f34bab444cd4086213889dcbe985b6f4d3cdfafd97505c2983350302795b7db83aae1c2f3103d24d42c68474c064e5bc7050b18a31deaffde73dc9628c2e8b6e96593ef1bb672fffd228d07d6666f83895d0524c3c37592002a995b47dca481d35150b9a55531043c709c1a289c6a11958f935384b3f1c78c5435789e4103713ce849a3764483f793d7d5d1b29e9d6017bc7335833c247c59a401a68764f8fb4997ee789f998dce2e467560568ae8f9ef89df5730bdf462f143f087debce540447d32f2f4cce4155f37afd0e0f376d94cd9164e20f94489206c7e120d9765bcac73f08759214e3bf047cbab96cd235a3024c2857779cb6a93ec19814e0ee37cc59c00a648f6d6b5b5a0f0d4e2e903efe2461ffdd06c3592f39f41f66446c0fdf8aa87019012f1859633efba0be663fcdb713e34cd9e2454430c464449faad110a1a56e360942a1374255a9e502ad9c6f5b2ab838db502fcd91722832a2cea9d548c0a7e7a497075705fb00f859510aeb49496e130ccec0faff4a13cd52787110f1d357816a84aa1319730fd0b48b186b0dc81b33cc02b0ef8f5f960aaf9a79eefebc38c3b10ecec12857a625a37560ca9ffa4fd257762060cb5397b5ecbfc5632ff35429211d262c6f0f3e90735d83801f60363f724c86c6de5c1a38ae368703fc10abd34f6e3af4a62c62e53cda6e9f867129aff0040dedc4161e34b9b8978bb0e1e8bbdb9db0419b31e21a30b85a0f5781a6389f3c83f5d871e18e2c413c3d6328b4a4915534913aae8612328856a15b331b062985dc01399df5827ca4330c0ff0c556f34f2a4ae596dd5c44669005575dfaeb10ab40d5b98bdccb7a266d3f9a526423f38a5fc11f1bd3c1db8185ed3de4d34da551b05e4ddf26fb94a4ce638ff8fa96840e651720279301e7d2695a1763b83cb0216254f0187ca4a3e42c041ced59ee0d76bc49b6943fe7a9dd23c3574954491055dacde4b0ebbabf414759d419003f310e30d73d7f2cb9f67a2ba56e4cc2a49e3f3ea768223fde8e5a215c8f425c17b1b972adf8cb1f05a799f653bfed3dd92d7d16cc86de888421f5946d44f9cf7b8da559c54db5c8295c2913143dbe3ac76302d843b1aadd57143bd242cfa326149ee57ff056906b96074475200843cf9dbb2f70b2ce74bdf4f5bb600062cb6ef7946cac4f312333bf60af57e2ff3791509548d8a206b03f679a236477465271b54a450de4b46035b9becdfb36607ca50a310f98ec9771f7d97777cc545a0d66f6898015480958a6bbf79ddb17f10b1b881c73c2300f7b4834f09e056cb3db4a9467108d9050a757600c854b034ba758d32ff2d4de0a174e3eb5b654e987b3e46b6cf96ba784b4b7af5ba2cc132796a99e5cb80c3de78e2e070614fe53a2db538c3be1dabf076f78b2034b521b93fdfd5e5e6cddaefa51d3ca9cc77f883527aec5563ec730b8781a9bc21aab2eb112ee9a7353310b37dce9525e71645726b4f2bd792afbf7459b3c607c8a1852675d9879af36cba570d181528e6baaff4506adbafb65f9ac0f22f19eee536772a88dc68163f0b9d229d38bd02bcc9babf173e4b6fe564870bad0012034cec104bf58fd4c794282798e5c67f3aa66d39f46cda275e2c4143d5582d5041bc8909d6ea39c4912685ed45eb5176ef0d2be02b7b0cdcf3223e4ab79809263f6d6a7d4f548d184fb7f3cd0ee516dc01d5e71fb50cbb5d7c730f3ef1b6c25369f833ba05d4f22a96f2d98afb537a2f71c7207410091f80cca017e54e79a2201fc8c9e1bc7fa1b77f2cde0b663dbd592b96c0cdc7f59a5384b7148163981e205b5a1f26cb651b5b7d78f8c802ddf9f57849d9cd62ea89492534d503a5a649e4d28628eb820a3e5f26e855cbb3761280c42af6c2de11a3f6a60ead65ff46b55a2696317f78ba1bad88fdda83b22f145be3304ff96b0bfc1152ed081aaee0472bf29612bf3471638992185e6f76ce034fa7f4efb4ae4aaf6ab4820c4a9b6fde4e0c44c12b1cf6109f4a699a148beff988ce7313c42634cd34a400d9f8761bbfe406065abad296ebc2c5f9f9047152ba73603164793b82919ccb2fc2b959365e8e7b484d52a7a8412927644aacb1bfd806e000e705592b63b751b0736bdcb3149383d7c2168294f2b8df280cddead2dc31c333a386f11359cd81f1a25005881b02938236d8cc6c24d1f6c6a73417c189c4df0354b514c3ced03405c59cf1041e9babd7ab86fcc9f2030f48f84f5a28cb312f53a1a9a2c5bac6169f03f8fd61d2e339fb9737da75993831db64314eec8c86d0c02aeba625efec563c50d0a9163a17a1b0a0b2a496041f97edfbea54166fa1161aabe0b00b0c210a7b312ef927a00f7bd452c49ff3d02d9cc5248d1d3d65af119f7cdc0825099a6e8d8c7160c71693b160e393e148c501a214e4c5a19dededcfd9fb2c42c75e86f12c2b9c2bdd3debae7fcff0e19309089769014c0f67bea75bfd0738a236664e4fee2a9421c00ae07c9d4c247eadfec6c15b49e695b7b31222e4d4db3d4b1ed2ff01d44a573a33667a99a2c81f32ce020b0cfca3816440c0edba6d669be21058f6bd918153b9fe022f89f5e7409372ce16d213a6814a279d0160fc72edb413b3503beccfc748cc6220ae4e82d101609f06c8b5c4d9c687ed55751c515e258821bb3f4a338cb6d2578b5b977e67890f07596bff271b6b9a34544601884602d39a4dfc078af3028866bad0746d660d62d218866b24c2f9179d449393a8caa229659fe3c7eaffe5a85e62b9545dc7c88380618d9fdc5ded4550d43acf9cb8ecaab6b4ead25ce94b502879fa30b1f8d9a33bb13206441c1b40907e87ab5b9c6f8e3e3ded213867dd25c5ba683f4c1ed176b68aca70120e456ec158f57d7e694ada05e8b5eb3a3957b0d641515c7dcd361dc1e905db3126778f3a885a9ad40f3b9496cf8aff8aebd9dcde2542c9abcb018764f8a4ef4735ae81755f49e9abf7c76a4aa0b73425bb551a94340d0af78edf5c1d1624fe58224cf0901d80b2255fd50dbb6e3525443dc769bd1d3310c676211bd62dedeac6088a40f46d526ca9f1d2a9ec10d13fddd169e0287e3d8ac78e3f6ccef9fb728c0a56a9a14be5c6b60eead7684c905f3709eadac02f2cc37a728f21aafb91f0474c9e47a1f495aea22bd2dc021ece3b56f89c3d3f45f286ef62f5c28d4262d9f004e777fb108026d283edd95d71ffb0dfe725be0ad7044859a88e864e76132dd6fad89279dd928e029373c5f726841ad03253154e9da0aad2f1926431d7eea8206dc3a21d4d7ab81e0afc0265b49a59c8110d0b01ff7856d32604718e9853aca3be86b874aacc34cb573ec9ea3505081ab03bf76bf3837afc36c033fb9138c6e484e01f3c974253df4b4cad4a145025186d65068a4840895892f55964eb205fc377770fe0bb52c95f12b25308c3cfdd225e030238f39cb328827e06ff970f44d783d820afe418320b2b2824acf0e0fdfa34fd85c601674749a85717c872969bfa03e566dff896aff99b48a7cfed0a0b9a950805ba6848029b47a6df3d30473eed57249418efdfb88732bd5132aa348672ff0835122c4c0594ff3f3fa999ff16baa7fe561219e1505e6eaf067a82d642f626dbe32576338295bcc7b43d3e13f58864dce069a3b0387c6494710c1e86e1b277bbcd1f7f630bbabff482d7fc6042dbb29713133e5bae9e0b6d8e1e90d0763257794d9d579b00257b273c678310f005ebb55e6d23ec0bbf23477d3bc6997d225951685bb05b62abf2bc9e315d2ad85a7e64773d0bb0f00529c2923c66fce1ec67666730dfb4adac17aa4714bd1b13a1cd3ee9b97f8ef75eaf081839e16c60f7bfdea8956093cb7e91bcaecc8c351ba9a6455a65e97edcd5529131e925e36db4bf13921e44691b4530cab5bcb5f1e5f19a218132492824d3037694c6c3cb281c0867dc6b43c58825137c14d7debc81082794d39f6e63dfc5b1b4f31fc6b27f69b2fd579173c03b487ad8c8a8f7f0028f9838994d4900b5f7ac2beb5104a8d68a233926e54612391a0024aa68c18189f21f17776808b7e7b0ddbd33fc1dec2f117833a1f837e0b4339a6b311bd7ad474d2559766adb4c0bc552ab2e7ec316ba73d553855c0f72ef40312197d5756b002ea6d4997de3690f978f37d5ad8e11e85fd862facc4dd168eff41db1924ba6f89fde9bb7a217e53d064a8ac04b5cbfd5441f11f2dd32019cba06350049745eb969689f98c59eba8dc6f17bbcc48a28fc728acd091081d9d884067d6555d88d0725b723783448352dcaeb89bf2b621347d22e2af99a517600f9e7a5118942dc3f3a7d88a7996d927df73da343d1f8408784c95a71f38e4fa9fecbc9d03983aeda1fd598dd7b57457cdd70056c43757c7c3d26b995362f1e86d14a893533bde3024c4cc89b731863cf7e3d41c97436e683f95927fe8c579e135b41a354bc0de31158df3ac3a3b8e5c0280746b0f6356e595702b8bfa10bc7959e8bcb679eb36e79843c62d53e4a816328d2ebd3d79cabc5dee1586a74818a4d34c4d949c4adfb8f25d624ccb7ce12e18545e7f298a645051a02f8727eb742c0738d918abf39082e22f368deacdfa41b06ab86a9c5b9a03abd7aaa80c8ed66025c1fe5d6b744f0f05d09373c65464bc4b02acbb7ad53fc0c61ba032fee854b524bf51bcdd1c170e2d0ef55d58837d64cec90c7c5d0ca55409d19c538fcc21cc94643adc934bc0aca66ec411b84840994550a09755ce1fb477429ee764ab5d0e6a47bcfea312e5a6bd79f32b904656932bc1bac5351b78ef168f508b0823b71af60ad15a78ddfab5fdd499fc2dce2b15f494baac32f89c50544ae905801772b7605ec9c2544c3ca67d90e654ce61c9ca3d0213f369866149c5c4e9f2a063eb976243e824b78e28db94366b7f88ea09dc3583f2baa5255c3557fd765073848b6183e0b9b60a5a20d6808e38ee2471fb07a054e2d3fe39096119f5ce27b82e98e2d1acf8384f660a5733be0221c5dd89f1d781c5a1ea8481dabad6c4762790814d1b12b4b828fba78baf4a7fb4d21709b7219aca5be1af9891394d504d518312094f35c090f9d5c9b226f870fc64d1da9ec08db0192d6e6253523b1e0397fea4140e3eb5dac5169d690b11fef244768eac651923a468e2c2a0954b598f11aa589731c60dd9c983f757752c76816263944f5ae7006f9a19804b19222eb624500421de33f31fd468fb9c2d9f2c7d4890e68ccf99938d202f8d5ac25e3211eeba3b4a2fe87f625e2449e8259d5ada2b2d5c80181dffa4f101b6d50228d80f5f016fe249da9c3246c656654111a154da4cfda2e92b0d11cfe363ab3a9aa58ef1619bc42f7a5e6e8808e0e563385d1c10889eb3fd7d60968e03d54b07a46e5f6d75a09b9453c6c8605fcb02718b477e6912f919247727d95811cee794d82e3db8f7a3b395800febdb14808f5d510aa3f8537dc193eca56269a3781539cb61dcbd62ac93d44c252b0d71183882579d94634959880df17304a452f350d45eab4c6dc13501b6e8ba4ecb4342dd1f554f74d4249c3c062e08b2b5729c4356a4874820950143f88e35d6dc0fb8239d8e3068c0e76d1ea17c2eb73800001e78fa4a3be2b048512f244420db093121e4076236d976693a794a90e091a2122db42fc1796d5455a40243f8943881eb24f7d0660bc589f67021e82a9c0493dd438dbc7eb246432fcfabc55c8fc2d5403509281da0980262612ab8010c0cb39a226b4142c70fbcd757afc141f634446c17ac6b89763ef85ec26528f80449fcdda9853633bddb83a095815e78b10a6a482e83fc2d95cbdea8f3f1e2e71d71f4dcba0bf5838136ba3c7327e5402a489464ea7e158636fced3769fe0cc62a62b89805b779e85c16f8a988e32d32e365723c7db15a9b93b61118e9463f4251d60a35381702f1d16e372739aaa5cfb419e2f486672ac9a49d0f0ba9d0893579755c2286c386ace81de5e90cb792eccdff5d6ece02af85b4d51eb82a9ff7f00a2c22fa62ff9f285d8e008b1fc7e7df49fe89f62fed74b193b0df734c34dd7cd04eeb431512a6667bc63c98952d5eb84e1d4b341322c64a1a7c10408a67e90e5df6df47a6a1683c4d6d486c483946aa8f4d44a23404fed59227c24d842e7376a029818530f0d4982492d61be7cfeb5e6c87e91bf30b59ec95b2fac9637c72dc79d63372aafa83b54ba9168f53804a65940c8d8eb873b59db4f357fb3c3d0e8d70577e83ecc797eb67dd3d2a27077eaacc8a1b55abd79801492fbd1c5a69b9aca6716d4af26bb742217a45c0d3e6d4f3b16f4c47874cf7cad25602e4f0e4172eb4dd140ccbc79c582235fbec699c0408c5a8241cf370d9d0a5db81e22d352c96af8233ccbad6a05ebe7dacad1112461240245d6a7c247949cfbcf91e5d677e00b358f2614740959f090d44e13f52e2dca2194174918d1a4f691e7ca2235e5cfd4d74409d99893a22c4c2cc6032a42d0d32984497b9e8992352b34bff827d4fbcbe551399aa6dd2cec57b1001e42893fe71658b16d95fe5f19492aa8ca15e5965e55483fb96b392f17f1b4caa0a4a33e92b3d83a3baee3662410dac8cef4908863a082f9b1d9ada7e48a6e83bd513e8348f25edafb49631f9daf192d89a554bd21accb7336fb164673dc60bfc4fb1036fa911f75e2a97ecff37c3fddfe8f7ad002cb4b1056412613b02dc00c1be9a8614deed5e4553d4f6dd60a45b95a76cf4592418f2176c7e7fac38a2f4c5a05b963640649b4e37489c159ed32000d13b5e4b2f9be1e5df8dfc0c4be004d8faa52fc03ad7d9d717bac3349e70e43028db4e8c12027d64de68341a2b6c7e5fa8d75dd00f13184f8ec7eac5311d0402a66e50e9c081d852ccc0e8d076c5240dd88e63a47c56ef38adb020a94cee83043d3bc855e3349d67e56590b3581551a59cd7ba4d63298a3626b26b04b1f7d44dee16af838e5734b2b58449d24ea36ecc4c346f1f6df94717a49c3c980f0ebb471979d7023cc013507e6a76e4125138c157ed2ed979b823674f1bfa83da2f8ff27da8b16bce6a0fe8e531811fd35415d8b4b9167822da7b2b46c8af7b87f6cf03969c1c532a3219479bed9905d1b89ee403dfaa0926265de4104a8cafb62a1ff581bf303562e628f01a91e5588c86c8e2991cfd39aa502f151856ec9db213a919bdfb307d2f0d422cf41b4b2738b2697cacb98bd3eea69a5bb09649264ad727e8e217e95d6962956dc9acf25a69d9d6812640a7f294d0402db478d059071fb1a54ec7df668cb1004ee65d405b0d7a0059ec2b9a33211b7ea315388085e7a4263777f376281eaa0be4a6eebe07853ff87b58a7b09dd9c3231cc924d4b972b93696a2d223804d579ccdd252a720de84a058d396157be6bfdcab47f8c5e602f477f1940c09c94629c84526507a8a509bc7773a2478de57b7ae73effca4fc69ffaa61ac012637ff943d84af7fbc982184cb422f883ee0090ccde4ef50bfec66f25971ef2f7a65c05595e269e84de99e62cbec073eb73f89ac705ee5c7af479450f5c0c67e4e2601a53c896e987e0a79dda093f29d5ea67ec16dfcf69a41d49674d3ae12d32af71d2edf5c9542ad57a3a637b190d4a3200c282c3835960f90200f3b2b7dd48dc51d7a591a03f7b193f5d1411edea9cda175effdb1255803ee9e634207d0f29a7b129dc61c4ee6279f498a504958668f70fb611418012c2914c5119688bb326bcc6961b87c5777cc263792749f9f43099ec2c6e79409aa1eeb793bf34a8fb2b87be6a907f9aa2d39c0902c054c706df7f5ef76fee508110e97e2e2c42bcf5cfb9ffc2a77da85966227c5df45e697731de6bc5ff00fb11ccc893dcd8e09037db706541558421a52cf2b1afcbe971eacf1a00a307891ab59377b0733e9b9de128391bf8687b4be241e7fcee003f59cb976110bbfc0a0c0d2568a77727640fe3b8398cc59913c6e579583a43c191f89f26e80f23a2926eebec048cfdd12d4283bf304f69e9c4f1e541fc2896913ca6fe3ec7699062e406f13ab73fe73318d8bb675fcaf661304887e13cc877d713e712205a00daad6a82a827dc92f6a00cd12312bd79a27917d40a2e494b5b6ae3c9ec178d0ea7ad79627e24579d49660cc66a10f41375694c890920d22faa0c05f3b43db7332a0061bba5bb715e78469393f7504085d86a4ff5f62a63ef4d7a6e89438e326176e9a8889f09296b76a34922c4c90b884717fc544d08456218a3df2b05eed660260a43fa422f4f589c7d43d96024264438d87d7a31d445c1101a4536cee41be4abb9ed9e2f767bbb530400bfccaf8c3f7df3cad922031d759277c690a4927d16202e9e3e6bff4e84ac9771a8ef94cba95bf44c2bbc6642b1e0a5af20584a9c2277c18216b5913ee0f3f8b03962e16e12ea2efc7586d561552612b8506f2aef1443eca39e63b5338f372deb5739febffc4bb28d5b2efe10bde695d0079870359e7980713190a7cc303586312d283b63882bef8cb4ebb25b250a49edbb866be7b67ab7d85789c1ec7a4e2b13809860620d3df763a5ba1311bf9d3d48db71fd19fd8ad990607190646b237a7798b00d6b41bb92a48b6eeabef64075087e21d49131aed8a7eac3f92fa698ed9c01b8deb2a521c9883b90db463726fe1b883902e62f6287639b7cba150195a6f8f25302fa305e131ece7ddf3d5e165fee2550cd07cce86fe394d35d24ec18dbc19e9dc77a4e3da141604d0fb631fd4d0726ee997221a8cfb882d676ae5af2de19ac3479b8474e503ab0e96172d8c6ec5fc0fd693462d83fe4ef179bd490a83f2ff97c6b2b0173a84203a02c0e2a078f1a9350e08b6e7fa82e56b0e44171b1bed51a31cf31a430f851e252d5252493f2669d5aed5cc5c2e22464ad0161cc54d80b43f728993382b9108bcb3f91e10ef04cda7a8b34e78764ea0969c4fe0f41d2d3a63a882e895b0fa99ba7932d00e0fb05df66586d4589dbc8ee0ebf0ca807b539b507672012e71c7f4ea2ea9a63fbb8ab2f2f1e9d4781687bd485088a623492757e8ce731f5e60fec31692252ac7e60b1bd81e5e359ae466d1ec363d2746a242a92b21c71bad6362faa3440e3443adb9d6e1102bb83b9192324259c50c5cfc8039bc80f026e31407721dcc94acab6dd0f67813e3e64d2c05bde09140f42b53e4d483551030c80901a1570ef62092d766c13d22d3e7df7b7cba7788669a5e16dccea04178645dbe14bf5a64cb22a37235eee4cc7f4cc2adb2b33011d67baf7c2a7d2571812ab3aaad8dfa903d40890faa79332d711fdff8a8b02c8400f1d1316c44b8706fba0c728d9d45ec38b9d0b4ab70505ee619d7812ad331c4aadf45a94cc5adf209079f4947fd00d56d73fe2cfd623694d7286500ab4c917d5bf0b2d77c5bd88282c04782eb40e8101662d29506377a6b45472384ac5873516d4e8e02dc2ae70c3a7bc38b9b63e300b1e9d85d7b097bdf72d5ebc8d183afb10893599b49fdb2f9dd22ece796b46d4d47ece32ec22d241dd41ba8761b9469495f2f75c38fd23943bfdf8aefb317361b79592147cc6a5aa11c3a306abfb2eb3e183ee2314b9970aebf983e9609a17f978daddf63cd740e9acd1a89a6407b28b31086d26bab74cfcfaf8536cf36e891679aff2936f6bb7158dca25264eaa7885be1560b3b6f97592efee0834103dd1bf70d120510cedec99794c7f0429e2c37d9a2ade169ffd0c79bceae2c9f763b934932d3a38372c0c24b7b8be5d183e96b8a30720ac599fa2c50ae58d402ac453994d8f3bf671d2c33064e42130fec417dae890d67a69cef7594195f3552405c470e95a0479f986166c514ff9bcccf830b5afb09602216fdf8a04f2ad2f49f216fe3ffbed64e89e390642051b701f98be8d2a51ac15d1db989a72598a3e3bd733e056ab5475a426b5f15265ab6de6001c012adeca2471e57fa9715945f37376a34158558d0fc111a7a606b56a59e2c67aa1a1e63083e83c4d2e66f9719630a9ad4309f56f46ac14d54ef3c38d8df3b3f5acae98c756a3d925bbd4f1919b47cf04c8fd561c941adc571336cdd827c6c6b287f72ea735cbdb1a7de0de715de9d5a9a400f4105d9865f2390843af7ba777fdedd9d979113aece8ef7adda33a39a7ea0fa7040ffe80fc157ea3a3caf90f8d67a49626ab6c8d5a4b15d9732e82db6ec7dd4b6c069fce3a77aaca82aa36ed281b3e5696138d80c485680311b59fe017a8ab57754e956ba3f8149ebe6b5cfb9d3c7c49cbe3b14b761de2a47cf04d9a24cdad328b010890d6414118fee65802f76bd11edce6921fe7bd2657ad4cb7739e40d5ed0f5dc3435b19c56c362846f27f93f300ceebc775e8be1fbf2220238e666e4a945f28df4a457474afaa5f45731262ef2bef3f70f9ee502ddaa7fdf43ce3af82d9d6409159112472071a2fb4c26e7bbef686808342aab8bb914a6a29a2019596f383f609462af0f773f2c0efa878f2100546a4dfedaa3c7f851313c699f7b5af38e0e3067670976dbf3e6a0166a9fe0967c2e3cc7df5472df821d23258a160c6216d31d7e9973108e9691d4aeeeaa64e9f27d1e801a14aca4044cba3abe40d5cc5289c382e6d0435c1e9eb556a3c8bbb70ec6da33aa4ea8f7aa445b5e0be2e521396a1acbb7a344803f3646a9fae60dd06a2e1820d441764a535c5f5a457268251f2a465d054000821055be53c202c9a947e24b707b88cf16fe655796461351ed904c7f00afc327a5217f2f6d70c1e5fd65fe027ef5da961d2192e2bb32434dc1908d9be8fc9baf4d924caa78a507f23a968d6ce13290ff44298631ade622ef5ebc2e1d646d97e9057846c64c79b7d1867e8ae5f9638f241e545b2b54feeebc84b02707dd52bd06ec5b07699df83e08f8470e12d13f6f49d89f8c978abeb94bc1340990d0ff6083a205537f98d4c414185c70e9e24a648ce63e93a9aa7c67d8f0b6410eff31a39632120bd3e2c4dc46a29787dbe2e9ea74307d47ac5dfdc3942cae10f26c47896a659954060ba6537ecdcb519cebe3108130ed5103bc6426f7b7c4795e4d0192eff55eaaf72107dee9cd19d0c8c5ae68711002aaf1d94a7a7ccbf5a8b94909e2fb0f206efa939eb74e4f4d3479608aac6d7b04342dc94b18180f470d23960a20c903b61ba108b48c1acb2f1adb96d0303bffbddcc1c1d132a14e3d349859ba102b7b33b0cc010aac267cb121c56e23faf3240de2b42491c81bcbf1c50e317b42733bc3e656ec9f3b5b1c8f98edaf09e87d8ebd9e0661b44d909e9915d0860ea4ad9536035bd0700a51c8e41209a1205a7664025ac60d8ee7789790d0a6c8353bc9fd99b89d7a7e780ba72b64c94ca06ca0df48c32bd7ab514b2d6af39d610db3de6d0644eaafa0676da522c402d5f2a7eacdfddcb7b66b5d4d0ec58f2eb5f9043cbced305d767451dbe00a6c5138d242a21c576bf13482251aedb1baf04cda23ea897a79906b862713d2b8f23cc5d7c9bbed0472739d770c4f0f2db6cf07d5777b93a10b0f98f33be83878c8ff1215b33284c1dc52c883ddbdd810615569ccb35851e070aad5910ac4a4434ca1e20169a471ff5e67f4b06a6f247bd4c8ae6a27bbd91488700335b50e65c24d59b216bc367ea670f2b9976bdeba2116e3b9ad96a18938bea1074772f56140db45d662d1007e71197fd5fa6976a7470dd9c1d15f68be37998568690a2fa8a9da2dde9cbdb3c177ed7058e703b20b171716881d38b3ca6f886b6a7c188dc338b4c56d4fdadf5685e69c1d55c40e43ee62288374f815651f817c8cca3e4b150c79b5eaacb7b9f9c7b688c1a64bdfca8ddd9afbd8d4644f6ffb67ef9d33667c2cfa14914ee51624e6051be3339991f1e21f9c967d51c0ab434e3a830b3f640521ae30ede2a30d98d1e1ad903f8c27b79a1da53fdfa5c57f441304be5d3626a183174e94066311c02ea5e54666b2b59d49c79cecf6c5696180e6055db308c8a6ec55d3e7da945fa6c0a3b649c030c15a73e7e14693d91e09b329403fdf1aaa68e966e4d2441cbcee816cbb4f392f251d5626cf224393dd181cea0914cf3859f4aa309c2c799df76c0d555008334e873a3181d7a5013fc2fe4eacc147f248d525e1b95789492d31416ef75eba7b3b33d4075a08dc163bcdda8c5f141559cc2613a81ba96cb2acb3bda8e2e4839458ee8b54afc54e29c4f38eaa5a5495459b6befa022174ca64293e39c422b10d11d64f9a4ebddd15eb71b0c6013265e2bbbcce0d7c283d1b24cdcf857fbabb1b5f16e0f40ffaed2e87d014d68b130e0a35308e3d9edf3cd298e783b4b6978eb192debc58c46bdcde7c8cf6fafd57ffb00c9cf21a8f24ed1eba6205a11d6478566d58fcd165ca7e05871a0f30d3f4005bef448f44b447ff8241567f7d2820bad16bb3cab8ae60071b410786b656ef71ddfaaafe4733ded893cc88a3a6c2111718923839d868c0b0643daf98187624c17a86f945af0763e48c4e5ea899a9518ad5bdd32d103edafedc3b0915cd0353b5c7eb16010812c2e63e71f4956439d9a97f0e3e7459e9308498fd95374baea978e541a56e277948c6d5fcaaf2266f266860129e9c8972f4a555c55d76d7f77cd23fc8ce8e83211ffdf94fba32597b7ce5b116d7a46810dfef303575f881b97dddd9e460b26ce471dc27a7fcb7ab7e505835cc4c85e589d359947367df21c1662a6018b820853840b31d899660d6769ab9e8f69c7b4acd0c5bf8586c190bb8e0134e78283a45a19a29a8ed1e1634a52aa92f088319b5d332d81c5527091faf4ea1771543f07412a64fe064131dd0ee88980ec5c1f98ea3abe7f63341a48892c19fb2ff1e641153d2379679175709767486bd952e51787c44bb40e5925244b799986ad7afa8380c1fc65b663d5f6d9a907dc8f6bb4be1bd89c650f9f52cd3df6d6157517fce66da889b0bb9fe06aca8ace7cf5f17bde4460e207700991387909b745b1c0355b2d7d2b60e29d2a2009d845cd61b1155c4595b17abd1bfbd452e7dc16911a3e22e7b83f40a172abbeb490e14f2b565372e53c853c46fdebc6bf491f317e220d86e6096b4f55e90b45eff0fe82287d035d3247b778368cf4218e9d336afd755a3015b0d8e4090fffd0a6141b7ab22dfb4ce134b9598a8503c79985898923df6a43afdeeed6e0eee232bfce275c6d6ebcc716eab76d246f16e82c101feae3199214e0d922b9098d4df4cbc26c36c896475c701bef774fcf65a4ad338d04ff6cc74fbae39c4a33d78c3931049301553bda526ff676936549c17ed392ccaa7b8543f0f61495a1b54ae6613543ae99040f8e773ad2668a5ceea6a77f2ad0d3b2338e2ca195cdc6dd6b2a76adf1546ba6295107aeeff55d5066a9770da998d07f3b61022cb1b9cc1c466550c9edb31d0899d1adece5764f39c5624a8ee4e658912c68f54c2f0cd6caae3370dd36ef8ba254f4e9481c7bde6ea12ef76bc69ea37eb41a0a163d5c222ed695478f099c3881686e6c6332de3f54be1646ff2f7046e879cc636072ec235a1eb81a66c460e0632b0ddbd8a29883982a76b1d4ebcdf8f4abcc9974b0ad2ef8e65b48a004a87672892012cbdd13a75995cf9fed17f219e47bb8ada31a1a4f279027508996d6abb9a071400415cf5bec8cf581ee15eda4a1489abd788fcb4d6cfef5e92b2fe4a6bc2702be6642ff637f1e8cc43cd27abbd0d6f4e2ea4134b13a93545b691059396fc08e451860b7dfa7d11fb9d3e96c4069a49d96418ac084160468d8d23ece168b4ad3e7209eaca2be853d034913604054c665e948479b3b00211a92e205f6542f5659f7d9741e1e119c543e2a50fc66f8f8897bc26bae99fdb0d6b4ceb79eed7c8ce67057a30a214a453d08fe40e4abd9315354022ca31bf5a3d94afb0cb87089baea0d0ef579a2764972f21b191676d7645b41fa4736853168c56c9c5ea0e2ac5c7242b3f62edd8e6c0ba96fce1ad7b5ba871b50f59fb9573287896586ef47481399f47f33e83306580441469620396c9533696516d507d47ee0d73ecd622d8b1411cf843fd0dea9d7ffe9e35b7dcf7ecbc96e9cd339c36a5bee3c905dd7602ba0057f50f5b9a448608726c759413f8a8d7cde4e73b9c32a028c685f10c346ad459c5ae44e9e6d5d5b3d68a4d8cf74dae7e685b815abd539aa1595165c727463a5832e181c3b406e76699f569110aa9b16407a6e2463849e79d0a308945ca2f96d7f957bc13d1e946a822148ea77cdf16cc07b86421c537b3f89bcebc0e2898d5981221a69848064ed1c899d06ccbdbd57adfcf130ca5394fba33a060937ddc0dd875564bf5c67d1b4110ae3c08d79ca9ff5308f43fb9b7126c5365a76498525e334368e02859c62ce82ef7cb7d2e317055e56befcfe72c7785a9afbd593d7128b678023de9bfb9e2f9be39bb04880e880ba66138f3d45e59779095430a0e4283e8390f036f52b537435371aa33ec607b0e2cf9675bf3490f9aa35e082964508803d5f4b1b07e3806aefb71781625b978be83192566544fb69a7d69d0014d3d9b23a9394e0fd68e458d5d94f7ccb46800c97d76613f6d8aa14f64ae97ba59b5bc4cb978430c5ce9741226cd8873a28b9f1bc8afbb97e84113c6649d1ba891f81c2f778ee7c322775112df1702c3f408b8c1ab317097cd929a29694667797ecff849e4f32769c1a65ad7a54c0e77a5eec6325144903f5cb87ee34eff4a7c8767302891fd99ba7f62ed4dde8660945d48b766477c5fe4ce74d09d3bd484866915eb57539b825c2c8663f0451dc058f83ebdf33a37a61e9c77a935cbe9bd41b00e50a3305bef0ad2bf40b5acafb9769444e9096f0fbd0be60c8d1641c41ccdb35943b85115db8142b8c514394e3d05abd1fb9fa5b046971df02b05bd790904f9d7d14dc10eadf8e31dc3ac1fd224d3c4059561bd159c48853e1816ce7b3fbe8511a4a2788d4ceca001bd8eb50ea0a99c5bf5ebaf7e38f7e957d8a8a7704b9c52bfa958b6f0debf1514bcad36a62fbf1cf9b69d1bdff070e4ed26fae96356a862e3cd8777be346bf4b14da857c20eea2fdbe98fd6a9a2a3b330cabd93e06163abd3f50250672d574531c23a006529932b22adfa0f79dd820313105cd36c95d6f21d48df039707217a0fe2858d2e81a8e3e96947ee40c9816bcaad7a392de128e2ffcc5bf5e21e834159f40b2d2f2ad3cf74fec48a149b0e933537fa6e63b4a740b1bfbdeaf1b164c1da4011672ec8b345b385dca4eea7bba65cdec","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
