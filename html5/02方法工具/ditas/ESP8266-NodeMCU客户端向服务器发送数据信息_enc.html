<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a3c6f311e360b975f22cf8d6a89a17ffa6ff30058eb6b7923f378b54039644cf9f6701bdfb1414db006335084ec467d9b926cfdd2acaf070e68c41b8dfbc1f902420de349dc4f5f262c4a627d63c5c1395998bf5d4fb72999a1aa3098e84a3ed29cc81376bfef7cfdf05b10a27ef200268a337d99f446abdfaa2762223025093860b2f188ce5dc061b847a857f1fb20217d45ee161198bde0c5912a5cb3c4fc0fb76e1e56b831eca0303a6d7ca1c576a0859702a9ef17bbbbc03e5e3150af743d6af336224ab6e99c3823b0df914e9b599ba5bf14334a3360f81494adc0e1b9280cb37bf2d44849ef085379754c0ad9ad2541b6896c10b72eb526316dddfb5c62e14231ca87ec3751ce7028f3edbff71161a90c5ffb5cff3f6e763759374ac810f4739b11bfd9117b8ca3296d89bcfa1bc8ad3d6858f51f80db90717ef2e8e152576d4965b3f1fe0f77b9b59752d3f9ed2e318ca66d53d260f114272f9f583a973eb7def6fc93745a517c7cfa5ad71f6f97df94e025405728b9bbfc11d5b1db54b82301431060abee2ac38faac089faca71a8901f92139f458255f512911817c001d537f12004fd9dbc2b4df460c3ebcd5f3cf757740b0ca052751577b124b925ce4e556ee092b816beb318659cf056680c41641aa9df7e26bf3ae63a33214545950a694fcc275cdea020686eed8f78c7b62820ffd5d1215acc45eaec81c09ee63e7d5490115f6dd3722f7e3192b6520a28730e1cec0bbc85729c4b71fa21ef621e0af6289a2bb72cb2ed856c70c4e330a21ddb8c4346ed9f811b3053ae50171ca9701736948122dda4aae57f626c2129bc3e681897cf0d3e293081e9207ba5c54b2d6535e5d5362d075be74974c4b5b67c6d644db3bb83e155033a4f00fe2c840f862937825797625fb884b15fbba620fc7a4aed4e279235fedc7e60854079ba15b4eaec5e68802894858d297238a7d1a8d5d0a9d3d59689ca9b2be69c1c34bdbfa6bdf09e4dea9a2d627edc6f2861e891c604c883125aaa0dd7bffe993c2d29b63b0c2943f02056bcc9fa7cfe3a6a49520b0c453ea6f98539c123e475e8d55b24cd2fd31d89f3021f06e9b690d4892cecc2e4b5216955508d9662e7544b0483fd1594ac463423cd1057c5c9595aba8fe154168baedeabe73ff35522945cdeb29d0a6333d36c9d37459394a425cc4137b2d58c2af15042b504e99a24dde6c7daf5fb40266ec6b35564e0962bbcc6357930fe42da594e09fe44493eb6a83ded9ad74a27dc9e524c1a172eecb92d2e61697868ca4cad8ac3e4ae525424737ead00e47dec4bf7247abdf740aee435faea35960f2089cdf38938145cee6f23775decc8028820ef07690e0706b88d2b6854356d5cfd34fbf1443480b1a0c699aaa94f4b3a26731c5809c285258ce9b46084815d6f7c4aeb669c54cbd0756a5298aa508a2e369b804ca8a61484508b4ada0c4c0796b114777dd906e615fadcf8b8e376d65703967eba39447947bbf8d339b25a489a735b31cdb2d0e1ccb513416fe6661a99c2f3fdf7bce12c533012a901b5b48786f50bd59b420bf97169a88969e6f886580df49ccfc45515e961e643c0c9e23dac2471471dbcc7cb1f49bb6e2381f27c7f953335293fc5d68dc0fade2d7ee15fe1dc29247eca5932b8121d7edbe535fe73d98692a42e5f9b77b5e1edecb9982071a2a83bde7eab5fc077be2d78290e62ca3744ed2f3d663be8945f2d89de7c458bf370aee812a937a9fe3948a355397ba8c714698d5995bf99933633fd4f44d4d7861868f45e3aa675fbd18d5852b4fcb61cacf61806070be7d33c1a75aa87c6d4b546b75560ca2c0b101813a0ada08e68e2b6e4b12a22c0254c8b22624813745d849c476ce38769c68ab54916dcaafd99e20e48b2d3ce2f18e87dee781d57e094749a96dd31baf9e1b4f44e8fa8f7942aed3e93df9d6e25e7cee00033a86177f6d7952f5f2b33304087cc361d0389c9c2c502c8c45034c7c8a65c27387a8b0aa16a4896e304e85cfaab409e0b2ad8074e9a4ee1dd90c8570426f48bc30e9006fe46cee5ada168c754a9ac279f14ddea68ac693c866c9591fd5db45002fca42580a3871cef662194306d896e525031b80b0dc0c68a56b3ac758b196b076400170c2100be61824612038e6da515106966d1f4751cebd359c98ca84b230a53d38e24b520872c9df5028d6557f081a1e5eae3a88160022ba3c9e4b63ccfc2d7b02f499ca4249e1ac682251f2bd8c878caf2f2cd2fcffd56c7a43ad17946468cfb72124c0aa445d52cf0597fbdd45b438d5dea975fb5dba972ba759dc8a72ba3db566747693c8b29d283e0fae0d60e712d71935a13c532097d0662cc3ae161c534a1e4801635ac0979a683b87bead6bc46085b3c83a9a0fbb411eabcc9b579c4950fd1858be2a1cd8552684ca2c54b00ae2ddb4e73f064601c37166ec86f046eb518253bf9fa33ff5a217a5d928fee4f7b432923df4abdf7e0a5f9f70527903a12b0a69e2c12d37176fec9bf2ea91677a1e22201f2602e6aaaf7967bb4660c88bf17de1d0cd875964ffdfe412c7f91e997a4340c73ee46fc88f55b7841a4547bc2083f07e8cb1d36fcb22958bb2dca52cb0f2a23d9e05d5891e34cf984c9a4f2ed8f1006a922429d9938f1035a4be4edf3320814c9434e617987456235de4fae14d5306ef7ab33ecd21919627277f6f7cc1a335870e3f17d5c8f26aa126bf6e82425dfaf6da86ddc47816ce5f6b2d4fc29e48dcd47eef7a13efad14f5c2b48b1c92f3b6abf47b127a1a7c108295aa1c5248804ac6fe875237e08168b58f85f0819ba35f4873bc122a86ac3f9c929f6a1dbd374f159bdc731bbc3b7fbb115f97bb4bc28f8aedc1dedb59d8156565206d1d4c0e41ee95fc855c450eca449c656bc746018cb4b87b28f49a682a0b175053585b5332e9836dd6b0b259bccb446a68d544d4db725df6eafd9d3035b4619a4931825759cf53e00031a9c690550637f824d81ae9f3d15907a3e3cafd0b9bde89fc76021b3a1caacaa05a44ed4aa17132a384d1f8edb9a6d8b47475353edce07c0f3eccde0874bc28fbe4d6f76dd21ac7dd9835cc0d93973c69dce941a02df55d14cdc9e74378a217c4148feb11aa760665ed49714a65d9a62bd5fa0f7a7da0cd0152909de4cfa51a8b019edde588da2a334364838397da6c340e174a5c4f2fc7c3bd579fb33f575946d2c343aa94a5b667dde2c09cc0e72fb7a903648ffe683e14a29376243f8f3ca3f0e8ce314facdae3c801f362cf64a0a3540cdaa037599b91e063c507801893ca3ab16fe539fad774cf3dd26023938a075724f45ca23d54691e7b1d48d805024c760a0fbca6a742ab47dcea5d25e07a6bcb068e4512b53a546292280cba58a16f81951db0510155cf8aef7e4f412e3a60c15ee8e1d336701f13357ee2dcb6b4de385698c1bf7f3ee2d4a70b4b6be85b9158381666083aa13c28343a589b31f1ccf69a8b5d529c1bc3cbe439c68068506c170e0f1559abfed181bec6a380c5fb0d0e97e6de3f63af5c40fc16b21f161eec14997b7d02c5c860a0965c0a3607719faaa78dc15f5004f3098c2a1ad98595e31aa6c425cab36a348cec49c55d3e901e0d3d04ceb1223bd1913291af8f7f4ea36d6b33efb09a8bcb290cd150fff4dc6e3bff10d7cabeecd4a0ac2ed3b84669005bc3a1e02fd830fe9aade6248f76171f601708228e6abe332c764342a42e1afe4bf220a7e1a9fd66755aae16f3089386347ed504a9c6ee4c83e97a730153ca46468bbd80718f8cfae787d1b0922b55e9d2e29cb10ee0ca9410bf30347663d96b85219b0964d21b66c982f58d939c63c03fb5a6fdb53fb47f6ec8e8330b1eaaef10a5a49469466b70db708226419f1510a8e1096a6b390e32ddbce326d7712c34cb877e8d7d9c31c2886c6d45f8bbf598930e94c36133dd30addbb6b79a46b208bd16023f9d7c2b35428619fab5da42e7b6db899701da1cb2ac069704e0f076fa77264ac2990475b2112ba6c3833e88b7b78295e44bf90a059e0a58d5cccc9f40799d2cfa12e3b669102b59502b942f2c987ea5a1d90126ac84de76aa1e4b50ac1536e1770f7c851f3a3fb25c338182879ab8daf23a1f660c7902f44011139a6d163833d5d85b2f7cce48f1d68795b91b515f3e6a006ce1ad065ac21503997cce767ecf93228f86e071d7d5aff3495bd163996a2ad67b1bab292cb029e99029d5527bda0490683053b4ea13d89d2e98be37a33cbaa4a903409b15a4f8531b4a556706ac8d011c3154827dfdde807c00ded4d78bc479a2bf446b255dd38a3406cc4a77a9c3db08786020e3f4302e1ada1a760df7c5499ad9d4ed91b3ee08f239c9f9e913711d0d627153b73e6938ee4e9c5053c1d6831fa1afef10bb9f749745a54548cf14dcb0d633f0ed34f78dde8fb2ef5a0671953b5abda0bb6721994a77964cc979132638a220f1af0aff1864057072396aeb57a748a9b43d4dfeddcb0827049938ce838a607aeb3281060fc58c3d85350b649d493d0a41e1d22f27cd149621ee2b4f8f470b280c73941a0d85e1586f89fb2eff22b129d17fbc3e5e0616f54cac650ad1b0d85342d963513f8c0ac84c31243eaac96857a9cdef4bab0ff44acb0dda652647def75c31317fcfd69589f7a6ae71f1f3e15a941bdf68da18dbaa0e130f254930b44079d1723803d75c2d00c1f8785711c37b0290fd04242e886900e067b32391b7820ffca1eec38e883a9899ebb86b068721c686147c9ccf0c76b01b22915c5a06f6418a56794c74b3de46d3106e64a6dc2949d0888709da17f5859ab5e9682b9007194d7d64a53af94b9390992a377ac9410847d0c22a9e3a4c287f95a9f1d8812c00eba1042b5edb8baa323b94f847eaed528704faa7c8ca4f0ed488765fcbd28fe4171ba75d19368dc48f402c5768e23b9eb3f8367ff389c3ff8dec2da5f614abb50537101bd39414fa1c17c22a5d1fc7c31e41ef1d2bec72b7e2318d0f0a1137de0d99f844bd4c4151c87c09f05daa0438ac8cde48c039d0bcadcc3904010680c002758d0d7f670674db0873ca93ee3cf4fb56f18dce95b42bc6fe158927779101d9642d544b8be15160269b5080df036e704cd83e1d05fb9b1d9f5d3a4ccf8d3e312e44ce5a2d802db0b1eb6dca54da6f4c7ccbc681e5e09987f930216d9ac78aa8fa68f0de76246481258163d501a0c36ca640372c5db8cf0e9d06b4274f50a261b19ce6f614228dc9d466a580c9d77281ee22da8c7f7590a4574dbb613778e4fb6faba92adbaf353b4b22c69b6c0bc7afc4d73e268cb1034275788dddf2d82098e0f2b647e736e5efa1da4b10f7cd68467088719f7ba0c54da14b4e883ad5b4d136d0736feeb0e1e38d179df6ac6d7cacb79f04b446503b321d0220ffdf65d251d4dfebd7026a6b47844788e5e30e87ed5f8cd42bb5971005c7bcd21f92d53ca3ab523a678be3035d044b96854dbe22531aed17d2ce576ce9ac28f993db2a5407d51db07980eea8362c2be7c0991bd1350bf96daf3b1eb3d1761747f1e580ee3067097f3627ba548cbd485d4fec91ef1ff90cbb6867a4de936df4b0577fa99fbdb87ff705930a6abe919f51d28a78fa82cd6e40f9ef9dc9dafdc79f335a44a3a752dcedd5c8e7e0fcdd1413c8f13bfa2d25eaf876627918e649b28214b8c193b7f874749ac091cc2d5fc6bc5de34bf8e3466a2c3446ac0af03e9d15c97f2ddf522ded244d0863637ba58ad195d3269ec96c51b4ed78e87b0c4e4178d5abdabef432f699955be2799baa9e3f2b4e404d97629da38d12a00c8e995f5175a5bb88e4bd14c1688d795c591daa0cb651fb522c7f01bb7560c171aaee78441a10e2a7d8957aa985fee0146750394ab5b8747b8c1f116043635ff97e1e5b182c2c3d0f4ccfe8a8f76fb2a4e86012445361011d127547f12f66501ba383c6c4412380421c307ce4988edd2df82c5878a7706e34cb1fda3cc80580b6bea64b22aa4533f4053ae4043d2dab31afb8763854560151a990720c4da0d083c1e3d4530d170772424cf8dcb72a4f7b9c37cb3063b4ee5afa09b6c37dfd914386eede46647801046394107101cdb7e3aa4790115e7774e4dfbe4e9576fc5f12fc200eaa00a9136b9bb5ce1f4af3d5a25a33f690e4b382d442af2794ee8c866e4913ee5a32a4e39714b915a1dd298ba963ea449425040a783d822b79a53e427af6c855604f0fe39c21059f51b26c88dc9850a9a3ba8bd3036f08e97d4b3785e260fcb0c91de0252c280b3a77caeed7e563d2fb138e9709f0928e076b490488334272171fb6a01a499c60950223042fbd7dffeaa78f509dd499a4b94b64b4d427bd7eeebe3433f369f3e6a53f218c5aa2b0f15352a9920c8618e1f9561435d6f1d15394ebd9c598ffc97f03f902d091d3d4078f9b61f51639b69ecb6a6414a91c05d4fcabdd741b4c450b28a02d12d7cda4186f9c5f3d2db652872593e542f052bcaa181d2ba0fe2cf60364e90c81ce9141cbdae7f91f613d97b2c7bb4d9af7576bbf98f06c032bb2d82abcf722f426f2d8966fa1e10358c7ab0704676782f064948f5e1a89365d6d5d89d088db266d9d170b010e7a5a34fdda8b40ca48f73ae8f508ac57b90472fb49dca2af8fc6bdb040e952097417db1c74feaaddfca27a1e5ad81147240239d0630814d04e663bb1783a7addd365f79af895c37475e0df4e9f17c92505c2b987ce11874189f4142ce14888633073343c400755d1abc812f33136709cbb8075ad28601a8ede5ee42e56ee125606e583b14a1c48448d9a047d24e8cb7fede390ed86089403af9afb5af08bff26ecb9b0b4cdbbd421071b2a93c860e3f04cf16e05f8d0792429d18a85d7a9eb2743b262bb406a0a19fbef41c8cf29509c79a0db884496b8994a6a2b7918da6ec5e31288c76f4d6b1c1a422c8c4e71c3083d6108ec170cd497975de096be4f8f833d179ea35d396eb3248cbb2f1b39c00fc7d83ef7376090943fb29260058954eb1b4216e708fa617e3fb3c8cea2f8b1da8b5fe22e81c84b68b81610a07367b94c832c99118c841d5b5dec23212d2d520e7e14c24a4edfd828a900437dae8c1dd978a30e66db70c4bc8fa2ff52c8489a91bf6d754de244544beebe42618f4fac9cb9ca7b99f2391c2dffeb1279c1a12827e179964a6d55a713c645f4d460a29dcad4acde517dbf95d7b42cc0f894c7c4eb2872e72955aa0ebebe73773e0aab1e575496b5a664cdb946fd895ba18c2a78bbbd669186eac3888ea8f6b232543709160f43e961fd700d9722d3966dee88532ebb4268689e5c4f0324149ab90a9f938f86fe69c45ae8c6fda98b26f8d3053d4e4e6115e04b02cc8464027cf439ec2ff105a556205a677ae5975138ad68e1fe6e98f6b7624a6a0c3dc9630bb5a8b65d4e4fd319764b7b8cfc7c21883cc9b6ff58ee92ef42c6a6ea8f67bda9b692f0c7add6688aae6e0ee3c08e46f87a5d76d7cdcd89e3d3b58fdf596987c575fba32fab1d2f0bb21c7fd7c6b6a3339ad8ad1e3c22bbd64217580f9646e52663d0446cf10386cb68a2cc21123791b6930965960aac706ce274ec16abdd137534f8ba7eaf2abd92c9162a069fef8cd8664441ab3ac72d3b475f3ba843c50616ebd753067567e390192916079414a9c7ba90af1162a9ff774fb0b83c63b880ae887146db2082bb3f0dd2e123fed525b4b0877e7ac653d64b7e6f439aedb62b4dbc70a757e4c51b08687a9e692a5c8b83f550010fd368f76f86c4b15f211d3edde853707f17b33b0e8cccc99e50cb5d677f4f20bb928552a32aa0ec3fa32fa8334637bbbe69a8cbe7c669af9a0924c1026170975691f90cc1444dd4def75df9b2ed7b9855ceb7324c1070a1f6730bba1f6c7d714847caa117c206afe6f0b282a1855a4059e3e8ba1d9a5ff6b2c53e98f0ea236be44c73691a284983a602468891989e219eeb174c2cbb53ea3c56622c1629511b33ebbefa2e39daf8ce356c6082771055db91bb98bd5f422eb973a506b4f129c1a12f1012b742ff172822b7c56af4dbf577f433c3d10571f1d9f518a62e43d558b3bc1d4590db36502ec1a784c0c03e8fb73cfb00f4151a90ef6fb264278f241fa8d4edc6be9b01fffce67502a4cbcdaa9b2216117206d41d46c142f613a158f79400ba7ba0e5b839e65b1c5530d4a688875a0e622a827ef6bff1f9eab406f5e2804b44b9f1768ffa893db0c73a67606c3a41c53c6dd7b033e5e4bd8c0f773be54f3b5834c39be2455e3bf6d9cb325d9944fa6dec744f29a44189945f58312309d8628c3dc13ceaff8f89adec0c18007e47e08c744888834f8b35827ca0cb72f30d42447837c37cec5ded5b45cb2a849723936156fa5582139a8d678e7262392cf32a420556e7ec0858b91db4d0f8f1eb0370b21988cff1e281130c52085f74a9b3ccf2559776e12a1847c031708a5187ae16b12400a83791a7542259e06f5e07b77db0b577e1c544f03d4cf0044f8b871cfc0a08d643e679ab6728b70c98073e1785ed6e9418c0c50661676c45ff3646727eb28d921a496e591db8df87fec468b8f3ec2b1a5e663a74d9974faed1a45b1a42d37e73f0bda13981c302708383299b2cde54792672c6f721819d52c036a146b3feccfb7aea13f9b38bf5ba55db0324a364db85b1771fe12f4c61cd5ffba59216819b016a20c40037dcac7d901250b30b5f3b808925fd089febd4eb39e275c5775a92320749d2ff62234bf91659c1d1ea06f91c7de341f43a9f803b58746c84d0929f55fa7039be7710efc648ea5e253812911134e6c637745b31e72cea3a93ec8e2632cce1ff65a36474872fb343388be5517eb4b3b1a17b1d3467a373b1e639aaf9da6c3d2993bd138811a636e4eeb1faa12b625eca909075526eda72abe5afaa4008c44f83ee4c9c1bb586c7b93e88e4dc838b279fa14846ff3ca9fb153c1b5602b637232370e3d66e3101cc7b9f79af64de64228684a3477aebb7e37c0c74cba90d2db18a6db97e84e17909e0f7ff56e5fd10a1b1a044acb8937b2af9241dec34158604181798fc430643f09d4f4f1e944abb86494950850da51ae956c59c6bfae2f432978fafbc7719282620626d4970d14634295577d5ba1da6605782d592104b7e5f592b8bc35ad72d129708ec15d14648369547ca99d72c35c222337908ebd566be7c843a559a7a1fd00680d538e1f8a84367c19d0a3ae2193a889513af4d22d6292519141d509321e55dc7660d86d2fe88d068515bde7637fa269d1b8a922e59913793f002a4c8b24a094d856836e48cac7f06dbf85373da180b9a1c7ed64ef9d33cac83086e983982963f3aee2dc5dd9f5fef86f9c61ec881960ca9b5fcfba67ab813f0b117566b1a2e69204bda8db5085b6dea09b90e342f5d9bb88278fd855b0e699410f26b2082d631acd422d5628dc6838eb73e6a87df07308730b747a8ba678f1a38d040ebaf093dc63a1132912d27e3c05cbe9945e831775fa3e6ad72c5db68ab384b02004442e12d83c3dc332ec2a9520f733ed161e3cd2f8feb5f6d3d22fff65f0e0016f212c842fe8104c354ff4e5bd2f7d5f26a1ea9ea1fb2ae0dd06d99f9925dfd5933f203636de0572b2cb40b7eebb24cb9ed7f5f25337db577f30607ce75a368cb1d5aa0eb5f38b534b0812574358269c0060047d36cc36ca0ac0693feeb17fc5db1c73933a721381b813c955265744eb8675bd4995be24a8d25648c5f3739bdd8e7a5f8a4f119f5985c1968b6536e213606c2edb849b3b32a2f29c73ca5dce38f385084199d7bf4dbbe578a2a7272b402189cc2c018419903bf885ec03823affbfc7584ff3a3a864b5391f66b63119661d831a0131a47091d6ff9432f1d77d0ee24d1853ad2061cde05fe7330d73b14a10e442e1ef05afc173139a3be97cfb1eeaf65dbb8fd064cc5d1e7649654dd60ef5275262cb6788fec5b4ba31e822315d17e830a95417faca6eed34d9fbc59cfc9c2c944bb30be016a74fca92ea2756b48b2630664236fe2e85adfaf1e3518ac340c8294ee4b9f16c704f69bf59497e7f703bf06d17dc1b0637e5284dac769d4e7cfb09f77f9374d653dd48e96f2268c3a01a1a87f207474da489568ac36d317f4eb07afdf43e0e1877bf9d336d4e9af92bbfb7c9bd24297e8d554180b984c5ecb089ece07be5719e5be214dffe50778697934ef64bb8a3cbb3ca6f3670fa011800f16dff8b355ecbc4674dec3781beb4138d37de6d51bcce6725d30db71d47a936e634c8d1150f0a2db9fd0968f5a711315162b2e7365b4da7c3a1911c2901e95b6dfb2317b916403b952b306031a051f714eefbd58f016f16f652d34f7f9a21ad5a8b52e876b6d6fc09192b1d9d2489a8e277e9d24c3c9e872e23738faf39bd2b2765bf00d677461a0d0894e68e09b62d00ac26ff31d66744f1732eec8cc27045c15f5e124e40d3810d52d837d639e5241f486c29e485994308253f4fb113527965577e52ad0eb3712c86cbb14f59a779cd57c102bfc6e246277250f4c3fbfbbb6cea232c2387a143ca959dd602fda463e5dc782aa29eeda75323b9bcf3d3f62bf934d45d81cde874cc7bc094def4a35bcc26e6af55ef6e1e53595f9a478ada5ec24c0e188e355fda8084a19308345fe4a31fd69c09c3c09ed3e6a599b2e1f5d08c3e424005105cea6503127175acf2b589e717b4dcfc813cd617c4ef73d392f522545ec10b77c171171d022512b1c2921b4740e8ecefd99d30f3ec4c5c084b14a11ac5e523f1c00d218f41bb773294a9bf08ffef6394a7d179b697452d1eef4494a6908166a0e1699b97ee2f33abb09294f27d1f4deaf4dba822a0b78cf586213e183536e17bef1f674bc9b69ef5484643b9678f91de2e52d772ff6013be178f20ece683a7b70c3f0cb8a241583f6eca8dd85a2bf20231b52b3f6c4c5821a978250a0aede4b29ed1df0e86bd1cbf367d7abbb3a5088bd2a9bb8cfff9feb01e8ad9c8dcf21bbd10e8b9aac6355a4cea5a3618dc54c362ea5adae47b60d778d785f966d1810dc36251eeea1ed62ab308a93965bc733a10cecb51a49f51b0732b11ceefc160c37916ffab8ef0bb8e9e8cc1e9dfe131d8928b2c59266da3ec59d5a09b1fed8b60c67096c7730d016d019d04102836c8f727b9720a848eeb71d5a04dc302f3c12d750f02990b5b5bcb4b6c0617aebccd875f922d107152bf945439a9b382d2035ef650e5170643dd63863198085dfdcfe85f7285aebb5d93d596c1ced6dbac6e86fc7b12791d49e187cbd03f2659d00086f88dfc53d0579d7022d60b696651bd9ca028783fd809ac6873f7f3eb64e15db0f3936bf92ed3ee6a33e8d07d962c94c4cffcad873af6282d133d823a0dac06d83a7cd08dcfa804768d589eda4cc6a1699f18dfcfaaea39eade8aa922b2788f7876c531213dd8c924c9f5f1ccad45a6eebedbb270bdcb4cbaabf4d1c7ec6478ac92c633727998b6f554beadfde75a845e1afa916ed76c693779f11652159eec382483c4ded0104de43d29ebc74376b37d0e6bc9539144a2f3d5f0da32d6d81d12440131fcf0500b94efa6b8725ba6ff311cbaf8ab2dfded5a50f4cb2b910328fe25d252a7880e2910a8607fb7ffbe50a022b8462d66589ff276d6ffcba969ae88a4bb7227920fbd55b9a9e79d913eebee8c92cc15a992c05e49ec1ed086280179db0438fb1ac61d45ce2b4e843e6d137104100018ce14d6ebbd1ec1cd69219178016826884af0ea345803d26f2177d07ea5051f3289547f11a61be856a6ea56df9541ce0ff56eb7258f78b3d97491545cd9b2032f8cb91b0dc9c1130b7b82e5455babb25dda868f8a4fb14be9e0a67410b5f8203288ec9a86204aa3a740d7d10697a430601fd409e30b95c4dce4f3fd3a2c4dbfc2044f2aa8e200b14c861aa43d3f1f6d32ae287c970a5a35685796fe26ecf8734e63d2c4e4c3c9eadfcf33eda02a3cbe1da6323c50f911ce3792d374c67fb27afc8948ff7de37446cd4655c0c7209efe6dc4e912e23ead14f850c5f5dcc08c56672f363345eefafc1e4f329fddbde19dc1effdf235957e0360ddee3940104e9c7aa6b19ee115df6ee72a8b998bb05cc4db1000df8f99df3d3495df1d2a5c469b431d321fe5f821f8df95a4938da105cfe2dd49c5f2acc9fbb4886d3151b75e7b74627d7a93a6d6266e7349ca7480d415ab0bb5c6dd280cb1ee6dbac9bcb53e4e223c59ec73b28310a932c292657e18f2660e7764d4555386b0240070fac754d050c65d73157dee39ce396bee7a53f606e6abf4a7017b89694c5a3359beabb9932ab6d95363f372b1af0a9a1ed672a4d9e97ac8df627dcc231596f59dbfcd198a2652b1b4cf6dd9c23f8b120bda19274413129e0bacc82cb9d897d5a0cd5b1aba5551600793e411b3a5ace07f9c08b0cc54970b85ace91d1aa5e42bfcb8eeff2f12c21aecb861b7c703191bad0575de2c05f6edfeea95ec40c8dc43292748c594fc5bd0994fe54d4e8c69fe9a0d2bd921bef835931cf394dd53a3e22369a08c24fec184f0e348988d9e11ee746f09ba09e852281b6cf7d901b3d3cc3f8f36e289454b97b454564263fdcb9057b8b9f3460b81f2935c61f0078c393a81585f916e1fe3f0951a01170612dbf2776fa97e4ca6fd2e72187a1b2fa54290013a1d1a54550550eba939092664f9fdb926fb1ef2d19143eb6b343fa52a42bd995fbe37dbf64f4024bda780a35caf51c2d6bce58fad40e22d1569f17fd41a6c7b5826f4e5976ad96e5211448d8a91ed345f7c2b70518e8744c1323abe5258e63292c2005ce74bcd0bad6165b6fde3075acb50b530b84a1a7c76839ef67f0b3848b2f46d8393306fb8402b7e8d5e090f5adac428ab8ee637fb4497a8659a21c00a93436112716fcbf0dc05d46142a4d26bc61ee370420c2d3c30ecb08fc480994ce3d8eb2498f2626a0b35be1a3cd17b523260c2d4b3d3dccb137a3004bf753f41e3abf3ea1161b326bcc0dcd2d6492cda19538fe4c5f5dadcd6d84ca0c8575974caf4cc8d65d3d5d2184e453756165a98141a7b50e13726097b9acfbd96bee3005d2c5c0b11d0c2114ff7b5bbbff330dfd27678155f6db2acab3bef72252f606af134444813f4f6c03c387e510da22c82de9e57be65c2449b267fe69f428e2f1b54879e9147c44d9c338c3b6bb6fd803ff519a132c28216e570a171f253804fee196ee14826052b468de6e62c4254ad17b0a6d10383c96d40d9495039d0431c54bffac8cdf1cb6d6e31eec37c32c7c808bce254dcf38d538d756600c1229d18a843b804039b84cf22a5141b0890218ada2627d6f8381dbcc84cdbb20bc7d10ce7e9f4cab306ca5bcca7fafc0b603b5d6e9ce7d58434fb1a8ce6033dc3916dd55de5dc8b1106b24598c908c350862b2d3a837077a0fec76b0c92c75c7b711fc0a9d5ed8d5705c8fa969aa24af19357c5dd3b219fbcad56bc6afc1a1d8d4d5c0ba0bdc3465f3b95274f460accf311a8affa0974de44e09f4a2b03132bef5c12ae508de5f19af261f854df0462330b57a9bf8fa3985516a5cd11aeecf29c3308c36f630883084b6d45c2cf01ac0f4521f9fc2e866331a468ff90f50bf7510ca4ec4d7fbe06c21d46df9bca575aa70025e8972f6326269673689a3a7e4a3b0003f2611bdafbbab41519438687b3cbe6f6db40a9962027c05a692caa6729a9a078378318de752f352b46fa13ef425c999e67882261385b24d5f8a43a9bf8c713d277d4845a20afc1e5b6364cbe2a3bcc3a31099673c05040b9ccefdde5d4989d1ae85197d905bb16ed84caf3630f7304f4dc5e5a6fdec190ef46fb52b1112968e07235159658a5260e364486bd274de70b2cf24304fdc2267d34d860ac1638672a686428836316ea657c4556e9d348dee4edf4b02ca2308329d8e8c17c9dde31b0973bf5e2c8c1ac2b9f6e09114b2ec91d0bb529176c4b19bc8abb7478a7b86d2775c9a15d87cfb9085d825a956b3e523c8734690bf5aea1d14df954d35881a54dc4e33113e2f8e616121b8385014957514d3cc99970d4055b36d5892964dac18410a2db6ac547049616298e6ddf06166ea8ce5c2c56fb996b83ff1d20794ba7a6abab97f18e7aff76a57641b2e704eb26014724327e9c2a46dadac16f2b99ded127f36adda47dc57e0a277887a96daae7ab45cd156168eacfa46edfe672f293241e9aefa1eefade68181f36401f5df121f4d8a095be2f386df87199da5f63f5e4783db626ab27e0e5e96fc0e612a2eb4d7a47c54f83281d9097574fcde5d021690ae2b14ec71650cc6eb0b40a89cb48e92919136942f5b64a320595314ae0d9257c3d0488b8d9bc75625d07c7e5526a25dad3279b57fda38c5bfefa762c8e75424e1f2ddc23206b691ff7decd4d4163ca26d80d690bdaada3370221270935c627a64d8ff7e99e89b743464a9228698d2a43b2be4577d1c717d85a0012e906bfb19acbff3303c07b96bb37f1574c7e22c13588caae22ce20f2694f7b23457f04d57f7defbaf42d203f5aaab0fc26dd7df15d54823459df57cdf1e7aa14adcdd46f667926ab0c2a04a419d035517ef8796e2ff789a0e37c42461259b8d8bdef53b997a2fe83bbdf8f37f1768c10aa284928cbfb514742f04b747aa31024767e24a6df33f22bb45bc803075e5676ea528094f0ae68b2cc4872d4a324bb85ccaaadf15c310f04e9685d7b3408d7bd847151d55729a57d8e0c4cfc1bf6391904145d856d050b5090eb1ac5111f9a27a01d5e4c569e55f49aa073bddea81f1b0e790dc3707b238c26e7741a61f999962f00e10f028391b0b9d4124f2526c3264c05390204ba460423198932cc7f4beeb7404d9421bf4dce132b3c6521db4a956d15d76f19e6c35039e4187890a7c3fe3110a5e3a29ef315aae37b666e99f0dbfa4f0e7cd6b50144e7c016787cd9ec6a0eef63f085af9bce682008fb8404c56bb0f55add706952c639116d80590cf4c7e256284b56e8d419df971a87c1be3dfe3dd8ef59ba839d78ef316f4394cab41bd08b02a11b70dab23f6a6d3e10645bc285c27a59469d05691170fa8f9615ae1479c82801e569269574b0eb0c42fd1e2444455abb07bf5f531f526ea704e99330ccb9e099242ff58a2bee434a49fb37e8da21a73e5baadf88b2ac3eaba265d02cbc24354992efd56a2f4fadb18738ea667c1c116eecc593bae2cd50a7708665fde551c95fb2e911c5035d5b6ec1f31db3a414a8ba71aa3e71f980c8dab7e1121a2fa8057078254fcb9870e88a1b7404b95d7b8524217df3e64662db043a09dc7e980ad5b5de2f5d15f281e28516b7b2144866721ab01615cc2d4d8f7ccf054e9ea1805be0245cd095e92af9f7196792e0c51aef6cd47342759a0f96a0d23e1cdadd44d2f9acc7dfecf523789d8c8c8c3cf4137a1fcb8ed1ee6934365105841d0b228f4987226efaf1126817ad5698086765dbd7f9843d3a8abf4d41168c8f1d86ce488b309b840d735b2604b4213ca720c9bd275b7b5a6ba043129bd8c62dccd5b569d868127078912d0fbbf7a828e272f1b661fc58fbcc569eaed4e158779cb64074c32bfb08245a0cb5ac7584f75d927348016f6e4c105843aa17573433c33c9f8c7636c2aa8a962d26140b61d251f7fa3432a74f8dff2b8cb44c2b6828895475e6dd27b33483efe4fd2612b87128520d3a487f959a0125d3affbe207f47fe9c49a24b288c15ad6d74184f81f65c7411937658d5b1cf9f31657cd6c6173a8bf17f32b4235351094bd0c2d096c962f70ec74b7cab89240310d7afc191c21fcf829db88bbb590192061a74b1656b7cf2a20fcb0bcf85791d4ee6405a014dd0a5a76c388d6714fabfb29f87d52009da72098a5904d73d836fb6bf7cab925d06d53781816165bf73267a310e6834a9ef361c45b42ea70325ffdf237c574192fc82886e416e5d16d00dd03015b454890ba8c816abb09d360170bd4b1dd57f58aae3939d8ac8b672aa5b04498eeaad9610dcada66bac13fdf55031d273cc7beb8231b21ba77866ac5db858492922fdf40eabaccda9d3e6947db89e5cc90c985d3cdd51d200e2cc725d42d7df4392fe62bb1bc0433c6dfa90ff8242e36e86c4337348c8fb00dd221b918a78b4ac248187cc89152453579b65beaed1402829bf36c5285dd156511aa34704cb7c0ccbce4798e6faa7e1a1bf666f19db0d1412b0fafffe2e26bb717ef17f93fcf47f9e93e331172e6aa70fe23f53519a9508c9340dd8e3e50e60fdefade8931d26be4eb8eac6dd9d187658b6641a8d26f71875e2331d2d709cde2c01f89faa43c12ac043f89ae37facfa49f4aa856257ca3c009f62cc041efdb6ca8f94da196f0fc58161034d65d5733284b03510cdb23a5862b2d4bbe2909e639d08181dd1f9ec3c57bde391a6615177b62c774ecb9651e1ab6d11e4b99d45b94e3c5956bf9a234f7b114c4c89f75701d61177aa59116a85eef780115ec658c9c0de8dc4e43c4c1a903471c6fb15e53715a565d5a731bc54a9aef674d8901d202d5b5136453174bc58b68e67fd929898ac3358efe959e59f0284feeff40dfe70b82672060c3e4358d5acc1065d0d68beb8b6ee2c0e366fae2dadb8a08bd36beb652e4f1417b279fb83588b9f52a3afddaf5af81e0e0d0e2ab0552a398c99e24c8143aab1ac25ed55310bf2caa88ebe9effbc8a83f1b29fda8d83f4c8d1a5e63e2d0d0f0add442ead563635a515572e3e725af8101bbb5dd51afa0959a25440f1831a320e1949c3e6c1c8234a172cdcff4335c4034e1259521f511b13914893946c66d9b3ccfa43dcf601da70f92266a326f3c4443fc3bb106129986b088310a01d8f9f824e4578e79010ece95675bbf19e539c86c57ed87fb4165b5546b8c7a9a921363271d50814483f0795b00eccd381714567a805e12811e1c0dc1e93ce70e31b2ec70f1b7753acfe8c557252394f38c6f6fb71e3c41acf944762150059b98d20e7c3f3f001a4bae4f2a4e88597f6d64c0f22a185b3f060eea12f9337dd364eea2064a8afed45da4f55e4572518025302a95cc4fe297d98616ed9d771775fdb71fd022a75bb76ceb0e19d4fc84872eadcb10f544be6607f64594ba896330ef3e3ff275fbd77666994fb192289cb5022eb0800c1a0d72546fa25cf49d0c32ad507ca70afc2b736884e6f4145252a90b131f10b4eab17b3b345ab967e73855760f8b33ea27efc48f88b93ea271f0a6d16f14b3c1dfaf364b6fbe0dbbbdf25e428519c8f52a876f52c3cf7a209f6442f55d24564c02113a65756f610eda87cb941b4b7a639ebd5b200db4b91a9f146c6e52bb8f91ce9e81897b286a7aac2a6ba813706caa585e609f06e6a0dbab65e75ee3f15c2286ed8fc55f67a05feb3042f3d38956dfc34901bb1a60d48e955d06d5e9554ddf76a43649f0d76c57205171f68762addc1bc804cd7c4c04be6fa7db96582e6ddd0ff0bbf94b7e0c01efd7815808aa3202f85e44f6c065b58fbb295b1feca25ecfa571f85681cca103ce887cffe9c32c94e76dee460baa3e5aec21fec17522f24f6acb0b839847a2b3b4a983c779464f9ddd907f86ca7bcda03dbec2bf299f101219c8b37785cb0a3bc6f6cc61692d1620c4da71143146cbcaee26cd647d678c26cdcd8a96b489d41bd69b76a6e68d5c1a9e8e74f53166ef9cede24e8d5f7496132e0197b9934c8c80667fc3e2da16029db706cc0a3eeeb93cf2ed77d213048a38b027041a19cc38f72e10c767bd3dcb10c8e65c7e8244332a2d475f125a935691cd51a7ed441910781037d6b248dc54f2c0824ded2567e1ee2770d6848e7f8e71162e2db3b92b6a2ec2d9e48e3b028cec15656626e298ae6bd342b415e5f0fedb7f9bc8624bbeb19fbd9e540ca3ab8988f14aea4c9aacd72338e97cfc444ac66c1a3d956740dc3589bf21f4c62119f93ea3ba56bb6353268e77aa5ba98ef80d9d3e140d1dcf6971219542645869b6440c8dc523505ff133b68c57aeec26993886438c5635b84041c6f0aea9834634ce230877b92e852e814230574c98f192d34e54a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
