<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"03063a8908bea08ca52cdadbcc37c7481a4fb5c0d5922324019420022e1163e32189f6d122d752a781b8f6c7529a6788cd9f4cbac03ffb851af5a477023bcaab1b4fce98ab6f1a5ab6e5de18c7892ef38f50e3548d1a78eef3dafb7129f1c073b91ec684057b7841731ea9f4eb225a3764251a7f6717365925a2aee7beb4fa2ec384c773db7a899ae515921ab231d4fef70974947c2ab9b582e66c5305968e9ff91d37d0440ccc4d1819dcd8092a12e083f1cc10f82a8debdcdbdebad677ce556f4f5bcc264b566111dc3676fdd1ebaee968bd2f13f6d01388bd2968b24ab288e1e137f544e82d53327709ef8edd59158c8fb6e065a47a7619656b919b1eccf7a8a3eb020313a4635af37c1666e5f4e5306e90c23d21383cd04f1f25b7d337961fdba533c31ff26a24d139cbab9a364398e4cd9541c734fb834d4e56e29cef408474958c7083350aa504ab67768eb3790f0b5e99e1a97753fddbf592ccc8e7d864ed8188e47f16be35ac4e820b0c8451e1b7457194ffc64720e9ab3d127ca7aeed0e06fed7803b7748f2bc1d5edbf2a9a8a4aeea67ff4159f53d5a22fb19f1bb7a2314a085aec94245bbbadcc9698dfd2873a84440ff9f41141387d0cc2b7016df8f5a83edf886fbbdcf1ac9ee8435b9c1844a162fcb59e1df15b59980f924e42c555c0a66e7b70c74c9e73e7f95cd6f107fc3f6fb73e60be0ee055946e8ec7d3ad99b8c7e49bfb1ba4e61dad0ad556abee659165a9c81dabfa682a29c1a9cf89d42cc9196456dbf57e825a6fe7738d4148707b6eea384a0ffc5b0458c3595374797d1ff52bd49be8aff5b25252812f498a6d55b0ceeeed5f1c9d2b4cbf182e232a4d35f712e740f79a37fc72fa00324976772191f5f115d99628c7d8a70a3caf1127f86fe519b22e4f7140cb6091e0f624f852d5d385aba82426222fae44da14cfbf77e43762eb35d305bd25982e1a991ec75ff1944095e7236ecd176ff7173ecd062eeb0838cdd6f4b4843e2b226926099bf568745eb8933f1b27844ac7693aae59a4e71b55f6cb0fb32e008d0494faeeb4af39bb2449094eb951c5b16247150737fa96135f0a8dbde81795fb57c9de50bc71c6a76ec3408e88006c669194e2733b1bf1336bf5b6ad0563cf291cfe262c908354e3df4dda7f70c6f5c5efab98cd6fdb4afa42324ec6cf8c0e5979f0a224ae277d4f7d8557008d285c21596bc793accf47d2ac97631f44ed265cc27ea419822fb44b67a104a7eca1cc6186dee324c58986716612be3b5f72fb07e5db147b0a4fb9c556d1dc45be18787e9c7142acc0db5fe8b05c19cd37a7e0ae6a88cb2e86428069b8efcb03cda100d2c6edb2bc10e539e1fd43cc935054d9cd7e5abefa4c97272d44614a44e55a0a26a1b40e7ab8112926ac30e9d04aeb05c7726add33825258b750e4e6f6eccd60531cfb6011e04ac381cbd3171fe6634aa7878296721f0d9e0c12a6d185fe04ae6295bd606bbe8dd0af03ff3737037a18bc759c351652a81d3d4e7b181d2e788f41c28c22319cb3ad868d6878c3b0e0afae1a9ff64c3f435dc5cfe7e1f26f03d632eb9a5900a0457ed9096b2c51de6a07d55c7c53d717a6db99d8f9f28d49022de6d3b139e4355640eb8eff3e35e04e9081117ed4dd28c2b3f7e50d9755700ed540d9bbc468e0aa0a8f76e6e9b0b9dcb4ffd3213e27106c91ef1a722f078a0240663dcf1f43dce5be875f845b9d4f2694ea5125b2d280d5d0fea330c087868dc1d489a5ac608dbc82a78d0784255dae5d49dcd8a3ddb066f5f8adc668b71a8237299045a3b0baf0c627c68fdf605af6b14cf0528494ef05237179711deccb41b8250aaf4116d16cb03ace296bac5716694e6db5693ea4e5dcb511705b2067207543dd8d8c7318b3413f4066349f8bceeef0c64fd7bf7770b65bf5097a73e82c04562e516bf17072056dc5e6f946ec244c518e262c7b1b96a7d761b943ca5b4375ada55ba92302a2750c4d5fdf91c97242cfdb3e4baca9f2ba7791969c3c7499b880a2793610be6ed27b5654fbcafa41e42f3f5fcbc4a0870bce99f2b50b69c97c9b43a477c4e93172af779b8c62c47974cd86474bdf8e1fe4f6c4695defa9ed449590574bb39b381fd221e6d6b6adae6a48adb98d4ba109c40dd557c66aa145c295dc8cc735872b6e1639adb62fd68a811c7a0dbf2eb9c4a94dd3096301d817fa3aa9d5e7bb4d1c67f517c5afe2b38a8fa9469e2a83a8c12a6b0bbcd309633adc0f452c0a1591b0e1c7ab04a011af2d6feadb63396c3534e9150d71e4967d91fb84d1636ab891ffb58595aa1102b5451cb0acb847f6302f55cbcdb94a7100fb5c8db86f1c7a0e3bcd6bfe919235c5cf70e3233ce5346f5f30a9367424a29aa8a67a62afa2e5d41817b28edfbf6ee83e349d4da9b47b86c933cf7b96ecaf7cf06ef4b4eea4057c946b150664d0022c14b3e1d5e9a2d8ce34405450d12506b5fd8fb05625473744867c4c01232eab65153abc96f85b733506f9fdff5fa7f8cdddefd963fc2eba79bf35b270d5386404f53acd62f3f3ec75e54cb78ebe14bfe036ea1f7401ad284c6975d4b204b04b9c487a571732c7c9a5c8aef1c1c59e0a2b623ef11ed0e3e850a356675d21a5654f18be7cc2b0a5a043905631d43ec4cec7be30ff53f05e81abeee039cfd71e7f341bc2a7d900c369d0435627ae52dd6e1cdf4efff70b93b6116dec82b6086f884aed3922bcd18d2f5d595b823769b8f58ab5924b2f78b16856e07c521f83545a032aa7583592027a6e47f40266f7eede19f01a7a045690b4a2365ee3fcaaf5f771b568e407c32009321fa3d2e6a5cc64b667eededfbe28464618b46b22ca7ad263df1fb16dbc8f45cfeb55e12d9d880f4e7ddce16f3fb0658384bfbbd855c1fc9766e8f9130f4804d52da7f28a532dc54d316943a3477c0354546cbc918c7fa3c7ddeebdc3cc0c3323c81bd22fe77f4c36c9cf950b890557aa5d628cce6e967398e475c1de2db6b82736c443b8a2677957de94b07dea79b3f42bf3f8c35e18da9f7f4128eda41ee4588a1dd5085091d3c02494204a553465f500028ec60b819f8476151742ea864e350d892905e12480d38ef13f960973cce412de1a7d383698531070d81516fd57cc0b1b03aee5058aca80d92de6aa3449f59490a2b24b68653beae9d606d7b11126be5dd59a706177dc5ef44e261de44e1c82ee638889d3cc796af01945d91589a2d2033b3b90c9a496315c5a180b4d0d6e49e939fcfda1efa2e7be9b3d07eb8fdcfeacf273b9750199bb72ab2212e8a1590f6744f1976fc5a233c3c9381bd905e80a8f794800fe85a07a500f826438b576ff5995aba1a1f7141e8b2538848f591cacae9856263e1a1f8fed511581ebc703a6f1e0db1546f8aba4375fecdb3637cd9f3a21422a183a5ee6e822c5e9945acce17719802760f9a1f8eb140a88947197cae0760920e41927a3261ae8f7b3407bd3cadd3ddb53309cddf8854566c005abb65c231ff395bcf4417ea7df66d36749a217d35ed7680aafcf00cab31447544de06661456899d82077d8c9e827b431f0d4fab6faa5be8c26706d5d71346b8f92ebc1543aa21cf05164891c0647cf3ed8bd531421e8114aff419c49beac5d942b3dc64dfa552174bdf78a1f97bf6f29e98f237b72cd875930228bac169fbe9d4d7c85b244dd133e09c84df67d93a3e3c226b2761df511c6d9cfe4abe1e1a3a318b76ab38c341b567113b286cbfa2cd9c22af0c7628d03eddf7d5f34da0d9b21d16cccb52acef3c24c5630c7f9a2b0c79e22acc1bd465fdf9d3e19b4aec511f9bf0ea99b87195256b925598b20f33eb88ad1dd3f67308179900c3fc6c49a6b298f6b79fb985293afbdbee2410dfc957abbe1aa1f7aae0d9e590c936c998c96ed9fc69a8fbbc27f0f768a5b85d3e0ad79a801729667d78d6c38898d44f2683913dc9d151df02099d048316f8194ba53f133fa614e62bcfe7a5a98c873ac0bd3b8ada245e374d5e6f265a428a16934a6f5062873d5ea23cfdea004a6b2faa270ac0f14ff237f6fe2149e7eec48e28a7f6372018ac163d1738c51ed77689901f5af155a0ca57bffd624f7889782b252bf7cddd720296b6139520b466d7dea42147b7d5b823bd4f7473064fc40884326ccce7bff0b5dd0c99ebefbc37be772a701350ce6612f10a3d51a90390525ace5e601ba335e172b7516275390b6a65f599130cda5bf96da2aded6a875f152f9b30a3b4ba7258e2121bf7971eaa1bb4ddda5cf7585e1aae427434c5b569e488431fb6a88227def0203a3e63d1db694dbbb6c75c52119d8b96aa200f4714aeb39b5902e990e465a87f801e925912ca789f389cf17816bd9066980b70430784e8126f81b61d6e772c212581dff82507b6af3bb44dd727d7c1ba7a6388bdf5cf63b923634fbf5488aa140c6fba772bc1d94f6477ede0a2e5c4a1cc3bc67d5b6c19109f028240f281ef2e5dfed62a33d7405304c2c38510ab86487acce255de933ecf55cc78f6d51e8d32eefc08e89fe0025659b51684fb5666eaab37193ae686a02085c86e6d6c20c299a860408e4880fb183f1498f635be0c2bf6a0d08cc535ca34f556fea5e9360a1209f53ed46d80c5935bd672f9e29c715360bf3a5953f337a2877818776c6a08d9f3613802159fcccab6b02644046f8efdcdb8ac0669fe1222b8b4b2699b6d311d9b109a389a77717bdc537b88ad6b9b02ca8c27ea3678d6528a28303f5139d21f275794123eb485c5142d56b1fdecfb1e597f0fa09bb8e77a61cf75077d4aa359c645c1bf9f13578485bb9dacb24847759dfc2f77d69774f1961006916dad385a06c993fc465d1d2de50805979d0d5a0971288ef10613e0f610b0aa04bb7b88d5bf221bd0d984e2b9569b1372cd17b2491680bd56447c4de7cf50d2f1f2402eb5517132a49b6eb1ad3dec1200cd7fc37abad53dc08455dd4d19ff9a615af7a1fd99917f67ea45b49f1222ffd14c0dbe4ada513e5bcd7a061bfddb18c315bf1c8a000df63009f8e98ef5026aec02f85eeb0e714672e45a9df43433b2e7f895461d8e2b941dd59edfebd6b288d03974a3d2785268428534257ce005e707ae3c5097c51895c5905eb503097580539ca9979296c88d3a625b7f0ff7fdc5d2adef2c34becfad7afa23a27832b3bf61642a43c3236ca3db1f90a770987b5ee1682d236c7001a40db4adb5aaa0f597ebffefab2a2fa248533d5e0bd0b5d171d85ad737615ac81ec8aa370b9466b019e1821215fbc1091855a50a7ce67d6ac1245855c3565d8ff854d3747f16d78fb66bb8d448407dd6eea83444651274e463d20875146a358370dbb9c490ada5767739f8c64f3c27f91f873a5bd107b79af17c2c1f313c06da54b8c9822fbf9a57c8d6d9082f2a6282e8b070b6c817ab788a02b506fab75bf195e2e989693793cc835972a639ee10da06d04f32e10bb59d055ef485e8640c93afcacc42324ad1e6f2783d43861fbccafade1cab0d45cabcb6e8ab21462cf935f4c56bf4ae5ea6c8f7b6dff24e739533f8f2b5f4253b4cd91bb529780dc6e16ce302794f4fb6ac0ee49549139004bc872cb9f670803bfce98ecf4d91532ac56bec3afacb5091c11a092461e8761f8864bec79e97b32f17b1ec90ad580a76fbcf3b67c23c9c68ac468ef21d2596e51b732125571a9b3dfece42f2af5110a47b06a99c2ec33532e89f5024d26ba1f298859d8c1bb3caf05ddb0a95c5abfe6603dd51350c8011bc43b1c17e10a03f830c5041646eedf842c75886c9089560774e5aec19de3abc8448fb1f9e834b7a8cfa09fab4dea12e6702684e81ddf6276b9c046957268329e6321997ec0411cab0ba5046e6a6f908ec004581907b22856362ca77ec5811fb72bd9a72ce1d38e3c53d587a962864c92afd440d6b9fe8d96072acbfc96279fd46f129c7a266ff41be719ca3f0b4e794a427cbda26edf7b15de9714f092de84ac49c5ecf9e4f2225dd515b86d8e0cf8949db6a1886ca255c6cd6c504cce2d3f2bb6874c789b0f9e1245f9f04b9933b213b9a12f13e4167ab21bd206ad0b9d204ff2eac6c5903cc79f028617c32072c180003cbb0340dd7d1daf11913a1dc385aaf7e692c17957ebf09eb40886a3370176a757c442bcc4a55db50e721fccdf67150b9ad2ba59ec42fc79d849460f4f67fdf49cffc2987dd7b51a5763cae776e131a47996dd4a957b0196257a4c9299e6a94ba625572e741e869844e9b3d8976f524de0420f3c324a81420c8968dce17dd283323bd440619247bddbda928189bd7b299e542853fd714db627fb4c413584d713efe10a693269c9a97cf58e56effc0738814a37e170f112ee2390cd19ea37ab6811378b7607aba0620d88ef42a5a012257866d3a3db35e03a3bc3ed4390eed6e2fe5267d42fbb5b540b8c44e81d44d0f9b526eb46239164303ac1318ea65d59b53de671041b8c7c117758b60b3eb4111a66512ec27cf6a6f9b83c7bf4b82577e7a86797d36861b3246ee2bf2c32cb599f4704f18b8ce655d2ebc8a7f2283355550a35f51a41a7b747988f73c1448fd9c999a1ed2d9149022d74dd0e35854eb1ce3288c95dcee0242b1617336317a3bbc2a8ee20a9027c2febc2e3ad4c72f79a377489bc6f3d99b54e6d4c00352faa6e3e2d218d3a61d6925532df7db1cf68fe13ba538f65cc3a464e9028116290fb4e20ad445829b5e2709dbda5f163f50a38b37a08737538ec922d7ee98bf342a988c65db5a95acf03b89fdd2e956baabd6c2af27e1d0745c800532aeb74d17632dcd0f1ebd85d9afe1b9e7b4954abde3e48d6288572bb55ff30dab3fdabffcfc922907fc86a610bbe807e8d211a5ef86394956035b626ff828ca7d02ba7d4b72331b6cb145f04db461614d989cf26d9f72bc227feb6b9c9244c35730916a8af6881a7983c5122d0f66ae81bc8e6b2f305870b480fa8b6742873bb5c3dd4c477ebfc45df768ae77bfb2028bbdac6bc9a83eb086e27c6f49b8577bfd378155c4b8de84e0be5e3b25f923da3dbe68695ce7c0b8683763eaf3be2dd143732e386e4728a17453d707b649be6d7d967e0778f684749bb7a16c9526ff50656e9d4397db1cf0a303a7df3dc56e5a68041d0316b9e7d29e8c0ff78496b8b6f2297edec39aa15ab1146aa2afc4245ab3f930a7fb4253401942e86bef0b1021af5bd0f18eae33f9a223d9097872215a4b797e1aae7c5932a05b4daf24f2722a47e959c746acd3d2e08b13b529e51c2b1c8bbe136148a6f33f8073e887709e31de943aedb9a66d0a2f585fa02faaf3e6b8cd0a45a3f00730ae856cc981cfc4c4fadaed5e2e14b6b617a9d6a5589272cabf031ba6c18a9b14dd85433d5762b26ffcdc695e1c653e3c8e5596ca7aa160ed4e652e232a16f5221dab5e5fabbc60c4414fe4468b4e67f19a200bb2c60177df9fd8838e2d628b635cd98140898d7be3b8b266dfccc29bf1441058c15cd6dd1ba80ac7a4919b21981331677a8598ad206ec99ecbe8c9abe8688333c80461525cb4364ae817813e752b362f1e9dce6783898e85ee852cf21e27b6c5f7ddafc3a7eab4539bd697562ec12c67218a6c1dbb72d38f2f8256229bed238c464bdf84795ae575b64cf828bedc3fff6109070a4508ee30328a4a11a3ce2fc8d916732394050ec0031e6aa0fb385c6e7f1df5d711b3b4ec822fcc7ae6afa6bd9156855eb00c602304eac0447032052cde6a889033ed851ec12ba8bf9d870cf294c0dfca2e98f354ff3f871064566870f8ee03f830c4bed9f87788880200cb293432dc1ef5924e5187be9c5be2e716d8cecfeb47c1c7a6d1cc86c0a6285529df1010935c6e844bc2011bad3bb40bcaaac10dffce6f47a904dca6344d727e6063ae041590f887a73f636075778ad62038fe98c3503a64fbf1bef05b4ddacc82fc93b13131f6793620152d3054314d05d2188c01fb1aee1020d46818e5ff54f3808c08b04ce14e8c069677bb27c5c269da7d8112aff561b72d8eebffa88fc13c3c475a8c7ba6051ba00b819324eeae6450aa9661716115c9dce6705cf4900b93886e7eb62d41be3e31f604c63fc753d8dfcebc07389a5ad2c1ee2e3423825a56d0b029e1c4a1bac92ca4e35dff46cbf301fc137ba54ea6d1ec6272c0f0d91c30b1e1f6587072a99b01221eb132679845dd85a6fc5f98b32574ed54882b0fe855389be2d0f5755b17517a2ad4e5b188952729ec3e046cdcc9d5ac7e3152a2f4a9b79f9ac4f6b85144f9a98d3fda81232fba2da515c3c4ccec491d97d1ae48831f471c7cbbaedba08631f99cd96153ee50580c962a16252c87137c2e6fb2eaee6ab92f8705627b9cce2db52bbe862c2df7d21dd680a1d93c9e354d0722b6caaeb3e3b1a8353e3ea5afcd51397856eeddcec6f09fb40c23d892bf5150fa0276636edf0d247212f956e9de8f2036a4e51ca8ace69e843c7dd746b754d033d9b55cc5c7c38e43ca2380720280d06eb0a421e17edda26cf9af8c2ee72769ad7aa568aea99e327b6b2d2fc12ebd70179c37c175dd444c0c3f8c452389160e7e63d1d8a09911386f76f6c81cc06dc6062318790229f996de0f091ca55e3928dfe7f29fbd809e175c2ca8c2dc6eb82840f0534d4e0c42397794a6dfe9dda4f2f4b7891bf0435afe48580c9ecfee1d204aa0e337924521c0f350c7340580718547b0a39a980c455ef2c1f176537c7ed8d03f58312f6bff7ea8dc6aa4270ad616a9f71671dce004039e80668742bdc3680e06fd4a053192c591b91b181ce30ea570701d7df939340b20c2c0eb4b6299067814383e6122deeac2c9408e5169818a05c8b7c6359c557a1017813c77eec010d54ab0fc67aa06c6a6116812501799194294e992239340710717370254fb282a57558bf036419d5571ea7982e719d07eb695d02e9ba5498dc3e4d7c517fa2b21ec97e6bcbfa32b32c8b67bb83ccf4d50c8e523f22b53ac31bd8558e5c8f5b5473448884bdbc986a03f9359188095cef49ba4b11665078c2948fdeb46075dcd80b298e88f175bf518e13a85cd835bea82ee58d7318b8143bee206f7f2baa0dd81253c05194802308caccfa135e4fb36d16911bb9a521e54afcc19ae73dde227aac758fbe6aa2048c3b0b72361183ab56fb7fa3efa07dedacab2ccfcd25ec45d95ceb07e582a4510917e9fab8de8f353142501af5d721b875fc8bab66af02fc414082af699aafeeec43f9dbda3e99f2cc608519ffda9e864b2278323e6f382df497954d2d515967541034ca08043b6366bac6f017bb4afa57e7e57e9991cf91129da8d6c6df3695a423c8b97d280ec416e38bafed07cd76a22a542cf7d71661df414ba908478ad354e61b1f3f9bbcbdb574afc58f28594b826126915ec330e67eefca34ffa14664f86f05ea5157781cb181cc48dcccfb21702b1c6c68d3ef7cddbcf6159ac8d7185818313218fd45b39e296f8afa08608de8361dc28c4b0a0452ce6c12d9321fefe9a1d352aa09202cef713ac3183ab963c4389b9354f66986c1d613732c813ba63c33d72a877b63ab0c581680c7837d77ec37239a3fe84f468888a27a10ecabcaa3906c13b7a0c7c03047b4925955bb011475fd9c6ae39a2be96e23dea83eaae147302dde98376df4a206b907bc73bcb84823c8c4967c9af2026c95ecbc2569d988d7cd14da08d9132f397195d4b9d40bc5fe26b374c4cd44d16ca3bc974b0fe43e9f8defd8661998e95fc11b416a9d61d409db2dfd2a49b42beaedd0d08dc053b14df16e890663462b9f0d89a48b5763a54d1192da579fc9fb53068ef0453143a832f32355b8a015769fb989956437c762e0695557bd4a38225b829955b80caae3d019e79d8e13aa84f267134d546e734eacda50866ac45f08bac09da62bd65bf1bee4c276f62fe250ac671a041a45cd3590fb68812541c9df9334a1d77512e34867c39e6a22a5fb460a826a64715c9b6f30a5fcc30406bbc4d658024d85c7c336d47ebcb952d1e596528128af762487fd7dc308b4564351728d14f163467619ef3d3a1136e7a20a29be901b923eb0b474537f42575202c27fb028642c112f5e62a90ae3f8beab4f82d95ea99911e425d87795964cf58514df0f73630682f13ac3fae1044bb2c029896aead2de35487cebdc83db7411a496af73615a84e05cfb38f954ca8798c3bf74bbb1d51b97d475896137083c0b15f537f984993cc5a9aa0fbab10f07ef5350abfbe88f6cc91ab6a3193a3790311483704e2956f97ada52463edd7a2596de3fb59fec68af4bf113577ed7291c7d3c84274326180250f60edee3df7d5bd93d464b84b203c2b1743d59aba6be7b6de2e1e9ebba1ba6982e71de58b8226038f91e4253758ca14857265393a3206e18f6de882899cfad41eb8a7fc8ce6fe8ad765ada43c66c185bb7fd3b39d127fc12398520886c2f75f906a9fbfc8d94051decb22181c91c5fa87e1a65e145d260d260aa1d5e77f5dd2fd02035cf47fa1abdb530fc7d8bd1f97c158a301479c7f566e864afd709f3b7efafaf94ef3e8907609372aaafe0470436b07dc786e86f243ef1f64292c6d85abebcdc8b376b9728c4d23dd495fb20f61e8b05acb41e62c906e7d04f65a04bc0686fa2457c33eb571a67c1adfe9a51153a41328501fb6605bfe9f94530efeacc648b12247c20b9abe3da6d4652acfa4603bd4705ceed025ce91f409ca0d156b74316f1bf7cefba00801324af7b410c4a4110575d01d79b341bac61f0af9a1e8bcd925c8760d81053156ea16331941082d6787ccf4b11d5b2651f951ecd2123f33c548ee63d449c90f8cdb0821c742094cbf214402bb3f48993720e280e6eea88f8307ebfc4c370e39b322680918e43eecca0f515ecce739888884acb99622b5aab4d308fb5bb87f17850de81cd941d0e1ae2920eb9254681d0789e15c8f23d47fce0295db1a3f344fcafebfa07cce1eeeee6ab5a4ae11b1bffa310fb124560bc94f82bd72476e53b93572a29c3aef5b046a2a009d3ee53676f4668c9435ecf717b66c20cfb2841d337794707a30f05ab3d05b260f0312f0be62ad509688ee552147e490680da9d640311cef2c9c18c46e23da1217f9a5e090ae9154c771f41225ba6104b6c8663710031db94887329729b26e7c8540edbbeb1da6bd10b0cc3afffb0dbacc6023be6257218732bb8b6483f4efc30f99d0eb417ac8467afb15426830ace04a524bfe38ada79bc59173cf7a366d8ea680517f9d47426ff15d20c94fbbc68eeba5ed54f95d0923f4460802017d89b6bfa6cf92b2c0ae825f1b95db8677d7348393c6f52448d3a8d354c4b487bf525249df34905eb1fb86d22a03a47b163d88b25cb71e60a9c1b6af4185165fed5fb9715a6fe31137825cb8cfb45ed90eb199bca45087768c10f65d120df561bd26511264529474765ce9b4cc5da7e18832acb0254a9ef13403f1c461d715a547365fe03e610900366a7e035c05e995ef30cf915b909cca59490a200ca2eb7bb10356249fc5c52b341fb68897f7fac303305d11bc5e40e4e1aa48d1741e6b20b383ff4c507f7b2341c8996256242b04eec5bb977c7849065bdf9e7ca57f3ca6e890e3aa995ea01cbe6406c438fde0a9b0ecba93640f463ba79a75f7048690526d9971d2d37ba3f3fe7a200c28a895d407f9da2ba8e5c613e38732a274ffaa01c54d7b633b7a00412401cbf0c1e303affdf5a5e480081da0d412999f7351c9298ad50a3380d9a98457eedaacecc33a16dab52072d4a27666914eeafd8805edbd4a5c95e89018efde5acf5fa281333ffad049ed8af8ee7a06287fd05f695a78ee91b7481e0ca783d0d788154ff1349bf8c0f51058fd8bea7d03254f4b43ba70285e6d169b2fadd54da208b05ff1a2b98acfdf64d0df73ba4b8bc4efd8643c7d1798a871a56f44e23bf0f7659681ccdb33d2f82558c2072335beb5b24f514593f48881aa246666a7809888bc107d04d37355f0b48c2fd68a0fbb7ec9576cabd1c04d6965fe81e50793053f0307717d882d3601f92258b67d134ef0a50d66554d797d74aba034b04e49fbe99985e81031512eae868fe25d7e8c4363952b8264ce0b9c2648d9e0111c9597acf9cff9c1613f447949d8478aa2dd35b6b90fc32b53a35fb21808a6a0eb696c3609bd67e36bdeae2767c8afe906598c612db46d933f5a1e672bb62565690f4f5ab02b3cc9530ca4d72150f4c61e6e5fb628ee5753edd843b5b411d0fe13e6ec1fa02a43c5cb0a4d3b5316ccd680ed40288d3ce0beb8e504cc81fd8b4ba45eb72b93c6a940fcac4ebcd0a9469b3914a2d333a43fe4f37da8beb1b077bf4c3babf936fd058581602a651b22f2d8f1ac8bba0a00d7b01adbc9fe473b96a06dec0c284b8a528a0b3305829345a91e99b51e49bd94ec475576d1f1ae7d51b5adf36952c0a104851a12707fc0a39259673f63a7c755ca60cbd0536f4cd932a306c33dde5cab1059e118bcb1768cefe51e1f373aebe310205283e10bc8fd69ebf52913c9406578d27462a1d0747c23695c870682baea22f85602b20fc020883d5ca3e22400ae1aa96b137a3e110cc74fad2903833bf1f1a2c27ff7131ea3470828c33915b053a4b2f1a7955023a18f63a07780f7e533d8eb6dbbbbe3a34bf0f018bd7dc09add6019eef57576468fc170d764b915d58bf20d1d830fb6d51e2801c2846027d2e1bf8499e36883126279a769f0c606c1cb67f57691dd1c3b5dd02648f2c374e4771739716b41b5a0d666340127ffbefb12abb9cbd7bcbdc7a08da1bb0abc366bd089c88e56485929048e86fb1fcc8cd8b0286a3d630d9ebffeafd683bcba2342038c51307f11ae2eaa2aa6e88b4493eeff73ac339ee5ab04fd8b265367dbfd6a510b7195551ad4be42ccaebfcf5579cc6b0318a102eafdfca2b08ca2d15e621c54aad87f737d06105ee680e036a6d1b17c0e8d5ff8b0fe97abd3e7f3861ce34d1b151949ab00f007488121dd4818400af0ecb1ad6bd525acf195ed7b727cc9d30f8e7a2f28ffb4c536adeb79846bd6bb91b67089d5a706f2a7143432a9ef08a41a70cd97dfec5adee19634ff2d050ae78a38a2e6d660bed062108ccd7dcde0e27f15f08e0517ede6ff7ae5c7e6ecdbdf459868f109248f295286af84b5475641b219152008099d15d5ae6bc17f535a6728941eeb27ded2ea2d9424d98a20d09a8577c0c7d74e05b8a02ce7edc3c92db57d7356b12c65093a75cf56b224a078385f66c7040c0746d620694fbf452c272f916216165cf43afb64156565b01cbc72d6de4ecc05c9617f3e3e01393491b5597391674fffd46e158ed6246d6838bcbcb57ea7179a6803956c80b75b312793bed2e574d16e10cd00f56908977d98893152b94fe52272c6171386d02d4d2d4b91e9753714666dcf979b640ae4997459aee5edf291dba7a07806eb5f2f22bea22f88ac7f741f3066d57e1d06a8c87a621b6ff73218da197be4f3c66d25e52b55b7051ae71fd05e2036b858a33ab71f7bfebf9787bb9eafe0cffa79adb983f4fe07d1e8ed94f691a0595dc76dbc88dc258dcaccb73d1c66620cea8a634680f25fed365ea469c11538783105f9810c9a49ee29bb15577a9bfb5ad97d5ce214f0467e0137bd5e37cb25babda3eb7084707ed7c9e42b7cf7c2a47228c6295aa8d7938934b2f46b38cfd064c49877a896f04424d496a72924ec029814e3bb48bad0fa7411349e3866d95021e5085f0ffee8bb8b55bc7003a1b5ad1845f64e99df827f5838f170a5eaa1ed163085c40c019e45ab42debf6f1e969e5043cbd2747b245b735a7adf4c5ef3a130737ef4f9cf51eccc1a68d31578e0c1006f5b32a2a24aa4931791c7cd42f4f69f4cda1da69e51450c6108e8197c337fcd67b1f17d7e383af5f0fe1e17863966d1af7d93267616623000a5c5e6f03966f7c2ffa564773676603e5567df661fe5c09e79d65812200201328f8255b35c4bfba127de4e2086d25701c6fa4e72c291951fabd9b94239cb23bc7f48739dca8a5a229e0841112b7005305c97a762d058df533b6c8f85415802082e01c90b2f050e6e749a0f5831d68834f5b39a9e2d568da72c3779d6559039d1f493bab906cdae39faf7e910f531379ae1844a2e0d201de6426b0ccb0afad2f0dd1517ca4ec6d0fd8a12d432a4fe145007ed2f8b3a7fba116ae9bb02768f10d5ade3787ee3d4abec768bc1907239559cec98d1c27d3fc187577e23a15d9bf3b0123284f4ced1434abce7b05bc96cfa5297e2b38fb8f33adfd9dac731de88c64c86c8ea4db1cdfa70d01c36da71eda9139829734b531ce70144b60eb3055970c4af5306d6df9315122d48a343fc51270718d1dd7c9b5c900dd707b4cb1495a50ea120875ee00191be4b463af2838af38901ad6a222075b3945629eb7b78d9fc0cb5968be52961e3ad7f489893899b7c992e18b413ebe6600ecf47b3c17eac23ebdc0f683b9f4d02ecd71681cde0ad477fe41df9d7cc0ce1cda93ee5250444a552fef3acc800dc9e58a2ff086f32a448a0b2d6e4bc4cb1f03cee47660dbdbcb169e70329c27ad29f66511bc818405b55c98a89f8a5d962150f2ee834f9216d0d6acc23059726ee76b96123828a3592ac199b00f253aaee318b2a47711b79c2d7bac0785f24751902da4cdd74f3c57087cd5d566b56cfaafcc706f725502078fb0aff68e8f85d38b65f54f55b6201360f5df701da96eac2bd16850402fcf8ac82af81d59be5ef5d00b2dfcc5bf94697d4d1f45fc816a8d3d02b7ebcc43bd1ee8004c686e1cf5fb8b59628d7d26ff8c384027c92d5b1d10dcf76d975b10f1d87070ca1681d98fb66b56b5bb801fcf7fadb32e3c1772186483a72b559302df9c85f2a65a1d37a24446a45e7a3424bf0c17aea1cb23c959b1ac5a3880989c7763218875d55ad5cd6b10c6dd1dd0e0fe3c84c5a767312d2e5203c91485de4753249d846aa65e81dc6399839f1a3973ba0f2dc150c2f355a0e326291bd00d1acc5989fbbb1ba9301ada372485719c519e4647d422e59cf3155d0a33a7e57010cea46a639180d28a5698a7ec8ab82d7936523ec6558cbf67786c4f2eebb46a8d8f4b5964715469c9e0f15a09573d51066dc2125ebc040e2fafdd9bfdd718309621e1761f596db016dbf49ca3623da6c225a17c4a502b35005d72dd3dccf227327635b8272f737e2980ad4160febedf029b1e5d2d6f0c20f086cbbfb3046d271cade4f86c428f44d888c48d62d02bf1c1e2508f2b1ee70f29f6fc256efc9874b766039b38b28f8e8d1e52d7710735f8015583452a54e23e3dede28d4d31d7fe21c4f172be2fc892608be0eb5b33fe73abfe16b68ffc71fa333844ec2afe7960331057470f1635d8d3652a12c45ebdef2c4f1f7600700350742a087b3ab909a428d8b3168f9a12431a04ef3eb5e7874752ebf5ebff6ebfbba782defd199001ea55a33666a11534afd6176844b9c4b04ffb55d48d935ef109920f925dc3fde4e9863c7370d4963bd43d60c0d3c38b4d9526fe37b9ef9cb836b2b6d97dc231f044289f19700978967e372a4c142843295b3abbc2b5d3d4a875bc66d4608bb572f04c95727de695b59e88b56ce6ec2ff8f8fffc0adc028a3c8f6829e55486836081b476c391da182a29f3b5b0631e3a01af9fa1ee85b3c1e7a1d33f4f63d119a974deae06cdf0184949baa545e16493b2212417059d06a37f938eee909394934db6abc318f5fb8c9adeb5437e26c32719912669fb34a2baebe21245c18b6bbc7130b8f3b6eb80043a0a05006c9bc3d5debe88c5121e1553ee64b30ee2c9cfc2fb20e2a344351a23d7470ea13e0d113f513bc9935852bf77863b457f661b859b146aad76c8bb151cf6039a340122284e8aae5004cc0981842eb0742effa5e2a4a8d1821206a258e0e4008304882b3603b4ed46b2f7309053b0771cb05a569b11baa0824836479d9f711f094a9001216fd604431a261703c49f6fe5b43255070a08ab54cef6d6e3c186de1bd052c981262a359a95e51fe13396c03dd9dde41ff2f4c995a5d95a9d9d763458bc299d899dce915f024593e9d0d020f7c28373f92494bf701453341dd6906d8e5a968ad20bca6517a6567d1d73cd0a1e9e75ea7c0d07f1cfdcdb314de67fbac3da8c1b7533bad78dd63b40d0dbc1fb38d1c93c1b5208679be582cdbae88a33e9cf41c81d1ce2972c96aaaa8f7edbbe2d5cf933d9c9b57b7f440d9641fddc8914c75340bab2dc169dffb926282c5b147c0d333ee039af8d78cdf3a160a578f801aa0a7aa1c4762f91aa99cf1db67b3ba4becd5845f6cdf5cb87e538849e5b3e465d5dbed0ed8c8bd75f0c61bf9e1c7677e4177211e851e3ed8c40aaae54121996a243cf72405293c4c6f65a40161763d91647cc404768103405233496ba70b05621ae9052b55d096bd180b5e35b16552f6007c9daddf4964bead008bad21272a002834417eb813b3ca0c2b5cbccb1a0ad099a98868966b4000773e8e330ea708bfcf66a90ad6475ca498fc08d10102c07d9a57e6f416cb05819ae83387cff2a0792022ed0b10003b2d0a35c40f3c89df5c82a32ba2e232989d22245a3fa7d5d2c07de6d1369804d83991fb7ffed8757b4af838de415b2d0eb6925008104c5491468d2a5a10273c1a8b49af2e340713a596a96ab033c9ee1666b9bf4d9743a4558ccaa41ac609f7be87611c1677d480f5d012504a9e05831bfaea89637de7d7aa39c224f2ed9fae877bc53db232c757430798cecb5ed58d6974ac105fc159715ecfb9b308efec87b2aa8a3037238b8672dc47b607aea893cbabe317f3e2115fd922e326c2d0eb5a986ce9a0135ee363eaeed70cdf0e956e6f2a93084df28d281dade9b2ad25d6dff632c0759455bd42962fb4d5855e9f31e8beeccee3e2ad6b73cd215091dc2f7a385df1dae9c92d62da9c5cbde116d5527933f627fddb1ff9c51d39c8cb1e336b9c00071c7556e3ad6957896948448e4e080b05231bcb3a4b5c31ad3a3ff75d56f1e26f1ff857237502ed0ec241fd37d433e241b3249db8401f732ec812f6016a3b1a3da1f57a462e0023c1f05cb59cd00927d5c0bc5737cf0b6817186b62f403ce5995636c866a486ad662cb4002ccd1313311398840306c5148ac7c156f9be79f5c06af677df12a4213f267e3c02ed9a9da07fcff45134e23a3f48bdbd219520243b92f2c2bfc82b7efd2bf7e29830146ff4b0225167de7ad0d0271a715c4a22e3ebfeb3e8872157ae11db2118f277f2343a002cd83efce84e170c64aa7d0a90e964df8593b04c4ca1cdcfc6a9c68c1625c2b67b91bfec7a76b3b1e637012b651a8560db184f99dccb45cf86d4f25434c1a1cd9d7823cd9f20a8450fcc8f53b8f9b9586330ca957a73854b52756f5d16eaea321237f7dc42d7d6d27ac9f7c4040e7fe5f27b40a064c27ec55579136daac7a18ccd9b836b188a6cdbb4492be74c7dca971548751f89e90368d6f384472518738d3edce51998b1110ba84062432ff7150b7027dd9433ad9a81e6fc4b3339fb4940522e81de23c69018fc2fa4eb60f7461db140486ca15a88cbb4d6ca1fa7e45cfdd94f1a347ed16e86d9eda6ee4d3110957b9b2d7ff62f683db363bc7428ec9ef171926dee2bd7fa186cfbab3a2488c08f4d3f1648c35f3843495d23e4d3c15e8e7155a032bb3195d861b689fe0da47d0036c4f1e9a9edfb85ab5ae266e5390b2c27277db315d1b79082adc5f9bb06e827c795b175c34470a23837952961382c5c9bb4c910f62f0c92301385c104e0e78b18c3d518a181a5bcf54b18cea346ffd935a629b692d76e0e5a0f983023e1545d0ed084a000dcb0842b8583f2923ee8e6ad0273e307f01d409d8510c169f75b6fda921ce449aa4c33e280d2a8ab4dbb582b16c4d327cc7f47da60464e18748de50ea8f11510b0fdef2ee2d410f023ad0e8a15e5522dc76ce4632a55c9327983d54d5139eb5a0be05f70e818bc3d8654d55d69b0fb790b9d78325be61a7e21c9e2b8bc03617b8e6b83d911b384b2a2252c4de9c7836f87c07e36b8de6b12553d878d226bbf6e466","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
