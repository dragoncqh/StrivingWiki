<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"cab246825ede31bdecc000a49d1f71e2d175fc21e72de61b099dbc8074fad3f27e5f0cdd511a4bb89411dab467c8290dbb38dbd74b6141ac12681417f71b1ab553b93ba7b2930d97645419bad877f5473ff818b5f2321a6cf2715dd6a90eab6f41476c9f69cb9ef38aff8d3e65bdaa5be0fd305aa2359a1d37fdf6b04235bfb8c648f9fada4e33aa57df6f57612d710253ef08422606e0e905b04f035ab7f3edc5b0abaf6fb728732cee34f16e4f466e3f9364634172a1ccbd70e0869af935826a31986fe3286401111adcd1a92f77b2435cb1658dd348d6e057cd3edda88057ebd6fd97443c8a0efa908774b30c70b04bc43ae47655a17fb8ce1af7d86e7aa2c7704b032f815356a1ed983c1be03f4d98d5ec9001347a66bba2ac0d10444631085440362f7d9ccf0b0cefed013c46681991beb4431640339b8a2c0899d976569f24490f75ae19da28b0dd091af0aed8246448e93de35d08f83e282f124146f9ce154ce0f4244efe1bf9a1c0693992cd20ccbd9101aadca3cb23a485b55ace58ea929a58f47ca925b8280cbe6aeb35cab7859e224d78f47dd50f983626ae32dc39ceb415600404cb907ab5caad9aeccf73bdbc47a20ef891f61dee73a25642a0de6f648cfc3a772c26217b94365f13a1a5f282021f95be1f1bd13da88d60c539f0cbf4709ce7315e2a66b3e5112532c787d2b3f249075b20f3f6f66a018de4490742d82f94627cc0392b7bbb51d18ab1702a910e244f859b2fdd4253433990ea7bbd238c2d0533b54c254f513ca27dc427a41e320c2522d90d949e6613f43c6c059cac3021e1e913efa76da100f9bb36fbc9c26f28ba878f090dd92e96478ed96096ee8ed71ce7c82ecf711c068a144139e48ce1919a14908688cfa99df497f2c04b157e2318bd2764048ac622283afabb4f099c862d6fefe26b5594f05cc4387a47a2494f493f8c0f3fdcb781c2a2f4762eb1a6effa93c386592bb5b24cc8c94e2edfaa041a99d0a71a95067c897b79401e930f459a52be5183a72b2dffb4a8b1e9b6e4e7b047b79d5e2f69e5deb01a34e28d974d552bb351819ab0c89f4849e6e120ce91aaba919e99a7fc554990015f0b67f7b91f138cbd06bc5e9681d4de9b861f466f37473150fc29d943ca0213810487a9c9d533d8718e9c1ea37db16a14760bc30b77a065da20eea4a26941fdaa3c1ebee9657631a676c357d714e08c23bac49362a5369e194d30bf57661d75e60f48d9f3dbbf3638d4ee3112e56d75a0d3bdfa29c2c6b563db66db055b919a1866b53c82a704143f1982035613e3d17fb2f67514f2ecedec0bb6a2854839552b62de0da685f752e6cf2586319ad67459efad88f2e3c74814beb0f4596f25f15d43160f5cd2806c3937dfed46cd049e18d51a15d2f1802215d4e9a4029c822351fda602fcd5cde19b10ab9c00fd7e8c13fc2af7ebadafc3db29bdab92b8d200dc89cfb76fcd5ff716151138bf615e12e1f7fe41b30a6c3f29d90579509631f5bcf322c1fecf71fb5521d0d7bcbb97ba3dd8633b49438f5917e64b4766eaad983586384d1a3f4487323a2f9bad78f1edb346b3c3abcd60d9a8e61cd4a2e1ac5c8f06fa416070c85d2e1b075d8e4723c262dd736b624d2d8085b94b05afcd5efdbaae0f62d9546550088b18b8b46ad0ae2e39cc27645517a1d33fd7d7e2050f8a9e9404230a208c673f5e424d4f12ffebc7003db3c9bcbfed254dc871213054f53468f179c0b614f755f5fb32cc1bb410bf971b0895181c50faf92bbc8f2027f152f01654d3ead4003901a8aa5fab4b48939f86c6def581f58b614e0ca44b4881e084c4b0efc607e2f47a16b5b69516416cb25aa0ba29d1916ecb376d1182570e5b8b42831f881adfa4559614f6e23c87482041179a111953d5d9df9fe4c54149dd94efe0b68336baa1fa3f9192c7764e72d753a6e5b5e1dfa32c87a44fee370071183adc27ffbd9c5d9eafd267517183f769f7d196ecd7527ffe091131f86c4b0f8b8bfc2f7c2a4b69f5450f42279b79f346faad0e2c005c22b44aead6d6749fede6cc3e3a9374975fc38dc6b2243c30aa2e1d30ffdab77385baa6870b70160f269069f8679aced24254e9c08925937f5522de3431af6397c6190e87b80e6c6e2135372547c3c8edf849c99286c0a44cccabb9c3d55ebc1c6755045b0ecdb446bd71c2ddb52b8262f0add7c1888887d9d6babb40fae616a65db5dddff6d42ae6db7b113b11e2638f57b3d41e40ff3e1a12af5bc6a11071262c4f4bc38c7fdfec5ec6c9034ba29a22afb9b4804f2dfcdabfed80e0a3297d014ded421515488deec3c27889d67ebc187455684c0c7811ddb105eba4f241db660484239641d7f187051073aaa51135b02f4b15958dab1506ae0d92badce8462014c4096f442db376d8d9d61a27217e8d72700a8ceaf4e00f3eaa133d8c358b3c1e355b45d5c9f494b159c2976225c66e1499f55af0462ca2bb85af860afa9c343c4045248f4ee649089fee631e0bfbd0b28a302dba245819c4da8792c535164dbc6d8258d30a597908d827a7eb52c7e2099b07c1c290301b9df03f4aeea996669f4b7864b395e058bab7a7a47628843c23021105ecb391b8ab5b58e6f49479f5f78c537aac5ff8c96099c9f0b1b291b33b29094a573cf368c646d64ea62b4fd61cc3774d8b7b8ae0ab86a48c63f7741a215b30a0c52875206954c0a221d4224c9036190c5964e0cb0c039e9415ca5ab5d5b049d659123a6d969e0368794d7d884ab4848bb8710c1c5bd06435171e3a427ac6254dde9a9145b9d0d4dabbb48b2aa38965f97721072bb7ecb168aab72819fb1edbd3b68dffea32ba02e824e5ab2e8bea5115a650adfef971174a7f214cd7dcb5d8b932f4b70c4b9a9bab477cb2500ec1ac4c1047ee2e16896ae31a7ff6be775ac87681eeb22f086740febe1083d0e79ad100145273a865bc684ffdcc072b21645f58e7ec1624ce5f64193179b46fd61da0f311238bf3b47bbb3f063d623f6d5e6583f2fda82b36728bd317887567a9f2390fcf11efd6af973327390e3468ac00ceab50620492fc9279f7c44d8389cb096cde5a6ccae2e60c2c3e6afc94fa7c318d2c56916ea1aabee1ea258cd66829af1c29e10c31133425d17878749d3c51bcf2fb3c2e08bbc3647e5549db5f0ce3598b4f7c94580a1e464e7fb6f594076bb272cdad4d3536396d65a7769d22a6f4f970ff58eecad22029b0602feb100f0cf6686478791fcba6e74f476d202c96f8b42924d8a261d5343cf8db3467b652d475b1e71d027deaa394598fa92aefb79d6a53fdd666109b4740a95af83bb58c68ea3a88c35dccfd4cf86702590fb44a3906e02d1c7840825eef2af532b7f7e2dce9d880cb452bce8076a84970466f9c880264401b69b75d64fdaf8d88ebef5f45f5168ba9166d60ad79473e38ec3625e6b08c7c925d5836aa92633cd00bddfc42622555abdb6c4d515753c62ee2f5aa21a2273ca8dd964becc137719a19d38bc34081de45328d87fb9965f7769b8dfe897b10fd02ff1ec8b4af8cf6e1306d3e8d0a4739e32eeb1c84e6c62e0a0cc34df1d5490e9ef27208d3829d10caae27a9537a470b1aacd23024a2cb79b8c3030947103ad1f76aed62822c10bc02e25bcca81bd85af2676e7f7e1dd8ed23aaf2e686d9ccca798d4fad5da798a46351b5c64f9a3fab1f75dc04508a150d41c6d74e2b8e62903968b802a63fed3bd288204463284f7dec75df875750bda3a2f6fa09233dd58ddceafcda901d75c61ee491d6b5db45c57d89d59fac179f1e48a5159d34325d38b30432370871e6191c4d4cb2ee3dad4d49c3e340377d799c3544a35be252b6c3274e9b83ad3afe276c55b85a42b5c790c152b014a783ed7c511248ca7ff1558e4ce5b1ece6cda64dbfdbe16b29e6276bd8ba5a8c50e039c229a6c5dca831290a6840175518993f1cb0207f34d3d79196ba0e70970012e4a46660e3b061059109d04945c4425ccc849eb63c6cf1a192e7d769a170751870fb9cbc01866f0dda6ab31f5a8c6fade932386ab5ce11e7c8050ab7ebbddf96cf88928449f807620f963cdbd00217cb39928919529a4c2cc44ecb4123af9c4753477930772dde310caed78f66dca1cd2734e55241384ceb2f8103cbbcd5b6d8674800315f7458497b8f07864120d40e46d01683c5404ec6208ae9d9a282bb24e07e71ca1ded724ae65cfe295447d4a865decfdc5aefa941c9d3391b47fa2f6646decd73a93ca3550f0013959a1d47047b28dd644498ac3ec75bc4bb80c3c51ba0e9ead4b14dac65ebc440eaaaa43b6679a11a0b500d91e4a72d9bda440b403fcf465d6e0fab263e2e054e5897964b6c45191fc103fa7608f4dedebc169dd00a840d47ea5cde492fcf763602c79bf7401878f71f0c95f42ee44b84bcfd0dbec857ff3cb14fcb9d6297117878383a7109c21b6bcbbcaf173dccbb293fb26e180a753deeed0fb03e24670109223f961357370949b00b1c886e625d9bae1ae38f734ebfeadc6154edb70e0733c95d2b83263041c6360952fc639737fd19c5d6f6601c511f390ba9bef1ecc825cb53d314779d96793d6eb7289d12478cca97ee2a25627a7ba8108ae7ae39cce07675acf70bbddad16d9026f5a5f7691e8600e5ef390922e2abdcb52e475e8b31f4951b3ba68733c9e3a095891b27ee29374ea0934460828ddff9f227ba4d0f673719dd4a58c5c9af2621d8249c34271b366d5e3970973ab0517e081c97abe173032e716bac8dfc2262858f9ec78cc84b6d67dd821c92bbac37f8793349bc1eef165536d5bbe7c93fdf128547c78a9a62187eed99485a9fedefbf6c215124fd52b1089e19b731fa0b373cb324e3c81294d9bbbd434da882c077ff4f3639ed4285d29df8b3ba6028bb4bd197a5c74479de078210befed34992a436f2bc495abff18a586f4b8c907699180340a8aead04a7e6301d9ddac99d8034ea42f63e6d12e146e0157a17d93fa6fbe9881b5492f5bb8ea928c5c72970faa6c14f57868db81a74e4a004119431d27587de24ec20e6a943c0cf86a65c7a2d3d254b1f2dcddf9bb4d2ed3a034168844c2bf672d3fc2eb593c6584a4dafc1a39603a91d4e1e37bd99cf78567f2cfba6be53124cbb935d4de1c58c01ac425a9c3df4a9d5bdb82dea38c05091d64a5e29939f53e6bfb731550161df8b7efe4bbe958f529a608bef26ee62b5137e5b608feee1da7a5d663984d75733ae051e54420b1d9eefc206cc85a2b78d9cddd6531e20da52fd007b5ce27f16f02afca415165bf6cd2bca6417efb393a27ca7a87ab95e3bb68d3439f10177651792eb6d775906b8f74766d349a3dc70815cadbd650f03feac0a26c690d54f76952399a2e41572c357725c75da864ae676a0a05ddccb64ec8918a1d15156af05f14fc204ef33da91dc224312ebd62679a52b0fe629e7e8b917eeabe494a5b9973eede0b5fb389cc8295c4bf28c404c9784e27be28b2597e24ee5f20a53e71bec6161771f14e2214b35859da5832a53422055ed960c28aa58524258f113f7cb4dbb429a036c94d3ee7a40a006eed0f38bc859938bbfa68c420e7e935f353e73c9ca575b60f856b494df300c625daa16195617193576dd0d50fd9745ca6144e3ae1f3b51a882678d53c4f130cb0fd08a2052ef6997cebd99583c518f68b653a233bb2d2129c2ba88e6398b1cc6de915270369fae80d228cfba2ef1b7c0ce43ffd1aa4dc633469e304c601c4948e8648fe4b366f7b580bd05f5b40f8ab8e282ddab74f641279f32b66a5d760fc29cbaa49013d9b62f1c5529a630f505ff1357eb3e2a2baf7008d6273e220ec24f7ff086274e567c11d9aa727593b0193f165c38289bcbd5e4fce32b752e2ef373cdf1e824832f411d8b29e42e83fbf7301bf3242f002ee3b4406caf29a11feec8569bf8b141d2ab15f4fd704cc015d3bc59da5abcdcba8ab2cf72a95065f94fee942d48632688031b133016c069a4b39609bfb59d09fb3ac07f33e763e3c3018b92a2dcaac3931990206ff2210ab457ba31f887ded349404abf7f1d79422e17bec5c94f510d7e75e49ca5891d6fa9f45a1b2a0a5880e7089a66719a6289fc213c1c18307e51b4b94dc5ae2209b192f0b505949dc0b4f8bc6513d9132521fad88e9e733a16e56a00093c534cead63da0c79bd0aef234a74b6cf1000e2c03778cefdf9855ba9679c394f5f28d6b379a8572f49aed85308f9f9532942276c2b548b8ccac13ea4041898edb0caddd96cd9c6e5e1cfe559b0b16e86e9062c2f686e34f209a0c925b2e39bdb5ada6994f252751075a6bd3eea45db2ee644e62e00e5acee720c8347ea23abd9dbece1c9f3154f5d00e5bbc43944e3c718a92bfc0d4dbff17e5e0290020951d2b2c6971f6205c22e83cfcd457ded5704d0b25b6952ee9a2896631886af4a03aab35ac8001ebe498c055d8c13caef55ff9ce4edab0ab2d646cc6aed4362d142c0da43b3da84ad1b088a25023d533578714a046ecd0d42aa3321d11027e3a7577c90805e6befca773dba9da473bc8f21b2e89884fa3dfe97b144a91d8adc58d35d2c428e387ef72c40837366d09053cabf2a24b08f2b917fb61b30ff4960ddcaaeacd769e585cab1fffaf3597c60a78fa630612a47faddf371cb34ffb5e4fceede0e197cdb529f08f015dc7dd9ab7a9f03524bec643c307a593b9b08b826d061bdbeed811a398d19dba31675f7993f0d66617bc87a494890a00f872040d72bae473b043d882a5bbf3f679a82ce4e80d39d152c14ab4833b6d0a4c1c01bcaca7e08d90337a1f1a0ea1f73bebf91759a66b7439c7f8427e6db89cd06618953a56aebea94a627df80e47d5a89b76b7666f4bc7eccf19908fec43e39ce3cb70c816b244a13b7fe2c674bfaa38c35f1faac19f39bb470b0f6d08ab43dde2fe24316207ddb90ac19696f75815c403a3372db669cf372db66504f9e8b7344ef7c5c38937772be95fcf60e199263782e94a7b2205d3799fdefc6b28b310938127c3b62138aa192e98ee0377fe5af363415e24fa43a79735ab3bec1844ea1654a37e0f94ca41faf47df762ad516aecafa763f03498fe6cb112d298eb1b1b130d9131ce61cc1dc2daa1a2c41edfecaecafa34903b340daa6cb1fddb346761a9803ee59eabfd54547092295c991e9ffd335822dbeff6f81e186805ee02af972abba053a627e253631bfde485c08e4c3924ab41955cede69f904c73521e10f2e109d5d78306eeaf291c209be34eaa6c0bee27a57e850d755279b4f8fcc4496252089458843c2aebb5651cccb6c25bd15b9e0ce850f9e37dc51f605f411ebaa74690cf58e60c69db932e27f75cfb78c23953e27ad9d33152185c44cc85f41ef25059d777c369eae60da2856d7c270fd5b48c601177c51b09487b2b91db00bd80a9d25db9c15b6c380dd2582d3e3ca1e2c3a6b192e1f2f91336f5ca5fb869399a984e23ff33c7d5e7e19124c0689cdc105b3383db1cb46e0e9f05a3b0e7e0dc70c06278b6dbc0e52837779cbdece3f8dcb3d85a0f6a34e719c1f74156927a138bdfc6f0125789815db597c8409100ca67c7c78a4eeb18699aeda21b159d8cd9ff34950503827aa79dd671ba2cdc3eaec97260d2c5d40f94086afbc1d2d1edcdc31698024cee164ff6710461b913a9571e39ab6099c10d1f97962c72a26c702c2bbca088bcff2279a7242fd4de14e60baa2a204baecfdb483a7d3ab374e78d9b3b3eda654fbcd8bd9f4c12f4f36b3f91c9cde2bc92b946de6cd5870cb0e5fc8c0f738bea22c7790590a5d6aaeaa35fa26cb09c201b126dd00f3664200d8655d39aee580fece256ef69b10a688be8d5727729a441005daa76f2175e32da69ea3738bad90d1893467c20c66701698616688e3c6903fb42c470ee05b31b41e00e1d82fda4bdd022a04ae4d6e867e3812e42f1810b9073b2ca0f2ca1b97d5c9609424579c749a1f0d6f4e01b9666822b05fe4a427dcacef79b376ebdea622deab54876e7cca933d6a75fa040a699b73177b09774fb290ed462b2bb1838610e7bc1960894edbca7ca14308b6df9c520a1424c1bd9464a097a8a83176892a1ba03622b86a54a50f33ef5b2707064bedb06e538aebc80249a4086e3959bbc54b465830e48ea6bc924f59dfed3bf6e81e26a73912c4da5444009de037ff1d6b9f5d51fca58fdacca6f46b95e6b82406b1a25fc1ba7f334105762b911178a56b56236a0f8f61e1021a0d4a453c058c2e2159946fd6b48a7d701814fcd9fcaf7042a5aebac2b031a5fb960481ba2a7891cb51e0a2a466d30b14a86c3a1c71ea66e2f36046244ab0fa68e667217476bc5db6bf05f7e5567da40e036500866ccb251c6d8dbcd21bdc479846b60b5383c7ea81757b43b5d9c07f2a7f0f2d7784b0e730423896f81bd89bb064c18962a4fa8085264a1ddc7596452608bc9d5136112963b754817668a25174a5306eaea4a8ab8a8e126968bc2e7342b46674f6132b84f047ad85f113e04c2d9690c0c671aea5bfc50ad5132e0518a7a51bac8fa23fdb020e3ebbfd7b8cfef9a07bd876fcac1e59b267e5848a09e6f81cc5348c98be75bd93a6145856d767699301d188d3c437e60bfc44599a683a2163d1b1b0fd47a9a7df44f65226aad762115fde11ec03485b1812cb773a8fa2849babc61e25565118f902cb26ee2df42dfb20d006fbee4ad7f5d1e2b28f89b169b02bd0b199e37ea959a13035465f1907fbea5c1ffd612766ffffd3bc54c4c081ecfb72cebf8927b32fd655ad21c8a1afc03b192fe2d6358c13fcf23a08376a60a0c54246ee1284a20f660eb505cb6f2dfdffd129e419d72d92f1468cdaa42dee76d330dddf3b7cf8ca2e74ea3498d61e52078326c10ea017fe69d2ddb91b609b016bbbbfd1dc4b41b10eac36b9aeb2c021a76e1e7a47b205a28ac7b497da2c646dd4607fd2ea4ccb2a9d1e208a3de554900f67366ff10332453bafac14d8c76b67877ab5ff3f27b75eb29fa1b51f3f6bdb7c98286270c66f7008e60914d9944e4b0f7c6200ab50da9b849f994eb08e17b089c80a4f57035d6cb55845dd8a0c81141bd87299a290c97a3e22ca8ec75b65e26890b292e37c2cfb09be6116275ccc1d416a17895fa8f04060c0b9727e5f11a2267a3cf5c1df896cf4705783665ff6b654895e7785f709c0127be5d9748f234aef51c5cd02ba89914fdf2ca240f0936a66503f7c6b9a0a8a15acd8223c9944cf2e12459864f3c3c9c95b1aca4363eecf2fe9d2af05de1dab1670ece32fc63942609ad9f37f7bc8473012c534193ab4396e04273abcba509d673e48ab084b957030a7736284fd7fce49ce6ee158fc83c4c03f074780200885dc2bec74f66f7af6ecea6e63044ca5ce2443264d2fc9dddc0c03f65232c552a9a64fbdfe1b9cf196e792c75859eab48f556d15721fd15180d035856161e215e98e7f8e61c003802adb75fc73f7875277ee422046abb3e0b334f57d432b8291facd2c479fb05ba2c6512d2e7a4780155a4fa9e55ed58632d1fbb66ad2b4f04438222f3098e42fcfa7bf8945e76522a81f4005f2c4f6600568c5a7772b474f254583e700d689ad38a1bb65fb47905f7a67d5b3257aa3402d28b461bc716d84d0de5301130c32c3d07b3cad688facbeea2ab70a031397af4416d2ef1df78f08d44898077d45c7d305444f3a23e37fb154fc49b0da520b51319a656ffbabf9b48b1b934955b5aacf995e621d674a6deca6127a11c0944b89265a3da1411f37ca8e7c253e712c16e70fd4db2020b0fcd23032feb669f25d2eafc2772986132ceb6b1944307ab2d9c2276cdfd712209b967802f04d4acc515848dbb98fe49c9bf5a70ae37d6da777d3466d1aef34d081b15aec2989fef0a992de99b9d656b5907be7d93d76a159591ca392f9878d5e9b3b17244c4bcedca557d91e487d970e88d20e1b70d0145f5ed9e1de6ce307d5b8caf5d320c30910d9d340c24820a3c131898123a6bd41f2d6513199d4f3abca95ae44296de147e803bc96f32bd3e3694617af7dcced223641fe9cde82399b10b70bd488f0d3d72ddc00b8d80b02d8af8ef15d5e7645f01d3f8c04e3b10370f878307dc5038f7c8fea45ea0688e902ebc7764e2964da8bbf32484b8c8306ec9860b16cf54dfff4be37a135ba79ac9987449362020349479e52279545c8b000725395457ef70d11da15ecc8014385df933c1c56ad9b63be95520b8827d0364707690fd672fc9eafa66eb50c42d105b4a98c4d2a8225b2b895a862e588f55fcee61e39539c094f0ae5c8d11398f7859ac859275b52010e665150b5a3bfa8f36d0230d61b87a1cfaac15e11d4c6316f1c283e3a86cbbcae12e6f0e1016df30c8899a9eb44633b117047aaca6eb3b5aba877f31fce3e5a5954c04482179396b54d78f52081470592bee813975acfaadb62dc237ed3a493992fd4ee49694e7b04421c308d73456282ddf8b17e85315231e7d0b48adfddb1c88095140c43ac34f0b0ede4f0b12b535ee7da08ab7f0861e5ca498dc317b6f4c1b60b0234835768aefc97569be7484ef8f0e853333d3bc7daaddf862878e885bf518a435151f19bcce3d9662f3171417516194a066c8e8b39e31541d868acc6aa864bfe842c940bc117c5fff1c3b8ff32812354f6d945a1e99ba03d31c2d07388773d49101da56ced3effe3f7ed329875f0b6d22af1f19e1a07451acb6ff7c8fb7e691952458984a26697786f69c23b81b5e6ef3b30a289c965a7c3b127786f18834215f9be6881b96b5273f13b7e5d0a96c63e45e9ad2566a07fdc45011165842f02d73fb8094c8444b7f4536dfed5473e7daefac6a2256bc69884ce4222b452ea873c4b9436ac8abcd15420ae8a3ae6651c72a6969b442b096b2901e692c6fc701435753d8bea02b19a109488583c84b8ce9dccb2cbbfe3640f730529b66caec05a21ab69749b73058d15ce33e4d48090578179d3023e1e4d355b63875f87f21b6e5139a036d742aea2dddd5cba84505be4a2a69d3639f6131ff23921f2f723eab690eef73b8c4eb29de7de02cd1bf6b5dfc940e7ba70c8197fe55b08a97f3400f7f128ae5e62d399e1e7853183e44d4cc4ad9df56b2decaa3b6005c7c86ca4ca29b8cc87c6515d215bc9621a63dc202d1380caad9f984e664a6f2e686cd0e7b4dbdb30b514b78052cefd644661ae7378a115c1a779e2e7b07235097e12ce40395c466efaa6220f4700f1a0fd701683d139cb0194ea2ec3ddc0066c5c4e6723cdf8304156745e1ef662750f3172d92ec0d947cdb204171633b40c6b9de628d03b588293f6cbaff84fb38326bceff51c112a44901c05ef8176f4784ba31da59a25cb524c4e2c3482f51f253c1621b269c97f37f1e6ccd88aadd238e2db391a5447464a55e79fefeadac9caa54f8c410bf8f408856db38d15cc2d2e408442d1d2653b1679ef7a7567f657049eb51a2c87d3c8e0c679b4c6ad1855ddee771ff6aa467c1df07c13b240884b50188de32e21da50e22f568221d9ac2810feac18edeb43dfd6a845e1579148073703c5e6ea9c5d666b3189d82cd3a889dd5a688e3bfcedda4bea9315247612f45bbb3cbbfef0c838a63dd66791ce1a60b3a1a2c8507c602ed751aa9fab35b6c31e8ae245ad37571f0d4ecb147c4dd041e05fea584363c4ae460613a0cbf43ace7c77cc327d893228fbf49c0e3c5d0146e659f65fd0bc396e657bebe40cef981c498103a6ab2027aa3d2d4cdc93519549a2e97a3619e679004cddedd873b5bcaa740ade6df66830abc3a9fd8d2436301cb012bd23e58919859715a56f3397aa29fdb842958ceb2002496a666bcb2274894e110ee25f7156cd2207fba78f36e29e8e4986a029e97ed72bddc921d115f3333f36eec41f1f5795b5db9bb7e0e40e431e2fdec9e3bf0eb1e27d46fa7e313cf9366059abf2b29d1eca81f410adccb68fc5898a4ef759c7143d302509508afcafe2d786a1f6ee412260a813a57fe77d970ae08fcb732e45a0c509d10b51830504ae136a009e5e5e89333a412dfcb8dba4d35cf1ada15d06ac11dcfb7cab86b1c88bfdd6ae82f593012b00ceff2528b98a93f0e61cfd35bdd42ea6ffb4ba94d4c5e6c9b9fc3293fd0e4bb22327f32247f48b4a34b81194cf4e1fb6bc105791c32ea1a5819c567e8b2cf72f7a66c19b49413e9d305a2ec879d7a8c9343d4f59bddd74d3e9711227cf42dac3c5821240af4a82c0348351cd1c153c9892607ebada2e01f55b3a917d10275933e545d87ccc4c18d079d51b9fd8ee195e910aff9b2fce8e8861317e09c345f868b6e3c6e874e9c55ff935f5cf593d121d9d72388b91d999f063ac260bebf2b52ec24737ac25136aee9db951153b388e98917cd69cefc6397c659b1d1ceb256a95ec79308b7a70e988f2429c45e938d09892e19f9724b7856e8a91c8f29c9f76e261c5aca10da47f1ac09cb0ccda9567f5f9b1e23190981de87560828c88d8262fc918e95d1cc8d0fb43110381c70c6bb250892caad29031dc5ebaa18e981d11597152bce8193366f2e26a0b604e016488475e871bbaee21e9405ddfe2ad8d55ad7298dc79259de21d1a607b8b179f7ad84d12a7a2d5bf2db08bd2623fdbc0a39aaa4fe360e47a805e1593ddcd6a493ce4a06d9ac13971818372b4eaae39b75da0ce75fc3578b63b934840761a36ab9dc7fd78484c5579494594b8fe6a93785124b0e1bd622bef1f5103f0dd3ccb7ec34e02d44e3aa0c4f3afe9d5cc9674d62e73385f1c78f0d3a8237e145494e7db584e927c83b13f34716e75bc80af1eec4c5ae3c83ecfa53ab05b2db9b2f381d3b1e77797445aa215cbc8fded2d3e9189900495af324bfb24348d336f65f51cb50f0b52128e6b510099ab8e8a42f45bb83a678cb382ea5683c65ed413a1e02e4ef4e9097b3d65305c0a9c1d89afed36baaa13d585478d553cf1c69129b2c8cc9ae21ff7ad096111547c8d5a3844002adc57e94cd352bcc927f4909bd31bfd5aa45cc1d440ad5dc51f21aedcb0e813b6b4f88172f1aacebdabb99213923e44696a193775c1ddacb67a548b81cb41db79edede7feca910c5bee29c5122e7c0a181bf59358568d0b50d5fe02627f5d54c4b87e139d11e31cde2fbe03b622d85671209f29d0ba33bafda390612ff3529bc0c28d83f131d3411aaa9007f01e8953f663a30ae1fb44e66fc20a860bda76d161161ed306357f0a4f65ca55a0b528bb93dae03200614678081682180784e7920cac3198528037879f887e704795fed31e434fcb0195f52df4e4bc11dfd723d8c6d79e3679ce9c012fae8e677410f114f7c717795fb81e5200978b7d1a193539b978b258cac39e4939b61fd563333ecd3da2c8ddb909c6c57de269f301ba14266259209b8d21cac7a0e24b4e2f29ffac668e8c1e0c3ce98d4620fad740863e94e8aa720b1ff7e408bf7c3a6ce892b1a5a7bfe96da4bdcd2b167130705531b9be787437efa7bbab5df7c50b282b9c30491bb40050dc3d7d4874bcb4f814c207e31a604ceb4deb17b4e682b28dbe97b104750ed62300cf2318351df9f2abb65b63f6f67b4cc7391773398b395c10d4f5b9f3538ba475927bb13962cdd1435f12f9e252def683b562552eec2359333dce1e91dd60f47b3b8516b4edf152f725ea2bd3a7503784f883f478bfaf4dd188f91a03d81f7f4324ff80f07d4c8c2a70ec162c10bf4362d9480a8ae8bd1c9c0713db8eed7353179f659d8ea75033cd4f9679c4e9024102de80c541378c2e4f254b37eef1b0545cbdb9da6c64fb03e3283940f261c2c8861b6401c4d9f2e2dac965590e4273028ec25e81f88b11b1b027f7b4c2ff2ce4e6a38f2c21d93003bfdfe54e94e16cb338110887b536cf7b9f26045a46bfabab285a15f75f979776e2bac407db1e98717642b577fc73441d647cd841c72b00176ed04b06d00610855e48b84bf488026a496dfcf51b99a42006c4363dcc7ac5b4e74baa2194ae2a94edc1286b7aabc9b3711e6ee09d9392db327b95f42e55d81765e2a2bee5e6d80b414fd65d8b8f296d4951a809a860ebdff7f13410b31f78c5f39ee9d21ab33e5e533303daf3391d0b77eaeeb531a0460206bb73bc975a0a5e242a47d9c45efbf55eec0724374bfab36607a83d2f22d1600e19aeb0c2096fc0eaec528b8d8fcb3e79f7e4debbbfa22e822c3c4807563fa382edb128e5dcf706d67e49439bfa2ac49e7f67e6d560ede0dd8924868b27c90efd3d985e5d09978f97876527efcdc3b873c928b67823133df9bc6eb25c4fa940ae2aa6c077904cec2ea43ba8a6cdefa99f54dd18df9e78e2d5bb70f3419e4d9d2924c2323805bc61be77921bd8512c80b9adec99e8d66262138e648027c5210ee1abfdbc4da80112a891ad53c799cd021d39566103b6515a03d84c990b5ea9c62f1db13fd39c7157c8830bc529300108cd3ba2152d029faaedf1be9fb165347fbea835509b12bda686811f4e158f1a182c37d47eeb37704a804e426f28a2386c6147d8bcf2159dcab3fb81c7a4d13f0537de1650bd2e9c60c58e88b64d3e111f6fd3f8f4bad04b9c24f0d66e5bfc6b5757c43178cb791816791a025ea3a7d913685de4e686847339cb36200c4edb16fdce2f68960d6e75f7fa92e8801a11d18fb31d1a12fdf6c20637aeadb27c96dd888b0270353e5678c5ddc49c30d3bf2a605030709f04dbb1e468ec11c79d773a5df2e1761a573760718f6415167ad1992d70a6baa284be2d36a68e282fe7e7d72997e94e4ffc8e5af5bf0cffca1149df79f413a9cc17daf2f072be3d3273cccaab8dfb10e14427e89a663be1d1b03c16bea504d059b9b1a9e60946350655a5351e7490a9ec882a033cc02a5115fd69c51b6cf3541dba0523fe01550e333ed554a895df125aaa0ab3821140fa5bae9ee4f9f6e3af8b38afef9a254bcd5d734366bc0084ce6c4d1d9589b6a793b5d99bc31e23749df9155ff3ceac8c9c48f958c1139e6abc0a84f996e8c10f9176faceb588821a62dc73a7f162acf459a6f41063f59467af4e17e1a5e1512251f58309df96b322c7b42b32cfa4eef08d8699b46974fdda8640b9c3becb2ae4f5913296832ac573d388bb50ca3994fb886a652c7568858a338e9456e8df837fb85752dae257f6b068cda1595899dbcde33d31aacc7095e391a5cf9227b3bd708d5df7630bad72b37b17a7d246823bddc88124f0af1ac69a7590d25422f3856fbfafe4a2153211d949611bb506fca0f806dacfd5cbe38ff5281690c58002ca144050d09f3b785236f00af709c793e20a014789bf79f78dc696d4e3c43daf0d01b6a62a05137fb33f9b4c1e7af8df918b6a924d7827a7e41f6a86b2090c2b330a6f6d607a1351be2b0d4d7564d818ef332e904117f1e32944c48add62fefd46226c37e0832b499e5809e014713959c3b0530173ab612fc164c6ffa0d62954984070c378bb169aa21f4a86bd3ddf90353ce4087d722dec8db21951eaef7911b092b7e2f4f5eb0e0fa79bbd2407602d31e771b442abe39a6eeecc8f86cbc4b404397cac5d19a0dfbe5e402a67babfaac5d4d28a23287d3216b297262db0c06d9413331df7d0e83ba66c64efcf51447980145e669257f3e8aaf3f521d553bb7460c16a787b68dd0a567453f3fa5b910d91a5d570c71400de9fefeb0a07aa11253de66fa130bca2b8d785c0001260c671b00bc60c3c5f4f12caf50b038f5cb1aaeebd93174be3295677ada7773cc56fb6f727f3ce7ae2e0276268b495ba9440bb00d7666fc7a2c11e76df455a9326669815a03e5579a5deb560a8d7f4dbe6c683541de07335f2942a0ca1c87028b13114ce8e0ecd0d1bf4b2ea2abaedec7dd5d277393b0aa3203211ae8965048cd7e8012baf6938a85981cfd960f8fbed8ca19eff3bfe087a0ef9215d9c6dc682534e6f4cd7975d94928a5dc01bba7d100372bb7cb5b9113650c07c811964eed5e011f8a1067c6cefe1c20301dee1d7b1c250ff7ab3835e076405b5b556dfd6119a4333c0a54ad884f0bb344bfe4a318287614b5d65d46cf1c0598c21d47aa0c06dae5c9f6871d6e416a12d409139e93369436cc32f8daf01f2f45e28a60806931b143d7b91dc7a8f6b1fece3389e419cbcf7f5a9316f3023b5b16a721965d246633b8205d621625471b6e2be464c849101507e812ed4c84e316e5fa71d7500cd815234424363bea5463124a467b6e4a0b7972573827c95639d7a9583d7917876d4a7daf9df7d461c56e4855dc76cb3b6ec893dffc256830ac42e56318073822179f47487421618c7610b16bdc740ebd4da92bdcc02b43e3611821d8b51a1e8a6844427536cf97d5e11176903309185bbe81c91396e645ce4aba853ed0f03abd3c3563b6f29e216f474a655f50920a08641055a6441565d7d332587a2968bd73cbafd9597ea104bf7c44adf5e35cd7bdee74742e470c3ee29cada8678d91f42dbe14a4336a4d43ff58a80b9c50a92d2d00757d5178ada50d5e9f617a1f59ce35b5533e048c8773440b96b9e52d827ada6ab15b236e978d1867d7a2605352cff802ac443bc27923f120d6cfc11d65d582e2e0041a319b9f3fd2e5cc9fa3f1dbc29239e18ff199330007c780c4b9892b8fc7ef4f3c22ddcf933c4b2bb21b4f58099608d38e213d7798e17c5a5a94acea090ca010e28068c3cf57100bb1a242e14735734dcf8845acdcc0dd9e4329a5d89661b03620591d6db570e1d8ca66ba12b586eabb891aa88df9410acba9c10a5e9e110ff851bbec08f1638bb17a0d4b5d3a237276bca2f74547f761201ad29f1cc91aecf0fdc11d2cdc2d7dacaf2ea09ab9bfef188ed1f4bf99f6f8f78615964551898f22be03a0f0afb6d45c0cb82090b3f02e26db7b2fd57ac88fe5b1341f653639b8c722f72251223b7cab48a4181e96f3ab8d87d0180149142cdfa0427fd74c9766cdb54015db8c142be5f0f18d63aed2d4c23139fd5478b3821e5b7ad69b1f6ff180911cd175ddf21a3163d24655940f45211123f0e6f7bfd0abb4005bb52949682446e6ebf942ed462731358d2720884db435db0b1471bce4e526acbf132bc3d2b7a19c265fff7e2992e2f4f8a8c83e943cbf7c1a8dfdc716fe7cb3bfe1208af9b0077947baed3ef710990756c82dc2ae3bc26ed1eb62e2793db10439dfdbda63a74b16200ef27ceaf9873debb0e6c4ad686821041e94cef7ab42867a0adb4c3ee279e9ef36d7160b3c89671d9637f7ec1770c554b0eacd4d33ebe563c1d4f6cb5dd77a79ff3319121da501f9efa4afbff7837a6dead64d1413cf817e891c8b60a53075f076a1197200c316753820bd5f7a513006bce8e352baeba76f89042810ba96ce348dfc320977a4c9b165ee0e4d7af74a0de9cf34353aed4280d18575645af5a346ee1f27d48e021de066a2c159609aeb470b79d3a21c47beb601ee59fcdba88c2d3fbcea2d316a694ca45bb56d8928d3086e6aecc52f7d57f130e18c687d0d26b9049c2d814c8b9011eff740f81f1bf34bea835895fe6b7c93137a620d9798c839d00f658f066dc4331c53d539884211e708b0e5c6cd26934cef3636c6701a02039e8fbd80d0f04c38898774c4a67184c5403191886a96125ad193a4a92f6332d344bbb0f63e08327ae211b0b8980c44a387241f5bb60680b2e4797a03797822c32896ff6fab8dc5c9f94a8284a776a7f4c8bbbbcd88c2d02532d178f24de6a250c08bcdb503569eb5e871c3b247ad6b312e5966b687e0c518c2d5b35beca7101d21d449a33a14d609d4fe7d1d04c2586145296cb67b261d0cb209214dc93bf2540ee7978366193255d46a9b415506e67b14219c48618aa9e97945e28d234e7871e6e64ff9fa8be6d729c7602ab40ad039b1bd6a5478711be40bb0afa28299c5b9cb2734476713292411382f5c24acbbde183d6b49e6bcc8c56e97952bf1c9c9c15e388f477dd85c46ce8ff5e3e45da9eaa1db12f2d2c98acffe35024ade9eb23d70a1193797350fc573b779df1ff9ec04a2e713ee54c54d4872d9d5513395c957043fe0a76831893da5c83661ac82ebdf089ca57e075305c238b325bdcf62b8f2ae5ce791c667ee347fbe53fdb3192631c9003c59e8d0c75c6782b7dfb9f50278099b788298c75f0086d0b89dcb5b4feaad2772db0018f3848dd3d6aa8da023b1d1a730ca7c948c3974bc938173b34a01c2221b9091adfa1bfafa71ccee869700ddf8f4114ea20ef176f7d06c4d5227b0d8bbe68e728ab9119a1a0e17347e316ba91a363dc098952940f27d892e4791bb3b7df97eb15f5b686e0f914724094b565f9bfb1e307a62e418c79b4b73a19178dca55109eef8d8868550f980af17d0fef9d76c5f8dc0c6c0a8204f30be44882fb157e819aab9fd9f74859a3c0de7c98119cdbee3e7a7d35923d6c3e60d29629fd63495504a6886b8b0300acf8f401ad0f5c6d7c5a8f437e8bbea43d705bef3a8b6faa5cd02b228572c44529079d54286b0ab0c2d5789af82cce8b41a1a4597e9bbdf97936ed1d594c0831e27fe005d4a78f77a01215feddc1cc96ed7b0168824c7c26d86f19ac00e639fb95af0d325e15b4ff8ae5bdfc03265894fe73dbe33bc5fb5b53b0a4b315f41564905b4f52daca9e06ae4b3bc1c96c792bb71871d3437dc5c63433ac2a0091831a1cf7658f4f7505a6ce26d2e6ef061c5152b7ba9e11cc7b9b011e62c553cf29d5e2493008e0e9c122f2b2b823e32ec45019169a214de27beedf76081ed1160368256b90a90293dd0f85f96ba7f3a42de4979a942516867a2091a7de955ed476339593f8ed7d077decf6bff8ce581c1445f5f667b6bb13fbab35672add4a0e19afddcf527df73519633cf39393fa9e63840e587ab6385a3e221c8b89fc8b7e173975f7ca83cdb7c29d3775aa07d06065c721cc45088698ce7bdc047c62c3c5f6600d43e39d73ebdc99f76f3196ab7bc5bab84af867ed2ce03b5607cd0ce9d9cf3d7701f85f9fe94282e0451ab4912016acbea8938f3eae8df441ea422f870f5d216ea6e17eaf6badc96f391182bc9d9a26b81db6ae2f21d293184e41285b1d2c4ca47fbc0943b105eb6955c2e701a0eb1d99f79c3431454bc4347b0378f498f5e8c7b47615a8eaab0126f33c9eca3d94bcb903ee302455bd4ce8fdb63b50812c3b8e9c154cee1fa9044f31e9b3375146259128bf6f03a12ece2541bf73a949e4597db94caf756e6776aeecee5ecc3bdc5d97217ec9e67c84d01616e15ce38747eac8ca45e65175a2cb01039b6e2b6da81cee2de9e3ebf6a03c5dd6bb39046692a430f5adf0ddfff7edf251b5e3c5546815ee803f0208f5c1a19f20c6c0625c1f879f2e783b0736abde8175a27dc7765211ef70b17bba0f3ef56139fc61518ff7d4c160e09fa69a180d05949ec9ffafee099baba201071e6095fac6add9fc8704adc66052a02b2636cc3a5185c62e71a5f5af45793b789dd55339d355ebe9387abf56bc0be352315e9768999be834beb157c7256603bb49995a47388c0ea0a21b84d49b553f317e9a47079b31e08c80ea1b68e76511f45cceabe98a0a238248373c0e9e4c6886d9bea51a0215398cd44cb65d5563c74d54aa727b51b2af858bebf88435a76a6f6c48642def5a5dd1b90caeb81394ae3da499d2560022db96a90aa7c611e0440e7eeb9662ca84a04fae160af3abdb30412b749781ea91144c673f3c3a5c6d7a9ee416196a6aab7262926b5d534833bf58ee1927bbf8131b64237a747da2f69613327276116bbf259f079ff770530987c8157e7513b1153249bb4a3b22abdaa9b670f365ac665256dc0db42c07e926adf59c68b43b0c91da04e8e9187a78ee7f2be508e0bd01fc08b5f912a9dfeb66c733b5fb6eb53e7273de3cfce1f4071fa2167d8ba20e171b24a794012c418eeb39b4f717eaa22de24bae23aab9fc24e7a362ce7df3859a6a2097fdaa642d485a353aa2d7bf557a4ea0e4437d96d3ff74f1cd672a0bffdfc416310fd52555a9a5fc8c6a4a4a79d499f2ecbdb822c8e8e549773279ed8e71c18aeb7efab2343facd53495dc6cdfc7faaaf4e6feb9d15a0266d73f693fa0e7003667fb6f374745e7dc3a7f52f20badb5a95e602c77914018712152ea5d4a3871e2ebf1be44ee8081a584ec182034fd58c4e82da962e3d26833de87f7ceaf53aa30d39007addd2cd692722466ffe61ee3a396f10beb9205f6bb38588c3b8744afd5555609ff3b432a243e5bf6494d32b17058291947f431b1a76d1590fbbdc712b25eb7f74e7358d4290c7a44a2e0a0a9eaee22fc0142f624469dece049be34a0826fef8c8dcf29206c5ede8c49f0d99ea1a693f3314e453f38f395dd90e5cec9b1aa9fbbd498562fffc95cb25628ac863e2da70501e86e0e96f2c5bfd584347012ea6e61130286b338a67246e157eacf367298e78876f7e06cf4f7fa9728e958e2c23396ef00e0bc98404901d73cf7705ff08d00bb24b8adff27073127a8ab3c841996fcd72410174cba1900bb7bc1ca1379d3ce62ca5122d3563fa6be66da0f28ee96966147d16e4241bab1a200f9cef2d47706e76b4363e20b718658816d5cf6e4ff73f22542c95048c19e34427b6a099c87fc445d36ec9b66e25037c59422e77cce164898ca29ce6ca1c60a7f580a0560cd3f695ee77c544","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
