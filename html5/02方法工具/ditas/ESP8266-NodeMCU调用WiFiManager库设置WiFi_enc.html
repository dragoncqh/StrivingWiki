<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c3d2f578910a7153981649498aae8723d3be408b45963dc0b5245d0a2d5654d36c0147f22907319938198116126b9d547f94acc6a4f4fcf0465772beb53fa60aedfd2c6383638ef7d7e0a155521172a4fbdb617b95f832ebf742bcbb523643bc7d78328eea130d396b7e6ad8671c8d44fe010e61a3b1f33abc202874458d19a30fb1495b251e2e35147fa3f443bacbc7a7111339ab15fa70700c002438f2c9d6a75f59e06b2c94781bebdd4039cdcb4768767fc59c2863714f2950114eff4dfe43a87b987241c209317e58ac222836359fc6af55fd9fb696027a3ce166c523c57e3a8ecdf8f749c01d467fa0df42b18494a5d7030ff1a4d066a30f63f0fc37b4a547feda04563c43ebbf51e258ee1706d3c3ecf3043e9c7f45535d1fe09c039309dec1a51c772075bca3e7b4d9082ad644a2ff58f5429c2c2574c0dcafe83a49148a35e200b560c8f203f561897997bd37233ce9b2a92d6e399f8b17888857aedf3e15a8d65ed3bf43224ebd9678a4565db20223825f8862897c79b9b0ca773eb2b985c539b66fb41b063d8cd2b4b3a1e9c3df11b23d3c082d95242ccca1b619ad35da350751fd523907b3549b03e2b3b5a2e8ec8d24f5d402ae7e96bbf036a199d7dda5c93004b695ddd088f45e7d9e7a1847cdd5cf0281acc2210265e18d75f1cbe4b2cc03a7026add2cb1c4d0d21ab5f43d0d3b7bf214bb47d7ecaf930caebf13b0978a2bef40dd8fb9c5cc76a6b846baf282260d485c5698975afaed5cd7209d80f33a41b3b247304806962fc85d4012b24fd7e02efc6e39b8ce37fb4617767269d0c736f6fc32e92d332afff46b4d87179be78b7501c810df20ebaa19d9afb1b4c5f3e59152d04a0af7e863c52fd6a0724c43cc4a9709a15e36377531bc2aba758769b97d222c225d05eea688678b34379b0689e4c8e16919d36a5cb9d995afa9936e8c71df256f50b09116e92f175927e18f1298b96c68714ef759534b0364c3f2fa0fc61f52efade6a6d9d78e8fd912e47d70c8be8c524610d8f8f3870779cc589ac7df119bc92848c260f731201f59d979d6977edc4b6dd4a5f9b387eb8e9b6cd130ed7710d5a345069079c67e6917e6a97735877d1e70b502b767380cdbb9da930501f92859855b872bef9871678adfcafd20ccc6bcd0d0576e20c68b8d8c026efaf01430a567623f961262b5bb9ae38f833cf33926d4d6ee058e7f0af08fc37ff146c5291d8e40a400dd5c18c60cedf65c8b590395328cbfa5471572cecacadc8e67e493059313a97a86cb584bca35f176e6a653462ddac76c758040b513ca03954fdbc7528840917b8a39e0f22e5a3a81b0042e7b083e989db23c6a1b7f4c78ba0961af87e8c2ca38de918d315ea390bd5bc7d533349ca149011ecc307535cd33fc865f907d521630a943068e224c6fc2b7226ee15f9443112b466f8682b5eaf2da69291ba99320588fd8b2b2a7cdc0a19af4a33678242790961f283bfcfa30874a437dab26fd0f42eb53277272f5470687fa5a3de9938dd0dd76754468be5843cd408c51ce43d1084d0877546015d02653d06a69de860bdaa23e1b1d29a82aabac1c2bbc55e996dbd06cfcd9ecbb15e59335d8ab123d18092d04c73830edbacdcc024276afea64774315843807daf1ce09c952dcbeff170e572b3c578ab296235a92c20ee7ce3e7870245e3f55ce5fd8e96d51d43e78c2345a94014d97e39c0cae55100ada3828d3dec7303c00256a5271879defb632a8a77afeecc6f2d6501cd0b8f3a96221519735557e6108fd3f4abc8e9b17d4acdfcd418117c5f6a9ecaa251e7eb110fdb2fed6fce6ea715fc1a6f793a08d762d5f0a1ffc201b04f26d1a1464952ef8f252c2e4182919a446614774a23c692cd4133b9fe0837a27ef3ddd598a73dbf17695bdf7937fdfe25a7379fe8f5561f12da08681c9c22769c9a1bdc8d18857b7e3b0e2a73ae98842218d21803169fec3d2c68c9b5bd17a8aa2747b3575d549de21410e82c57ed4d8df13572026df2b4eb862323a715f68698fa51f5a28e0a891d17608714c40f4cfd34624852be3a5197bf891225f1e890f253c8c9764027d4444d04e8568535f5138c3a1aefbcd3e74109c795c3ef7b4ec2ee6a90623d17211172a718ae9cc2ed8e4cc385987d38fdf214b60de96584abdccbdeb24a11a907fe4ec3cf9d3c6fb38543e8510465b56cf0371ac8d4636ced013b291e7e54ad06f7e8a86006e6495fbdfa8be733f855ab5dbb715fa260cd6fbd1a46292f73ae0e236921d8b3e89955f506e1907a4b6bdd2eb595f6aeae14ee426d6fe8fab4c00324ee068772be833de723c022c8bdfa728c606eb5e011064e0e82c79d9bcb4ca60ac0568935445fce35153d8f96df9a20f6625b2611742b2241aaef439234f95dd0a369c69eabba3d197bc44617c9578a7fbaa7d52fbc352a37e70ede19619e2a78fefe95d0b12078c9ec9ffb7a1a5e1ec65954100af8d24653ed1efed8acc235da2bfaeede38bcda7e40bd97c45d05eeed4b19a486fcc94644ff823fb9bbc04cabbb8676333fcb35e50f169329d3fc81580864a39737ad465c71157fe7e0787f68dec403dd241692eed924892c304190c558a9bb93abe2acbab364cb0b43721dbbf05ed186ac00eb429407e1da6cb23580c1f5bbead98351601db8c8a8aec89918c76dbb470ca7c2f81f4dab0416157020f82718e265daeb793c45796157f9c6782c4f76dfc8e44fda54c6161e2ee485e14a3dcff4c11486ab358a95a2c3186247217d7b2f9caaaa1b4ac48f75cedb522010f092d76b4255dbafaa9e058b41ba60832b996fff34d1088b3757d603fb0cb61f37a516088d18723768100f53b133a5b8a6d9a7a58a4e6688d6cd571b810ee4efff17289948a567456dd1412184efd75d04e77d70bb7ca54a3b6ad59ad75f78d59f3cef5eb8a39627b18d6817612b6e85fd3c3e17d4b64ff649f3d84134dca198f686849cd721335ebc531d84cb16eb9d404527c170469c49dd573251a9f84fb0dc2495960d985105a6537792750b8e75dcff34af7b0f3304d2167da662046f6bc91aca0ff23979e4ba811727f91e96c341af89b4641db7012f34fcff249da35c747d9e96c5d8032dd49c3aa55ffc7826868e0a0da032484d84a6ff3f466a44c142256fbd06b938f7ea7f612682f5a704d46da0101a7e0cc045b1953b661405704a592eb11632a220414584173d17cc8ea6060af95cc6e31fe0f69633ea1623f3e6574bf3e26f8741fbaac53175d35a4f464bd54de50db72088a1f3aa28753b2b9bf44a241be24c6272ebb85a1eb2a63c50fe0d1001e762c9475d8ae7fee0deb9c55a7aacbb89aba8a4a5aa43320c9a8702b753f87a66d4bdb2d49fd89d8a96bd0b4dde2ed1d713beab7cbe47485bdc27d6fbfd93aa950a3348bdd35e0163b2161648d74b4e35d1304e4f8ef998ab1fbf36b7632498f519f0333811950a6896a23422c9cffe383a9cc05e67faa0a30fca3f086fcaab7a076b72eb1c77871abf883e0a986c69f79bb74416212f2bc597a1a945b2f3548a361cb9604475c956ed00fab9dca8f9abc6dedda6db4392416c49cef3bebacc3fd7fba793df58e7232e3bbe5930dac59a33731c9ffcf2edd8994e691be2740b4ef3697a7f2a93b6dcef49d9b8e0f39a6ab71ec5c0b90fe151133be33d88e443e23c2214306a489a44174efe03cdd0aaf9995f6a997e3305354dff47fbb942f5513f59ce1c48f6c65ea105807f9bf3ce1059ab6231b98cdeea336cf64a610f7bd3326edd5d37bf03618432907273f495531f7f123172ab8aa0c4e1d4031a0df51fb5cddaa80956fc4f39fcc3170f37a555c6f2c835dbfda932da5c4dd864d5d3d974c13af7f503c08194c3736da061318b7f8506fd17248c5887bca6df947af22cdbb624e4a0951efad4dc9c0051c8c5d1ecc01afaf0cb21576dc9476756cc3600b9a38a2491741a68baf986cee7c21595117655ef47917022e668667f5a0b7ac6ffe35cf646a66ac643afc8fee4f15267d60a7972ff54d81d7e8804bd72128187c5f625ddc6f92716674e9223e2e953326fcdeaceb7fabba96f5bffcde8e98092a15738051e55941c1cd1ff43de0f17376182dd9219443e46b57b065896c14dab2f9b1c932aaaa0176c7fcd0fa0de639f3e7284e41aae46e75c9b7b0cc8f3ce23dea267927748b62bcab24e72e35fda27a65eebc8c6dd6f324b4fbac448e3e113acad87b57d1d2b8ff909ee5f793da46da93e508e155f63b18a3fc42e8f11f6e22fe7f3f104c185d0bfb651fff3129875760c06429592e85ae2f6828043c41fee6663770427d6bfc659a00795b48cdfa009b693e0a532b622276c1e19ae6efef5f0e1b8949122b38f14dee161b753a11a227574fb994b2863790d6191297f8a6076b6efd076c69216ffefc989cbd2fead76d8b7b10ae8eaa5819df234c0010dfa6be990f438830714c30999f531279f6c8acb6b6e6e84a7be56837b11a7704e10bad6e416b53e49ed2fba109d79617c068847103860e8cd3963d1bd527f204d335285631d3c06a96b58e1dd6aa7d854ab7d5a190997d9b4e1ec62d83cf49b74fc8e69ef48868c2f92816273771c93a381d12f425e1d8e6bce21edce4d723cc0c3cb273b40eac92d6775716783023f43a16f793449d4f159a73004de62f96fd1996954397e0d83cdf48b9fbf48985923c7f129dae28394fa519c8652aa1fa711387d6de8a67aab0ed7109e9fec28ec6e02ffb6eb87495301a6d4e505b6353858253aee6c845b068fa4ca3eb310870a50436e8bd71dcb9b6b1ddfc9a6f20b35d5de698792188996d2e0d3d2b51eef68fe21ea7eb3625067ff52bcfb45f581b70a099f89f8affd4b6a8a2b2fb2058f0aed67ea3479ff13e83a75b2206820e204511169305fb7be95233045c6c58b9f2a26867b4e8446c551fbfbebab9c2adf0a913e7726db6a2c0bb871e2ad837b6c83fef92c06cd31c57e9718fe09d1ebedea765cb6fbc33c9137e2555d15add2f485a15e1551a6ff6252a485d6c42449f8cfcf0ebe5b5c480b6f1bc9ff65ac628834f040d6dd9bcb943dd87808af77f18d426098e80ef86925e7d38a198a2987ee9ef79971c34c3b63ccde5170b981f917c8d89e56008549cead13bf88af661d68944db4cfbf0608fcc97282d7a747de316d430ee3757cc352c586c2e5be49f6ee3afdc2f91c3f920cecb854bd87f482b2236e82ff90a6975c3452bdc3b15658419e81f2aeca6e80d83fd0c4847a75446cfb1355b24561d4e8367b58c9d37a91a3be7b44f49d515cdbb97d0142243caf0617e2d11158e5e0b9ad8f3b898ad9c2cd0b3561bd3aa92384eda6ff0513ce68f718575503226c06b7496204211747229643cc05ae2df69e78415a6d46a52135a4be797983fe36216c7a63d1b1a7a72bd885984351f32c60ef660786ed26349dc625c6b53f8be564b2faf6310fd5eb59afd6f07d0669a196fd1ddb42ea29a632250466483ede49e1e0e53ccb3fa5b22f141a6915c5e36b6f14ccbe285ea891fd2d725833adaa83f8e4cd31e40df831f79f63ab512f34b0db75b09812b598933f81ff4f54a6603a9da7c79c7169559ee939b6cd4b51015e5b517993ffdcee93ea65e1f0cee600379e329306e62321bbb594b8630fd5943d03753d7bdb125c9dd7c0799436f5ab62fc2bd828d152dace3cd7d0d16e4b7a2f7a5996cee65033ab48accff838a8c13b965fc4229aad1cfc3eecfc0fc866cdfd2ae440842f2b71a5c29ab3d8d3366456a585c0318a16d6c6f4fed9be58ed7dabacdb1bcc8a5c02b616ce6805a28bec2adbcd391906f3a9fbca02e5eed835e0b1d5df578032877d4a0996c4e2e00622b118706919fad27c655c56e5224dc98ffae4c24192fe4f3ccffba4abd41b23539ebd300d94c42f08c37469626abcbd47eced59a83f1e0378a35ca6765b4709b2c5b6a72e5f484a9e343e8bea9b34bfecb4fc3cd33ac039d8d7c3b5818260c258e47ffbc648bdd14d2eda4babdb9626344c6ffa230b5ab53bd4b21faccec2919b71c6d909ba69316889aee5f724a5333779f438c3cd82951a7e603168299ef04515722bbad73764d13c43b7c15858528b56d51082e55b90c6dec66666a201085659c705fbcfce113102e44645fc068968b039583c65caecabe1d34cb6b7f3b96bd7744865622d3e8f88e76972d6c25fae09b414a7222abc832825766d911c669b77024b720bced294e99bcfef467db8207babf5a3b20a21b013f42b5ffe3d5c96e67652b30d8841aac51f2d99cde6d5721c9fa6685af772ff5bba8d425c8f7155e320c5eb54ad14eb31475a4910c1b9705245beba3c4960e5a1d769dc81624fc7c0c78cc6bba6b2b342e99f69251eaaa2cf1c27cf1a015692d1c16d08e85703fd9643c3a4306efc074920b8b2f111ba3d6d1ecfca72aa8bc4949ea1674e3eb0a23ef9334c594466ced04812fe4b8c4cfd78826f7b57ac176c801b6f9edaceb6a6d128b8000ff7e35ee1ed8b9a2d948e523ed269d87e6d0293acf7f95b33fa2c6d489c6b97ea0d80bf7dcc02b3143ccb1df4af908c7fb9c06f28b859fc9fa481e1fdbb9a97375e969d208798a33c31463e892ffbc5b6ae5e1dfc7c91cf84b7fe50af7cd4ed864225715927d004eee5f4fc73ba04e0dde40575b3c084fb6846ba544e5fdef3039df5118528bfa87052d74fad860d1628ae93e02af3ce0905fc08e03e8065be58c3fd157f169c4c3f7669d52a8de430997e5456553087c1c0d5fb7f60b405cd77ff802811eae81c7fc286ea2454a4ee454a99a78697ed8e0be6c4aa01dada5fafa039f0509168d52d5bfcfe3a744aec211139b217c2fee93b72a266b624dfd343fe6ded7f73ad914c323b769b617874126fdcd6241d2c78115eea2790646bab05828c4e1cbddffb2139d9ca4a93f817874c146ac59d98f8efd92fcb0221bced505a05aae103e4c742581223b6373a604295b4a80dc85f373871c86339def4ad9a9f4b6214d2e2ec2cb4b581608bb34c453631acb10eb5951c5dd13451af91eb26e07a6118eac81132a67b904cb127bbbc08f488f28f0e0126e66d8a229106f1bb731404477edc865d07838573760ae46eba7ad7d6b6b6ff0b80db36aaf1bc5927415f3c7d5d23e4c75fca35cc3e81f13482ac5e671e9d1569c5e1b14f19139ef09a3869a6773ab58847327f82afcae8cf7b6840f0304206e0e5f4e390a633872f64e5d70ae6cf5393fe35301f96f90c8f6dfffab371accff2d7e7274dc7d4e69aa3f4d1875912cdfe70122c5869c19b28aa07673cdcc2924e5af9c5bb75d12262ae21b5ecddb947c0add925bb1320b331ad47bcc42cc3303040c7791ff14cb55d90cdec79822a515a2cba2e8435c39103ff0dc66e386f009b52923b4327b51e281ec1dbdb8a834ea745e0b80ebfcd01ad3d03239df2c03de6c11030b2f807e5404a7684f24f34014146e6fc020ce41bb5c0acc4687ffe9eb7431269bc93bf0c5d227eaee224225c72462239df4972be948d328ad0f66ca1f2b99b9e83fe059760838f5eb91f23c778cc5ddfffd7e454f3dfcf370e56ab9cdea1ccef56c0d7bcaf0676efe72ffa455217747de0877fd95dc22f39e13298801b14007f9ae08213482a74212da779168a7b62ad4fe6920bd6bbcae4652b30e9034264377da03ec8eb04f4707d842246bdf2c532ab51fe980d6a3f2012e215e5d24698d4defa403e381c9e0e6a40d8c35fe11b5a5d355c7e5a2f4160c7f33b20a1f0e1259850bcb4e67f42ae91344b139f959262eb8bcaca36f22d8b2665ab6eed8c0af009b77db46bd9d083b13bafd58482d1d305d7f9913d9dec993d81dcdd40597133429a3f8459559d213f170b27596c3536c9b2473d32d37bc68318b832c3721696d8e96483fa9a22f0108208fd2ec7f87778a2d4827f0f6ee41a0e96c2f2731d52c0ce7cc2028b99907abef5ee33c3ff57992f75cc97c2eba653388548602faa49168358d7fd65bfd2060571b9b61498d4588b31e78b7285f4d595b8782ac101dd7c0f8f71714fbde7e6e83a351a11c739a261bcd162938f58d0ba600c15c1ce6a9f5a53aa36f8243e9769786e007ac86c6dfe2146c653bcabb82dba8f8532d03f5808374b53681ab71fe0567357132d43c2827b0ac6be9fed503761d4ee4cbeff99481b1340794737d89db9f63094331a8cdcf4e615b0550ac1c2a931c53a3490784a48317b3cf72c229614a847f3d14f230474b8d99917f096757adf6099bca702036878507df5e9032f4ca2b484dbbd85ee34c9407077c39b91048525e99f8c3f87654549ff434333cb216c821921bbdf798ab47426ebca57a3730936f00b0f9b5c6e2fae085be634253215ae96f2ee230f8bb3ebe52fed523425f8df41a39182f065b10fd99fc59f283c06250e8ac8676b6a1114fccefc3bebd29870405cb997e63947c7ae67fdea4ef9b96ff1efca11e1b7d1d27a18a137b958f65aef581b8adcd8029a617d75ecbf20bb2f1a0bb662812363c40ec98cdb29ae68dc51d5b151b9c267cde5f716198da26c97d4eaae3870d152e39c654ac13e8f384a058131b09d49e7df2681ec1247f1956694db165e99ea94d5917a790264ddb66858a6acf23b30f96503ff1f2969625194d5cff09b4ee17c4761c64a9f50a7bffb8a0ff13e84b370902bb7d6a21a30b156c835ffcd03af18184b9b8d89eeb27eeaccead9302dd074b2ea7671a7cdaf6dd97cd3d749513ac93f6cde1beb89a64c46dccaec0c79f90f98a03b2f771e0220ba5709e3e4e176fb710c8283c9581062185773009aa9f0a3f030f91b4dea9d06122bb93284c244f14c20514d25bebbff53b0189b1136eeaddc9a222b6d50461f98cfd65857cbd17ca70fa94b3cfbf3e027f845b9d230d297bfd9aadb9de04755165f135715efc701bbfa09a70b30f6590114770d5a25a505d9244cc932ab26c83e37a1da18b267f0afdf96f944f49222807ebfedc863ab3b9cb85d4b18ed9eaaae4940fadc98a78bb359774f44472507abbdcf207dce9c0d66377f145c4bb434d7313782c567afe3144aaa37c790cd749c11ffcebe5964ea7d32a2e829509e10a001c3e805517ce93d1a800c6e1b76b7c61cef0731a6d3d9c997dbdd3d381f72472e6225ec533641190beea8a1beb21e79ee49418542d017cf80d3067ccd6b218511e48f69f6c969d9060a11855cec75c1c6c7336fc5b6c620b6dffdbbc5dd66f257d8c6aa36e6dc7d8e6743316cd97ab9471ef6d432d5b29e37ef352dd0f90ccdcbb416404ecba8835020e889dc3f1c74467b7ac3a1953945bfbd7ed225d8aa9bbf7f954e6aec771dc5fb8a3a59b412cacb3040bfa007c13756edc04d1394fd168f6e1a55db1f40da0759cfd89711c2f3d284a56375a6d282bfe0589be7360dcd311b612a59a6e4cfaf964ad2c9ba671ef79fef1fdad2a6c2bf77edc1dcd692abb7cceb6d9c0708862a97b3a85125a47df927ddcd551f1a405d98182d8c9b2a5ed3e54023883f6723bc547feafc269d3148a730a06141901707d01dc4aec804f00806ac5afb063ed4f5d463f224ef16799c60d1575fb3b9812f2097a2d7e0bf85da00773e77d278ebfb1ed1afdfe5babb032bdd4ac4f465a5a96ef98ecfa3896a98abb19d248d1749be0da3ba938f489566b78559164365fb42bfae67632f24196cdeea4dc67c065559adda6d94876f89ec0ab83ed6537fafbd5c569068a435ec9d81ee90a31f487ba1b6329afd89c806868839952954cec8938ecd074cf9c41e9971f7451c82f2451eb3254ed3a6b304475a3de0fdde7cce268840551c1388617359da5579fce708375cd4fcd5d09c4c7c5b2e9737dcb3bfa6e0970aa5c5cd2faeaaa35f4c2ff43ff30599620e4058cccb2d18416630973e4f954fcf4b08dd641f6e81b38af27b678335d7b235fb3c7812c70efb41436e83b081c7716d938b93d6bb275daa561f8e9c0a892e4533082c32efaa0cfd1d2afdc97c0b887905c9e487a28cfc711ec3c12de56c53b85d1ef0df69a77fa66548cf79602ede5cbb457285e46867cdec6df48a32b3a13879798e989f667b04c4595acedf60eb9d70710812864b1c0bca0639412950f9e7560d506588c50dc1738740564f789e78114b820af915d087253d3d7dbd3866364a9214eeb68120bd63cf15363860acb60577e50276909716a0810bada2520f9ff0afef30bff601bb85263dcee63f5213243246744e94137d581160a596c59b765c3f3b0a7434b31247ef11562ff1cf517ebdad127a44330f7aee39e766b8096aa6816186173f3f0fd49e481b238108f42b01c5c6343a0d0a0521b55412758fd58cb9f43c9a462e7494edb6bf087232ce95720c2dfbb74bceee5bceb30eb08f7b6bc01364a5b4360e454258ea3e28d0eba8c199ff44a1510f15a481e612e6a33737e0ec0e610d611763f241e0e260ed244812becd87e99667738980944b3de69787c4b884f644fab29880bd05147dd452b9a065a58f694b1caaa89a1725c40757993c016a7bea931e1e5d623fd609098b46077b4041a706da32607cbd15eed5c8b229a0d66aea29cb8c9e801c714c0148f88daab154bd0a0bc935f7dda5041f564233a41e53559d0a4c02b0567c8ea0aee6459bcff3a75abcf10741eab6865320288455fc79a1c36ce06ce5dd4bd5ecf7cf928d5b4905270ee267095f4581c56de99d9950960635d68662346b7c5c3222bb92ba3f863eeff69e8604a903b89adb3c5c5e6a108e329e3d3011d99679d173f808511b3ac23026accb6ec81902e5a5b47ce768a21a29540bc92b55e4f1997ac7bf940bdd5fe7657df3b375750a20d7f8958603e43caff9f9508c02018d0aeb3dafb6a00859383f8951be0907051d2775339a3f0d25e6c19e3c7a6ba2ff983df933fb8aff468bee7ba4e418ee7cab40017249d2951316aa6f329a9840831d4d8d1ea0de62a55579915f8188cc394028cade70465ed6d4956667e38b94efbb870c76d6a27d56f6b80468ca777e63792f133c3d28542b01420b5d3b20dffae0f77eecd4601513ea35cedc7acb852bd26f29f79efa6066fc74e7729494d54a2c47ba8a933a0ab8edff56afb017e17615af57683eb21014561aff31beafbf2747f1fb387df872b61b3f5611e2b2bbd9c3c62be6822b20ec6f83977c5872d055a60558189d72326171a011ace2aecc5e1cfb3f470375f906067dacbcc830a1c6d66b452ec1e7bff74a42cff3ff566dcee6cf016d9e647f251bdd6c09d799eb4779922c43eb727b1bc4a08b5f5d3fa4917dcf4a716cd6a9875c6e774c8b1c466f2a52d09cd3d7adb47136edb1db8d2652682fac1debf176dd53db4fbd6d1aea4d5b23aabe3dcde042ca689938e68091fed6a8869fb5a09469915b6458f45c8d2f1d65946986f96a2c675c0446feab18284037071d1940b45a16915065d8cfa97ecfd6bca8a5895982fcb7c8330e57fd676aa64d206f081b217d75921cc23e9d1f4a66578af154acea1299ab2122f255a8bf638fbed01c0300c61ca3cb9a092eddf5b968a1edb89b13dafa5476eb05a7a9b4f65dc909dfb3f3744e3843a4e6e9a3dad13b62fa7e126f5b71a010948edf641789499e046c1daaf9fdb5e541e9ab268acc9fcba40d7cac17d9173cfba1f8d375a24077a550e4554b7ae90d995ab8f213397ba86410cc68216dd41110d8a8f29626894a7ca84ae596e5d973cdac1287e26923f79e06a74c02c0ab1cd6a1dc12628629b40f3dab033a23438c26c7f95ee7d43825171b7f4addbaa16cfeaf4679a67c994a35f996c059baf02fae4f6ab9e02988225a65c0fcab40d6bfb9fb2a7abffd49abe71541303bf1eba5e42c4e0dabcb36d172a4e97557ee5c1b1a4b1dcf856569dd6dba7d899e3f5d81eb820f733b8763545ca5f81cb0384ce4fff0bf98508a300238afde66ff075689fba0559adafe11fec28d92b4d7b76ce3e5aafb6968eba3fc1629f02e0675e7346a388ea3b625fb192dc8dc2a4bd3abcaa7016ecdac6d240d84aa8f6b20bf887f42ab06ddc13ef947fc0f7ac3930ae872e300a481322fcab7efb87a3c2ca4ad5fa25ee2457fa895fb6454bbaffb40bd9fdbbefc607b0595c8e22a765894c0f95c6a1859dfe01b0284cb3bff64eefc1b22ec7de7042a47befeff684dd3050aae8614e1113e62f322a1592b9d3475206cd91d08aa4bba82a87e9de7f30fcf6ba2058303f53c897efe7b03fcc45161da061e62042c95a8c3b376ad2cfbf92655c189cf9aed7d42a8d95b23b8410cd49f6094b6943c95c1114c4436e1681c64f0a4903d098fa24a88128d5ef593775888fa224650bf9d762de6481aaa387afae9d9caf9898caaa75ebbe30e162860466d431d19b22c7dd63a7ac08c70d4056932d588d004adcb8a2a8a1bde798e4843397aeb6ff87b6ae3af638d42220cf5f92dd56725a37483db08660976570212b4606b07336b20d350c649b81c71bac93dc7e56701b9bd8d3e7f7b0c4215aa7f4e63063dbe5690d5a6753c0b17ceb58f4de0a55b16289fc94c1c465db221e439d27ecf98f7301d2fcb171893f70225edd8a89e83d62519e77bee12176f0aca10368c1eca1e69c137129e4c8d1dcc227d639d46ab86789c1a8aa52269686012a2d1e38d7a6dadee3630b381526a433492e97abbbd7c89f509a45f2192e8a58b68f452c11241157ee4a7a39b4f81ae536166b2d3ae16c3a48526b4fd3204efedff4f0faf4c419e64c9a0d6baeecb0fad4ffc095529178a06ba27053414f59c822aa1ccc4f831d01e982e1dd4a432b5e372430af3dc36001db45e96c2bce8a9904e53e9c9a643f2defaedacbd4881e052e5c64d4b3d1e77771b505e9fc883ec81c7f16c441d90c0cb8e57a2d2cf756c3ba9dc81946309d1e86eea790a53f13df10636876afe5d1415dcdc8612911811c90b8176b49e5c9bd886b6da92a76ba7aca6c2323f44d229cf17f410211f51546d706010ec44a6d563c8eb15005460f8efe621a94a8320b83aa18017be0f0ceafac7d4d0c927480856ba5a6eec5cc3536a9453d46eace8eaf893d55389688134b6abf719cf0155a7157a9f64d2f620e50b49903db6dd69826ee908c6cc091de2bd24b0e587e07197d3d4349fed97a41d73df224acc14e9be353fc7a9871df4d4aa7b49a2c1cb6321782e40b26d7104d1b33d0688196ae7a7807f0c9ce4d24d1958d3aa0b160a47434d9c475ca8ee6c3476707264a70063c8689203c366a54c8effe67041191cd739b790a05d7f316f11b0ac9178730a2405452c64bf6b28452ab5e073ed0bfaaede4d8566bb2dfe2fbcf60aaeee83977b09e85fc759b3a6481359f931923fd1ab7272020535584613a49c63ac39902921aa867075cf960c9ad24bcfb9ce5dda4c9a7a47701a1ff599b7c3771110722eecdd2d72d6afa74c2214b6fff23337d70ea17315cf85cf3f92119fbada9e404410c242212f2b12e2c900131da1437c1814b89b8d2901c5c536042d00d9ef916fee33bdc062a738cfebad099f0f67111d8a14679f796e9cc004b6630d38300a94d8a0a13c3350814fe1f4fc904cffbb40df96d7a37abb6a920bbfe5f158a052243c20d27b409dbcfce0910897fa14ddae6d14b18ec32e08f93ebe21b669ba989dd8f602aeb80101271d627ab66d540577cf355f0f62340ec60dd9912a8a3412e0540d791714b0cc19a683bbcc031d495b5d2dcf3700d7adf44aba5bbf257f1fd7cae89581f2ae6062c1b8a82cff928c10d4b87c2028be72d5546926424f3c9a7b34b95ba8c53b292f327f89eec7c309c7ca9705715073e5ad0b7249fde40c740a699d599c324f34315e07a25d27c3ec3bc7a9b0ee29f3cfcaa37d8869ffbdda7a0aa7588c2596dbb1e5f638be00c390b0962bd679aea3c0c4a222d58634b61fb43ba9066f2191eaf4317b9c093b538dc580c5cd04f57d33bf9f2ecc359bad54cec6018f4b24a920d39f63c3e19efc5fbcef33985fe9c5caefe2d711eedda218d050bb864a73cc0b3cf7e8f221661dc2287718e0fcee14c1742192cd466f0e7a73d3356287e789a49b849ecdf752a281ac2ee9cdcba65648fd28798fbea0adbbdef40fe5eedc926223d8122abff136114322a0b51e29e957d90f5d25539c574449e3a8e423549540ea7ab9ea5c0a20004a0d8992a22f6f7fd952cbe005400c07e0b2ba4e51ec73f5482fd4a3823f90eb82092f9f4d2bca1993d4f987f2dd8c79b47525a50dc398098ed15d8185d992fc8fd878ce76c3b971109383cd46f7d71ab9eaec01de3d0179991d2898c30c43bc392b6eab39b925b1ea25835057921bdddceefaa85381f99640a126afc177b79c5d18264dde7b58a0ebdd8db542eff739324ca0e5b4b746dd6c14fbf7aa6f24d433f5b886ef869e8243bdbad124f90ffc1aae45c21c19ab8b335262cc802179e8bea822db08d8fc768d6ff4c6c23cc271500e0d676ac7592a2c4dd03f42300a56fbf617de2e3d026e811171ad55f7068563a51316d183da0ba4483e46bb7008241895afa79f2770d46c812c2161a674d6b35630d3855c20e195269eadd2c09f92e0aa6e3c0c4d99c662551242c8f183e472503ee15f24ee2a961e6038644e0477ff0d15cdda424e259ff88b775cde30c94ca8239eccc5ff65889d435805b2c5fd05505c43cb1016d9f15d689c078fb49e884b0b5c74c19a820db7830e884fdc03516de00d18bd659afc4b380421a2896eb0c7d488960d57f818dea36ebcb15d5b4f93436300de59cf582fca3fd1b19ffe520bb445e16f5ce9f55fbef4b1005d24be123c04b43af8d2d34567906cd386a23701c08e8dbe753cb2086180b10691330406ab682f8c4f7a5b3ea80750073dda31817be073e9ea87141b3b1b2a3de3d3a1e2ce87311dc30eeadfb1734f1184dd6ecef5bf049688102911c7666968a713bb9dbe677cc04cab42835d5a12aa780ccedb6bedd63b2d58059c75ddd3b2f5d06fcaa9db62227fa536b4c49b98f5c2dc54e9b296efb422cfdfb888f1d18d0c674e6cc904665359766569482f1052cd88e5453a7a6783987ff0b4b9cb1f7acccc45e21ac8d12f227776477c8efe8928024a0858b0863bba83f86f433e9788e994fac947d51346ebaf3269cbfda08b24cab31fb6acce130eb75721f16b7a8b3792ba250516a9887e761aee2a3cb0d12640075efa11ce3c541a5da5dbb8084757b8b7e114b063c827fa998cb2b1e343848bdccfaa92884715b133544b974017d396786702c1c1ab9da9bbf01576afc0733c00081b579faa4c45459c0b5663315e224e26d7f0c3b3ce187ae404211e1afa05f22842161f98f7872ff506dba63026203c1c20b10a11a0ec4446ca4433e128d6998ee11de99e3811dde0ce2996d1c17344427a0ac5f4b8189cd3483d026b24eda200be36548cfa6659d6c23ba48ece0b7fdc9d1aac48415aad0ec422892100f710c4f68294029f835d778ccd86ccd9c6f39ea6d634024cf797babe92fe3b38cf1a28284d78894d1cdbb949ff920f634e03f5711f3dd37c7f5040128ab3a611d10cc5f82860e8387d23408f6520b379d89f344e7e69247f53a324a2d180abc6d0c5202c0ca2bdfb2845c70f26382e4339e76bca2459a6ec673fd2fc4653450061ff99c5fabcf8cb13f1854f4dc0e50f48c4f87133a3f5d96bc80d236244b49ec5e0cf0a9c55a2e17ebb37091d312bdca8e549cd3d1ef2fc9339aedda6070e7a99199f15d15b1fb7247ae06f87947e81dae9206ad137cf01f2dfee4293543bd4e7b710027e72e37f751025ec0f623bd3c092972236d83202746de862f86fd4b2144e1af78a3cab62afff87e941ff5681f613d2e35afb183ec1c74d137992310d86b7e5ecb67d584242dd856d5d2ef440dbfac87a0c41e9742d8a30ae155580e46c7eb68e05071dae2f9de7979e09caa86067fe3feda0f226f3069dfb71fe4f10ead212ea84d2762d41f5a8d872bff5b339557d8e969da96e35850c7e89d54c5897a65940b957c35321e8c90b98ff59ca5a043216ba6bb2331c02322c07b93ab88723248cb794220335d4c8285b45508a33ee20d67373c131192937bd25c610ce7698a7cf3cfd94b337ff0421b9504fb4d4dff4af3305e2bb66c93ad82e977921f1d90485ff1da2b4ec7c5f75d5e5560a10a0b487b1de26726b4a5b1bb593d82eedcc11e308810f7f3d3e7c7b178da158d2d330331622103af5eef58dba0d83ec124ddaf6d96630b296c44c7af62ebe07ecc572abdbc07b7baa32548dab10b10bf4d9d374f8db4bf4407972af76105d8eac7f2bca5d41b85a0ed8b09714c4de3cf7a0507cb62a9d99293e82c9c7c3a6a09e4a22fa3d1be6f66d494270eb3548681b6182e6f2b8029ab33b617a2de9aa970d176e44e37a61cbf8610d0c8ca7704c1d3bd2eb129c42e64464a7154c44fa8d5e9099015528ae1fe5e1d57ac92e22b0da221d2288a687bdf164bef7b22dc02776a9abac5cbcd28b1259af2407ada8eee94f04703e4a4a33b9d081276f5f8754c5f8f8aacfdbe160f928c40b5e3fa4e690a52b1d6aa240a2a13a11066cdbb29cdbb241de3aa9a9c81a9a2304bc16c02769461610b8806f6756c92155e8fbd7384d37ee5f7629b82cf583bed2f487984d7afbe2622b769dfd31b519e9c1da2751ffb223abd1391dddc07c472b4a764da62e2b46aa28f4938a972f701ba7733340cfa4393d11cd89fce804cbed53e3f427f7df817c4926a52feb6d63a9d44a700e27880b4cfe8c54af702ed5881fe94e9ec5cf4dac828072413f2fd8b296c9e5343fcdfac9047d5cca4d49d0d0ca718386cd85233e7b287bc9e3f8e5018b0bb411c918ea5039d31df5a78d14eb6581d99a7bd3746630f71b1b3cc2cdd0fa96d52cd3021655162766db1d7c19e7ec8802a92d324fa76c197c73ef33c0d37ec7e6bad42c224e5742cabc3132932ff668a1c9c67cc6ee8e8e2bb2365212c4687f5cde80510bf33a2983eb3cd5f803c80a8a8728515e3d73e892f36989c4221a2f9e0064a47e8a6a436db4534492ef4d27d89f17b75831d1b7f6753b7d46fa5846406d08ea4025b4819974ae9de1a10527cb6629587caa3a1c5ed0b838dbdb033dda176b683e304f2ad87fd11cf3d3adbfc3160f7527895321ea14c3cca4b32377264f83504e5f69f74288109a80a52510bc1cd0446085daf13f6322ee60d5b5f7e32dcd405001209cb6bf0f0ec07ff8bdcbe92a963269bc7a21100c6a862230ff1b14ce8f3f78eba217e76d361c1bf41c3c450410fea6a0ec68483be2855dde035b699275d0fb78b660b4f9dc4972ed5a871483f62422494f1cfe40295f099f7b737aadd19341543e18b6c110957f0af7e1aea14c795c92e60b598a913353e6e0f11a43408c53fd7ca0dbc843a3d567b5e9af3395abb73bc8d38eda9260e2121c9a8168eecbe33b142fffd5766774e1e9a048e9ea0cf72cc442fc594f4581e614c83ff28a3be9791bd2a12abf81df19657ae363ee3f95dc5bcc01884e4bb21aa6ab4370941a36c50273265840fdd88ef8be5f355a6282a97a7c3c00c38eb2f4e8b0ab5c4a5826cf05a73e4a22a29d7feff19c3991ef5248f559805e48ab1073179c7efc9fffbc441179c5ee0835d61545c93491299b94d1b9c85ad21402f51d1001c12648f2ac6bd6d9e29f9910dc46805a7fd195f352a7696643a3d1cb686b7f8ff22e821033d4c55570b1c526d69a135856dba3139cbd2a03596e208f88d3563fa501ade5e1fe005791acc602aba0b0327fc06279167ddb7182df3b21aabcf06dbde5b9a63d31ce3c9c0c9be83d5864ed6591f9508790ae4a354a31a5a8d163267d950f51d5ef845d370292a8154d279a149a52910d80f965fd85529a0c0e4ee8f2ed02a46bd7e4e87342b9c8df90a2fd06b3babc23ff626dce8f5267ea429b0c5fc559d9fb1af00158b16b05dd1165ec3e4f712f9fcc6bdbec64952b6011f8dc925de301db5e88eefaa2c93fe0cab9c530f66e14e52aff40cc1ac080cd7ebcb77f882a09c5a524b12f7f5466ad7345483c3b6c6102e86950277ea9fc4a46b5f2bdff09644bd814c7930d510ce863dee2610d9c7dcc0ef2ad6e6b3e7c46d14ee9b7f5d541f2039383d59ef7fdefd9fc027328b25a2c5078305a508c5817a52f802fa84d695a950d4421f4a4905af6d9a1d0652f3d659482f3799eab608ef75cab01da4a7d0ed82c792241754defea85f20e98a07eace722a671415b6c6b8b664a87f7bf1176a2de482dac6ffb0cd65c463adf03247ee89027757b31563f55b5e4d9f0d48e1c11084dda58cec07f1c79e6683662c5cca46f46214387a9cc8f7ee799a0d5e0666c11f306d38054191ebda8a360e32e15cfcb13bfcddb878e7d27d63a3d6ae406bb324add2384b9e9cdbc59c1cf17220f6d3f3927306514fdf65a40667135e17aa8b7a12b2c9a62891bd459b52b6e53299443ba57c45b01e57aca3e86fca88aff8e54896aea31d112d70ec862e972875fe7603a7ead857d0f65ef90bb8cff849e4e276a80ede70df7f905bbe15737a24caec5a9398a1115b74ea93e73189e601d23b38a6164b27a7d1a3da5e03247ebacd3249244d912c15689005c4bef788b61a50188be2b2b1cb2b2dafdc88264f44ba46331d22c0440e784b78a99c8883d2b0e185331f730870bf9c7e58254a90e115057401f1c257db51daead7a4552f97eab273242ad8a1f20ccd89d30c0b9dbe3de012be0cff85773ff289b7b146af335838f000ba6e3b061c0ab98f797d99efa76835e5d9b29d0aa18816102b27931676da2540830e07429a68df0653094edcfd125f795b629350eeaa89b2a841c87dfb003ae556419df5b8823cfe3c350293aeefac067907aa4fc1cf3cc4b19f4dce71c7f0ee145a4f28ea3fecaffad210b7b5f83fcf581ad927bdf8213a5cfb3f08139f897ad855d77e3c1779199cd79bee5398bcfbdd8c0064fa6f37ad979a89db919052afa38bfdcd1b844ab59bbc054de7efc24166cb8633fde1df29b766063fb8142427f8ffe8369a62a44d6720d1ca4e01b0f3bea767d0c31547bf68a14323657338c379584df3ce2303f07bff8a37f173b02a404849505165aaa3cce5f2a1dca4adaeacbe51bdb6fa7666cc46e6ff73eaf8563c2acd6d1ffc9a32a6224d0e69a579d5fccd9ddad4e1075cddfe376182d3b5163987ad2583d186fac006220786dd8218a145c69fc7a625cc5dba02893d14759aacafe1ae1410a9c3f37194750425021399450b99668d7623820d946d5aa6b90430b1f9269d02dfeebff9258a020aa5e0a612b3abf36cb9e95773d31d988862ba1b0c4b5e03b7cf8795c2d941b16882a006dcfbf21824908ba8cffa2f638d9435718def9b9f2817ca5cba8b64e158609b15d3dc93b1ddaf305fd4a4919b480611bf167fba4e25eb382f6146a8332196da38fae09e89e2cbdb633bafe2b4704f7c8a93a9dc839575116de4e8540d8f21f9c8c76b7c373278d30131e3c18a9d28f9c6432e57048530349536e9c9e42e66feae01882966b56783366e1329b3e73b9547fb52c1d33296e1d3d6e639275bdc313a4cd5590c8fd51a32c265e23ed4a32a73129cd976aba5f8a7d94653590977e2599ea6886cc05a938fc9b949f4534da9401256087bad3ca9644ca86ecea2a0d9886aff2e46bd40564dd682af3ebc2807e87240456351390f61a6ece3f8f30f7a49493119f9448ff098cbaeb62a6082a2ca4218cff4a0d9fe408f1d1f26a85876c10ecf4bbb57c1f2697c4dd76d1912f04f80f9d819fb7b2aa413843e4248cc6c3fab17b49593b9d810f169ebba275f69146aef06534718b60cfe42d8626d16297ad79a3c94771e7af915a3665f4d31396d9e934542de9489ca8ff42d2d06c24f43c38a5a9f4721af8e2d82ecc2385678464ab3d1248c9c8ed1d1c247c52ca1c014e9f098dac71c03c41052522c07d7a28744b1df7b2538e81089c5f8252b6af1e1f63749ad456091a1e3f11914781123dd0c62043541277d1138a318b79a5fed3ef81e31f5574307f2545d5b0413cce68cc5a24c8447de9140604eb828182a720d949a50f84d7aed5021e62846ed3304a601078768a4a4719ef4c0ffd241536dc6427f9484be80a59be7e9dd12bf464ba7cf51718683240a22422ed939696994c9a86a297ff49e65eef5956ad8a3b3f71691f3ea345d4ed73827955fdf0091b3dba15fec238535b6421176a9d249ad5d9d634ba0d2dfb98d2fe546fc5ad7a7f1c0b2013aee5472ebbc7184644705011b154e93164272b44496eef69530dcc36499c00f8e8f8dae027e728e810828d1e0c61153775e3b1f78cd173d44015351720e9d3733eab9d8f50c6aef3fb19eeba12c6ca4d5d909ca2ffb7d441502d078fa8371785f5cd878389500fb63e478593f3dc09f8a1179682dd8666862373b1d304de4287102e4d3e3ba1cc7f88022151b8321bfdafc86416bd0cbfbe42b5a1c0242b66ff415e92ddfdf977c82f77ea5d3955057864cfe0385555ced3fc5172db1d1a268cd85183498bf08c03550c21fc6f89a7b4b26227b8b58d2a35efd8c6d2556a39321b01b3c0a33acf7041217724b3bf3d7b420fa4bc48df8e3ad58799eb14b3fe362710cf7f76854b7af130420149cb2b1490ab0620d5b12d14509ce6fa2927a48dbc1e9fa9ff970e38e2c2bddf03fb0baf87241552b806b9d10fa9d0df57d9f13baf49eaa98b2a0e2d23b0f75d23d8be0fbcbd0d3d1aa59bd5df5a17d7889fbcc39bdd18e973c1fc60e7b81cc13f0c055e77d2e95634a83e5ef80d27c4cdb67625b38786b95afad2f2e32f5592902e7a9b41c337265ee4673a8bd32e4e32544c684fd125fa4aa20b19e838f62c07687e46388965101ef77599e8934dcdac986cb024528ad79b7a3d8c2e54e1bb834c595f5d5dd55bdb8190b4f12ad79a9b0617a535a1b7abd9c8821e169cbffbd02c36188a2277de21bc933b01ebe7561600aa96bf5a5c24959a5e743bab3cd6699b878f588251f2831b333ce972dd461c549d6a7dc29f5109dab0e42ef4cf057d8891ca9996894b6ba023f3fe6ad4ce15a03d73e257893301d53d4adf907e080306e6cc4838a72874e3a05b93fe6b4a3f51872884f020816108eccb5655170f22542bea35cc71f4d274cda9f41d628926b4ab2a0f2a901bec9ffada370876ff4ac8b48b65d3aea2d8496c3bfaf5e558010427e7bd52529b25648d9c391e0243208288aef3752b92dfe8d40526e56618d1418d2ab076a98fa36101be322b43862595680aade5c85326f7bc9e7d4daa9a50dccb3b3fbc2a6beaa0bf4c359d19aebf8d34926f70339af32cff8de155202cfdb30094bfc7a3655ba75d0d1799388b04dae031d998d19361a420b8e3022e78e1b0608948f0bb2862d1f38e97a72631b3002616768fa4aeab3f79ce3d08e8c0874fe92d9a8a6600800dd67faf8eb0b0d3a4f455ca83fbed9f0572c4bf449ee133cc5c8d6130fac83bbdcdd2516cd10f4f0ce971d0569a0a497baabd6b5b2c965f016812e25cd779e066d9068e5c7b0ca8e2da5caa0a137a2674a3f4d475bc4fccabdde73cf95c67e8887e07ab3a0aaf393bb8b798b6891f5742b11229b4d23994d328463bcdc9c60b5b887bb0463a682be25c81d09c8e2555db99d1bdc47669fb1272e7898d525ae61cfe2f79547e15a6aed1b5b52d9f3e578dd1a0c62003e7666b6838ca79c60aec5b96e48801e52ba7ff9350352eb9a071c3a8159f368b7acfc988d72f88e8e99cd9618aae0d9a87f77d3495f99572553e70ec022cb70599907394c4be9689231f1d932c3ecbfa9093341bd122603d68dbf8c22a81992e0ef497a901e9e1c9b8cbae4a09a48849f6bdcdb5f9cd5d78a89bd03930cb4c2d6bfbe9cf5b8d58ef52ff3c09b4e2283de3bd46b2264778bf2b1c13c2876556820599e334f5ae41faec791b101be805bf0c9919c392701c4d07b5e29959f003d311ba68c19b3bc64bd9178018d6c2e41af3e26a7be2d3671bd6015367ddb74e1e8ff54f5da5b360d2e337ebf8fb26a00b65c62019012d55c6a73eb7b77421516228ef9041009a3f729c22b5f9607630d697d1598e7d7e0de130a339a30cb8c364cf12b4f3120c350a7720301d1d9954cf0ceea26f82d5b886464598c0349c5f8b7079d4d757930cea5a6d9da773220730659eccb1e3f1c8faf1f1c4c46987fe0de230bf5149d1c4e2d2f2235d8625e0e621022c5565ebd8f553719b6e84e3dabde1ea224f47528df9a6f3cc9353e13e1a53d4a7377901c19dd9b4874f2716bf888faea2c4579e3376c0dfb2daf323cb3b75944ebfcf5af2d5392f2563b3f019f0edd4d897db9c03d473eaa42b54b1312ab944e7f1a9a486d28f827e896b5906150aaaa6da333ede66d91e1a40d1ac5a0524339a40d9823c0b6319378ccfe86d3084635103d2d8ec9bf99c86a8b8ee01925f9aef8e3dd9434f8708c0cd788dd6d8949fa7056e4737a97a2618d07a6eaa8bdf58127b58d08e768acf9c5654e474785e34ad55f4d86ecebf9a8399b46b81bdcf54ede2fc04234de4f5df48fb8fc8bec5344c1ec72db4e075dd3e289f82dfeabaef655cfdd9d398b2371f594c8656ca8af03e4c9258eaf2c8f6b88e175c5c58bd47ad30799eac8fd2e3b977c3376978d97ed4c5809e0cf0bbeac2e2a6bc6a38bb88fe7379c431eb412ec36e1f6818cfe10021be6fa20b16232cf7371a5d030e8c31a4a057e295404e76c056205dd2c07206875cb744a5a2a3cebbafe9bcf59fa68433cd042f8a8320fb12be81299d3e0ec4ddccd3f60cf2f891d31085b7160ab1c6ae91d485247e6ec692512923e82c24914e677b379dc532ca1401d2883522657e83f83fef0d0bd5dabefc11d9502e8a963652ad7871f296da9c1b11d846314dcb7013712fa52f183f8893de1a28031b707553690e74aff8e06efdf4495f68b7ebeebc074de33cb1f2ac032ca759499c7f14c90bee9df0d695a18a6b9344cdcb421047d7fd247f9e0d87e9d67d9f42dd89278526fadf047ed6790111a950777a3900a03c13d32f3b92dd7f500d3d4d9e5357eacccf662c5abc8772c66224646047c32","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
