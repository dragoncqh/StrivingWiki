<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8e1d0474d50c4457dcbadd17492a73e4bb9dd28fd6b9a37f46910b10224d563ac91b3e8e4cdacd72eeba1ade986045f8a06d7674c0cd667810478c45d2b499e6797c1144c64680215074aa38625b0df4acab2e1e306189f797027b0ce50acdace09a0dc03b4f14394bc3a4b831f726b5f01facc02c4ac4747ac60cb8cd90b6293352c62a88059a2b9b1f10db3e3a7d1d17151876d64a5ac5dc978c0726358fe7d809214f13dd1b9cc150b13c8b7762d97b2b279716d1f522a7480aee2f58560f49e6718158ef795102dbeb63c0a253a92220607f7bd4ccdea7386f30606c14b61f7ebae5cc2b87b55e3e15d79ebd4188bd10c8a5d63f6c064c69f3f15b82e870af621c31b724cc847dc0f296180f08094e23b57d13bf01511855c6a5e553e78e71c362014aa87d6ed188de8e32fa72af9abff3089e1ae7511c55342a262da1d5c6de36a17c0058220095020955dfdcfa880d786a109a5058279f42650d70e01da0cc1c867d4ff2a5167e8d02c4c90001da46f3450dec2a655902b2ffc15e87d39eb4514c6e9a3c0ea3cc4087e99418c037f5ace21aa62039606464d4b45452d30c8ab14b238d7a02e72159ed0ae3735048d7eea36584efd459f924ae69ee5501746873c9ac7fdaee6186b7f69ad5a002a6a7a4ca0a527bf0a36c77903351fd7583558cfa8af7dec2da7244cdb4733b11359f0647665cca6c3d15d255e8639843865e078f6da20ef39177c92cacfc9b22b90ea3be1b355bd61d2ab8ea7d19a64f93953a3eec7172821b69f69a0c856651870b5782ebaef9a5d39dce09f3de08583e10222cbff23de3d1185056c8d145db52f9147ccedabab292f81fab49586053fdd5c3f30352d27bdb458eb36ed34bd5d7403a4f1559576619a053afd05422deffccf0d2ca62be2372766cf102490ceb4c41b3a9d279803f91b55477332c07ebb59c1eacf41531dc9e9e02b30aad9799fcf8b9f021f0b5ed4f6ed51977685f4485b79c562e6714c8fe014d2641f33ce82494046145ec9953783ab600231b8ef68b245c8b73ca23ff0f9b4bf3439c9c12b0db8c190496391e720acb96afdce04e33a49b39a9611d629bd9d4d4e1b749da87e7c1684ed13ab1f68fd6aacd4121b5e8773bf8cabb8f50a368b2fe7071e02e1e5e3a68f338a24a9025e5744854083ba3f05fa24b4a8e6f90d60c81ff2b0ce1e3f1bd171e3bba84e5ba1f845c40080b98a5d93fa9a6eeb92519a196550e5de13b888c839a486c36900d3468d516f5d33ebbf5fb020948bd0e90ef722f2ed5abb859ac97309348ff716138d14faa628cf07ff366e9e864b60e61785653cb545ad7ec7f8fdd81cb48def57454d276d3d49835a27baec8f63ebde59e0ecee1f056c724d371acc8df2d1c4f4d1acc0dd393fdb750f028f6c6ae94c132da579ddf3223601fc40ebdf04c1b76e32ddde8463d2d02ab2a1fd7df4a5e3f4f8d6b7acbe818a349fcf7b6cae795422ced208976b6f42f7fda36a64f9fa832b8033f46e51f8bfd557fa874e67a1257102677b629e715274020d81990308626076cbffbfe0c637385c7d4895b4c3970c0a33aec0cf4621874d572b5f16449c59aeb04c8e24ec88d573bde9d84ab0af6bab6e46daa81bbdcfa0fb1afdac7407d010f1628b439abbb0dfa6eba603c92d481c9e8b393bec2cf4395df59d95932ea00d3d361d70fa61577b7ba52d049dd69cf660aa6e330e4d601f992fcc35acd432a85b89f2362920aafcd5ef6815249a0032cbb14141e4253086704718cc9ea129694b46bcf254011d39db5d1b1ea8c3f7d967be485b54f219d77c8bfd5117e03a0bb313e1841cefca925abd2694208cb43500e6ecd58df2abc7c7afe65156ecbbd5e8b825ab5544d6a30ebe34f7df6a7d059787b6cfcb32d4df7ee94e8f54f01972d49df16222cc4ad3515abeede2e6781c66e2308287de9ef78c214454bdf0ef0a57cfa4cbf71dd14671d923bc7a1ada1075232513221e8a9d5ce8b9b59a3002e35b138ae418bc97e862889808c77ac2b22f5286eaeb92a465907184eb4f89a2a8a8efaddc5cf7325fbfe88664688e30fb033546e09ec3dcf9e0e35f9ece60eb01ecb6553e5aa02eb52305bb1676e970c6632263ccc43de7bf1d2433c1f5c343c7befbe80a5d8f54bff220cd02e1da2187d9a89dfaac7e62567d07e79eb393b714f8cf8905327e02dd41e4ea8e0dc60e217254fc225b88e09de1d4951db297fd6898675023473ce79d30684a5c568a1a844618709c2aa75db557b05607d179a051fe9482b5ba5a61d725fc0a13c7cba684bf28f5033f0c4a57f7da487b3cd3484891c7508689c9380d72021df2ec8bb3c225cfa85b63e97236c4a6dc332bf151aa28534c935e4fc213bb636463b0cb3ee5c57ef7f427e14aece3729c200709f3d7cae2501e70fe0ab79db84cfcef9dadbeb972398b0121cd57035ed39da1ae51f60603b6ad71932cf1134fc00ad11dba00384e733448da2eb5494b8bf3f8c041afd0b0d5eb9d550c5ce3ab327586924626439b16f0a6d1fcab27863b65102eb2171fa7e3dd3e88a37c88396a74641a027c43d025d41beea125bd8969e2babbdfd103c2b5d7bfde3cbb5fd01558e93b21145a993ee1165ff58c7d4edb39ca394beb2c471386b7d80f1e382ffd9942d23502c99cf70f1309bc4bc08d06d16392cd34b9af3b0b432941e40abcb8400d8b4789119204917ccb36400e92ccaf82e264bd7ee81bf56a43b2533fba650a55deeab9464cd21317527e03a45a4c54744badf379196539c26b43dac869b67c3ee0b6c60ad49fa6acb41aad53794ef8930031bb0c3a412ada5ee090eef5c864eb4784cd747fe28dbae077a9964d8609011ba4ae641afede52f03c0f3210c251435a4798c08a67e57bce661908fb632a10f295bf7f85fa542ecee438bcc27ddc18a79a89adb983acc851503417610ca67eb90e342de00cdd4a5b949208dbfa4ed6a00da3d924d0715298800d93d52299112e75a4aecc43c9306b8f181faf31e5c415ed606c9210d8e6e7ae11a7651646e69fa2990c719fec5055c102830a3dff8bb6fcaf6b9a64d7412b528e828b8c68f84691d5d80ea4774440d40e2af8c85840e821afc5003672e7f2b17ae24dbf74bedc38e37b31a63b8a951a77dae5812baaab92be73b59af9c8d2b606518def8bc28b0a86d389a141e19c57f8526332cb777ab5788ebc72f496a3eff7b94d06075ba982fdefd1e14571e79db6c62f5fb3d6b9eb77387b6a9ce237a573e5990feb3cba9ec21bca5a52e12acae729e5577f9f9ffb010a60e80abd53d5330950eab2d4000eef2307c3fe2f08d824bce0daafae37ec629e7797343a342959de850943662019ae924af9232f4ce6b7087a06efbfe141f8932ac27afe157306b54094d1e1212258712badae6ce17a7f1aa1e2fec39b7ea73e1c82ad87300b023222ec2471940ccffe827529d6f6af3d16860f47a40d16f8325a6a9cd1606b317e2b420caad98cc77dd608d0aa3c7783959f8c4226e84206779c770fb3c618364fd64ef2965f72606b554f0cacee5181e4828a07a254120a6e7604d66afb4783ec1270e2492fa4db4b8379da3a3ce96559700b47e06b00b94a130153550fef9d0133c0d41f4deb769d57144d3bcc071ed1505d205e40c5fd39baf595202f3a1111c5f54ec454fcc957a594e77640ef8cc5570af89094f7afc3d155b7554a876dae7d9e197d73943c30530c6a0ae24d747e1b96bfefecde740f27527cb0a70b4c02132e5d1e46737838ff1646a860cd9e8b6d90a499adb04676bc59b1051eec186f6ebb4d53a24005963ea96883c9394fbf56454f8e5a829e66a42caf3da842f0e2f2df1088d1fd0680e66695b2a6e8005a0a553a7ca84cf9e2d53883e5952177b5955ffa725dea5bf7b5c3fa3e6dc8273113204e4daa7af3f227b05a4c44fc05909d802d9356903d627d47bc09f4d6be11ec592ac0c456b939fd6c5709f92296d3a8c35d0509e20ec0e6c87755082be575c75ffe0f472718a4f4d5940f88d0ea8c6a6be0104f519bce24ed0b640c4bbf22c78ea3af03579828510f653c902de64d169ee5b56483df3beb13c92c403cee91ffb20325bf8d576349c207a3bce6736b8bd3c4e1eeb2393c3225285139d01789b15219445dd6480d18dc37f65c6c8f62a29a1abe4b89a0c228228435a07c167eb96e3d7ffd4da398ca03ae772fe0fac905303ee8a668ea0552d65f3c0522436138b57fcc8bae15d0feffc06c0ffc2faa037fbeb02e3fd6b2a28abd70d4c493bb8506715f6940b4ba8f4d64663cbdd83f09bfdc150acc8f59bc787db4fca317fa050140227d68062b5c0073c99192e65f1c9db14111fae9eab5e2607564783527d9024ecdda46fb18a529a0722300ec18fc1987948f871a6bafc90fea446e9d28074de248efd793133197485b99486868a2290d42229f2e8ae6c0ff188c57914fe2dcc2bb8bffdf3659e77fa620a70dd04159c3a664455cfcfe5cb85b95265a8e1350ceda308868e90d9a3996a83230a17a00757e1148ae41afc41213ed33bd250de743ad66cb4dd78ec79039e7a79ff6138bcbacffcb5828ab952ffb57bb37405da6efaf7ae8a12328a394878047d2f4a86b49706650b09acb4cd968af9a52cd9596d9d014a9143209f7eee60d9b5bb4ccfbb5656c8118015b830343be498872c207755776d888e0581516381cf4e4348878cdb3fa3e1dacdecc97af0eb08ba642bb1d7a843783097f97da205e070a96552bae07c438bb0e503a1b93c6718d9e450f66317f1fab33fed76464e97ed33b8eab4fb13be48142d50e7b5ad0202ce9793d3e061a781e894cef9dada6348203237c299e27564d715efe0f5127db551f2ca686fa6ab9aeeee4cc0d193d34239f2ae85c2ca6e127f4741783e165c5dd50010861e67c4288865ef87e95719545e98c12120bd51100e700c9358238bcb96be78665631ff7e07b0092b1bdeaa2fbb6c7db33887a1186dc8f4085c9cbf5d4b46b10d6c53b925588a90d84ea007ab106595d576ebfcbef007b08c5cd3979047c4294dc2986701cb7e43124d68fab6ba86711494afd8c75f195815191f7b40122b15b6fb408d0bbe8dfbf789376e08b22fec4bce86da823571aeb8e62d9e593704a346cc735fc327bb4dc3a4749e8c2734e0d25e10a0b120c528ae86ee029f79d76d1386d17b4d423eb6ec90d5ff1c459c83d0f6d000d89e7f5a1c1d65cf8da080f1434b2f3ecf0615b99370153af9af3ca9ffbd22eb8fd20571766d08f0e5bc073f35411a52307a98204cc22ddef6956a4db61e71e783ea05257471e69f53b01d083270cb46475f8b70f472b3a7c4feed27e7e9c4450a4cc04d3814ecbcce8ee6d812e14c105f88bf49db2b1c3b1e50ed5e3a32c034b9e5dd0f9d3e33e85ea84df5f184921ed306c405956765a3bc02d8518325f35cb67b94bab34ccda32b42f095020e11ce193183a80c536e7fe71e2a8450b85db6f505710cfbd09931cb482939df6a20ac70939e0b3bf04b48a3d8ad8d44a56538e4632be55ec1748e45ac4d48aea488dc9af206d8a098bc58d1d3b1867e78033b4ea5d165d12e08550275dd93b8dd62c7681ee3fdd37e00f7e6785442725b6bd75a10688686c89ffe0667f628254bc46ea53bc9edbfad66aef64c4af246a8a483483adbf6bfad027d150de57b7d38f726de80d121553e8510efccb0fa74d714ae9be4ee216e6ebf4a404e91046067534a0d78d05eb37720e2b0f0d2916ea8a163a2162c5872ea07d86e93ad5976594fe1d20e62787f808f6a6f7402f773fe1b64888d9353b14f7243baf84cffc96772073cdc0b65be0e9fd76cd69c061a13e8c296d555ed23e3012c6b61e46984d8d9c3207d0e8018f6d5bce91ea7721deebeee190e03643fb4a8e8f26ee6bb0cd7327f6fe5664b1c4fd349ad6e69a3b218baf466400be81505abcd53c6b6789f46749b7815f4ef3c1bee74d7b16f6af317642be93c47c7de5e77c613a73deac04a2fdd64a9850c1c652428030f0fc33ef0f0b1fb08b289cd69e6094926d8d3021495cee41e8581cc02141fe2143cfec24304c35be99e93f86e24b310d4ea90ee6e45566a87e18b7ff48716c956ebc79aabfd491c811aa94d0758b17ecfb1a0e51c4ccf86b72461b611fd9ac510b0cf555e23db7c94831ad9156264f37547b663480746fda8bed4ec1bc1c09e31968a6661772e2b93e04fda94cb461928fc55e321c0b7f05b910881226970e59c86f3c11b5f9b66507420dce21e71a0b467bb00e24adf06fc0b3f069401ba022815641d0b9f6dd1eee7ec3ed52ef8608ab65e0ef822cf75892d09c8fd0474e6f2b3b88310474a0f06e9819e89d1a0dd87d3b279d44416ab22d8d7e515a3fef77312fc71384e8d9bc522b14d6e71ef907f37ff2bebeba5ee6493c34554eeab5745f0880f593c4673edfd7ab127ef4a170edd9712b8092b6a8f59f54900f8567dc2eec5cef0fd2fea3cda0e4fda9d0e11bed240ed789c5716ddcb5db8276a48d231f0e26864be310e4000aac989bfd16f242c40969d6b2c1919849cfa8573a91b41fd5951eaeb4a3c5c21fee8e17c42349de034658c63936636014ba32161f840d8b81ed2c6f7611c97271002490ebc371b5012f7f39de3f2deaa17fe1a30281a60745cdfc2fcfc21cd87623f489a8c9841c9a7485679204b1637393900ca8e4d9d4d0635aad4bf39b6c1d2a28b11c0a8a562fce17f31b2323c5ff96c7eed12d41513b68d3575b314c170ad990a78425c830ca843d87d87d9166511e31e1daf35311df56af4f04d1e33b90ce6263872e4b2e4a2f3cd5cf0dd08cf1db3cbd91c2f10b3b13a993f59e57becbada1dff4747c8a819b27ed8626b7caddd4c49eb77b6b06184876b8d388e6cc13238ffb39f32026b60f663be33e516d4cea97ced10e0f69a17b09f5b8fa30a880df5b748a892e8a725f15a5a45aad8f571dbc8eafbd1732523f70f704deb8be76eca9b434aef1c6480959f68944af016b78d00868c8b231dd6325921a6fcb7b18cecabb9dbd79512628ba69d2bf35a26798d9c627eb294d1368a2b471fe9389650933b537ab2cddcf6b7bd86650274010d676c54fd7664e0d8d306f736ce942b2f999f69610655a46e7309c8327d9ba3edec5df0feb86b90971e483f4e6e895612e6259e2b25e719d75944f739ec9f87e0bd87856663700af7fce4895b0c951b20c7141ccedef7b076048ae78db03d8991243e03560bef5930e3a685bce7c9037009aab70b00837e8297fe4b12f6c581f98a501fbb20140881f5293ba5057417109a1fdf416bd497498241f58fe14ac16c8e9d4a8f93671f07b15ed0f3b97932dd01b5c0af952c40231a1a9b1d06012c5539588718a468b52c6115140da39c42bc65f4fbb4e53003414512db0e927a7876f5157994f55ed39dcd25ca4cb912e21e4e5f31e5b2e68ae5000abc42a1599f1dee4839342c700cd9f1710b2b0549d287d7a2d385095d939ce716bf05262e2f735a3c3dbf8669cf2af31184e82e599a9e8a25598bbef30c4efb78f48ae333480af592221da2c98e2e20d17fb97b579c1e06441d62167bd6257cb1dff04701364150e1b6653c86ce6b1215253bbe1b4621b826556bee74bf36e0cd9ed6a8715ec3e641f8d51492dbbef32a53dcbeafe66085b63102d101bfeef20b4181d1bee0ad1467551859105a880b2f489b2f4206eac5bc28efe040639eec1cbc38d3e7d2138e98c0f196aad2ded94e1c188b2d6286a5a53eff6bb9380143b49232a2b42ae740b4951adc0234f5ffa00f0cec5487c985005bc3aaf34b7e42022443a5666844af18510b939f8883c07eee4be83813c62df2a3ccd3cb9215ff20f7f01d90c7d68ee42f80a50a3f12eff0b4787a39630b54954297ee07595121bb89a6ee64f8bb6c746941acf49e3c50e12287edc837b9c7a01219172dbd2e428178a5e02deaa5f257afa394499cb347df761aea3564ca5121e52459db4a2aa6b262e5115b4061cf96c48bd33a41d96feb879afaef6fb99b5cadddfe21836125fb82868165c2febc65f9d7e726082449326ea7ee4e188891cc55c84406cf0fa31ad2fd6191066adb406efdb23912372043a378cf7c89c063c6bc4b063cf638a45c597b3095da94ff65a896279c5f6872ff4c371c3ac39eb90c0a295ab70f7d23db789e1ff4bde45ae5cb7310d360e42ac14df9da07c4f0df5c11076341477b4d34d7da5bde177f3a117f8d45101ba8046198215525ab1b65bd88f1ba48eb3a1d5ef6ff92641da6281ec10975dccd2286938bba98040af62b8f04a6a1b294623e051900ee42b4bf999a997283418e9e68e5d7fd86c5d8a1853e7a8dc61a6a0fccf775e9b455d462006b6cdacf35b6ccce7c13ca5a02b768895151cea3597c25e46d4ffe55662d22ddf894cf43171495e2a9203dedb926b4a09998806391385c374d45b87b2db1fb6403f7f8fa673a709f3e0497e30408fb6f9cdd3b1c73a2a08f35568370c251c1838f346801851a4d3bac73a4d56fa8d7e0a265982926668d7a45f9633c432ea269c11e0b20c6fb81d57a17660ffc6997f794a39792a0baaf387716587a98b3aa614eda356c521ea8c90ea1b6ec05cdbec8dc0e0a57a81b0903e20f481e61739bc8e186196a7da01251e629737ea65d966a014014d7b4780c597c4522c076fdfb5dd82ff65444791901eedb161a39e56b5779ec15a4a1c13a7d7a35ff824f07c295aeead9303cfee48d399e173f34193cdce899f14ad95b6f853f71e5ff9cf2467210cc9765080726702dbee09095f95b76f0708493372705f0b9b5a244ccbbd4a6538c95be955accb8a9b157e737afd2600d84a98a85da33456c5ef1a1bd8865ab79fb84e4ea6ae7ef00c8eaaac01de219ce4521f1c17f1a0f60b9b00e6a9573f1096b2f47ccc72d15e5d40cad2f0d8a5fc643e4d4b82695fb95bb423f558487ea970e15bbca0edd25570041cedc53e113afa46dca4cef6655c65e6fcf1af572c2a56ccbefcec9166339ca591ea5a9b60a7a5ec6bcef7e1623eea6198a6229ca2542001dd76b78482ff66fc134e602da4084cd5956154141a8aaeb3a45df3a8b0133cb112ea7b8587e6cff0b37bfd9326d5df8f4c67306e85b27d96476446b3ea9c99c5a6e80df8b2799bd3d46edec7396e88ffbdb37bf4337c5a70b90056609166e8864f6090eea3d00039ed906e710770e6bf9f18d633e933ddda9389499ac25a3dda54894b5bbeccb884454d582d1513300be5ebfc390ac80631010829911fcded1c8ee1c92631b75d785685cfb3d8681ac6ac309f2638cb2d68726d68f6a363d866e973f65208fa50bbf0714caa21471b435ca8de49075a103912e21f8adea803384bf26ddd3562270f350767d4b907fc9773b5115ad8fb434d646d8748c066ea9f01e041269d99c9886a3cc4ba26f7c670e46fcef4c6d3cd42c8643cb7bd3af54c4c2dae6418abd6f03daa244df21a7bf24f9420fe8eb8f69db66d31297ddffc0da05138b7b4bf19c31296c093ead3882cb8d7a6a30886374eef58fd7b0d8bc8fa5d9bbfb77585071838c4db84f58c2e7ebb3afbf1fb705556c7bf8cf713e357297b172c5f297bdc9b557f1004d75c302723c19849495a0ef956480ad9341af93059f43223216ed30a7b4913eaf474f26c0c1b7faab4d283efc6e5064c994e2283da4ddf6ff0a3f6138d8b34b7ec2a834eb09289632b7296293a2862f3d8014d77af1f807390e612a0eae2d6a43cfa0d1b091b4d2878b173138adcd8b629b0d27ff0f59f665a5414a38b5a653da318892bae82023b7b83ac7aa94c28dacfd6c77817d0e249c5e2f71f5f2ecf6e33bb93d0b06153269a2abda13091d1b1ed6a4d8a32fa7377109ff12d07060c6ae0d83ec8cc7f289b74d6752ae301fb137c798b043b185618ea70acb14f7b9678e9414cbaf61a4825db850a2cf350f564f6b7cbee3ad5a534b37aa43f595f082c3e05917c74be3b0367064822c014c2eb2b81e4cf6772b00586a73cb52c8f4cde6d49da5b7d19539ca4e49c1f06abd7e818f4ede86f9e67f5ca9643f7fe03a4198129ce630e4836ed6dc391658f794e2604ed8381dcb6415ff599b1e4db4ed95d38eb9aae2109a19ab1aa4c633a0b382c7c0d16ce35017a3d23f80b5d0b6415ce247ee524ae35bdc244548d90906b73c07189ffd940f03733244ad898f241d6f7472330c83f81924b8761a1337cc7c41218a220f43f798ef2193e17a68a7a9c47828f7e7864002019beb4fb1b64949fbd63d87c4356937f92b5c20b4b9e0cd7c89b89312667c3b3e8c6d5a0eca5f4876190e553be36b8adcf49d1b256a45e0c5507e0491bdc437e161eb29c56520e3838fde75b9daab4cd74fe93f50b1b66fd0fe93f7589e6a8c1dabca50c3cdec1611da0ad4763175f6e16d706aff21265c6d3eb479e363f9ff26145fa46a4dc8cb63f4776d072cded2036cef70bdafe48fc2ae0dd7840ea8b4c50e48f5b0f2d20eb84d2d4278a1be6e87cd34a67692f7ce1adf7453c91d85b0c040b521569a8ed1d0dcc9144dd6aab1b51f69f2a11f53218ecf0157a047a653cc953b035db7a47787dbd7e1528c98a6ff3e4a18a22f5bfe366550d98604b264ffc69b304d7467f7f2cc48f44c3f6ed24c5a31cc1138a980c815a40f251f560d05c22d40c332226f9eb8359ff74d03f878450d36d75f4c19dd4cc5b48acaa41b559952e39bdad76ad250f2396865e85bf17be2ab7683ef486e5178a4f25d09208422e80c5e0197bc9ac74e2397fe3179fc0908435ce8b40c8ceac5342b12c32912866480caba68ac57731941c4e57d8b2ef1dfee38f56059bd2108aacc636988e547d960e074e17b145eb2edc38046fb86fc647fc8a55b2519b5e77b9c052ba91b68534ee3bac78c1b24b349741a8c625673c1d780b21d0ed7cd615eaae9aad6d848bc812d6b025373d3249fe5b8e5737e324bcae5ec5a206fc37b85b98fa693db82b774b2d0a37bb86fbfcb4b1a0d27bdd2e5009bf3bc429ea2d8d1c68974e419b029921aad273138bb09404da2a26ee2a218a6b352f579f913a83617a8c516fdf9d78926e8c1bc522b133a592b8345fad5bb30862155327497554ce0f6e59ecefd481123f20651082fb7462e0e2a2ee8dee7d6a72e686cd966cf911ba511907e436795d666b1e772b7358e4439c29c3315b1bbdcdca38c74cdb51e415fe708644aea7e240e410de4a1f9491d2fc846de39bb08673437c4715fbd1d59e8ce2493311e4c84928ec6dfab654b83ac3dc1181fb10e96f6b6e2c9c99b92cdf9c4aa005f044776b68b908b3b275d47c2e2e0d221f5ae77052deae5a9af215473ba5ba675dcb4adeb0ec014e8bae273a37b55671326633f2100211181b5cf562edf06d6a567c0e72341e9ff7dd1a890149d76b430f6a6d3c12592f5cd178fd3ef96f058e41ed28030e6a7e7ffa31385a39e6abff8a69eb03e558bb0b77f05561dd89be8fe3de0b8cb0f0c56c265eb889ce867faa2ebd80aecb17234d14e3f84438cf7829ed37a5b96f3dcf62406ca779ce3cff6588ab01cf386b658f065779ae5940ff621acee97b8ef5f21dda3874b75d300039e5cd1c901c07ae73db14e17f89cfec5f05598ac425090cb778beed527af858f88029037772dc5f7ae93962c403e6049bbf2a70be8622830b648ad5242a15c5ab503507971f3e2ef64b5618d30e9394cc3ca54eda3f62fd184a3d7c45d74d09464045da784208ca70ba46f3a0fb945b6a463980d2c84b927aee07d6c48bf31104540425ec811334a0813bdbba2ae8d9585c67c2d12bcbaadf6331d9aed3bc18a927dbbc19167cf5c36a13e4b916e0315beb47515f08e90dd61f29461f670ced8b64254c7e355fe238a1ba29d80b3c44ef1d58c6172ba30a0e2bfad6cc356c7696f05c8d08b7570abc7dfde947a8a682abe9037aaa6f45e178d88348c8b735fb1abeb1ae4e1f352559d2826129282aec640d32adf3e3b9fac3a79bb384edd612a01c7fe01d866fe49b7d4b6fc1fa76c5df3aad76e20ae328388d44be9e676e630fb8cf0d987505cecc59739e01eaa3f1ccf1cf593e1b20449cdc0a5407beb16b8e18c00d0952325c9a4779662cc0ce13a2f4d4f94243835ab96581bbb815915e445f7fe92b4bab23a17022b2bc1c7bddf3c06a682ae9d4e6c02b5e5911e33c576370dc86c7676f0af3959a3c2ef5fa15aa11104fd23d0e237655fd2057d81d4c5417e5233740e2be2fef5384e37911fb9fab4de8b452e617076dccf12c5158745e7ddeaec192feea27b0b54aabbb5126d4993243a9f8035d9b54b5203466da0f58c5d6ce9fa73e4a0b9216510f901f114fcef06891ee36f88d99390948ec60b6efd949aed82dc4f0878cb2844e9941ed34a6df2e16f4ad9ab38f12ba2e26fe55aee9ed0550248c1831fdfd1bc913fe69b4133c5165a2c3cc5380c1a08af0267f1081fb0ea7235752783e192b3394ec646414da72e952c990bb946a5ef539abf472211923804d2184e1deea5d9e58331a78c694a265010c4acb2bdb18699aa68e77bba37aa673e6cd9c607c1d6880a7d2b32ad5b5cdc24b85731ad9ee8cbc93cad13c614f0493795eff8d5777c247ebc1020f0232c59e94fd9a5d104f8675f9065ae5d45fde8632c1c3320e8185c4d8e90346d1204065e9519a5e60c7937b9c36df3bb9a45940ebea10de864ffe27507bf62d6eca284ebf469e4093bc21d75aac8400ea74262fe3b84dd5d64da8414de7a74262f0ee8f1b59a14b97d8422a23071e18f41e0c36d7526b9a1f247c348eec9ebb0c4040dec10587bfef0afedec83371e68a5fa163be40c4a1a5bfafa7f97bc239307adab0b204e1bdff59df757e28d919924eb1ed2f04b1d13486a202203889e9c355a529f19c034b29e72ef82b56146b384665743a76b922f5d801a95dce3a3dfc819df1be474a23a4c92bb1ff9bc319b0ef97cf4dc00d7059cf596b3a2d7f5caf781e6e8a11c505d6b45f4fd75321395a7633aa7652683ce84e06da16d5a2293bb0418db00f969ba622f0189c4be82cd6f17b6f0e665ec0b39005e30dd304368de5c34349f5b423cb8bca599e570e25c907199173bdf7d75cc3da69cc9e28800b267a08cac61d08f3b58c079188c477a99bdbc88570e2dd45d8c71ef579edb31d654ee9354131cbc4c2425b2d328187824014e2b86316336d651e91c6fe366311d2fbdc7076e708c14ada06b96f29c66903517bf7693f8ff2a1bc4d9fdd4a9fa974a8b7cb5a1c1435b97f38f46add86b86e23cf2e179682abc23a7c8cee18bc9ccc6c284d60c1b105a8d8203fa8c2f2cd33f60b2cd09cdc02a24d525b38502d9c7b0c265224471694f180ddccef27681ac0e37f7d40248a6e1a8abc5042076b3eddf1cee980db66ce7a4577191f852005aa95fa3585d1f8dc6711cfec44714be5aac7a3cafd8803b1f546440f2c21073742135b615d5ac3343fee9c8ef02a5c948ccd9f1e4c492aeb55d639d674dd2fb93724d72483469f33747a5fdcd6f11a69b5ac9eabdad5e22951652893610eda65550f5674b82a19dcde489143d8d127b754954d98114f367a6cc1bf465952504e587808d71ace9fcccb26b53b40461933b50784e6b3ae24d6928405c81262d808f81415f5dfd9277ec7bab80618908f82cb115428a670c1f33f35376d5c21bfd305f88a0ba12b0bbd26d11990b2fa3ed5b7162b35e6e2b9265e8079436d70281ba7ee2ce03378e73b388477ac69252027fb4a182aeaa5a21d14c657b0f213d7d5c09888482ef543b87dc0651e5c0474a50dc8f06987a4883c11f95c6940ca025bcdef54aadfdd35060cbcaa8e01f69d0f549c063c0e1908503661073cda4ef74360f936ee74ae721137be67b27e470cc73ebcb2bc60fb211eeefbeef0dcbd9ef6a0235acc07775ef0e479805ebb71efbf3cdba639077a88ad823f2960d25ac9f4183d9f8e0004a7d6ea01aa6e7886afcf7bf52b47566352f47b0611e9e7cd0637de2cb752e93e127df7c2181b28e9a0c51d82239ea70dfc10235d19ffa0b28d5d2f6270c0ce6ee21b1929d97ff824fe454f33a059c1e112069227a4cf142a573e210cf97c753445934cac7e6eddad9baa7438bcd2b4ef9e468aa9630b66b1865d9db9cbb6086820921c35b3e028aac9878cf1dcce7eacd84b734937a1c56056187f7c8e1de23ce9f53de546fbf88c1f32fc435ea0c5364efbd5691dbc9b5423e05be1a0da73f3a0a41e0bff2cab0977ea47c4ac358122c66b502924b13f9767200fa82c455526100eddcdf1f1425011451a1b7f473f544c9b57476dcd52f9a17538c3e94366e1e089d3ca2a81c5cd67ef8a25b75a62d88893f20f0ebbedf4ccf31d7077bd4e98b53dde20f8b81f37fcd41bd6352f98f40d614c8b5c17af56686fac92bf1b4a2f35e44c0ec46fdf9b8a2a23fba757b9f04b5315b107eee1d0a8e85a21619c2f45edca560e0132b0962b4fdb9423cddaadcf244671c7c2415bfcd13fcf855a280e4f715bc64fc7a3ab7d6699c63c7700d0e94c2af61c99f23506fd885ff00458136f821444a672b26115549ce2722b06c059ee02c85c4eafaeaf24cd3e83ce061a7e34dbb010fc289ca7de2a49ac8d2e5a12875131f38deb18b73b19e96c8410b2ce9e8cd246184a9269d9a57bff8ba2929cc53e622a101c40145cf04adca9ec30b4b178ddebefc91b020d7bed04174780e5ccb35aa7ac6cebc86d7ef99c7ec19d9d9dd4079b9f7121dec0959fe9dcfd95eaf274d46e6fb99539a2e86709e9d1c74a7bd7d78dc5c0bd96f4b496fb646fdcb780e98640fd7c48e69fa1ed6ed84b2e37b547986b1612ff365fa3392c13c49bee9d2ce787f9052b56a5c769a21d0b8a1827bc0ac60db3820241dbc1e6eece5096753194008beea3c7d9eff0fe7a29aa307298cb8a84affe7f8e1785ce2b315e3f8f78e879656b77150f5d9224b8b48736b78f85b0685fdb0529054ba817cb1ab360d2e3d5ed3313a86d6074c57e3681a551abc5e51a6b1e805deff200bc7b003a43fffcc4eae8fec74cc1849fd32cd49329371d206017b53e2ec38cc4fa9015d9f7baa8a7bdb2fe504ee13c149db37911edbcbe7a59a743e3bba984ffbb59b453d12fb32440c5f2edc6444703f1ffaa98a8c3e8689eba07cc7e70f8808b4f353c0d9f50fc1f9429120e3c27bcba4a4bef73ff073c08c97d62f851ff5cdf5073057dcd53b0b39ae98476ac4ae928dea6940dfbcfdb9a18ca3b2943e17813a748d1fe7789cf14681f14cc242a3be5b529c4f03304f03eb76b422201a3ff699e3d96fa60a50e825aed754e4f4fa36934f2dcf3466c0019797b7a0ecd024bcec1e8a5dbca20740c524f049834674e271c5649c08c8d9753bee6dc4ca60bbacd824ccffcc5566d3a7bf899fec976314993857081134f6200b011118de585000d8c9d2cb1c76f02db5b7c91ae84c09809d0a6955dfc663e182178097d089bdc4eee973411a1228e5d13f263d6d542dd1798913f71eab796c218b0b61eebb57daf0a7987250bb517bebf30dd31a7031d67b5a29d426878641ec557414dd6f61ee8cdec317b1dfef7d834cd0197725227310c60d562d33c5498ed44299e1300923e1b919aa92a48df1abc0827139b79a3f56e9427faadd3296f6a910d4e3d60f4eb21617e3406537b9b52e08228e50db56ee9581cbc6e1ca48500c07aa133f6285221258220f2c667147c90536c2145e499e48170ad4b6781392710df142cc5ff8fc19425f551a9aa4f912bd07ab1f196f52b986493a1efc2e89222655eaf3a0d21645eaefb0f05f7248a9e9cd62d3a99751307a0242cee7fb4a07b314c2a8584813b6aaabe7f5744074daa29dca3b60aa50ac7996aaef42efa383099878e4c131fe32a91bc4fc4c378a23f59dc101e29695e0db1b056a94525d221043c8ef8cea38b6d718c6e03fa8c4a4a61e7d555bb08ebd9af7b3758c199644ccfb1d186455c560e56f53e997a233dd344467df5b6e3dfabcb09e5d9c5664780ecdf4de883831fa4440ee971aac2a421d543dc4012e32a0f5479c8d51ed930267eab244dd9b9fe90d81148495870f1af0739bdea8a34b2ca5e58533d79e5d4bcb7abcfe3aa762469984905844a1f991f26b1d2b4f499ed3fb16bca4b49d6e43b439acebd63233eb55463d71659e9904adacfed2166b83153484069df53f854ef33aec42dd5e3bf0ec264a2d0127f33192cd94815bec3ba6e24dafcf08096d8a948c10b952dbfb0840a06540f4ceb140ea374285a86fad998e318843360c9c5fe2abd65a3b88eb464622568566f1f3755170c9fa47bd9158e6c240e9e303b5427b5da1ee7d1f7297e60d5c5f60a1b3391f44316bee545babb7bf9c784555818f849b4b9b2064e52ed502f617429f42105f5c0bc785e663a88eb5a24242988987cd807050edd761380a75121d909e939444b4d70c16bc2f1d21a5a84e964767701b3791b7d7a070d79869d34a9cc334335434f41bd3561725e456911d97f26cb24611a6ef07504210c3229ca7b1284249d1d86c556787c68a398857ab77e7c45f30246144c8d730614c2781fd68cb976724cd6ae0908cc63d34c4697d2490116635275ae437974e50f7278b4d216bda57d4d6c4e1faaa39acdc16988d48d1fd360890b157493e36ef8a21bece1f4ba9a244973cfd22c76146b38160c11d628453126176305b0e2580c7a367fad9452d75ed3d4d1b3fb33f262b259b4205759e767e0de1941703fc68fb3dfbae613b515541f5f59bea259019392a9cca080dcd063b06768603786a0489df0ddc4996232be4438666da4a853a7705f4f564841af293ba1b29bc03bebee5d3f21ded8c0e7e3579321901122b0a731ece4d52cd3f456ba327427e2fbe59241cbf024e7354e8fcba4cc1ce2e9dc07d15b61dd82e947ea540ef3d7dc35ff58c09598f1705c02bf63f8c2ab1b3ba52b17ad26d50d213398ff557cad11a1498b218efabccc1e9d005ac1b96ee6a6b8dc85080a3b2a7de8d5d7417ec10f16f4e0f4b0b579019dd45a7be292a18159106e908f0ade2bc4d1188bf1ec683142ee4487d66046570644aca0e7bad490befe6fa5edbae6b40fd3988f8207b007739151750d046336e1e20fd0462a68d42635b3eb07140be06886875ad9d49f97712b42bf65f8cd08aa691f10521b4251889ef498ccdfb60241455ff6e7cc9610cf46ae6305efa7594c2632665d5689d3b976b2413b02c53ff82ac24ffbb96538fa7e31a2d9c4b1d21b78a75ab996cb0bc043d0a5a9a059b2f7853f9e1e5a78a97c52461d7373826d844a40c298deaedd3a286799c1565802d936593cfecfaabd0fd17453bebf7f5121b53c5c4428be75cd417257a4271595e4f17b6e89a2cf37de404b1dccae36822cd6f759433f45429fad7638349493844d8ffe3924589988376e0c38405eb30065df2a36466b5b54913a85431a965f5ce7ced8dc8bea499fe446932ba1ebbe9fbc7749fe5f3cc38283e776f730b0fd6884a5932da6ccbe025e51fb74579eead3bc438d7b84d6e7bc4506b571745ca26b6dec78a8f0539d78d180abbcc4fe39c35e85905554925f26e8082e3a0bf23139e0d64ad8ca348c48021cfdf40a92054c9975ec239d127347b4f169b0ef9065bd632e1f007626384e3aabe18f96592475f579a9a6f2a934f12afee42a47dc8d856fb10484ba22090476a8e428c3beab99254d09b7b23328731ab20dc229f220ce07d841ac39b9300650d5bac6c02a46d7d9f05bfa687c455855e7f00b680314c4643e42cac88b875e8d4911b193f6f92d8e634295d32d94f9ec47af85b830934d53e2decd12e22b36c70c2f8ea816c374d17baa79d9eacdfc20b102f065a812aa22b69177d0f082af34620988cc6dfa14281af24fe7992614fcaaaf51a5cb03262d2fe60d98fad0eb381a3ef4a986db6ac2fe13cf5cf24cd3e83b086f1230689db3e27501d34eefe7acffecd2a26125fdaaee7e35b681cb88da5ff4540b666085b0665d83824081e8ce5a97472ae5b1b5496b941370d1d8ca4b4d66f343611e8dec3ae69b6be5db4e9a7383d166d88876dc1990c12ad7bafbcd9a24e3edfd420cf56987915661ba31f27cb6492a206b207e8cea16ed6a87b490926fe496f2beea3016ce88d46f17be04b58a869a5b84695ce0ac584150c4fd5a8e647aa1a79a7d803fe57f77539c02dc7d60325c0aac82c0d591716d83e668cf0461d61b92e54344233de3f225685be9d9a0de3e76deef5443d599c9f35a8b9411f695ae1287d32639d61d82e050c16c65576991b0686a4de82a37f225b5c0563969fd70e6a377322d0bb732b2d2937aa21db35dea1062cabcfedb5daf35b9e9a32b975d25ed3522ac289db71576995cb2c24c4fc82ae6efff52436d8ab9106cdcaa6f8d9405e3b1bbf73a92976e35f29429725503c8bf5886bb83a9f8b979173fad03ca8df03f43072b1db54bb6e39a8a6534c35d4a0ce1cbb9d89f4aca691931f225276e5f930461bd93d1515f22afd84a3e1f344e1488ea2e54601399257e54fc8acbf2932e8342ef80e02ace2fdb0c6366dc36f439327ff27daf33e25f979ea6ad22242ab4cd9d5c0594c3c7844ab52ae2c36bf03d1cae88615bfa2658bce55584452b1e3573de2e530e0f747c77956fc48051529abf0ad94b7c766f19b4c22f8d149efaed814cf4260f7b316c8f747f953491062affc5a9a8ca7bd826414eb26f5a2535bcb4535e5d8b5eecc82c3f73caffcde8113407d29f89f710b4244d1229a3388a25ec6712ac99d13cd30f10b2a3d3a64708339ac089a2498bf881e6f01492548938f8c7f1ff4a30458ef6631351b81d3361f777e42d0dc9d44573f77920f68d6664958983ba501d4f9c40e5c7efa9ec7765e65a6cc9bb58e1956a2f63efda35ccfacffb635b891213f952d045f10a3f387b815411cb58a2d1cf7157db54936a138634a61b95b1b8252abac6ee492692ed1f946c335e7116dedce08344eb94c34efe1095a5720e683cf1007eaeb03fb1dcd7aaebf97038b174041ad42de632f566f4da48137140f04f824377e149c82db02c166d38ea55c42fad0a037e289986d88f140d6256de3a053872819869cb6ce6abdc7df526fcf9f771b1cc07b72b2e5ee7b9a4fe1b261848a7887db94ac54b09acbe38070aa0f49c7c780508d6f5c022dcd1835f632d94a039ed7a9882b7625fbd4423cb1eaf2cc7a2224868cf91d1cd5a96988bf8f8cafc57bff50e8906772add65a66b9f1f30f1376c926fcd1c775355ab152b0d55e6e43cf6c05fd793d67d6e485e7028eb7b7088607aa513a1b1a0226ebc8d4cc18eafb85721cbce93608c6f040da1be356254688224261d9d3765e564bdf3809d4348f48da8ef7bdd7d9d76b8725392c5dd307accbe1fdc9b6641669f1d6a62575424f5e25dfcbb012996eaa42f1233d80c770f158405c11d2a2b86e954f1ceb8b6a39305755dc4269ec62e9960bdbdc694bb602a7d6e27231e26e30c0e30f83479ac98fdf67f0014a64bf3fb1e8efa79d4d5c54d89562f9344886692020dc503c264f8d341ea46787d82d783c17c86fa9b3982bb38ba1dee2f523011502354155fac96103653be9960ea40a5e7b184f47cfcd69a46df4b277bf259ab417f2571d03dfd0271a5e01e069c00a6dfd3e05dbb67ec631279be3885f4256e1b8c26be7c00b75d7a7d9825e6b1dec5ef0db240d056c51989658e814ff4f7aa556fe960ab06f38cd02861ef2255c18a258057d7a3266fa3f7049cdaf643477d089c14045d4f18b8caadb6eb3564733ef415dc6d73a759c6ce2cc3b66d5afd36db244b8a605e4d3c0ac0e98c1dd4a4385ee97139ea76e2b0089d751b5468fb1ffee28077a94bd5f07e3926f63c63d05e467fbd33539ec3b0fe1149410e543fa131db37661507da23e62ff06ddbcda3a606c15f8732feee1c6437907fb245d30d1f13709303632eaf7bcdc2d2d5594b582e96716f86b5357f2cf86fd7f2ca3ad7962d01e2f8f0610042822700caf82c88e82d62dd75e7ffa0dc81b4cb96939e103eb06335bd75ac2c3d1469f9e6f85228ab497f86ba73d2c46bbc69d2ee006d2e8e3a6e3a2bfcac69da213b815224e03fe9215345b17d35b7cb676085b0701d50ef9f6f7b9cfb72eb7638a3196a753d6290d813ede85ec95dbda999edbd23d668600a5bfab66c32ab9efa8101097a49f103416ae1587c509e077fe48b409e5b231e11658757a1f4d6658a3ebca5deff3646a48f3d1cf5a0263b3232547b18765f5eba4fa2fa4d4a22dbffb43ca9039de322d18fc3fb2734e1cfffddcaa20965460f9759823413cb65d5008d547154d98fe1217b89b2de9d59c08311319635a006a5ca1c16a49fd3a8c52d85dcb7d2d47a85f9e1fa9cf6e2a130d5fa29374f3e7302f05636fa804ca8ad431657a2356d217285e2b5d44d2e69fc46725530ea12efc254176c12105a80ee0bc3d74689a9cd9f5463c6db977db239818643c8e5f13d2f9da4cce73c3b773d6b068970cfa2e4a4bcd7b4347875df0a9f4c46f7ddda97dbba14872cf0efb20aa2ce6fcd4914443a8a9f86c86bf88f3d371a0f0e80079732a5db6d50d8a9a3875f54d3e529c653d93cf8f4c5508d33846cf6162b3598ab7f6efaa64ccdf7d0fb35eb54ef2534bb016f474868e40e36691b61e4212999f6deed7b66bc0e965aa6a658593e84c3b7cf89feb41ac69c2675be2715a03f6b33e818681f256f26d6211e023d2ec1ec8530e7b5f49fe6201ec4024a4a0","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
