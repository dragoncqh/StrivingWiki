<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"046892682cecc10b9f1b170348f49e9a117eb7adcb028c672b658c57ee3b0b66ff8007a38c40a75095073d5699d96f77711d6330879b052c75594b4dfdab3038d4b9c775bc61349829c12ed0f51d6a45e6542f70c973fcc6077a6302bfdd3601f660fc6eb9e55aa50bcfd811722a33280b02f74224f648cff9343eb8e043c83d21ad8ec589a2c87f07842866adfe9eec78bc2733dd545ca254b5de5321d9c5395ce0a853ca7e8d00e37b5c7e0ee201567ed8b2da9ddcc2ce30ce47b74c369ebf649684c385a10a3ae8ae4087706304742a8382f21d470a9b5855484fe9641aa2b29cbe11e71fe8b2ffbbd7acc52419d041c6715a1d5d493a6cc5207cfdc53714b8fd2ccb6b995499c6bd79ccada062af8ba0d5de1aad5351ffb877152ce2bb49bf73e466104350dd7ae97c67b9e72e6571815329e50b82e038024016e518cf22145dd714a7294be78aa746f1325a970049ed02fc61f681345b70c9c0405ca1e6c776573b49e5faa6ababae8b25c97faf3724d6912aa332dbd00bc01c27bd1d85bfd295d4e919a525d81f375b905ce39013b9259a3bdb893a84e4f92b0360c9b46a2d1ba85b06f5abbfbdae0de3e6aefe8af0d237dccdf63cb3dce0492f412c521f2f9a02b13d904cca7037eb7642525eb5c8df5ed248c22af30138ab6e9f5d4de9df566545c898e7b9ca5f260e811acacb395313a0b2187e6dc286756f223b093cb47b7ae2efb52a49c90fd5de65c70aaca3cfb85c273831b33f01080b4402e45307d43f6e72965a62c09fbc7e8eb414db800b366705868c4e8316a1bf94c8146822492a06227518fa80360db7a723796184b2a43278244b5910b9964f534bb68794160de14392ee63f7321a96f5c53c9c5b7525fa9847a91ecb51d71f63a14418dec64842410dcbedf7527ab9a6ce014df32bb3637d18f86e4b910d5af2d1719840692c2e3174db2f69e57cea042c474c241a6ae2209e7bc6e07c54408f0a0fe6ac07ba5c7f9c84839b1bfc16f1c7389e65b326dcdc2e937d1d13ff5b799e1eafab60fa1c97885ff5420a0684551d71c6cdefc3a36ba06b19ebc5f50165320e8d9023fb6b76bbc7596c13d34409aab4363b8c8592e18b49f62a99fc7d1a2edfedd0c98ab8db50255b8304959da86e6bfa13341ba88d6fc5b61a5fc8dbbb34fe2a8592418b335373f06fb5c350f6c17712f50540937e8a7917f82f770cd4a8096463bc183771cdb51bf92ce16adb3bbd948c75f2ae667a8bab8b390d2465bff6bc02991932cb3e76df5217baefff5811df6026c94d467657d6984c0febdda61863da9c37680e7fd496217e7cbf615ab7aa861d358857db6e51cf424bf1165affcfd18a1638d5ded52257d77431ba38f374481337d6c187162c8f78cb36da07be7bf3d31bf450ecd2d054364028b92b2ccdde44ab7f023a7ff3c9bb0399711349f98f2cf624dc90015db6ddf9d0220327c5b035148bb52b0225edf24c0ecfc2cd26615284e76dfc3bb2b949ee658344a007b0a68378643779e59eb38a14aafbb3a130fe5f8b763280651e0223ecaf6f28f95d93d9725d78321364d194176b65b519aa3621c95a3de8a4ef8f969098982ee1cb3d762834db1496d55699765380d9013f11538f347a0d836dcb627b7a8d4d7fb2965133e3875abe6da2ef773ecc3bab39fdd2d8d7d0da56276335f49fd20866ebb01c7b818fa7aceaad502a00b580768821f6858cbd31278c4876bbc3748d4b9308774eec965806d393740b51e105875534959bf115e8ee7d5812eb3cf10229a5f9b284862443d3824461a2b196091308fc7f4c857b10020bb3ba244dba9dcaa3dddfaafef46fcb33df2cc0bf84e7e52f4ad81483acad28595d53112773959b869eb98b6d5873f4cb6dad01569c7a3d13f9923b00cd85974a31df6030f448ffc22ea3a822fd0ce39c566e6e985dbdbe988c5fab1f53ae6098a5554049f6e475676fa1a59ea6a8a294a37744ef12fdada8301e068bdf90cc7cae91cddf20561c2839b0b0aeaaa36205d9383d6e98fbfbf4942f0b8ff29cacb9f46c656bda749b10d36b8fef71deb76e41fafb951876d7658d01be9e2bad8a059683cae44c30d6f4d332ae896b13641256557e5786ba36fb94a38eef92b6a47b6a8ba6792d4fbf85cf74a2d8c37e672d66f8fec1bc72fb57a68532be6d26f52711d3d58c439a7c4e0a08c0ff4d4205b7480de099de495e7f43f6d13ba5e29de901e8edd79f5d766d41876d66a82cd7de865005eb0913dc7940445042bb17a3393bbf221d301dcb5e30bcfc56a0181526f7fd9b68a5d8957ebdb32768b987a041dd20786b949e8c99d1ca075bd93aca6302d188f08b895077b61a02700cc552cdfe1674bb03b4b36ac3bb47094ca2e6abd0cbbc201a0a026a3ed13d3ca56f67cf28c33344af445520f94733ff72013401d22278e3d6d73f7ddeb0076b4031709de34988d1820343733f8a7033cc7119aaacd41dfb3f1e703f3352cc31b4793c9a57a41b7bfe21cd98203e9c8d6ffd356d9155e08ae42525ccf40d9f90f2a89d9641fcc432c9b1608f1cdbd2d169722df2c0a1d6a9748a2f025ceb82996f11c3991a81ca57679242e3270493ed7c057b11d9af9436a86dcab30ff8733d7a89e8398e7d7048c8141ba1360b0b35c5c3bbc5f55774ac4f81693886ddc63061b41021e7c261cd6b0652bfe792a125b8d363f5387c768b60797c7b9dc5c33337306d4b0a919b2ff0bc32cdfcc7327e6e3fa183ef77dc9e46dc4a971a1824e027ef442c38479b7e537e4bd4c5df5ae7a059b56e0ed77714f3b393f37c27a005d0095e85d31b4975de17db68f8c0a87939bb7d034b51e48ffdaff1afde9919983568827e3d94466c4e39db19716274101ebdc01c443555265a6e346311a253d0146ef515ed868b4ce393ba80c5be50ed033728cc1db14aa4d99040ddc900f4a13e015b35a5bd93390fd55d2df4c04e34842b1d5159b1455163d024832e55d63023f9861505c3dc49bdfa48d2edc6503fa190ad018cbb1f90b7b48768f7845e94ab7c997332d0e80a48224ec4e656c30cb875ecd6bd7bd7a8548f06c4402dc5318e8a4437cf9b655608248352563e31eca975cd162c0e2d79f8d24ecda92196e57ac62498ae60269689b2e4d4683e1919f693d12e0440ed2ac39d83cd19694f766318a92bb7a0b8c319c9425bbcb43722469c94645bf104074ab4785f4780a7a78a3b90a2622c8091ac1333a97b4994ac941e030c74c3f581f1e41bd861ef0b6bcb53850ffd6293da384a25974fd16ed7b193cd3db987de740c6606b22a33d43e2897f60605074e80730146d048d454a164834927e822ad3b09c7bd2d39a605d1825c7f2c2d0b9b07a7a68217825cd0111ee5a52bbf4f459613bd68968fa83f9d347a2b90e51d8df068f29b41ff05014ad5e9b4e75a1f7adc458db0c7c267df0426d47550f02fc77e7fc459a23dbbf25e73be47f0dfd61823187c1474a5010886a7496ea8a718ddc064675ea23b6d19191e2347a1e1feebe441c5e7bd5fa6b801eb2abc1426f6dee4345f0d829aa9de06a84dbde5365e7ece93dc05ea1210695c2bb60d9e2f455d8d44dd2b25d6c532922a1a6dbf8a1396290af9158ad2c590d56e167eff70a0fbb1111175cb348b9519e0a71d422992d9125a110bd90f37bc44ea43bacc30be319f7fc11b0cdd844b47426924093d0dae8f7bb15f46d2d17a726ed74d824944cf759420ba0990ef6cdac5fe3a24fef2b05eac97b703e0edbbad06a2a4a02ab93f9dc4cfc3ca225fcaee566f0083c5ef6eaa4bf84e2e4d419f6e484d08ee27ca0c710b2a0eb9b020471688ec5ae29d38e66f2b337a77bd466496156314535426834a1b19cf4c432f3a49639c7155e1b67dd5457c35c5e821ded9c1b144b55b6c02a91bad59db82900620085972d036ad9f0704c6e6447a470e2bc74c44e6c8afbdc79a179cc08b5b8f096b4f0acb63028e6b27119fa4c969814eb408f68513a552c4944f31e2c718c016de1d9d37550e445352dd3670c68a3830419d8479ce2f42e290801f3a0f771e9a0d27608b92dcce97a159be9af883a6adda22467683de664864e90b6c6fdca287aff61886362cceba9bb92ca22555b41776296abf11df3dec54dd6ad03c96a6f72b3eb69ca5bcbbe158779c664158208fbc6f017b84589966d845175a7b98e0b2cae515ecbf930d6537aec136dffd7c82320a79303446b8d8b8cb179eb1a565794c51761ba35633262a3358783c23f9e0eb8271d1d45f1642c27a13fa09b9ea1f67ede8a46f47755fe2e71aa424569d15381f15f6f1d16ccb344274f005c86f5c42fd827119fd2c72fcfe340702d08a56f9da3c22baa603993be6f50c08d676448bc6ecff7ee9ce47cae0dcc9c26d4b57c5a96102e6c48ad2ab11e995699bc290708586a80d9ca1009299837628aeadbc3f9d85b9b331037c78618e98b3bf0d022d1ba32f546173d1051bc8e3d8d48a4ef0d9d956df88cc2aa331d37b1a7478595b7438f83c5f38c5dcf9ef1135500c8d42ff31d0d48ad34a24d91ad03edc2fb457644dbfc2ac0eebbb184c95d7e46d8ca248a4d498152b29a9c55f2a85bde820538e1a11c0d8960ba71000a32f6deb93abdf5c99a185723b6c0effc20ca2049c3950e7bfcabf8b26281d0e325becd93e85540c0207181cd1b78acbf0cc2fbbd5445f7705336374ccb130b8be25564e47855435fd9ecfd0abb79a717bba086645072d121967d4f603ccdfe2d9d3452797ffba08bedc6a0a2da42d0e43bdac32fda3ddf35b41e66d60e4902cf05e6564c41d456a08821a2e11d7688468026a06a9cded76c97eff91fa57a8fdd68e803b3b839543e66c9ad942a7dd2a968d759fb2b377c3a4f11f171cef7f1d80471558f3d103e4e5c4fc6ffd08e2d736bed894287cf52cd5af29077c657b96c26642b50d91bb0d4809fc0ff04e21e7c118b5fc86395a76d9a99d2bc82a4231c8223f4d0685c4797e52bcbc9c43ef680b61df1a3ebefd81b7a83d39f396741f6cfe2240a9bcb6293a53f0e022b22ecb8f2b3c37d5d9509934f185c8c567bdcdf90afba0424fccc38097eb0e88050c1ad2af3c096afd1c34e2bb88ece76df988e74bc4f50c72245e77344b1026829a61e1100744278bcecffef7049ed3e3ebd22812ecc4c075973582f8eafc22a04ca6bbcbabc5189eccf932c71b118d97733ce1728f218d98d44bf0196668a0e75ad4a2370aba0887a65dc30f539fa5d591d4f220f4d0c52ca92fbb924a12c25b410c6ff98644e4e8c6f40953ac77c728d651b065bad9f5f2644d1810d4e5c031f7fff1513601f6104f3a10f35f2ed48f687d64507c6076746abe4f24b1c099154cf418bc37a78ebc0c67c3ff91df5e0976d5bab96518abe057b1bf1a24508babc113a086714a9826440d25c0b8c5b7420245da3214287dce4523801023a3d6aacd2b65d4b5e1f35334ac4f0f39e84bec7ace57a4280950e1066f536da9d3fe49bbc6d6b028e913e594f9c298f1065e53ac48307c4e10f3ef82b775ea3bf136e19d183e770fa8f66b0ccbd0d3f0a03a63aea34a5602d57f9a896c104b90eee9d52ef62c74688eeb3c77d2c4424cd8a67996ecfb58190a5cc4a01be7b92ecdd0ae00786688746f5f9ea46b96960232440e0644e68f2f92a1263430b091e19181c67faac33380324de83034b306401c295c7ef90198c2d038bb95fc349cde838ab9e488619c00b67d5e22b1334a7a8894a2712145004095fdff97abb12b35ab5cc39b6cac464d1267edce87fd38da8decdfcfbb8128f5dbce3f76b128a8caca7c670e5a7780b8b0a323c13369565d582b914a7dd9b45acd75398d9d9aa13335681196c7c546ad77e8afbdf808bbb6dbacca34ff46858df8d61194bf0243d56f3fb4421098466eb4fb783e20a4cceb5617004ea9fdc80a7b142277770fc3bf5e75f0dbd177dfddbad9e4f133d82d68d883bbf6c229660e8996907dc99112de8aaf4801d23957a4b2fa4ca1624d47cb6ee1c5728577a9a566eb0d287169b9d6806a4ba88a31bd3f39bd602b84231cb8d9fc96e845c1b2f2bd2dae465567ba045ebbf5c0a9430f8cb6c681ad577a6d01c8d7604e9151c979112ce10b56445a1d4341bf7920da67d5082e7af2ef3813bf38586424a0de046ae0811bd5d7cd044de11c3205517233060be20545296be50465d9e915710df483ec7cc8c6fa954aa208243af37963af96feaa080da11b17047512b4101173d8d030d190725daa2e64399b21413168893f251bf83b4069c7e0a01d7d776c7a56964857f409f25b3f0bdc8703e635281dd8b2518792b72e20d01afb64e96ecc4844f2b8858017e22a04e75d7f95c6ae38e1ce6fc64cafe1cc626797cf2a2cc5b8a44a847f714cfd0492caf6ce422c47f6ff3feee99a7fba4717d05a186ee135bde19da9192f07932dcd4b43d208e9ab1ac6fdb12740bca67b495c024cb343ffd0966785e96a9c51bc3b6568bd325664586ca1267876099922b8ad433861b69e2ecb76626a6f1d9513e2d05816432f40c57103c6ac663f1cf9b9793e8bd777ae3b725904a32fdb88915edbd56a8a062fa613268718e8a9b08058434b6e2c9e57abd03cfab8f8f90700318e09089c4692923c8f8dd6730d1cc1658107e74c93ad0b78cc759a690dd4bc3cf8dacd49ca924e883bb1f7ab57c08b40506159ede1b10b72b5fdd43630a440c7bc5db9992dac8e72d25d0325d1341c11b7f9e5ff6fbf20db517c8cf3f7c71d34f51ab915783571a5141ffa9027fda144fa9f5a45bcc4589fecfb8f06c271020aeb370c95ebed18a477b118d914bafa6eeb20cf91a3eb4866c95fad80a865e1ae0edd6177ca2414c0b073cc8739eed0a212f50f984fd2a3eb8bc8ca4a9ed6ddfb9b77590b2434056fb1cb807af8788ab5a82c35abd25618944aa69c14abc33b0fa60551fecd59a59f70883c7cbd668f8986510d2066b45780aea98323a4d94b1019f99d7a2028f6086a01f20432b1e07c1dbc4bd4949a5345529a843c912b1b365e1331ca1c14c4e3dcebf7ecdbd19db08e791be9febfc1a52f88b955682c60296085ea5bf2615fc6ae5504d8e6fb24843506f2624a957271b28bfda06d9e75e6d7452b96b6d90afccc2ea50c4eaafc527efe3b91e8724388c8eb645afe9a7bd66f9ff6551e7b2dfea02fbafb51f4ab89ff0360c7d7e96f900758b81dbe65b8ae0a8361f60ea4b2a312db58fb897a10d710af13622bc0b36a526f02faee8920392ec236d5e2b3c030c86d5d312e166e3b14a3a8a9bb41c04c946c7d3dbbde59585fc21920c47bcb52a0f52ffa0e86bfa7f42f48ecac721e2c4c0ca3776b3765d6989f6c6eee6495e2d12626ba3710be219da8d791d15b84b8c1f9951f80a976cef8e6437b8793a3e8b830313146023f7685f35adbfaadda9875eacd6a5cc760e64cae2c5c5096d32c8e997ffb290369c80b08f7cc6d59723018094267bfdf49ba6458815a857b35b7cf34c1d321189c3b7582aa1618d2bc6660f86a4aeee68bb379bc99eab65bf6468fd0d2c03040a1bb2630f66a8b80c4763797aa8483458f6e9e202ea460727f4e45dc439c61fccbf823edf16bb9881006516395b87165750ec7413a8f92194c253a69c9493ae3fd1c52133374a174c6717107831259669ed229d638159df42bbb12db245275badad2ee908962a24300fc83ea084192cbf4db71b5c761be15ced0211d35826eda72300fd852addcd7a2ea880d6c9438b96f0e3300be7b6773bc93fd7ce2310b31b202ab52ba0038502c1929f3f44e8d5dff39612e62ae56089c870f26b8b931cf06d52201972907c544c6b6e50a32bf5905a2bae3fb95c8a79db2dd76b910dbd70d6690b35952628b82ea5031abe0e5334b282c2b7b5d8d549560f225e1ce23a8dc9434202cd9a0445154ad819af88ded90ec3ea990886e67feecd062517a41be96ee3289ba89fa272069ca1a1be93ebabcb4bbd060c5bb37a6c8b89abd75c1c9f720dab163f34859cc8d7700364f7f8f827d46fe2810d8ca9b7a05692e8bd0de03de3bd4c36150fcdf44d162e40e499e94bb2faf043f98bdf53d9732f56616530d002621b1a783f2bc3206a8b7924f4d2fc5831d7bd42f46a59e87ef4c5e6e244929dc7c7e1d73fa899fd8dbd6a6102085e1241536a54a50baed14314b357276ebde60aefe34263b590137053283ce4a6bd4f44585e2d5f7f9cadbea7b7054bdbb86941f6b5fc56211ab228b15da5735233b1eb7f3e31595edccd861948ad29cc12b146da8d50f766d89bc6b3c2cf8385ac7bdb7c8d7713c0f2bc3fab81d15ff724ad93d5b79878877363e9870119d5248a4757020dfd584ebfc0e14c5f3f44234f59570b203392feaea5922dc36a6023bcb0dd16a6be0fb68721f5c0167a6386f06a27435e63fb2a8635e7acfbf6aff465e07a824ec2a538db926f4102a9833f378de59ceb09e8a9e1d195f34f16f2ec4a9f0adc50e101aac5cc9e028096d3d2205e85a45ecc80b549658790e32746740d0ccc466e07f26e463fdbce036692f34d6883f36d9112f2503997cefc77c88d4cba0b1c1729eda7a6a10e51c8d5996262fe9402c001e4e4720d02c02419e0b326fdd3d8a90662ebcbe836cbc5a50de50dbbd1c972f3765ce2b1187555f85388f6bbe8743f66a5a21e109a55f0b6d597dbc64e94177aed500f27eecaee46b05df7fad404f914dbf2c60d6017b5466f87985059bfb47adc7380d06abb556e74470bfda15a0ab802b5093055cf0d7f4c3482d3dda313e989648d8d7649afad8d0832f81fb94508c2bd1dc1921585fdc627ef64c676f1d6f6ec0ac213bdf835eb057b27326b79b063d6cba916af91984ef009ca6fa21274ee326aae930bbd3ce1c9e989f1c7a0ce4c89afd88f6c08086622bc2c0637d6441562ce6968dbf27ead99a2f5c93dbc15b8eb9209b2516acef1995c1c766293b61d880a9ae92a452ab94d71dced28bd166973463d47b821e03c9b85a056bedd9ae8a85ba58218f25ff5f6f428d53c04ad9f1c5be8f8c72d904950a0ce478ee19a1f53b3df590718733f383a2a18813c15a1ce1ab6dc5bcea50196ba42dcdf55ccffceef4da5e71cba62f301b555b73769cf854e95e8217e38182de60ae0f279052c50d8d30c6dfbb7d47baee5109cc890161bb1e728fae1934d2fa893b2d70eeb0361d5b899a82c1bf9638d04ca74a4f9b03e1d559a394767028459876f0e3da0b685fb39c57abe7e23fc81b1f919337be7e9830249ab32ab0ccdc02241895ea0931a3f1062baac01c7fab6805024f441005cb9834589cf053403e99c816ce819e4816a6297cdceac8cfdb4cf799050679277f5eedf7171764a921f22a71abc326176f533f7dafa74752e513abcbc704bf69d6dec504cbc42830257db84bff669ab3db6109ce0a01fc307cb4c900433095dba3f9d355255de32b700b409ec8825d3ef903bf5983078e12ee2a5da4aa7968144e7cb5042deb93200b8ee1d6e48602ca4438dde42992710bc68c8ad2b5d77b79edccfa65f3e944e5dc24cddafc113c7a08f12a54c965ef44bf0e057e8fd36a65a69305b825a0df329853a9141b6392c60f7699aed95f20d1aab4319fac8c993f3957e35afc50750c20224fd736e3993f529095de9c65a6415c6f7003da973349da59be5b07a108bb24ddb031bb26f4c536c7c6e7b8d18c0a935db2b69b9f6a14cb7db77ac241580aca9724662c24ff5f5b485bb042e71f43e3a653470344eab14ba37e44f248f9c03dbd87531990c3a27421df7de12787249846ab5a73561a201c082b5c9b047a7fdd01f8c644d17b454289f3da49772852f7a8d5212c995c245e6674f6380e1e5af21ce0bb570c9f3dbf2c6ce3016f539325e963b04db802bdd7fa19fbce2e2239977fe3cee4bf5d488a30ec85d5edfcb86f5cb069924128e98786c9a34d784d565384734c2ee42d837487a754e1ecb1ea2fed29afa0799e6d1e80d53399ca93769c76e1d62d8e1c9ff4cfcb118346914d4f9ceebd263f23235051eda437499c1622ce91e2079f19d1d5254a764234f0c5e753cb8603a4546b02143d6d80853ea76b5bb8fcab3d0c16265df3251c22bd4ee3e9430559b11801b54d067bb801e8b0e292a9f7b24a86898efce74a4250a48d150b2bfef449dcedde3035a47f7851efae4356cd8c49d866c9a904e49125cb8eeeb49d7f0172023d9d8b0a4220a5233fe2d3d495b5e7aa850c51873fcaf52b454d8f376a9b87e23be59306f28b39dafce7753d3eae0eb9d2b6a5d8c7b4c3c3f1895668afd6f52ce9a42dc1f92ee96fd57c1c4d7a4dda95f1f0a0d65790dc33dbc23aef0f21c79df5a4c52ebb9759faffe07d95da024e6f6bb73244cf3442c40af410545e6e30bfa03b091c31de2f8106a2dd3e14f7b93462beea3c9a47bba755c0348f9fa080b944dbce58e209c0fd5c0d97983fa345332d2c4ea67188772caaf4ef57ffeef87ab5f62671c28e88bb1d04c5ad9eb1848c509c5ef4c743b221bac7b5c8e78b2ed5ad65aba5f64c652ce0f2efc8d9220174554446729577763d0dfb07bf1d31f5ea367841aba18009a3920caf3f0a3b984e9b4b06c5f9ed0b72e6f4a3af76398ce1b59a8410617ebda300b3f4e71525432b2faa913963b56902e0ec8410a9c3b83a8665e19e0183837e67d7141db6e3d1e08bf58d5a95c90c9e067b0045bbbe7e0e99302dcd807e981737660269a2d433cdc44b8d71b8d8900ec8884f76ddad5aebefeb14df1a094ffc612b2dc6dbfaf68cb9962574c959247518e8ebfe24a6a92402beb7c0d77ea31af679d6d75d3d5a99074a8c9a2c836c516da873e2fdf65db288470d1f3683e90a330cb53795492b1a3574db3a526853e744581f390579c8286a48bb8f0a172a2edc8d73498b1226d1d771c282316e7be8f5984952aa44d16c86f48cb28da08e5737bd3a85cfe0ce80296b8e2e544cdfb3379491a055bec7dcb3a65b1d66f7c5c6df4548ab433b668d4208a66b62e04a1d3c333091b887ecd784d30ae906af7ff89c355b7bd98a27983d53b1a6e306aa796aa3bc56825c6f65a703d274e04faba132818f05021823a53c7d37cf53fbd083ce8aab0ef02f47435c0280083eef604fb80443d5df994359968783e77d870bde938547b989d1f5698f35b582ce23ab6176e44408afdec259a3a6bd03ee522e10183d6d3e78e54ddfa02fe1780236767e22262c204b7697cdc6b08366e799d92777db41a6faebf18250b75c41c4ff2099a4f98434d30b15c93a7702728c19069d5e2eb2c5b0cbcd3d0d27b41de50310fcd1dd65b5a18e4fcef270250338b2bf400009cca2dd2d26defd8184b260882a963277107f40c996c8c37baa2a7eb21839b6accae84fbec4bf1d228b5095f341770b971f9e28fb8f724166e4cf90b3ad4d971f48a527b2de36f50701d1ed2e8ab45720db0e46fc0046496b72b843c3041628b4ba1086b1eecab9684350cc881ca4089489a6d3b3eb66274daed148f9c9948c942acfaaba8810c011d6eb1e1af778c26b9730079f3e2878526c2bbef91a1bc124ddaab8966b11c32f001d06c97f0864c0367c7a25098bf2cd6049dc1693947dbd9681953ec1607a1b71b4578b15e68ebeb7ccdff97c7133bfab4d57e20171066c2faa443368f8e79e384339990f7aa86f9573a64eb6b8e9a3137e30b0ebe181debff747c303c47711d3042f54a76cb89c58b3413ea1b2bf1c45ed875c1f348f30a2d550f03d8911882c593235892cfad50d117928a607055df12d679f3ad4a26c652244efb72fc913765b5e8395d5d84ea793beab8236041445cd43a379a90368df6d6d6f3490c7135a41053616fdb42002653ef325d1bff56334ef9dbf945619a48bc873b33ad33ccdc8c11adb22424aa95a0a9c8080710ec84a80174442938672c525c0851be12295c6e60cef85968a146f4f27ea9585cb91dca41e299dd9a555f066842da5ee73797ba071769ef4b8ebb1bba65c9c69254f5a6017b7dadf5789f1ffd2c7ae8d1652075e6ec060f5b3865a92bb35d9c515f30089af99c489311717d8b76688b5c98f4b730a7a02fc81a3ba38bd5e0bca933ba09bab20a3f64cba3e27d17d26ebfa558f91c5c7ba865ddc84f88557de798b588e53dcc4cdb88e5572d312a3ac722a0149ab67dc4bd1feee8d0344aae21a0523b6d6678da5472aa7e775853b14d3166c3a854b6c5e8c95b3102c4861fd0014410f684fd68fae971c258d0425fa65fdc12eabe6d6115c345b747a2ff97a0fd7f97b6fdf8c189ef553d8c994ca32ed7959eeff8ab164613fece1ac2786b35d0326332a12d02d2c327a41bbba483bc136aa85ea7c535866a0ddfeacb41c239b1aab620070caf0adb7e71865035aa5303d727bf35d3744bcb4050d10c75e3fd71e33ce758b06d01e1c86638fc4ea7564dbbd00a775975d8fc36a68bc5483087ab396a84554af09a6961443a47e75542215aa262c60b1b3637510135a495ad9a9a0b8075836212926080c4cb5e48d19eb827bd0db84a1fd748e51d74afe9486fd9f460ac1799c434f1e8324290a262a1ff9984ddd7f42d47f6b0c91625e8a9f4539417b5a6030ea693fc8de698723a96c7407f88a3cfcb5399478ba1260c0387a77b468d79136bbb39db31c0f95d5d35a4e62e748693dc3b7c26926a03e2cac4fe963f5f1bfd9e71ce7e1d0f86f4cb33fc6bb485a1a3f412791c930863c6d2c3c526e9117b5f95e95b13f7ba87274c012824f98029083ed97229d7ad28ec052834b377ec2a8b92842746186b6592291e3e47c0cad8fa09ecd221631c49534ea8063a8594faae2ab7e7b3aa7d5fb4f196dd1cc1af89b55e25cf386dff44fc1c79106ca1542bb67c722a4bab272782052409903519082dce961ae6c573fa4c6a626231cc01c25b3240d7a2da8c8d4f5a014ca86f169e9ae6b95ca02e0a0a7a500b1f06b649ff9e1c416b559fa7a026eecbd1ab9ae55c7dc511d7c82d1927ba94196ad7ce2a8029d14ab875a9914552c95b8a164bd55e13f499ac01fa55e8a6554a375aaf62958c6bcb50adc853448463df00dd865366bc607377cd5d8fbaab9133f8da4220981e0d7b43a9340ca2d65300d282909c4a11da7389db0d6a797bc9fe25ab9befa043a6762481bc7ebcf4dd89d61a07dca086437436da942871feea1b373d9c409ab2de30d4596f509060dacbbd6d51c4b1809ecd7686caa3e4c9920b198e3be8e170413c2d17cc2f29f93bac9855e3ad55e38911fcc00b311ab18fea41fa58df6000435ff197db1989cc19f3d44a3e9071761fffc3f77ad6fcc03d587bac0c8743c775c63298bd0415fb5f44d37d1112eed5e50e328f794b8ccaeaef67c4c953e464e0e02751317672d7306b0ed32735b5fc92bf9e7be8a11d74fcf6af543d2623df34c7cb89f775330f281d2d44536de878115c3ccdfe52618258b9e0524ccc6e8524f7dc303e831f897f50793520b16f8e76d6dc8ce4c336357ceb086d127fbc558eae7967241bb597faea327a72361dc342e2cc5dbbcbb9d869e5f38665b873540a3d5416d81530d0e72f7987303fd92a08e806d1b5dec40fa656e94d285b27478f2acef5fa3c43b1b58e7478d8cbcfa075cb69272ce56f457ce4ad6c6fd96666d740fac60c9f539129d174360290251f62d8bb3591875d8d38513ab4b9bf5abf1bace5e2e079a467ef1f802b83efed7308fd5fafc99b6c2d08754b68b451aa61917209f475c210c31c1271ba7f0cf8e7b06cb65d9e79419958cb8e320a4b87165585193a38986f7244b9122513a846e3fa0c378412dc0f18d790e52ffc1ef66b139c70481a0f7a8eafef99b9e9382181cd0cf7643febf6e57cfe100eff9aea7c83222478f8c39f342a8b6f853aefaf101f1f935765a1afbb4fd62ba6702bd83c735a3ee216e790ad68eb13b664efc7617960096d9b54ce2bf655bf5ae92a010a675d18387885a4172e4f8af75723dcd9d3fa98c98e40d4fb9f777c4482bc7e0545e4aaa1d9a0c9da8982f06e4f434eee5ae0347e4da7620be5bab7b14a0de1986a271b3abebdf92dc2ef6ea66f419d22b756b6d457567860a1a2aa94641c31e7dfcf354b5c4f69a032feffb41f5b9811d0f970be249c82cc4233f14a194b87f7f8d6977bf5d6eafd8dabed998892ccc4ca60d4058806ca14c34cd7568d68fc7ceab49d14ef1b1c3b0848728c6b6226847f6b20fff570a0692bf44ec2f8ea1e186cf1c1f5ec7ac3d4f6305a54228b9bb1d799826615a742adbe0d6fe8d1221b3adef31f4818febe09dff42d3d2cc0e42ad40a1ed44b825a3a26b77d9cda74918e0dbc21c9f132379b72cbfe4c6b598e1df1ed6eefee3c914bacef7e3e69bce8a4a93e2c51a15c2de260645761fe49641faf57433af998f1bee7238044ba61bd61730fb681a26c79ad16a33b2c68532717338fdaf5db3a1a53fb4543505e68b824f55295869d1c761430adedcfbb5db64e8c101adc4c8d0db9070695d858bc04493723ebdc914fad5e5b123559025a90791ec4824a22c218754ae905c6d6d8ea2e784630169ceeeac3f822fe6341d4705cca696bee41e6bf5452c1a9f545b64b80b50c80356f280b67c903ebf19b51780eb401e55619bf6b68502265f39ed3e2b11ca8c5747de274cd54ef3345e94e589e91774cb46b08752d57484e7be9d0d6c8dd881b304fefff32d8419ec4b63302cb30aa2af41a4236a7d3b881cb55fa300383ba61e62995bf615bf31f8edae7c5515f7fecebeebf14ed5a365e08c5c1912bf1f684ea4a6616540bf827eaf6385ca9ce33a1ed7bcf2206d1c19a861de073d1f6df15a1750ad90a087d6fe058987f2c6254727b62c5dda21e23ad8820741d27c6794f1c2fcbda1dc41c42a1fe87213bbd993e0992d61b8cf023c7ec53a7b011538c75417ed081bab18632f702a7fed5cd308a5b57f522e273c7571a3618577f0da1a04047b0c27d86dc0521ffbf636e3563adbc855897c351e091261620546c28264dc37b41434ab1b97f44b17d98e80165dfab4f1f3b4a92678d712378d3006581d5b44ab718f62ee4e04b5dc39eb99e05b335f87fbf34824b0c2af8e4665f487a35521a90faff0c8c45cbc676da79f1f8e989e1035cc96e25e836b0ae4cbfd77081931d455d3541d1d83d84a4d93c087ebbf2cf6873952a93677cbca986bfeffa661e5341ef685f6c5887fb34bac9116712d8006ab6997d5b0549119dc3bd760ee98e6c716fbdf3ce3505f7f04b84a3da3fdad6e2de3a43017de4b66bf862334116dfd04c90784b6334a46332d733ae90b8bda3e73d20cefa3b24a8abaf9ee5455e520c4d0a795299760cc3db66d50cad5a7b29de4a66414d4fccb1187f46c9f8d78e354f95cc4be7943157e391b23abb5fdd39406e14b632c12304953064c454d03c748f7db8028f3059273db80b49ccdb3ac4ae3fd60b71a402da6123de52e6791b55c4982974b462c5bd22d80811abcae9d8a9bf6bb3b484e9b4701f54a017bb92ad882bf83842a6e17871e5bb3373b60f11704245827cacf388220e48c326d7d16a94001419bb4ed19b8b52c72cfa1ccad8595fe9b9af89906c10bcfe4999e57401f9c4310063064b542d0bf3b5382e78e83f38dac4cd44d13053ae3afc5e7e20cc42384d5427e79fbf29f4faae558e7bbbef02fd21feabff9b2bbe571f61f7ad4dd334c11e213a6f928f1b6cf01bf372b64292c34a20ef26f3cd35c5024d72c3f327925d73a5e9898a47c0963f4a37cf76d02e2e3544f0e38bb54176cdb07335333f3fba53e36230ee56c95c36e7a829380e497a33cf29a67a3ec61ed3c6fdc15f05f584997eca69dc3f248fffb10e05d959dd078d9783482215749050e02901e2096387422844bc2fa0728dc857ccdf6b65dc6aa5388b844fdd2e4036e9f5bfbfb31cd640746a55eaea6327d51600514b4caf3738e3e6b089129cb3d9e8e89e57a2ab42ede7201b1de30da122b3edebea41273b030e4ca1de4814d9e43a68081c5bc57f9a19203ec090b74ce1514c5531ae0a15e06f0d867180e7508256f3fe78bfd9669187e6eb2c370e81f277ecc898a4ebe5997241ee37d4c313ca02f51179d4872899eefe4c453ffc1de8c71ca3b0889a30a3e9a9ad4da89b98013aa4345c35ccb94cbb2a647ef12d3a1701206584a27380f6928ceda07213e8100a0f848fbd487082ecd95c85d865eba2d12c92a292aeddddb286160f3e26aa06b0fd8c2d4224317dc5c15de12862a837b0e918068bf162fdd8225cb50a9e8cf8b4ce0452b30c4afb0a2c19c668105976ee58c4357246b2a534cbfd383381fc3dbc2c3fde8dcbf6398d639a5d6f5a0d495bcc1f722a36b2487cf292ff438be72bf8d5c4af8aaf61e89c561242c4110e36c90cb2a5a50971ffbf9725826aec5f7c8ad745bc0d3de2e813f9086398a2ba074d9a1a6ef603c4ee7facffbb223a90bed3b624e682c6edcf29a3352d99c7b2bf3d0a862ed1526d0576911f638b421f5b2c45bffcfa39995d2ddf2a799f03bc71db808c34d59a73e64d9cb906a4ee824aae56ec75380a2b382d43bfc191c474901699a06bd6b7d5074d9944aa02e345bdb2b9f98081a4397267a8d5afe5ad95207788a53aa300ecf3c55afd1052dc5d3a2c7623641ec5ba6ac078d83f2f1cca9e09a65ce49211fe9d72701564834627f9647ec027ea311af25de1b978a1c92f2e4b1c0148e692dcb0c43c18f3940919afa936e8dfc44b6125c8f9965982701d9c43613b86e697fcaa55efc71fc989e8902e2acb86ce0cc0220dcf631cdf4be6fbee389489191818c33ba6603d3b356ad7dcd307f60ef67bf758eeb162c0452204deca7a8f6e7e291ca039071c8199066f56bba90192e1bb6f6718eb278dcdb50c88d94990c32bd30ca34868361fccb195b1584b3037ef70bba20c03f4941526d02ed235568b5611c34949473dac330fee0593ff584455b2958397c5b4780b732b4abc6d42da9011c116859f84dede1e01071fdaddcc2d6de3b1859d180d98f6d0b3cf4b67cfad8e00b472ff6b8d3155ba20d459e415dd4de70adcf85e53bb995e3ee407ba51d1e4e1b1aea0ba4964828d6c88cfb7bd7f2c452bc230115a3995e72faea1890bba35cdd3801b1f3cc10cdf07808759d984c0fcaa507710a340e819623f03e6ab995147df155d365cf1b6d2ecf13d0998d9836b88d2762e5565585052736c1a8f2825d0ac4023eb58333136da6b108058e3847aab7bfb180816e152aaa81ab3fd1263b58d2853c6f84f22935c1b543562a82496cb57221345ff402f403c0417d520cdf889b50fa5a39344ca287abdbdaf771f06b41554a5319a17a72d89ccbc5f8b6a7dfd4f0504b1525cf04cbc8f818336a22d955d1a857ccf6edcc44107d7d985c076f32f08f9e64db033d1a58fcf5cdd2fc25c3fce77d2e525771c57bcb0a30fd08a71d60299e9b9a6d2aa87572f49d2947794db0c130a2425227b30f9d76c2e309e5069bdaebcb06f634a75eff81c19975cec8bc7769ab373670eae87d42751d8c91b4041faf9ebdc5521c7b1e21314dab210675ca845d5510c86729a8f4bfab97ca56ff021314f428a3e645a485dbcc4a2b87a774ec59d9aa911e624de697d5bdf5861107a96f6957131e33a74c3b8458579c9c7796ea0ac5c076feed7409922d74922abcb95d6e3b8123b261c3d11f60815aed2793d535e1a2e1aeada5544dde9bc47fec339977144391cc6ef68d672e18e7e55b8cf5270be707c9cb655c6f1a5571ff118cbb12c3bd5650d357aadff5fbba36d0acb9c8798c7cf3e074a3ada4f49f2f44403ecacf50c8eb898664908a62bfed3d5fb966e316b1c1178cfad8c5f80187d18b680d9b8738328610c6f2f6d6440b0fba9c2c74ff4a7f72e5d8b74a97a77a86f7902308cd31fca406b7496150042ff1a5bd31898c45e2c18f8f117658239ec9629c001b21fcd32dc66944ebc8e941ed479553ccdf1f4071143c9cc3a607d15c2a97fd627d0c4709e46c127f6c5c845f403a632bd1187bc73d78b394158118f1ee35ff0f84327fa5855e3836b31db43a466d2778099a41aae4538afefee9f07879c34dd8bc7ac5c1b57444cd6e9370ceb68c5bb9307907224aaecfa2","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
