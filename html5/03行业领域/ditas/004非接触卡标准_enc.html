<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3b81ff466f7e905dd406960f9ea48eb9ea84d0e897c8e4162dcf263af95059a96184481f87d18c77bb6d7f184053d21689c7006391870bf17a7c5eab61221b191e057088035d13ee2da6fd7beac98497046132cab5a07415ea32cd305e9bdbfb849e0d026c207600f883e374efc47bf2dd8b3efd19835b91faa032627ea303e791a8cf39480d4e258e55f85ff29d97ddf53145213396b655d6dca36ec6b06422d94d0880011b18007b4da6238f91f4fd6ca5cca9c58e5394eae4f95303b2cd60b77923f1830665e21ac9c5a115c2bb69ee4cf7e9b7eb8850720b0eec27f26be0cf7aca97b7a0a46e535551f996e278c97bbcdc71a4079a7379a42b37af9eedade877fcb815d75eace9079ee5294d6857133a7d5847b31ec4945c7133410eed53688a5217533e3f0ba6f615159e852cf0c624b8c4c8764a196ba5c90a6beab4f4953664ba64d1efe7404ed77236366a72cb1055c91464a91aab542e277f1ff950b1ba9246dadd916941a7880cae1f0bd112ff75d763d2238aa2df716a1076da1590cf75b5c91902b04e1972d0fa485081a266043358d1a4de0a59f4c3121b8e20cedf8fdce10a4659db5003077b5c705ad9f27f8186e362d2d77ed6844804747c7e4a96cb4d94236d93a9f1c02fc00d19d11a92aa648c000d34ecbe64417b2c73099bf81ea262439f205ca70087eb45c71c21ec86ef5412c6a0ca433eb34091778d274cfb5ac954723fa4f53db63d7e302ea138b4d181ade7fb3f796b9a4ed8cf86d8503dcef409493842e2dccad607cce2a8cfa6febc2a66be15158895615b54277f5aa97707fff13d0c837cadfcf2cfd872bbda034ff66be2c49d828e9a6f6bb96db5100c6cada1efaa9fd2f394dacd343df69936060264a8652940f799876b30b05afaa40eacd17b65b543b2f5e502c6602ca35baf9a0521fc7075c9f548be24bcbef89257dbf210f8f2e3fd78bac29f635340a976581c97d5393fbb1b13c88e975f803f80aa27f8e790ef1b1bf2bdcec358ca463baa74621ec4e9f44b57941267e00afe700fb82f709f580b44d0f134166b622780502c1ff6334a5781fc22b55216695e17ff42ae140576a7b0f755d62a05716078e0eb2a17adb231c6228eb1b4d4ae171cd6fa04efd06acd9eba1c6a344dba096709b61ae414bf360181de48fa31452b3606fe8c520e26c6dc7c1418faafca533b996af92729bccad6fb993b9cee5d5f6c1030e51ba9f0af356a05f911ae0f0bdecb5f671ac571700976ee2c00c5beb71923a7c5df8b33d2a06446ce46c3241f34aa98fe41e7d1a86ffe3969db9cfcd4a951837aacb4b6724dd1c5284d0f594f53b25935fbb1202ac0fc0eb7649171565526c504d9c2863c6ee34e70377a358b466e97632fc8a431ce55dae1c2a3bf1d0905d4ee1ebf002f2b808a1380ae3b16917361e929a5962d9ef50d0307816a194ea425d90def674d702e25988e5adde267407b10b61e5c2da72e1d26351771f1e8bcff5e1133386c6fe14fe4c8f697e77b6626fbcc056541dacad5e316ab9f7d6d3ad555e2b32e506d1c80146dc965f6fc6c7a1371c7c6fecd3450984325f9241c4bfb34341b0db749de40dcb1231edec207453ce474ccd766b425d14896f7cc93208987c4c2e1f49d7b9ebd111fafa8d6431c9618d804090f36b3c7da025a263df2a763d822e9a35355d219ad5320125208b66cde86985f45aacb38bb6d41b22e943dc1c5e39078380fafbd1dec6dfc931dcee140b3595a7d38b9fe9acae66f61dce6704a508c0cee3ef02a431e831e9aad0179b4542d2236ff615bfd05156d71d7e0eea4282d69c81787b1b04d8558efa4fa64ac453e182fe1e75de0e95deec01749cea7aa4687e5986b60c2476d30aeb238ee2bb0dc91298817d932702dffb34d6e0774a329fadc18b6587294d26ee3ce357972e47af43041457e23f6d0b95b78c6c4ddd4c9793b605decce0c1f9ca6d6fefc5ca84da176b64ac5a7c7ed1586dddf93345248b7036fd7bbd85f0ba35656edf02ddd595c9f7473ea2edf553983e7e43d6a6cce031ab500bf21b004ff501d64bea806ca1b58e8250ea72f95739fc885936e4978dc4115417e380e6acea12efdf14bc7ca1d5c86215e7d665d0ac22ae9d2fe5ea0454b896b9d8e86c4d05a24bfe6200956533902e4f090a2b0259bb4639644ba485668aa50afcc0330e6be22eb166f4d1705d523feaec57c3f9b696769704468c1ed9f6f2fe4f7839f48535db89329af100df6ae63401f6adea71f98bae4762117a3d9b1b9dcc2bcc76467810fe1c745ea7cd1d06baeaab7ee94d6954761bcff930edbf2da99e4a1cc40ace067723070e190c16cea2c09e1edd4f02778932b4df1465a77237c4f341efac611ab870260b4c98010b688bd2cf03de4193413d63178927435993f891d2d1894861596e8ad3d78f979ad7d16333eb2e89a4e2b53bf7c9184c3845ca051703b47e4edbae29ba8f9e4fd184a7cf507e6a860d611fffd94eb40b2c63d2b910340dce5c9f13fa93b52111f68509e376bb228ab0be0f99c0f946c84c273905ab4f9f7ac1664dcddfcf95cb92d871beb0d3068798c080f51f2a9db45fdb4965ec5b284017785fba9f93fc728cc6836e1e39de66803ded918ff0d1921037c17cb22608294c41aa63c84d59e88f7c747a282ed2c79f6002bf0b5068e9b302d53d622cad5ada5a16bc1e9673e8a0c71107b3b9390690a32463650843e812be5b200fb93d9d03bbe5d6e7ea861de70900bbc2730d362f08fcd37bced7367ccc809c0f102e8be6bceaa6939ce67242a42cd6c69a93230178601e026681dd6f1deced730fd2c8666aa72ac8ac6898b407ede9884877ab24b45ae1aee54431c4171cad79de8d1ef5f96a9d58d8f13dad4662ccff71c283741aa1914a6bb9608beb0a02a925e0e35a7f74205f3c5eb8123a5522423a8b3b6aec132256153234a6e8350bfcf3ee3423c3bbe7ddb3cc06d4c2a3f6a1aeb944b3ab836d4771061c1b6664fea7cc4b02558f9801f61a92aac2dec94d8899e258dfb9294a2df1862c2df3d1bd6d4fb15a265dfd465f6c677d700b21deea611ef49031d0be251b8c932272aab9790c245b1838a1ec2550b00c3453e369fdf6b017a0d7426ee0d47170d19563b6a1964fb162436e77e31eb53800e7e549706848383b9c1f09ae9ec34530c5e043c5d8b65ebdfd3e0a4890fdcb508aeeffc6ba12ef8f80313629cc25584d361201c8a84bde40ead8de09eef92b62f816b92f6b563b24846b0c338a0fdc760b616dee35d84d867326b10a5a1ff789d8a417a1e0bc6e6080e324f18477b31df29fab2eb1252e5033942eca6dc913ec73506ec6874ccd0c1aecd4f45a1d26d5bb0e1d9c49936f773b094d047ed27879900ee62d7f9141fc5469c7b085f35023a9980473a1723a007cfec94c002a81ccb983077b4cea7ddafb3fcb941defe5d3b13236aa216e08fa430cda8bc06ead72f59e13a289e9dc417792cfa6ead9faa469eec8100610ee0404e93123d8ee7844842e20654f6d43bd2a1480d8ddb9a5e8932c15a92bc171ba9c342feb7b88cc3721b47885ee3e29d9c3ba4a473ed405fa27ef91b7a05f78d8028580a167fa3ef8fe6d7f107bc09e3db06c6f760af96ed3e57bf7d137544d45c49db4c58c5d3a1948a791f0c1d7ea81eddf1b5d2bb2c75630c06a8cce322b57c35c36a8ffd4a4eca7e23e2bedb01bc0c335b8d6dbd904a6ce238a3e97643086791ea2586fa3ca28b3bcea0ffebef81c6e27861b3aee7fbfe6bd0c456b8f5a34272370b82257f7738137930d24e607b4ef445d231f700fef3c4c3a41f59a4672bef5263f1aa02c0a2fb00302fef7e73e9c11e73c6111388cdab00806124f18793a9022932c233e2dc9e2320c068f061c7290628277c95ffbd3ef55f22304b4f00ca329f12cbe8ca17ca80a75c2a79b6a2dfd54ba9a6daa6f17b2d66feae9dfa40543e33d1a8ae97400c7089a5156377e5e33b2f8296162dd432e425243268dcd878eb54536709cc590719e4b934f0b0744b18c591e45488fee46cb30d14f8d07010da2d80800c7cf6916f9f8fa61d2ae701bb2608386fbc9266117d54862030f95481f9fee3a3fe296bf8686b12c0b4f9c30781002ad5461923ee5baff8bfe2614a7894c7973002bb36b5e0dc7b7f5cbd530f359d9cefdb11f1d55440bf190190a40df41966a25f55fbd0afe795920cd595e444e89fff7dd3b26b9a64f40292ee11e3964bfe7701f7ff3c4cd89d173a9b65897f32e1a70c0a2f34accad7fd367f7e55fedf01edaa3fc989e3f665a43eb07dfe1183e638f163222bbb36e10d58612620b763fba6565da4fec2f81a9c35782d713ee9e7adae0d75edfda77f55939ef17dbcf6d3e475e8b14dba3daac0877293a3cf7aaf08fac3ffb815ae9b012fbc7f976ade514a0c73fb0eb6b974a1ae4859eb7d2b53212cf00d98d9d4e1692c717bd69f0dd96a11ce1528ede623d800906614067744418cdb66bf5f93ebeb2da3bc5b537e2af325deb3caa77e83aa205de10d649123c17fff2ee4554acedc026dfa92072591646eb7f627c283483c72d81c007ce63b340b6994bfe8b1efa54212094e7b190e551aa8004f1f36a0c44b7891ae097bed1af4a957fc63f304b17f457746fe631e3c45dcbd64e5332793cd579d1abe7a43c6a50165753e026afb11dd24fb6246082403e90761a977ffcad2816b01872ecaf526c3e6acf9c3ebc1748fd151848445a5fc11ba6a81304fac8015e209ae9771511d029dccc12c9a928b44755298dcbe94e835803dcc6d36b5e70f38636d531a1d04542a63b0d85de093ae122386002d55b17f1fada0b9063f7e8aba76de01eab4f701d2d42f5a18be7df4d41dc6ea9ee6e03d70d05d09ea21ad36487ba4e943e87340c06576dd643427412ffdb7a3e41ad3bb59666d0fdaea0550a1a89f76921e348ba78b2e528eebafa567a7c38634ad60ee3582ef03cc19ff04b1952c8d4535d62970bf625512a654454e4d73ae0af1d8e04a8cf259bcec82207c0b81eb6d3634ef576b1f84468960219d489aa3d04ade8930d88255d1637b60178e27962b43c4d09118d2bca89907d81a903f918a69ec593818a6631b0c09e575c4e698bd3d5e24338505d7de4c4a1f00ef1932b432f7d687873667c7e8caf74dc772ae85759fc272359c6ce58425b2e09af9ae92e2f24ae77974351a58615296b7c913a766186a9f176e4cf43acef61b8827350de59bc09fbfec0fc6eb96c94084e5b5a2c23d939d4c4c11c233ce5918f3314f789a9783760a7d5f322477659f19105c4c720076f450e7355c768629ae74fd758703381e8a2e7fa417c07bc315b29fa6b6fa5d8882a3418834619e581c25f9f040774153842794418411369ad75f441b981b222519db3f17acf7b082f1a3e91f0b842981c531daebb346a2ed37393aa1c7bfef8b81ab2a0023e957a19e893ac4fc1eabcbe70c495f7584ad16fb56a2016bb90801ae6ef6a7374c33b567311f8ae6a06476b5ca6ea14bf1360f5ddec7f63f864e3b75fd9d710dfb4a0cc163f4c3dd4616102e2fefc93226373ef57d0d929b22a8516ae34e630514cf400d55ceb7513c8c88b551277b853d75507ddf079a7271ea582300deb13e7f090d3ea1cf77695cf9f906361143c2081aa6e084943cd591bd64d6db1a89e7218a2b0dc9583dd156c5ca5cd8166057ff38576e034af37f1800666a09b9a6856c6bdc5fd910b5281ce6e2ecf8e97d2383ddecec997b6ab057b4b967fff9e5748ef37d07ed45f17944573939adad7fb4c62942782fcb6b00d74a2f17847d6718f088d045c53f2df9008c2761e362626c59f1e16cb1f894836cd599fe869d2af43f65acc385526d3079b9a4115c3b5310347f21a4f5e792a70ad3ca4fde066a2fcd237ed61a8c73929b457ce470a50a233011a0a96f4623c773e3431ededb5810abf36af122f19c6e00d5dbda79ee562568e25c2e760417468df8e00de4a3129123f857c66772915d869ca05c34b3603a22d544dd9809c97fc3a3833cabec832ad113d3f73512496d4c2cb233cad04fc682090fe2c70cdd9a7e272e2bd2d65f3dfa62642597a1ddab1ef513a32d1266a6c8d29e4f3f289c4e834bc8bd0e07e09df2ae480c9f73d9286421cb069e6ac0d2f64b7a7cbd52bb20ccbfe91f68647c4cb4d84c2a2a146b58e11aa544014aa71919f888fc453d7376cb09190e398c19ecb34b14360ee326f3d60f607643dae92f7a178b31e66ab6392b5b98d333384c0134c781b5620b8d587cda0c2bcadc95ae8c06f99a7d59bcef401975b8a93377c92b82eb728735fbed5ba56c61a3607a14efb529cfa2856883ce0382ef443fcdbe7e7cd172fe6b61f5edbf8e8b56d1defc8a8188f77c6a13e17099257d3a47677f21a31b54041d852daa75585b39028b36976bc9bb4ecb6fdb8ec90b035a0c8512bfed21a0a373a3e47c82b2b0a3630b3098cb5a5129a4eea8a7839bea984eb5c4c45da81cf712fa0b084246f233929bd4b530eb4b2725aadf179c3c5fb5d5d753293011ea0051ea0fcfec1c7fe1829baaf3d4f0deee9a4546aa714af14f941895cd59482da6c9c267ef3dfa408a4efb572c12024d4babf98e05a40e185725c2994aabd0511d57eb37888d9ebbd578ca16822ab1607d006e3d1c4109892168ee1543d04730cede8886a4c51d6a0de35fe9379848286dd80125d4bd0daa596a6c53cf6d814a62aa92ad5995b0d76f2ce04e86af005295aad347180d9a87941e2628b6377d4080838259dc6dcabece59a90638a2be60bf9f86d46f0a28d0748ad45c6dcd5c0a823924b39d403cb59e5446fbca383643646fed7d4f68d7826e5afd7deba8d44482b0b13616bb65bf4b037d5267188b9dc3605d213fec581358132c1263c028c3fe395941571978c81476c2a7f3d8f4910bca20b4439dc1dbe0db7ba8f4c0a2d772e4549f14d5c91ceec84d93356de51c0ca15581a60c429dfaf913eb84068775e7738f12f51c6c2bf2a8b13127eed5f0c0a68242359d35631904e1b965452257fc29f06d2b621d5478e67ed551702950d4b1720fc23fe1a9d6abc907f5a5a313d6164f9971b7f88c7907a70dba27b8a6f8c0bf63b49bc16fb8c29216518d6f7e76efb5969584edd9dd8bf7eb7bc49b8237cc2524d1462422a350fd28aef56ce99e69676054a7e2e4317b31feae43e02b2aa59f0dd0b4b1b50ddfd1547ece446ba6df55422e6fa4759cccfb84fbf572b676ee87c21e25d509dfb5ef196611742e6742d8ef23189fa0dc5d46313359bdc0f0101e0a2bc5f2f6ab92d55d6db692bcef416643ad938bce36f5a11ffcea134b177e612f9c5486bbba5dc106bb2890090b0fd45abba2a7d5c4a989207f2540d331268bcf6f5353359153d20a5f6972b66c31d62962eadfa7077022cc4eefdbb93acb7178808255c8fdee39b55d9a7ea94b4642c7372cd891f0ceb558edb69b03650641a9ad479febba1c9b7e55ee220f52dd4912b47f73d0952eb0382906f92e06199d7390c245f0a515a3ec28c128cbb9294ff008cdb4440c1e45b64febf8a120f5a42bfc7d1ad7a5e1d09b690cd815e5d69708149ac70670f5cfd0b56c213f2212ab33d8ec717c127d49dad62debb7dc9417d4dba2b50dcb8780911424d1e8454ea3cee7c054e6db04e38e2b636042f7001c184fd9c33b51143b61c20c1a59290acad3b303a9ca0261b539dbcfe8bda57258ee57ccd40012ff84d8e7137c7ca44e9edb15da54d3c1fe9fdfcf4b0b9eb84325752ab10f0b56a1ade4bd08961f687e31b38af64989c030ac8f307f88c9834fb74becbc524d351ffb88d1591da48275c519a3f864eb2b070bf7b8c93ced9eb0e22421b918d7807647805bc0a184dea792c1798856242f42d634fc16181676f0cfa8d9be163ad7632075cd244a13efdc7bcea2aa60619b232e9565a68999a75778401887635b94528cb8ab706c951c70f6b971282e39de8336532a4229dcd8aa55393ff9e5774c367da1e158fe6494778fbe4c5d6b79d15c1a7a15819c0a516adff64cd40685e6d23aeaaa88b87f8aad809df26a0b13557f5afc7e65649683665b9e48ce29a266f5560c0706f85fd2431e1146e24b70efc75d616cda73d1d3af81c20c8735328a61bf9f33c25fa9a18c190800c7bb63654499e508806b682a0f726974dac7e62f0531e9425806a3e2ced11701f7fdb6ffbbd205e3d0423b0c2bdc59ad7b18916349d10c9c7cac89d2843225cefb87277b443b416bc5cd04115b06fa2c78fe487ed2330546aac2f6e8934a02cba90dc35b342f4ee0ffc46b0ae94e0a6988c9a8b57e82faccc7dfaf1312d40b714da31396ee90e8f6bbe467341bb3d1beda19e87493a4aa7ed268f507f6ac70db1c4af65aa2e17d8623f0f694d7f94b4f357350d16682050e8af7437bebd1f57d82b46202a239cc6d06f787e83b8e42c985c70a19438f630d911b7c5b6d826e93fe4c98fbeb21940c87779b8d02b82d46932147a5ead36257c9e36be07157ae36e7e6f8ee411d1134dc9af1f87b034ae3bd95b58de278e2ca5cb88399dff4ea682f192ab7e6db8cd81a48a913376ac209a9c2888c4579fee86a2c2d37373bbae0eb05f69230b3c5a2bf2078ccaaab1de8b969349ebdea283beffcd2fea2c2ad3e2e432a6cdef91f50ed0970b6985d95c3baaabb60ee5970f37140308d74ff29bd045099996ab2e91346f5f438cba7cd1fd1e226326052d9d7e65cc32f690a0c3aab87d6dbe9b680f885d8332edf296f8632e48bb234652789014823c3e81c79ef26bd8d724ab5be37d25073223ab365f0354e52d153179a35d4e5fadb3e4815759c3928a4daa06a1cae27962b4c4657c4fc5a54c399cabfac510bbbfef69b1bec04382700092ea39290fefdbfe8e2d0424bf80ec6307bc582ce36a9aa41739a2b86ec982c93c551b011ebd338fbb84552ae557fbbfa1d5622597de04f9359a5eef1ab4ca341068c0e0d5f252afdc07eb7da067c1daf443c3da1d06b57fd9230054de3d44858e5c17451c8aaae3863275e371c73b6b3c02bb0496c29c63b4878e6f5992aa205e9917988fdcca9f8a074244410eb372c8228883af1a5e66ccec50ac0fcf79b4824104019f1b68d33f59153c9c6a5482f75a09c772bd51648fd9e7eeb59660ef6565df402c5d5b7086377a953a2d3c1e7151dbb96b0f989119403cf7bda74f799c84566609b400b51c032fa85ad5d3135704ea4ccc12b530a1aabcdf6be524335a39f0245bc0ede9b2252d6e4cee0896f05357c19da6596679e946f8b3854e72d1b7ceecf2bbe76719834b34d95de688f0f625ab9b379f8e97473e216ee26b570c5ef3417a766914481aeb3141f7f40fb07704e598ddd57d75436ec033a7d77398b1d448803daa8bf760a3361b32caad7e46d9d851f5c80f43602da23c9305742312c517d2fc3e59cd97773aaa39b440022a683e9e4b9f33425a395dd54a2af9521a6df283cdbb2743d54537552088c14471581f4bb8a69b668197d00ae40388d9689aac1f4edeb94d8fc7f59e7306cb45de52d0edab34b0b4dd05149205edae7998435a393c7edd825d5fed84a3002d6dae1ba81a9e5bcc61d03e3504e322d9637b2d8a6e68d6e8f2cd0cb2c84812122b93a459495b998f005883a0d6fdb2c3daa4921c9ad103e415f529ae597993dd87688b9bda8a697605cbe028a57b744ff4351b90233c033582205ae775a55e236ac4ae05165a333cd5c6180f185879a067e632340cad72da81f9e3f16064207c7713d52f1ae3e1958a6a3e2aeb183e9adb4b3325c82919e55e39b2ff679877e5937d41ee97ff7f4a0ddf2d567b037befe2558edd2a17475ebf8c07f2fb9c0f60b617faf1efc7a3b0ebc93040ee58722944495841a56880a8329e9f9de91e186f19048d58f44cc4bfc4fd36c3c33c56a4558e846231e267fe50f57ce397ae4db2bf686f354b3010930c65f7c50f99ae3e63abc2038866f1c2d6f863e0c892d8a7dbc9cef1c737a08f11a9c2e7df3ee9160a5da984684429c45756cf58d87042ec2a1fd4140632795cb9ba8cbc6ee4d95feca60bb42ecd951908fde3283461bbdee26edc3ed3fc6ef25fdc94b9f75938004b2ae89325429b9e63819383635bdb82b2f28380d93c39b3f195f4dbe2e92106c4ffe4e42fe0ff6570c3de676d8765ee98e5f3677cd875546e4dd2441cf0abb502f7e6ab313f8bb29d7af8a240d261a9ff7f44f4977d94520cab80238ea35bdb8ee4cc5681cbe8d78dae4e75eec1ac18518eea0f65a41c6f6753bf76e92ca69593e0d4038d47a8dfb90e882c168cc4d8d608b1400719a9eaedb64063581533fc7eb16991bc356d3455804eafe4c63b17a3aab2d9becda1a0c30addeec41c1341a97b883a00b21ccc8ab5edbd01b5551f42052645e03d274019059a00ae75d62bb38ef1360ee84d8a010d3ff92b10746f0a69ff633d736e384db387176bbb5cd31f6f1dffbc5ca34de1c049b58318b448caf114ca7834ce43c6fd0f7db4c8375a4fed9ae17db92fa985b14ca58d182475956ee6b295d7da740cf75aa6c3862a6c323c2423a2ffb87e9f7c38d86a1fcd21a0b0a4685f75c2ce9c52afbd2cfba78b04df5f33f12cd671ce74a6c935f98a251d7519d92498104bfbbbded3846ee572b2283b5cb428ddd2f32da3162dc6b23e6b7c432e3e6b2ed1a0ce2e685cdb12adfb44c708b4a74f6d857fed91fcc7958227d426d4dfab78d801c7df4c5e76cd8a03f320762d026287cb2fbbe53226bf9cf98b6190631c2e82b2967a4df64dc7b0850508303761403d7b219f371f1eaa1dbdbc79e74c46dd39167a91a7df8b6287932d7eea4b31a9b1bae373b43b08a68ab8a89fb5d90e7c6a4f1eb5c3925c4182662e3abb5fa0fd4e95134a0a79cbc48df185fa17868436d3759ea0797852e264e72a8b4ad09b99e0e24f23bd5abc464989aea2b264bc0fb000cdd832c52d5b9ac81ef772a58ac289d2c6b764a9035709c9a86fe155e551c2222de228d7144f0203b104d007936b08c1746f8be6127476e57213f668e8de9113674ed4899ab3d439f73db97dff6c5b6f9cd840f26a67bad3a79647efb17d9b04e404a06356ac5ff34dcabe4505924e33f789711d26754b1c5e7cfa11ad359d2ca2806fd9924cb2421f127cba482dced4f3fe40594dcf44806fe06f98405c0095c3df409872424bc06c54b852c3239cd7bddb974d6b1216c23e1cf18bfe4065b8968da546cb54bf3c919244812957349c0b89a725f870bdca1110c84512e62a73ec63a2027e44eb8aef27619b0a4e2957e22f3c63e5ecbf3abab541d68ab22de1c816d9e95dfbddd325c0d8baf34fbc0a69b0b6301c7faff59e199032f0139a10bb345dd5eb9ecf1d2606578aa20651f5b16e0626765637bdb0c83e512e7e0054f56a28b800f8d825f1d5a82b9252d70b06040287be83225912c0b4693951a3a261f0999b5f83b4eec4f3233f21a3d5eb322ce32a18c10e229f40dcb312e5260c0c595329ad604fb7819019db05dd1cf826fb99fdd3b6d762973ac7b5658bdad228351b9b87052bba9ec08c0635c49d20be992965f9934c8cd922e95a4ea8ad3b50a3e2da87e803afc18d4d0ec8156c31c5bbea7a9f176300c4fe24872458b1dd65ce5d02ba6c51e98ef765936e361755768e695fd10f3d571ee5b4bbc41a8bac3f8fe86603dd4bc7afab801d4280db1d36d2017370e4119db492c7c7ab4504fc3144d226fb942c7d1fdaa7033d761944f5f4ee0d5e043eccb7afe34e54d5c6f94989274fc8c20a9b06c7ca2c3cd0679e046d5305bdcbd59f1ee2d0005f1151aaf519daee09a069c2998291b467ca5f600c904103bec5118426487b32327b788d25be0f2067af2ed027c45cf9518f60f1196ec8ad857c96a0dd95261fd30fd38dc0388e5d2f242d12d02344e88205c7b4bec686faef572b2aebd113def84808949b5e89c65bbae4943b3ab9f30e6cad8252cdd588c8c3a1ee69179523161a603510db90efeec8d907f472878a40f6b25dd74f10a7c774e9f20452d2fa8ab84dfac09c61fd2a5660c0473c41eb25dfabb154e681402931c18e06eb91d3ac05a963892f7f2bc56fd752814ae4d15bc9de8ee12fb311d50c73b6fe679c1f0bf48641d2eea24321e33bb658c6e93cbcfc4d3c0ab80518d7d003394f6d999ecf11bf5acb4945b82746dd9429d72f3aed1e426de5f8936ca2934d467abc16384acebf3c54b90fa3d5cc8a50ba0c47d25956648b5d511b0a36b6dcb428aa83a15142e710340afb3dbe625ea7e433b7273d7145380419fccafb7df8fa000e57fac5595e6b7ab522434ebbf8fc76f6b077162172efb15e499232d317c2f87d8b80adefa78f6df79568f45bd3c2685e6eb5b2b7a878468c0235d73d1f6179ea7cc1be979c1d5ec799238cff6d6d873c3d67a2b7d0301f3bb24170fd678aea0682255656921e84088d11f55aefb4b64c66a41f7e7e30168615260615802a17fbe5af41cf188cea4264ffdae12df008437a12d391a92892e3eb3ade8c205dce883d97496d57f2413c1f75aaa9b878d127533efe2c7eb53427e0c9c88f5a01de49a7b89562c84262d8dbc1c83804e7b999241318f5a7ad959464ff7c2b3b11488550bbcd597985392219b3ace01918ac51f9c89b0795085ff5d53c274dffa25df18335177ddfcb93f0de843bd982d07da755eb4e314465214628c21cf07ee0e8df2df7f89ead5b865ab246441ef6fe212000a9a085e89c50fa6a1e2d278760af6eeb300b4f90c055cc0c8d9a2b9675d408d2b5390efd80e5ba045632855d982ba80b34cf70ee0b47b8a45ba619228c91e66be2e3799b866266bfa8ea4100ece2dd2fee2a7f47b55f396825dc67eef4ae073245d5ddf4c5547bcdf61c6498be4d671456b73bddb56c0d774b70253f67f8c89980a72b9e9ceff545f725ce5bd350c2172644e78ce20313e3aee609582389e34ca09d8127503ff4328c58129f5f82d81a51fded43fe58b2de614ed10439fc75ca9a142077b861ad389b8adf745d0132cfea9f4ed8553da3a081ad8f7a1abbad908998f16e575cd38a2e32dc0fb4ae2ed221c4647c667cc6737cfe329618e0dea69ec23b0b0d672001bb7bd1cfad1857c6a9ff68f0278f6900539710acd3e1813558ecdd5b0d7061b497b5b2ea0aff1782fccbc78c942e244a5698d339f42c62c9b76e10812a10075e27ee3dfb0ffd019f9b93d4894b6785309d8a613c9a5aea13bee73638254e27a2c4f94ee166594ee89c6e89ec9e9143c0e3a08eaa53e4739491b354efbbcd2b46f640f3a5069235ec6f369052a0c7748fe8b6d754754b29f6cfc99056a8d00fe719dd2d84ca78ea13ba80bb74cd908a79d09937b40d846fb59266156efd8a61f53aa2c634e078b443daa8201c0af4a82b591af56f2c2f3876ed69e5b4f9a602e37e9403ec2ac91839f9d903b711fd9c6fd3f29abc35632d39d9379bc602dfff107dec76be4eb4895fc7f04d7b843026a1e9f7d81ff391921cde6285286854b546cb01fefc687ae95a7e91916ff09ef3b57c490708374b417345834cb8bf86e51d85158f120125041529ac10b56fa27929e2d1277dc83f24f47d1aa2987641227d55be24d3f488a4434489d9a8b57c2d58483b17bfc1094aec845c4fa16466015c4c358867aada42157171b0247e7d7b81bd99b250527bc90267ddb2c046d9040c05e2be41ab24babba4a5217386d8e5b0baee0a44d3b7b63c79548d27f9289a7fb9ef9c7bb3b0530ae0a1b350dfe4d01326e3980182244316fe6880d225417d67088894907cc9f47606933b2bc774db4e55606071c39b53525e9b96deb4d2c680ae5660e0dcf541ebb2aaaf0e5106fd8399579517b43cc9c6759d78e4d99882a93f919211252721e8188bb0a3e454668a3edcef153ddbec014271a44269e501d2ad7f4451c00d8b58efccf0af8fb53c52a9b59dfd51f05095c74a70e5d12051a4774d5f2b88d5e98057faa53f53283f2275e3b54ed29f437780f12b011331e37cad9a6ac585c959cbe004de35613230e663c3210ebdf25f54660c566d6482d9d86b0ee6ad1df12fe9e8a518584cea274d868b30c60ac6eb265557352c520fc200701c66848b503ee0e10f59a1a787333e3b0035cfcdb20b67a813e469a2f5979e680b22523259361c3a04088f743e05e756d9ca813bf9aa14f2da2e834cecfd71967c66a45038312bb70cfdaa362f00e0c406f42a901379629ade59a6421063d3d2043e4f4e6f647f06a4854b16bc1da092d114ee72216300bdd8094b10e958c6efea4afd5316a76dd41c2468f448b365edb96a01f06f1ba22bd686f290eeba816d5135c033d9acd1a4afb7a8db7923c3e73548b53de2a96a91e7e43f36cb52a2370e93d0bd4f272e24cd936c06fe05219344c303a32a62ce81ae4e7fbc2f9d00e435bf0f9817d83d73c1131a03fbbdecb930bef83830e9de62fff90ca097399a7312f58a312a6596f86980d85c32dc614168d2df2925f27fdc740424d49b1dae3f5807aa69de90a8746e0cd66c0c1c845b1e3d1feb14081bf06e4c0dee9cfabc03f64022cb0462e27f2b4ae256dbf44d530d918e2049bb34f1726a8dad9bbedc35b4669a31c27322865d01851ddde3163ff70103c2fea59a4f317863f74ed515e152f6f18bef0e8647811a6dea34bd3ae32fa1cdb8d3b8018c89e3541f6553993d5d456dad6d087e907f307905cbeb0deb5cff0896d3c07a56502c8193446fc93467a23ee90f602dd1eb4f53e404f25a13dcaf6e6ee71740ffd8410bdeec44af6d6ec5857a10e96f0f58eb78f15de3f257a52f37e9b98e4b4ce74adc9e0d0f6876981b1406de2efef3b2bd1aa09bf7cfbcebef399b888a85e1a0485452b4df7caf3269858c00774d332a1a4b8b22e2de40df82e82b64c8b9abf08158db4b2e60230511d66bac557fc52e72abe059ec4e12f3d165ff22e0a000234919831493ca5ef5229e744c04fd74ad3e9a2e795c4039954dfc9e3f85599b67e17e079ac888e893f432e873e338466ac9331849023b437e90105a6d19ea33b213902f791c80abf33ed3566a09278aae9aa0518648b34f7a0291ad028db45307f8e556b32fb671b5db0cb105e1b57d261489d3101293f4e7a45f6bf3ab7e2b4c02bcce923c83400e044e9e33e1cd652d55b676fdcd69a800ff660218504bb685b0a6daf5f1b67c86cb82c238500ad11660462fd8e1773f0028fa76f399937c08b21fb38241469a45ee869e3674ad10485689f62c0c1a7fafb034ecb81b4e11df817e7e64ca9385ced89ec4f0b7efd0c786bf600e90a736adde87cc81a740258a63f61ad971da9468f77174fe8d2f22a08313414e8c69c8fc5d96ed2fc2d26cdb42c84d9f4e049d33771f10b6156b381d83b6b747c091dea8ced21e4fbbf52f9d123ab296691f6d3dece13bc0573e0e14c4e58689884f7089fe451350796d5e46d6af5e2f0aa4cf261d72516ea355d33aa9cae1543b357127687efed0dcc6e03a8bec69a58d7654707341cfbfb57f97e12fee4f32d50222efd63251a7ed671979cb50d0155caf93546eb0ea2f9af6638bf55b5c43b725e33000d0ea54ac7a82f1aca8e8a0357f0b30f030c3c40ec9852323356f2b101678bfeba49d47b43953cae8ff163d884d9c8107eee155166e110172ffbe716bb23c509f0bc6df3654e6e1a50602539682d4ef524d2ebba16c3368587a17dc0b8699d0c744aa0068bdf88d169ab875b0065571891eb20b1359a0cbc8cb616471836af2717464af1468a573d86f20082927b5afbf109b55a52de245a743c1d96bb0d930cdc6eb1911693dee5fc6620c54f8d51cafadc5c55316533a462906e43bac7e92edb18d827110008c1053f661679d16d50530cc7bd066b05f6b8532ae1e7bc279eda98c72155810867c1777b8c9e59011306dff0938d320f230a54069d9d32072ae04e1c2d2730e57a3c60a42ba536a9fc0e86991ff45615ebdfb291c383be30955b43f6d65cefc14e9b8f3f4827dd0d12c87b66962f63c3dfdf571a82cd9aa64e7f50da765d9f1aabae3e7fbca577fe0d9ca2515b58f5a9fdb31988702a3cfc14326c735f1fd74a61871dd6b2570b76bfda8f884095240786572c7a889121fa3bdd63768cd23a22e6bc73ef16fac72b12cc368c30f11b1b55578c5a93e3878631023f314f638d1adc6d6a2b1725e96b74af17a8ad453dff7a85c9b7249f4d8270b2c74b9161dc1e7e573387851c9a006de10f9ab13ce4e4596752d40432b0afe8db2c6a2e0ed13cc0ed80a2c61b6e2875eb76da44de7328b7f9901940b08ed0b92a76b850801ef6f8b0b928d18f193cdbe2ebc5d33dcc276145843045cb0d83b9255de9e01e6d41faa75048a63e6648b8ec1989080cc54281418124343bd68051c83c8c5dd90955fa22bcbeb0f4b9766eda96ae84825051580f5d547633ae8bab1de750cc08bc7075db72882f8c2395ebe7658a15b96c0dfaacbd1c8cce2b9773e42b69dafe0601b98b0caf2a2fdca20f0e21204d6045df8df6a6322be77d3cde985ec0a35340cc864af19cd552ee4105bd78d3d502251191fd33054ef64424f02462da7ad7069659bbd0c7e8f5c08ba3619dd73b1a97a03fe912ab0dfcc3fe132df794876ab53dbeb370f13e70cf1dbde3b61f0ccae7b01f554ce7059f1afc79e3e581198d1c2560f36ab2c6f0d2a24c6b874a2a1c0f22120d53983b89079e473179b291bd290a55f336a63fe9e5fc8c41a5841a327722b40c6b991ebad54df43b4e5d8d516458f2d0e0f37900945b6ef8e14f307ed459bcb487a9a9a9616e654c94dc20b27afc3943aa30ab7536e6474d0765f056f62e6df0fba8618fb3d35602d9302bddd13102213a3ff31ff24e2f04074bdcddea129baed8be51c768f4fd06a6e0ba1e4006a3ed517cae6e778d7b3edc98a25f86076140a4d9a0179737d72f0881e504360d7610f86bd99c12e19e0ce0eadd638e4acfd82a6f914e56997268adb8d85d0bafdc30ac6f56434cb3beec86c93211f119ae2f9699dc9849b9b6a43c9b71a5a6e4c02f3b4d9edb201821ca23e30c899186875da2f0dfc9a3df53ff0693bfd9a3af26b7632e2e58afa465ea62cd5ecde59b74ac7b08930d24d5952556a47907ab54155fca6946cf70b98f1659961582da6eaf2fd04096a9111ae4ee91e75cc243fe1dc1e44190bb702f20cc8925dc1a07f0cd82d186edae139ad6267cfbeaeb85921a4d4a5e441ffd17c18a0f91f6df457b90eac2185264ed5d32fed391f47a12a3a408888bf1937c22a38bd77485645dee090549dd95d02b2741151d1a28c0e7586e306d7a31be86ad987bbf2a0d2336b3f02313d3655b2d433dd4afea4197dc5b40640a8b0dae0dd58bcb1c91a577749ef57d7b9d7eafebfc26244b4c230d7b7ece8487f8e964604e6e17689502f134dff5a41520432987be0c98bfb50bde09561bc9acbefa0d3fb7a1e31747c0e62cfde6f48f6403191ee681e08a1a398dfff3fe539ff4601c39b0e725a3ab9588d50d31e69dde787cc3e3f466982800515469db5819fb6454e96e95b1a30c5b4fd6f256f43bc9f2959228643b3788271e876bfb10fc9154d12e48d3a85a059a5e59ac495fb5b0e07cedbccc975dee2f82545e73228ca4267c281329f6d968038d8a2df7956a6a330ec62461da3718fa09fe4b84459e29e2e141742432a3cf646b31e48fc6af3e59fc8dc4c5605664736bff5387bdab58798cf6e6162fb87dc112d8a57e476191dba3ec303f09bca6617ec3f4703b5164008d5ea97094bf2d9240a6c9962fc755a83d4abe","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
