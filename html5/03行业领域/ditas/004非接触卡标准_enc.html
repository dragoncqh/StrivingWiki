<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dafc7914dfc7e2dbd67ac09f46306cc7793707744024063e37e7691572413511a14b9a6e0b11e3096ce61b547c578468ed329ce312be251b5fbfb727896cdc9ad2aca7264ab71ef1682c25a3b0c15fc28ef9b05ed3186a75f6a8ac86603a5493882efbad2431dad97110ccafd5b3b7ea074cffc39d765f33f4d8824580a9a2ab3fd76ef68c8c1cd3a882e674ad6db2f07efaee4779ef68f99f9b3a3570ee4e7db6903761a1bd580be41a9a1f219c794e4ff96c38385af71b0ba0bec053f2baf7d96b275676752988211faf637cb48b4b6b8ac3717e6f60857d0fc0db7b38eb766d1091b50dd3d7e1fedd1e46579c61fbaab24f0556378fa8ec8b637a5fa4160e0be165066d70304552405e70b07352ab8b0ab84f4612e764d260ef9b6415ff493de34f3be62c6dea47b4c73f043477e2e63d76a6bf8cad7cc17a53645f3bcbcb0d357bebc2cf20e3d99fb8d404cff23c6c3e20f852ca8ea395e7bddfec525240d6ffeb6cb27fa93d5f1f43c87f10924585e27c35d1eff843fe1eb4343d95b5cf75de1a15054ad212736dca1e3557d9224c72ab3d505fde39d2e42b0387c42d0845a953b2e40613007536b9440399fa927f19109bcae025d3d87b47272ef637e60369a80f15fec46ccc55b51d2dac4f5dea577ad3fb91e3915ad9b10e7b1d52afeecc0936a732bce72dc3e3ce3d5b61798c37a79ce6e76d85e67055762750e1a4db9c9c560cff8589adf5b611165e473d9b41ba79cd6a3c3f083baf3de0385ce7c83f722a2a569c8234c98e747ceb1e94b69a7094dd1e2739eb4a327ed3423d06e7b93673a89d9ce9868fc53aec8fc9754310cabd6236e566a86fff8877cee04187a8c0f8718192d62624f9ddf9671258630071652edeb41c707950eea19d0823bc50fb279884c004511a21db7d4e14094ff0137f9bbf999c58a465789118bc06773fa4179c4f92c30a3f6dce7f68f12aaca9e34f564a5f896dd5a16075f54cd49f5dd066dcc7d01a77793e42a747c5df4f8458629114936fce03adda63b27e390269ee7454cd823aed66436ff56df7379f000c0f9dcca61e00b5fbecf7f600661b7ecc72925e07e79643fed1c161809189c31a830b8c512cc571c17c1b504d54abadd46fed48083acc97732e93ff4ed3fc8a1a2b69bb4f0a7f32bdf2681022929a5cdda5cc97702efe967ca8cdcb1f95b5a4beda6a20a7e2bbd4339a68cfad657b320845959cabacd91275cc44e6af74cfb5dc871213821f34528c7a4bbc29c18bf745119565c47a9ade3a585b7a369e3e43bab8fd562699b10f753cb933572775987f6b74a90ab2589e13eb261467155614394a80e167b62613ac35f9a900d43e0604616d8f08e54bac043942f023b92cb34077dd58a2c64a239d9cc1f463915d5eb5eecba5c23c7bfa648ce5a98491fcdbf2c743ebd1c85a271295925ea6e47dea9fec513903a0965c112141cae0fa0cc9421e9bedfbdb158b30d233d53af0590f3d7b108ee0bac8d390da72517c77e71ffd71c3440562a0d278e47abeb899c4c7818dd71af2cd22a2b46957cd2eebaa25ccf1f643bbe0ba25ca8a54da4d39212b0ea3b9f4f68935a3915522c4420a166bb0adb38597cd3f4b58ef425c356c6d5ccfbd2478e97bf38ba2774c57aea35d16360f610defe3b58d1f144320bd15c80a35513a0474a604354aa3e02a0fb627f72937e3cb829191e835f2c20972b15cd94a3919ce3158b6005458976e9904548431c97b0a0db3f88a6f277269d41871655f465996737821c9b3160a1ea88e36814fbf9cc188f9d122f52f758fb4aca6cd4fdb247bd3ff93fe36b6f2ce8202096d0428e60006aafb14e861005467c5710338da0295699338d349cbb8728bcc4751060ff1160e272a375a55bc913178fd6db10c9fc7528b3a7b1053576c6de9aa0eae505c3c98e43f5f65f951c240335435ec6b9030fa9767255ccc6ab9721aca0ee02778e52ef7f1686dfeb54e9230affd29c14205874a0e101fb5729837d3efc54b0a7658b813b1be7c6b81c4f2dad8f6bcbbbd9e52f9f1929e9ca6e49beaeb37bf1ab2fc9bec3ab8acfaf4618e0fba1e31d60d6edca3f6409d28a81ffbfcb947cd1d2cac664f1f958182e47fd4634add7cb15a963725fb40db36b9b074060e3dbf85010cd7ce8f590b4010bbaa51136b714bce6d7957eb390aec65a1c8f582b6839494c48a910d98d797d0ef45545ffe4ca87e8a4e5ee4dbad3ccb1102ea50f2896b571280987f117f7cb97325f6d729201c454314a704973f5367063595b3c2c6e7357c5fcbf96431b9ab7e204f1701e702ef854590482dc667d5d03fe1e075dda1262ad4ca18c07830d16f44b2918600a1cbb7a9250be6425ac30d1ab95e7019b8f4bb3a8a8db153c471f39a69c93a26cfc17b849f2d27f2c237d4a3076768d0f0cfeb003287b6584209643a1b8c3d8af78a174a635ef38bd8cfb202420680835f894d640a675dfc5530125eac2e84a9e79ad5b23e956e42e8d68981e5d91219aa6b16c793ee5316643dc564402ef0d141b4b57bc4c93b26aab60e13a156c795a35f970fa0ebce95c624ef2f71972d71b1e2f8a938cbe144478e420bc6d92c2d9338f2fd5dfa86883b6c801363cef8174af0974287cc587ba52759dd4bfaaf0b424ff5245bf5842223c73379642eec60739b34c2841b67b704c9d21a7f68058d595942c0333c1762b35c38fd0e14c7d17898aabf96f0961c4a37cb777d48326ecc0b79b554716b40567feb85c40072a4aa10e2452b09767a74930bf99dfac9764138e8b155e88a8a844b649077219b81638b1237b634825d0311926864a62e3941a77029d65102076162726fbfedc05c54802b591d6beb93b76445ce9b2e8fbf4e2ee02ff88e6aed239b25262a20b690b3f631c46bade076fde99fd2b17b58bc5adcdd28119854c270f9c173fc58e6ece666ec1975556b25220a443a66331144494320ffaf0d01f74e7fd2e5f2bf14f6803fc7241e38cbb06ed1a9d243fe1f6fc02a251271b0159d976c4ab7ed3dd38b8d28843eb301e588e80ee69f9e79b44240b4860015b85a212da5c490f734b89d311d37f0e8e7126b0d48d0e55640fa16916b0ce1666d9b519ce3e7a2fad489c5cbd20908d512e0004941ab755301a04388963bf65bb31a0f5baa98312bf03ac8bccc0614b90943f420600070da20017c18efda0d23ef7c973c08adf249e3a1dbfebfd393bb3998caef4dfa371c56c71f555588ffb0d05daec5c0b358402509d66d2bca1d12928c6e5e4fb5c3dc1ae5e7ace6bc3bbc54b100f94abc18bfc3243400db76851349915bd18c857367a1af24ca6f96cadf44c1b52a81f33f6bbd0b5d077b5eefd3d35ebeb503c756f202dd1bd06cb88547105883975434fabce06ea687e796cae6ba4bab72e8217cd6db906751db15a52dbf51396e5ba4cb7fd42e0fde1d4c7d6492ace58d8798511b14eaa23052dafd663c19460a13cbc786ea05dbb4bbeaf05b5186ce8dd15d7477d097891c0f37b48c336d45b449fd874cb63b6538032b336c3f14cfa917aa8dfeebf60cc34d6cdd25341ba28958f51f899b4eb8323f6105dea82d5e135ecc7d4ca1ecff84673bd865d2f3fa46160c458f8ee3c2a21000bcdadcc47635f012c8b7c090213a710bf000e00ed9be902dc514223cb9a55a1ed79132beb9017241d10d871844ffb2932754a31b1779318381b20aca409dff9ba0d87d516375b4ea06fea0edd4744ac43475e28f8ffc7ae11e957f469f0d197788bd1e876d626a4362314fefec987a0c69286d5820dd3248d77d38e057f3688d85374bd5e93b14401d77de565d00f7971a66c0070cb34816b147365e73fa3b8888f02c6c31c8b5876e5630423ec7e3ae95829306920766ff0b655c8476faec73527b77ff0f38684fa1d0494543c8aeb74ee0e8b78c8a07b52c44795e1eaf0a211c08f9fb6af87a14074ff60b92bd1d956d67f93e64acdff4c1a1a861dd5d8b5d5a08948875733f9176d416dec10b11564097a87a0aa10f013e16719ad66730d50cf4fef16ebb8566a7c4572c29cd97b54b183de50b9e3fba867754082d778b23bd89f5f8177dd55f98d7d8cc976a42ca48944bef963288ccde05b478bc71c8e0a9f21a7ac5230cab9d5ecddca250737d8b4e9cf393fea967f2dd0c9ec0769cb24ffb4159d56880383db15e74b8a0023dd8929145dc1721fd17d7b70f212091275efc86b188469c598803d305212c0d78d36224b7fd8f06fbc22b8ab9942fc35c3277fbfaaedebd69197c1db4d88ae8f869a01a38a93deb1fcccf2fcf5b3b1389ca57825cb683c951c4f4b09928c7caa848e1639d4e607f04f4a368f86b47163eeaf6ff6519caae48302c2e62ba5f99129d8e593db24da15794545bb428dc9883f193d94e2f47837e41a1c65ecc32fdaa12c6fd808697f27fa74a091556a35b39a8917b61da475545864c0b383d454ca4b3d8c78386bd6cbfa3f7f62752b65bd1f31e79bd7c7273e5246948d674c04a717d20a78f306aec4d75720b311d2db99c89fd2594e2998a4f02f1031d3258bb7c2e80b5ae3f0e25e77cfdbe60ff2efc0d5d6ee4bc736ab8e9b026e436d7f24ddc74ea72249a16d2d735e7c1bcf902c3710d05f1ed02fb278964a9a065434c927f513c42af0325f85f4c0fba8192819309f851feec072e944bfca2bc3b67e786b70a5e95a19b07352dae89df1155fa6356c3c69c5be9ba8e2f89ba8629667ca6da0431d9e976ee2c2eac934949e725d140cfd049c7d223c7d53f6372706e34338c771cd1b55abbb32f0df29e7465938596e173771ddcd212098eed4dab2fa4965f26da4208ac6ddfb89417d24cd6674b718632344527409edee53cff57f62d950b7acc01a18ee3e6a55ec429fd5ba90d2fafe435fd444035b8451e4d387a2be941ae0157119d4edd16981ff440842e1ca641738832898996eea611e209995ec90817257e34ea2a8f884cfdddf535e871f168ef13baf97d520e7cdec60d5431745a86ecda74bb244151bf6ed431e04b877f7fadcc07e174af357ef1237c9f45d5118fdc8776a4a6ccfe06d6dae36ed5ae4bddb79d4c72ad52701cf84ba8da7c316650adaf198d8c770620ced33e7573d9ae63e73a2d9241c6adff11c461e8a220443b14adbe99d676f57bf787b725ece7362bfda641154dc662d2c091284d22255682671414dd57dbe930127a38061d884994d91a92cbf30c90ac286159b8948ff5119f298b3e89bab36b0aa3a4ea2460c2a7bfe9cde125027f514f443dad6f5187c841a025bdbe76e08cbe67f393c0fee09bc99e3623cf031541a85cd4339c63cf8b83a50a6dc8caa57c521ba17cde3b5a162c465f042841d30d4ecf8df8c1983fac97fd9b99cafa929f2d4cd293981af5ee4f2c2bd97ed4438038140b7670fda2ef1489b687210d26c565f4d9b37731d3456d8351941aae96584d7a868667572a95d7c20088fb779180ffe31a8d25c1a9acb2230eded1ccd04402178a7c8e44c4ca4a4afd48eb20688b0874eff2ccd2a68b40bf9270d47bcfef68ab928b0bc44977a1686bf3b65a535560c3b7f69d876bace22efb42f51698923a7176421f586cdb15d1482d6f0b40c8240f369033085ad3f44539370c2fa9d10f9acc813e17a72b5633116cd0b5d9110094ed50bfb0ea8ed7992ffe9d9140b22fdb8305257d15750c145f818741461628329f5c7f2c762a164190e02376d82722ec61f67ab8f2494b9afbdb5c0c73f539ddedbfe0c005b5ed2809575eb17f612aa628413b4fae53b0571869593f66d37c28016483ab785435640c0ac28bdc4d93f4f7a8728b0b46bee21782ed99908a0b0007c1dd69753b5df37b5ab2fdff3edefa410590c91cce21359eebb47c95551a9073bc5af525994b4216c7b77caf327417bc36fd8e113c10dd91680c3b58e3b271cb494bc5bb8069d701cf5d8e67ec1cb24c6a9ae4123c602a9c379366b29ba679dee8c07738e72daecd33264574491ac541855c969547ad7d352397253a6cf1f62307ee6c51740ce7bb2ad01b3ef618ed3e2eb44bd573ad0b1cca4756c81df66327576b1499ce35547b4796868cc89dd0ebb8a93b5d03b299b016f6cc4fb2fa814e64161b56e9417371662884c35dcb557738c6b91ea491e388b0f326c8da600ae4f587646f02bcdff14c534450c96ef8d134b458dfa2e5b4c97a9a9ff59893e9a50d0f84c101d0f5a49413280d64a7596d5ec519ac377baffaf5dbd7fa6937fd9302f206a5fd05bdf7c8287041fa8d3c28e4c59f2885b116cc385e9e7da3a9ab9e52c008f6c74c5525cec434dbe20dc96c56992da2e62b5f2be209cb95e3c9fb696db9d02cc12feb7ba611431e1048beef2e9789d8edb5477278500eaf6435a52b6605e2c4597cd87c6a92b8c54e838b1dd1d93bff87e2e2baae26f22df5e20a06233a406aea8d04104913cfee64b036a17e45993ab4d16651f831938717485513bc46b4efad699f91794ec412a2574bf9ecddf83db4ec81c175f2e863df3db24c05f2a956cd3f2ab259a486d717e7d3eecc24c086d694e59524ae63eb73f9b2637d4e9e45a04c71f769c4d2ef099239fde892abd57b0ff61f902b1d79440b8cf5e4fed3bcc2a979750eba49c4ec20203b433f075cfa5e8a448983e637ec3aa98aaa878465f8095ba3a4c18b6a7980c3ef04cd65cfe24a3c06d919c37506b1b855c44b0bc4aa734ed011982fd79348e20447a134136f3be4589604ee19cc7650af366500d4696e7ee30874de0a4f94230a522b3e2bc82b1f9d5c7eab75f99784debc680fc41912e47247e39843d234a9f0961167f177e639039524baab27493e2ae5489cf0b87f1f64a41f95af5df6d5c6740aa846b3d6c4e06c47c4221a4e5e0e6d4422abdb1fc2f29f2657966e9b64863a839a8fbd24b2896f79035671acbc617435bd81a51099d2154308873e0a2f162772ee2bfee364ec86d9abf498f8fd4b29335530b857f040a0c517ebda3da237cab87785b5dc5df966a3cb8e0b05911ede8eb9f51480a6b837b90155844b02da6cee802f2b15e336ea3b404e38fa845621fae63dc4615f9cc337c5d4d25118d6f7f0a4e044621cda71c618fdc3c92db2f72a7e436fc4b965399e19b1a52a6b1342e02b0beda8a9f7d2a4986bf8e6039339d946bbf7a20eb8873a51001cbccea95861dd8f96a974ec9e78d920cab8bdfb7d26763f364b1b01e48317e0d7bdbe860586e143430f8b87adf26d6ce63c24d2a8afbddb009a506c6cdf8bf07c13d643ce0204b43e4e1d95a00aac33838e77e48597128c3630a417ed60726b106831e1cef02fc81ff7c8f4ae6f513ee6b76111dee7182b591d1ad9be5dbf044b95a7d453be2efe40ef98c279f82c7b1acda6838f7fe586891687e46789ea72512e1a5ed4a7459b8a64cd7c342229524992c1048710fe98d87c4ba662357b743e105b939f7da6e11851ed4973b2a2270c379a4c7bd484b6b92a4265e497c223cf7c0a762eaa404dc9840936051ad24e9ca859c3e23ea0efdb637183e90c166f75766611bc10c9f5f54990ee8a8398edacd3cddea923899efe6477e10ef01cff9619de9db1a247f32fe1a6b3e128097f722db113d867e5f892c6bdf1ac70d7f58ee4d4e2789a772205d1cbd89d579e7ea0b8f1f166fd107ddc9db90d6a486229b85459430d92c8d5361de440f9864e58eba0736f7953bbdcacd51bd0706fae12a9bd8ad8303bb3cf2488ccb06763eac82d4217bca5cf6e51f6a12e3fb08c1d6d21dfd6cda98738de4c92800d519c2ab0bc466e5e13c24404aed384caacd18f38adba037f3a273b00136ac5d0c6b8c59f5a4696141ce22420b9e59c7128f2537173c6c9f7ea78167378aa5b25e43c16458885d0d452c4e3092be0f9165ccb64f1687ce78a8057fc64594687dfcdf51105ac91d81121aeece9a66a84d7de90450402f1bd9d96794fb2d7fb1f55e5791ccfcdeeb7201c7f8e47b95d858423dce66017a150a3fd4387874e181c021862a4bc6cc429ff6c08c745480f73cc156163d4220b1542c6ec0c715530ccb785fc95787c45db256e927236736135e7d03987f090a0cdf2a11b2acb2b07507ec49b960091d78feb2ede8981a3dd2e569debde7b1a6ec8853c31164e0d1a667f73fe6287d625e238e1dfd789d1f8fb99c88ad8b342232cb4d0ed3c93546f685963360abf0a525fd9eac0e34d75bcb6cfe4045d4dc65e2b86f633cbb6f0b6a7e0495c09224e191f70d18e96402c319bdc6a6ae6fecd7ab2a16b0e9a667297eff5cd34b8ff1eaa31df62306c57720c3e434802dfab4254cf604285e46bee6ffce485e4243552abeb3f0a5a224d6d8d090c2f1142fe133c011bd9822a867fe7a9560359ae02017b33a240711a256ed6cff4e54d408437166cf5e16f15e47a15f65bbbcc47e7ae037f7ed5660b8e1b57bc66a69625f1f83e5681bda93ff8625472eec048b5ffb65622db766159eaac80207683a909c6ca2c1c76418b3d71c599ace05ebd00c630f990683ddfe0cd4453c69c8be291b98af64d629e97cb52b4d08cb008ecbff4d7a30ad945b1ca36ffe503756abab2576cb7f78642bd8d9143dcee8b02339574bb812edd92f6b4461298396f5381f7e257d8dd8e6953eaa8998c4785f5cbf92e664c889d27b78459d583c02e321117b51f57a70001aa65f02a7abd4b361852a4fe22b93ed294a6f23b9716e172ffe4eaf6c5230b068114fb1a42c32fd782f514512f3e2b1785470cfd2e2010d8dbfa529ddd8a111e8c4feab378422d5f88dee3e7e74fe99447c13cdfa3826a38c22e1dc3f2137cef8b425c492beffebb2e9ea6c1bdb5a38f9624515c886b226e287c33d6d2bbd30cb11388047cacf5a5bb94c82cabc2743395425304823d79c4b1e2588da41a013ae5aa1d5a02ece1918deb93e086f2f81d67197a1b3c3882324a4bd40f488047716822156303714ba2b033f943445929813ce8236c5e7794bc4f58ca2ad0d180faa16fe692a745a6fe18a5b34704b42c9f0b858e90887ef5f47bdaac9d9c56a718fad6e14fac720a1c65fceb61090c616a1204020fe3578674ea39602060a8589df7ba583514eb52aa1e6c49eece17951012342e1b8bff3e8b987d3e50122e4a3f972030468e73922bdccd2b7eb183cdc0c2a10c73f390fdd05f431b3bf04f346a432df88a79c46bd3ab2b416dff7e8b80cc2464030b1afc50ca2c74b9a2b47a26542934794a4424af49f645e34320d0bab299624a221846ee6e1660c5310a7727b85894022ff8f3d5806836cc5d29c00b5852191c8912f926ed76b834e49ec6fc8fd53cb0fd76d8fcb92834178bb6678ff796f83794d92d750b4e122ebf2cd925fcf5848aa385536bf6f7d563c1a180c7dfe9519ade054d59992a05bee752cb593fc9c5c6bc1da3c2be9cc3d9682d8da18d5704729ab6e3b8521eca96b29ee052a3870f6720a21947d774a3272e0912589b016209ad8228487c93009a959952fa2cd8bb73545f1181923e979571f9dbfb1b1088d228b04ec9aec1fd77e7f8a4711a239f00d087ed354aab1710434f5868935dfd1e28f188754ac69303567a5c923ddf5ed151a0429d349acdcb284fe2543e0969bc8ff2b091809eaf4510d4df8b338a59b07b793d1818fd57a031fba4ef7ac96cef9d3c31e4960450c0e35a4160228cd78b37f2c9df3dc5dfe44cc2703c4fb6673fbdfd1683da317e7d53e8b4852e31cdc360b7e022e0b29f2355ca23c182e9ffcc128094a3d77cac4d67624e606cda5cf6f2c380b0719ca6eb7bf576f53feb4c69bc58b24b1a02dd065a6d42011f4cade48c349b41b73193fad65d169ccbc43fad125a123ca4d820aca81631754e150b54a6abda5cf064d4865bfca6e8facaaa588f6061b4b15a7b06812f5271cd7b3a66f8d314dabd510f0d6eda935361ceec68dbfbc6869f7c664e091a62ac116819581db4fd5dda4eebd168f21ed77a5c6fc76ea32688d180c8ce0c26f086a14c3890f4afbaff620367b1d79034c18bbbcf8fb4b4d7b6811dd029ade7113da7ef4f56d36e8a26d8d6c92c87a739ba6ae4e0b8c11216f700c9953d46e8558dcd55787887e00cf5bfba2b5c10df9110fcb2db6a6709238bc11b5ca0b14732132c1ef302846e4a1617663598be7d8f68f57aea59505928271bdd0d8878a90e1d5c5527813265c2f74bec0c46ee75af313ca9767ab2cd7b68c40621d142fb1ee67ec0477b7b648aabe64d0083c05c8157d46aa4c04d951b9ad79e7d5c0bc6c9c99f07c10c6e2894a9bac4eb12201c14c6b17b4e31bbcd6ded0167f8918816a40832738a2facd527881903a6058b5bb4ca298f79b2ba66944baa6d0451c5c275af0323b8b1ce8481764dc8cff97740066e350ae7daa591ef15302937060c3017a5d43d4e002ffe694c93fc73fd1cfb04b823c1c0640825b0fc397461242d553545a11e3a8e8ba5d37c0e951b5af4997d7888d9817ecbdc7f568f54ccaf38dd0450779839408e7b3988481b88530669040a468c6f0105197c596f1568816334ff4f22c5c8c4977a6eb5d0879a501254c13a0b7a40f5fbad62c771482d652be531f9d6241fce23b1d3a6ff0daf5ebdad9f0a0d3f21c3cc6a4251f6427f0d332c1cce215f388f4ee9c7dd218795433a162990d50f259540be1bc80eab9400f7d2792bbe953fbc1ba3fefdcae4251aff280c6e3144f0bb62e7cd2e621faec5c598ca64e6b0ff7b3ee39e4c46be068d31a371c5278563a4dd49480146869d4bf82dfadb2d4510b93e0ff4bf4a357249d818a29648ea1ffef94737eaba9cef4c5dbb87ab42be4c17920a0501dcbc42be188a633516d855cbb003f737b1730a6a35e22a0dbf168eea4e4e13f71d0dd5af34cbc43014e339496f2c34bbfdc608151d4855377504800d4a6aeee421e697c9578d41c078274d7ec7256c67e301eb0ad2704544b9d8514419aa0e71048802614e41709920ea1d9f3b9305123e154c8eaa047ab40018bc1e1e961eb8fca1864acada1607acceaae765db81fa43ff0fd9c63c76244cc1dc092e129373f70ca725ea851ee3baaaf9f8b7129f778732d13957f24ae0843bd4f846f25cf2ab77d42e63353aed4b92cca3830a97e5207b340c0489b1d2475554bd2b3fad952daa2c9bdac7e3a2a0b4072e53a17d112ba1cf2386aeb0bbe13022fb730052418311ba1a57e124cdd983745e8ceec62cc6bcee925dfa9585f245ba3fea9a76c09e02a6ebbd8058b4a24e2d1b9da092b70dfb17353cb6789af07f110fb070a0aead63300d95f49a90877e2a9be85df9298cfec3b24fa27006c13988f3a0c16f70b4ef3093a3f89cd19d69a4208b26f3fb03348bd99b9b2ab875e0e137d8cdceb0838c63c671796dbdcc298e767bac4bd4926ba260665c5ea2aaefbddc5f748b7874506be030400d7628a3e34564c939c1d8172206baab1d9f43eb5adea4eba2ce6cc0ea6f18b3b8547aa225b7654711907abbb724e99e2f88274c272cd92196b9821a3c409460b195a5a4897e424428718a389b9f79817ef1f047d3878f9ae0a17622f6211a7d5a803c661d49178ad8e73074c1786d20c6daad199899ab280333d42033712c90c3adde9186235328a8fbb6dd72f9aaacc732a3b4dea3f46da2e80df5084aa860bf05960c02a4329b80a4b60f65bc2f078f774962188057c2647d711fe93126a238e20de3b3e308a23e1139ee800b9b0cde74f66279a18a921383528e7ea092886b0d5da24cc61a5a477d69ad22e6f336a7a5f9b095cf6e89cc3c1e5152a0d6151b1119aa58cd73aa6be14c393c96f4348459bd02c8e36905a97fa58cb46b7243c79defbabde2160870ba1b41cc448c76164d1185c1b99d14539e9d6619d211a0b8c3e03fb7fb75cb5f14b56bdc6259eb514fac6b7116658fb70739e53879b919c4f8fe467e6515317d489f7dab0c34e855ddc52c835a94ebd38d6e7bebf00126a902cc47249501c02d62ac4bc08d7afed72a41a578504ccd1b4c74768c47d7464c45c54e2ad17bc13ce8573a52fc1953c5a17883b9a4a6f3997fb1516a2e37db1fa014e9ce8ddf403197f1e1d523130f3f10f19a1a926b84962295efabee54d71d12dfe559b9299b0caf9ef54cc380920bb11955b9a8f0326c30106595364fef955b489452f8dec2fe5706b35cc1449c322076ea849a9a7043ad6842fff561e1863fcc2f6f2acf5fead4fea486ea45fbe07999f2954bdc888d0d56c7235732a539d45636c93a2df94ecbe97ef89636f4a9140b7d91b0ae73b606393231d106d70241423e8371c097e9f8e40555ae63b89c6e6d31edd8b22458413643d9a2f4abb2d155408cbcd80a022638ea7f022b5481bb5ea46f7a27add25c382088bb9d629e86db0c967d0c956085877c7f87f7de2a0cfcee841a4c37700885614065511a800e6b4cae4be1cceafe998b1894063a99f087a54a747ac79cf1387d6b10a64a080361a2e1f214e1b9b9ab6992d33dbe4fda954fbbf03ebd0a4cdf5735a2a3303cbcbe239e6d564c2cd3f3e6fce77da813096b1d8de842334c4ea9fed7039fde281996c47f3c0b2fc11fea874e19c35d8bb85096c396bf860ebe2327e357a8df54cef1de35295cb07eef97e745afaaf65b32022dada93a51586497895d9d925b4e065073897188cb42e8d022da59135c5a1cb0b14a76ab2e45503dc3c40febee3a90a9d84ccd72d3a68dee7f302d1476d1d54ab780e9fac52c142733ae69e7c3e7e459785bbc41c35bb87dc4ddbe268d7a7a57d2836d6a30ed499e2cb69bdac3b989ae56986247a3c6106fd30296a1f9aa12b93809ef4a67d4567b197840056024360662908aa0bb73c51417ed691224baba401343f148c5585bdee5d01f11ae08602e78a9e8a779918363ac076890514a027aadab654d9fec2873918d1e885a60e8efe6e003e20dcc8bae2e56a9291acf4114833017505d4f3e9fb6a597a1f7dbdaf12161a8a85835f81088058782b620510819c27b4c834ae600aecdada7e3076a110af798e239a062e8c4365ae10ae4b40881270d2767a91c3affb8c883c26e7672a33cdf6032647c8dce37a7bc91e731f8fa0119e0705950ce5309ef07407422a500d8425973f90212219ce4f343f20ee654856f221993f3cd69e3f1f69182851fc41d4cee0a76af3278399e3ca6c4fbbf640c0e47f9d02b4905cf7e6d72b5c63b12062de84260fb3cfe84ed707c41c5e988975b4d59d191bdf6bb0aaa66400554e35a75d7fc7fb7fb3cae26897edaec96e13e32928c831fc5bccfa49932d593d40826131aa8b36a69132a4e97c6991c8a59e3647bbc981cf7f38356c37d7e5aeae0a502e02421f5316f76820bd3808a164d1c4e1b0843b3b24e79c685b511e9bd5d1baf6db2733d2615537647053eb0d1a3051aac9f19efd88cc43af9d7efe848eeee153e3c4a7657fff4eb094cb39d56b4c2bbb3d8bab2d191018df66d9d04108064b99948e68900e5d43ad804fa7d1a120e250a2440dd7b38d984a97642f6cf0bc8f0aa2bc9bdc4c3c85c8c77050530d4218fba3f966a1764c4e02ef745628c9cb78714adeabe1d80a742647a65dd4334d0d25013b80d314e5fe31d51b3a7e8769473bc1b2597f7be7114624861732302f7f3f105b9a5d6dc9bb7a2661230a33d796911b909c1be5f5cee21037e0e1b38a5afb173d0c31d18f1fe722173e3b86533d8143004963e38110d1b7604125873005989574705d56faddaa4be5c8aac4edbb86609bee662b4feec7c8df926b0baaf58ffc1970ec48934398ef340948ba3c26c0988c533365d976de37847a51ebdad84b372e2353e9363461ab7058c0690bddec0d3cda274996c201a3886d0de0e10c20d147c2c7eaf8dbb83cdef822a67704706dc504dd30e8b6d1818e090a6dc2d2c3661b4452c7a544c06b5f189a964746c35e2f087d163ac26262b343b1f45d8906c8507ce8ae3a8f5f6a0d28ce600172c0090ffda9c1a87fc5e1f19b0be081ed405b9e88c6d614b5a3cee0614f79917750e7d8cd0246841adbc28f4ffb9b04411587b339cd970533201723ea677d1d378b64d71de263820cbb155a22225b5ed27cf101d82c9655430cbe76dba82d7f377c6738084c5c11e4b7101344eeb4351ff6a7e0afd43cdba2ae197812c94b89c14ab16d345876e13f37779b95b26cd24e10716ffcd1887e88cef6b5da7529294b06863f2596a9fa0deee81409b64bde72d2e975fc85f21c9a4af03098d572b1e0ae9630cd508c566fdf1cb337a4d04560c79b840d672f38964796e389503ffcc48a2d0871348c194d01cb1a32f5d1d9663f444e41ba89d0351ebe706dea1f37389bce6fc76fef21087967f66b148776f6b9f02085c7e76c9ba030a08c05532c9c2d0c08fcb49bd3bae09808a8b602b1019c98d0f02cb92e53900a07ba45f27b0d085df59c51b81f26e71abc5e97b7ffe7cc678f54738d80ec6ef9ac8ae0421e449360876d1a7421fd522a8785711f41bb736245438ba813dd8ff4b851a522f06a232f4a5093b7e921a3556b851b4c8e96383ba4b10262d4d4298c81cbf4fd240b2321d27a170e4e98924e089b96d6f5bc17d72086ba25dffd956e637685248a64a78c672e830b56b873703dd8ba22bff51eca13e147c6d603be7da48abfef54a8fe245fd68b7f2c81969355f6707665943e3eb8a6250e204c8ce6e9033d538ee695cbb6a577068b45c5751e0a1dd24022787ae9f5f1a7fec5ab99fefe6e35fd74a7ea19a9891d094183ff49969a8265c6f8e50e8a4308ac66761978b8ad523d933d036cabf1a951c62891d05acac3f1693f8fc74f1b00c79ba454610df13a881893e1d6384ffe25a55a33688498407d997c5972464c13a8a556ca21c45dee4aae5ac04687717aa713ac2c663d630e45c8bd3a0e9998739460f568f82ae10bafa8fa08c7e9e9049452301329818fd3d9f37ca997daca443bc6e625f40d614a79e88048d29cd750f8adfb3c1fa438e018bd115b3e0fb1a1ef95ce8063e7dbaa056bca1c65b5b5c761e5ddae567639704b267f3e4bcddf700864bb37b1ae5f6a65b8f5becebbe63a944b02669baf3140c3a3e88978fde1f0b7c5b9c75a77e5b594bc5789158133bb63fcd38b4e2171e18f7988f8171866387d273c8fb321e1c01a4322cdbd4a3a51e4185be09705b776b963acf086a352533d0b3d3b8fcf58d262961b079aa9a91026c5e31ceb070e161402548edfcf6bc9803c67001c359b51e0262ca96bc4e0022daf9a03f856a0facdcbd76a36cc6fe408147fab4434f5c11a803b4d984f191b7f5af4121531f5d4d65f7c99e29b9336efd25921c4ff3149ebcaed65dfe42e18adbdaaf53e083346c47476b501d7963d91da1503959df5ff742615932393893c5e846ffd2502af420c849dcf9d38db0d92748025eda9cd49b21a92433d8298a37c469aa844205b45febc12327a15fc6d970c553535147fdc6ca73243a4f2551c03fedb9f7c34fc9534578ede50b571f5332066cea720e5c179e535abea511b135003a4a5c03f1c5178f008355203c6d88a824b4d690c421f252e2c163ed60386db36a44f3f8cfe05ae1bb83965a69d5560361961cc80c064425bacc01b20fbd758ac14c3fe434a5208393c7124039d1bf6b8b67cc275a4dc165dbabee28645b6192a5e687783a27cd053a14272a1e4ce6d619e265a7e074f3d78c1b95787a5c25878b477bca46ab0d8494083db3ccce205bcdfe429fc180da58c5c65ee046fb09605ddc6dbaf4049b88929fc28675e362da73afb6b2eb4b4d1d4f3842205183ab0800507458aed3d08ff223d29d68372ebc1351f5ce1c244bc11c24192681bd6b7e1f5ac15c10840a6ca4ae6f0391e1ae15a4a6bdf704baed172b6034ff69e6af8889f076d12e01b88ba944b3041621f410ab9e0fc78717a6de6b2d07af6cf03cc32e45a230d23ba0ef137178ca3b8ce9d3cb18119d2a4d4a505339bc2b4c63ead9bfe9555c7368bcfb8fe81a9a24af66b73fe0f7d88f83f491223748ac08c31f8032a7fba23481c1d5450fa39abf51c81bf2c831ec20a8e33801a0566527f64ffc0bc5c03b792d61d64d0985565caa3fad9a4cbcb5637afa3f5f5404e75a90ef8bcde9e4758d89da7dd6078157d91aa4f83b19a021280849aaf2f4d7e320e65956af421e02e387292a2fb628051b26fd26487693fd1beed6b9753f118149bf83d8878dd45e693de27a0392bb5548ccbdc1c9e4a9cc8564f2db1f22587c1031c26f921fb3a61f9fc60d031ec4004ad87e16230a7e324aad0d406295c754d48739025ad9afd3a966695706ba437e1840865a87f44cdb293e30ad6aa4db4caf4327a00dcfb428ca97cd077aa21e04d01996f3ddca6177d4231ab0e00a354f8d6deeb268b3b55f9749d1834d3612e0ed06d99ee501bc257537ffe56918342124d7d0011b25f0078ca159f7dafd47bb497ac6f6b1b35b50664a7d424c368cef1eccf74f6c19c99df3d8739c2b436b3d39b18e2ea394b67b48e4417ef71301c30aeeb055b6b091b772ba7f25bb41a3bd913d93f59f6366e05288fe6d2a62595f5b835d3df6e5254302559fa9941ff34f8f5ebb033f9b381e1f7e57ccae76114b9fd296f21b8dd4e430758ddfcfa4eb46bb4b021981b127fd178ddd9cd81da43b5ad0500315d3c6e49833f5da4e1d57aa2a691906d5fbc3f1756f6408b498c7ae6957e2818a158b846c7e5e2f563e47af2cb5969499fb7bc4a13f186df11de34ea8666ddbc5d1dfde0f1a6f1ef6aa599ab0e4dd06c19891fe8ac21995b806f5288085e711e10013bbd5dbf01e8dec7a30722af7027436263d3a162fbf8f31cd29b4b6ecc50eb05411fe8d559df76511f5042ae908b368fee4ca0b1b12bbe35a6078913988b26a1d1beca0bf1ded7f024747b3d10531502271d268eb40bf234a7cf53579e1a6608d0afd88c933e83a3591a20a98635b1bc30a9c496e5bd996fdb75e16a9baa2587e4b8ab5843e5ee5f2cdc76f4a3bb86cd747c3819355f8f49928f97d1c22255e150b11abcf6d6f5686553798555facea99827a3465a1b43753ed632c4661f1ea6cf7675b801d6ceff4cf0b85a0a7d2895ad9157440ae79918a95a94b6a22b3956f0d4fbd3e06fb8a3660e63ae108059523cd459ccba04637f676be91bf670ce124338ee58c000b2aa62f288b4f7c7cae65346860f18fa88cadc62e86c4e6bbe58f8c766425f4f04f8340b03dda18ae7ba1ebc3d4cc3ca80278c699f7269665c1e010544efbbcfae9a012f9ed906ffda6d8ee22e905422b4c706a4689f8dc055503f702d1f5ef7c59c07e4b4920414c010f0062070cd6ffb23886117951f4fb6835ff41277e884d5fcd1ae14b02a76ddfc9cfc5234dc4ecd57fc90b847b9e9c3d88ccd122d79c0fbaba81054573c8cd7312fc143a09320146b93e354e64581e9257cdd1e8179b51188f575c93e7989ec836130989cdad1f474eb0a34ef045af1535eefae17a0233f809de7bdf413074d195b33421be0c824a0a9bf491964ed1c9a7d85c063be96f976a6c02331f92c3153ecc948eb62761a5171e2791e3ad6240eaedf0091f6caf5ffc3405343286edd4a46ad605d85bcdd22add8f6ccc3c74382a07820f0c3949b70ec9d6717d51a3a3955d84c675aed4008469c667a3b352b2e51a014e0fcdf21ca63581bdcfc5b762cd06896cc8b0819cfa2e2d23932855e254b220873b017f5dd9871cb93f51ed543c21c99492419b5160858ae849f9104f20950f66fef358769d7eb86fd18303605145a193f895943ad430021992c7e89f92be8a530cce7df43db077fbf58be3bb224cd42357f35f2d946a111ac0058bb3","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
