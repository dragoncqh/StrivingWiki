<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2a632e9197e6165de6285382ad38857d62b5b6bc69ad8d3676ea89387fbf3bd44ab2cc061fe934080ba16b214ee9c306eedd8bc8c1626d911bb9d99a2805911dbf772752cd1f2b0f33d7e42f8b354a60b33695e76d609283c33f34470cc05cdba9816a2867fb99c094596da0da1f14a139ed440f4ff207e13ad4416ee54a6b62c27fe0243777c5863edb7f3c337e6186bf267760d0a4a80db491561809bc75c43d21968a2f759bb7c351d0f51af28148698ec29413ad779d3b0255b227de21549981a0d4c6bb62e852c91fa4c82c7d792a153fd4b2c3e1b4d342c8b1ec92c07befb3b2094bacfb8db8eb10045698c5dbd55700d7c5981fd2bafdde203d377b6c171305c2399b33472008381f6c5719d850cc3a060932426c065645db82c959300ea44e605a052e6bbb366b9fe56b4d346cf49d66085c9007c78866c990045146f4dab61edeff260ccc2d113c54a3854d614a43563bb9555226b849615ee40d37c149428d17a46fefd39ef9ef1e6f942418baa0e4e95ad2889e62313972be98ff1c84a9490cc07e989010573aecd478a25c9440a36cace3e7b127379c1decb6f31ada53e4d84dbcca8e10506b9e10f2863b1031adc2ad80e88f1f1cf7c5d86cf4f6fb37b37260dad7234543ed0f105185fa299fe79e704280c963e35eb372683f7db7858707d5a1661b51da7def5e7f87897e6bd145ceef8b59d014bf0e1077fbc8b640c8f626dc51de06cdcce66713daa9375d8527e2945f7ba12f6813f29f298cc1c698d8e08af1f224da5c3e8c4e2e5e39088236db8789523c170f0bbe3eea367c439b1a2a78f4d299f59f564be4e5d2c49d476d8644a6c688e62d019f767a4b9a64eaebfb637bcb82dcfc5299446aace6173b56c91b0434070e49fa53af2ff2c7ead5464d73118fd92aa6a6a4becd641549a57b2fc4fdf66fc183ee8fee4d7ccece3d4ce7522d89bf9f0be578b1ec439b7b25604d56cbe2c68390432c47c9654896d6a8ebd2dddd3d6f7c086051b097e254262cc72241f5aeec10f34f04f9b71522d59140a476bf00182c803362d8549148f98511c2e1d665494f424793b5fae8db1faa563b2fc6e39a26704cc23e2d5d47d077c3b8428e1d5e7ab30c74e6a05053c8babd78addf1beb76b708899d72f9d796432adb72642a8634560a3de1793f8790f478f6765687f80b1b4a9c475160546013fe4b644e005d4ab7cac2d264d5907f545feeb3266afdc6be770dbdeb6c319bc26f04f3dfa03c452c215dd63fb1bcd72442b90ac7c3b33e560f2bae718fd4278e090f2526ee1f923d48bae7eefa9f5d61fb494c174f1e3f341ddb312511e071d5e226ca9e2e952a1b636c20d0394b175338bf305cd78c281db2ed199fd303e9e5f5ea8ff1d571528822a6ae6d1cdda17473fcaa8ce94e725eb2ced258a5fb97a82e364d68b902912571da4183db30ed0e9f42cf2f3e682838d7a6c94b053adf5fa8a3970f490d2f9d12dfc792234cb5ae9084081c13a6ae435883dbb78c0643c9d8cae0ace43639ed4db92a792b4dbdacad3f15d48f7eac2baec2d37dc3592470c6bd5ba6253ec1720f2b0a86b7d0d57904ecda27afc6596ca6817ec45ca7b196be595df4c4589366952723235a27304fb3f6476bd2ca91c89da03539563f242d495394e4fc1d714b6ed99771d698366c381b79a1bdf286a93cd4d8cf12e0237b218467819d8409c47c36b74b2ffedb62ca9ec192c6cefbfdea7662c68ab6b92f901fabc4588c9a591f839f77e470446172a384b24a6c61c114f307f974ba779eb0ad463f435829b553973624cadf77ffbcaac09d466f331f543995611b022e2b335f406eb5f526c1d051cc4e5915d9eb9af75ef4da6866a408d5e24d0af639b518d295e6292dac9a06f64552cae5d6fe97cbda8c588529b7baca3a003c7e37160499b9890b2586a569624beec6d5c3cd58e298cdf5669bd19f173d4fd0ecd786afdfe836435d3ac1f69a6cabd9d82893468e48e134fdff8efce5dda3fcd4d1cdddadf60280885ce5662216d9aab344aaa3e40bf489c27a765305134eff9ee80013c9ea1e942da832903d157bd3cf9474df22823237a8611d64dad7aca7f47506696aef05ae9167cc93651c6e5808868b88347fabe431ffb2bf8514cac712f228403be19ac7632ce22ef17f17175ece67ca52888db3a1ca9bbb28213a4360313f1c000bcd3ea6d80f264adf3a93602dc312303bf1b209e9ccc31d3ae3d2fdda83431dc63138086e845f4fbc58d110aea1d8ecd716f7ecf44cafb9e7053243be755b79be458cc0ba03042b3c27ad391c87e072a805a6d64dd0ccd7fe363adcf8e4afa44b9923196adfaf600f32862d297b02da365abd48c3736645d164606b7859451dc86303aaad3dfe7f00c968405e9e8951669c6716638f3e9cffc6447686772a75d3c0ba2fe3217af9df5f192b28f3d91786588ae195bbb30a5128cc493f5e76d5af0489f66522753cd6b1bfd81c64c48969ed5e0983bf49f34061264ca0b60f36a53ea9a664445d340e8ff2b415ca183b264a6cddfa7893452b6f8d43b0b37b46f451c744703fab741003844537909c3cb301d8d6e2b71086481bc4eaa885aa37eecebced60acc9c493bab465e232248bdc010046286419da06b7af6ba16a0e5a3e13a40c8fe8c428b9f204cdc4dd1d50efc52505412feb83a460e20cc58b21b953a5fb82ea95b8f35076d6ac62a4932261f31a0fdb1b5400cdfcbd387ea0a36e9fb4bf612f7a058ab504343bb81a89392bcb38b3919664c938bd26c9be5aa6f06eba5f52104ef683d2e17f5bcb44aa894989d93d54633bf76b1dd5e919e53fc8805fc6403efe879ff9eecbde7b47003e33a591629a96b570021cdcf38c42cdadcc87f3dd4ad95ead5bf982069bc9082c990379fe83fbece428db65f35df1780668d98db994a726602c0863553c164dda72d6962c6737c284eec7cbce8fc66a3acdf12a326d03e2cd3c6b9dd87a1f00917183be951e7be9adfa729688046318aa8ebb4c852336d3d323e9c5fa213821483bf6c6a805a457dc0be2203fdcd593f8803a256a82c83b7e1c88840baa58ce799067112bdebf7bd90c6078a050d1e8ea02520a958722a74fc4498c6fd4ec66e9869a5671480a3f6f8ee93f096a2364bf6774be10f29d726ed7b4fac842d02e929c3937a7c5e41719c5d76d48f3e50f7ed227594fd7a6a3293739fe4e8eebd11a9eed7a73dc758bb5f8020d562fac7ea3dcf7a3268d54c2441b284b97a76a3c77fbbc460c5832bdbc4a2f0a6aa0e4d4f1e1f4bf192e51575ed3126cdb0f7b6bcbc060a5cc87acd5e1c25ce334faccee7cd1db8eb0b93f3dd77ef92c2e605919b15c4158e890f4156b6690e3b970f1bf6a021434d043a86cdb1ecd6ffb3865039f8c32ef06f28ba26958f646189c3a4a4af2a716ba884c1a1166d83d90288a84cab75594604dc562a7fabc6242e22c651e8916951e594894bdf90d2e0f902563286561ad078e1aab380ab3f2b74eba038d7d52be072a7919c18b2d4da89e8e593cdb2c31ad8dd52ef3759302a5e0b7930e00f4d4b57876c65426879794900a771a493dfc538f1fab14f0b5f68519adc8981ab4b7507da78b84032cea73e9fd71d71f507b41142f61d88b303ca29ed7338c7437539ba5752d3b3b122c24cb1da271aee034b28d4a807fca85b0126d257bca1876a406d0986bc5f316b6386ded660367680eadbda25da964840fb4409a524b1ede62fb352589e4e248b439ab556b993c4b86ef4e98a1570fe975fbe8c09e9c0ae14decb917edbb6b3a02303f5d89903457c51d0466d6bb5118f318942d72f130abc45d3d71f314694ff4dd6982bbcb9a84e546442aa652c4a119036fff9adc106a1620a3a4cfe6540759d6b2e5aed54b0c49411d9588a0c99d8c2e1c1add397a7d023c96c558a3e867b1e3af5e73429da5e8be2155445124d969abe619f1a9f5b497c6839ee0b92d72b459afc55a5545a09e53c940777c50c128c1f701092d4746b4d072e4886193106c2de94632ea5c3d47aeadfc7c9964ef1eeca9fb69e711d3dbb52f2aa34b544c32b25829a225e3dcdd560f075ef99a614d8b99298f20ac1692785e5045585183e799dcbab2120ca1b6e31d1378de9a035baa10ab7ecf161843cbcfe3b6992ddce64a1d25f458bf37d3056830cf6259dceb9cbe59a911f0fdd6fa826476cb0f9e2ba0ef0b0c824bdb8f093dd293da65515290c67ba84b731dc2850dd2062c08d7709685441a4e7ed3041a7eb8e0f3dd9efc125db9ea260aa9cabc6ef9e0fed83d2d3545f407a0cbca31e02b4f333bb4a33a91270e00e58b8ed4afbcdcadd0a2a1412fa56ab0f4d4cc2a445b54c4f2fe70f47cab6626d26263225cd604342c24a3ebe0a7208a04739d55628ed7cc1ee419b3997711f43abe9fd6f8ba683331d9ec8599ba3f82bde54f0f9426a55c90071e377df01c6b690e959eea77822014e255f99a70235de7e330feb88b9d344ef8ed67d17814b4087cbf7424e5594bd40b1efc4b821c82ce2911202dbf806c017868459073aa803e3193c5e48802e90820598ea2ebe5b234292c77098fc6529032501887b7ada9a92202da2804fccc230896663a8647996efdddec356b632991eb9c901b99fe973bbadf8863c6c4f4ca327347d1dbbce18e4a2910cdab1a4963ad5c6cb2358714c8c07e9103b7c6c022878720db351cef7fefc3c1c5e1d4cee9cc1cc47d1c82200a3b58ed6e72abec6e2500e949c3f90a97c19b884dd1c8eabbade502004f81f304fe39dda5483b37a1f63aee5de7cdd5f9d06dd2ebc763f5f4d8c6840a41e9096185d725b9c1deaf7ddd8bee7c396311d07b521fd43d25b9d68fc01aa8aa2c4672e7f13e2a5a46566aa6bcd3d74b8ec0e4acf03919c98d010cccd57bc5ebe1776f27fd6dc84b1405e495b5feb8de1be94d2f2b42650d0284ae60625d5128d74d606fc273eb5857a1e55b0bf0b59bd0dff3ead834da1c38b9c6d98bc9f526f82a577a0a28a450ff28760f8e8b24909908368a1908c6912d970229f1e940abe16d336ff2976075e4120e44bc28ab2812ded21911fa0fd915f542a3dd20bbf0125a25c87ad12c5cc7b3340b7f8465dc98cf678018f050b9a2e18685845c2f90a61ce9fa074a4a0bf1dcc35b9c316cd4629f5cea12255b52d6499fa1d6f75c897c53172b4faa2660d37bbae5add6ec36be6809830f1995c01e0dd5d144d1dee7cfa2ae1b45c9b1cdc8ff642330ca8647370631651337b66d4c6e78c543ee840b52bba061172ea45ec7036c4a46791a7985fe1855730e9605ee51c98fd8f045824aabbdeeee314610250dfe12d40c0e32706524758e2ba67bcc52fb1898aac436a05880efe9e033f7211185c812e6ee334b3f1c12f26b2c2a091807c6f8db78a97e852a2be7830a4dc40585e07c9f9a8159e89f79748a55cc7cf4f8c54aee8ffe6ada02a1a7ef491f511d3a7695cfd3a700f9ec2e6e29e701525343285ecaae3524d7f555777113f27a5aa5cffdb3da8745da33648ca28d374764bc6dea4652ef2877cb952839cb14e035b2621e4efc34c8165bceaced3fe5254b286f82465dbe3b5b96109c1a6d9e52315b519b19371fbf595a1e0ff14e57c85b43e9effa358c7ef2773eec434d216ada970a56fd3d9ba1b50216c12c1fb61ef169a1418a72920ba8095a821a5a921be9f001565bd3bb796854e71d6446eade74727a35af79d75c19de3d81c09b6af877cc11b9e7fc33d41c6d1e142995ace12aa8fe8fc93d4f72115ba5aa02e4785c152861fbee4cc6316a22adc8cfe0ba889007cd337accedf83ff2017b562ede6330285cc0ce66ad793cf1bbfe2a152ca0e580ff58a3644b305ba9d052004c1e003d826445acadb0e005dd21cc783012ed7e225bda489858d059efd128d466fc3b22dc245535b3ec988ab2f3898c2de74dc6227e84402255b6210e5e0750b566381d7f440f17a782c062fa308714a125c57f3116dc26d143c9077c84282e7dac888197782cef21e38c457c94af03c73398564ef0eae1ada40e796dc15e6a771f15e8e56da21f1500464dd8ead290f9d6b418922085a6e84e99b89d9c5effe7de54c02fe5a86f37e7b38ced2caae2ded5966b613f9f894cb5f1ee40dd98ce7e0bbf769d74ae7465ec1801810ce029d5d3c97dc3b2fb50bb7cb80932990ca8597493c1b5ad0d281eaa36fa96e1e212acc22555c575862de765e61756ff48617ff46ff31d1cfd820a8e790ac7af1d314eaf4655c42db0469b87cf3c233e3012d7235abd92c4b934a9b08ffda1a0a005fd01dd9f3473c3371358e6e257f79df6f045fc41679e06e678da0175ad4ecf6ce64388412f4a1a66543ed24198824c0245681fc01af3a93ed1c9e8325fe8999f139cd77892aaaa072f0d17ea73bb89d7e0cc583150a76b974172ccb5ba4279d7a5b50ddce97f0e02173db36fba9a9b538da60ea84390f73b96de73cc00a9beea806a03fe51a13172d521b5ee52ff858fbe561b4026696206fb93706a699ff0e6869b1f7014fd884c363a3b1f37dbafb5c18c19134f3ffec926349db521fcfa585a342a0c7d617ad573a4a10346f9854f7a5295e3ca14aac64310bf74d3b9c25e8b9602ebe2d1d84366ea5b5b66aef4bd4e7eac80ea8b7859da31952afa22d71318af04ef84c575c06313c55fb355963abc32ae1fd177a1b1b458e270c62db8752f7f9a226f52d473968b3e5009aa0a126def3f56123bcb9755f5042ba533b6da9bdc061a719450cbdd047700390db04e971c8cc12201e1094e9bf8e82c01dd0fd6a6c576499bedce67e937f3f3330a839eee818cb0dc1f2bf0b2bd7f7b99640332edb85ae59c3e5cd2d6733078debd65e1fe9b5a7287739c06a04cbf9b61634d5e07fee80a10241ef2d0ed6e8e1370c198e4ceb44605d4db3c1e7bfff21c1cc7fa00092d4bdfcc0aa229768520d280da8077f1c71e325a3f58428b5c80d09c0fe7580d72370effacd01dd2b4e4e4634fa80dcffa44048f8d398bfa33316124bd25458d56e604c1ec0a62dcfc53ad407c4bf6830d48b0235360318e0972f7ec7e0c49b00b8445429be826c90f6cbb7f999f16e324d47c7951faae51108505cb4798fad353a14c1e9a6839b5cc36489ab9810479d4934841f77cc8b58af22ec0bd7c7dad87b36cd98201e40ac54a89ac6e06ff9f9c8fb4bda4b5db77a8e7072bb7bbbe62a99a2c62d8960cd7a30de244deb3d941eeabed21e33b8566cf2551e1e37111cb0107432a159faafe4a4937eb07243c8c69b43771b415493a62bdf44ab5d728b7bb76d6adf98794f1e342a153302008b2cc371e77499ca9060641178bb16586c0e4b9841a3180e2837c362021bb10dbb106216bfb94733499e9b6624796beb848528c12dd5b8ab992618e8b1679b908c2f4eb382474455f5806322ff531292a640da888d0a56c76e58f9ee2e280342e111999cb92be2671cc07c9431e1050b1d7638d5e089e55575e0a39abb72fedfcf55d560de69f12341a6244439d92729515024faa53cfd042b3ea827a896f1e2b7ca0f1f598f5e29fe8d411db8fda27ea99975913b67bfa2a6d48d28d660b59936e7356afd83c2aaf66303c8dfa214285c1ab392aa45164b1d5fb69d01c331b41a512c446b78d474d26148a0ce2a72fb8766db2f6ab96febfa692cf3375a03013bf9d23a0d4c2b44a6f594253be4d9feb3c52f07f2937d081357f66f36ee123a3c40fc8466783d9698a21061534681afaed94ef67962c618d793ff1cd426905513c9ebbfa81b3ff7e3568b363ac786573da1be784ecd9031c7d00e1eee5dc3e5e013a5de95631a7b7c467f8d11589a9f4ff080022c412d0ac5fa1ac4f3d9ddcc66c64b9c4d1fc839664ac705567b6097705c577ca2386bc02c7644191ff2fe56471d64bc83bc58c2fb1cb9fd42f0c3fe341d7a59f1ff5179fdccbb81ac2772297f9f346a88bcecaba2ccd3d7fa33c7e3109a71f8755f084322393ea0c62579afd0e21c1b6b8f594100dc901269cbd10bdb2315c9d4496a7d3368a7c0e3a9458a1191ae65909586ea36bcc831b4d19e29cff7d8259667bc07698f6bdc5188279440ef54564da449435454b14f77efed18b0f09e86ac1fb046458bda792e843e9d74da27b0c1543faf0aa2cddbd79291aa68d673c9a218f9b5541f6796f7cb85bb39c0c1df55e9d4f46cecb64899bd99b85c2a2cf64b4a900b1582981dc8b7ca44bd74ffb131a771fcb3ff1cb3f64dc447f3929bb1660b5af68312402e4cb12ba0615f395a5b51e404d71b07eb9334cd92f15bba84b8d5a0bf05515ddd8262b62cbfe43aa25d0d07ced315e1a4af76a099e4b14a9d47e6f1b6d99008f7687f731a1a250e10af53cbc31530d3c3966ca611c4e73571330d2323da3fc04f2a5f2a81c2742bc76c981687691faf8d33407b6b5d09b1e0b84e99255c33ce20ee2ddb877f8878cf13b10532fa72eecee4328a9d2f4f66449c4e3974e8298de86358ce508775fbcd94ee25db34f3191534982f52a9b76512b092cf9ae00fc8156a9f89eaacd5bfe00fc37a7a3e08fba314a0e1c5867d1081748a6a79b37d4c7468c467f38d2bc73b48d11c1c85214e1003c10bec07b507f1482fb037ed927fc57bcad32c970fd30f5165590da4da73657dd4b5e08cdc7d1c7b9d725f8f8669efe46385e62ba3daeb9ad2253bb70dc707cacc4811a126f9771c24f418c65b5249d71b95f388ed72868969869fa9a5db6673f74b0e5bda3b5cfd55353b2146404748478a58560d3ecfe8acfabf697061993e1e1d881816c2dede1a4402c35eb4ba29e5164a9ba83d95e10fc6a6642e5c4c684d56df03e48cdd1c9233478e55d053c8ac379ed291d384267d970cb9b0891840005ae6a4bff1fa2b6ad985a5c953daf78dfba8287508553ea77b95eb9107fd5e1c91a470553dc1885cd47274e4da3de3a3d89884d43ea3498d2829621d6640799253d6dd6fa75e8482a45b89afebb18b39e25cf3ba1483a1f5167445a54714f43b4657cc95a0d10459fee04e9b8256ea4769a9b191fe6dcb2d90235ece3885525f26674e45beb486750fb6ea48c4e3966b73b9a2241d19aa8146b5848fe864192e1fbe16abaa266bbb3d008cbe2b99fa327a721a6a3c7c2e0d3ad650a1af2ceb0009be647a5cb551606983044be04087b1b205bccf90ebd19624ee94f400718d3c8f88c7f2526a06da1a0887c6ebf5b27eacc3a11eaac0c8d5ce6cf1e9ce0b70be1aabc7d7c18ccc04a7b05d3e3b6968f080d79ee06b2716468138952d33dbafe13609af6ee8c92cef51513e17dadefd26c37b3eb91f0a8358acfd5bfb264444769ccfad9a91dc1e373850cd99385de34bc57a452b4f8eb41c5972d0594a9d6b211b698ccb08549d2a796e70b2ff6e5896f174fbe84972dd7404046a6b1e7b82fb9dc169cbd570ac15a7d92db7a58758ae44bbd699c32f509d140bb1476a63ca69d9a4bd52720a81663627c4ac912eaa440986c9fffac20eb2b8ea2737ee8aeb374eea6d266614a913d7c9f171cde633c90fba9ce04133e77a01a64407a9b294cd034b99e2091510f1b6af2aa91d6bea0f217bb2725269a8126e61c97ea0621f10df8a2dfbfe22078a5710f0f81053367b4adca7bc787a0761e52423a288d45310cb37b14a86af1696097fb2fe695ff057f1fe37ff4342c8a412f83a7af5cd21380e8d933a556a1d89850e1982c283c2ec4aef1a69af33088fa840b1938a371508653889c1eb1ead6e9d6d1f69ff00dc751996c27a860305dfbc0cdf46edb797a94be2487b72558339baa7c427fae0d83ba29cab04b687f1ad706f91e514aa076c119617c5239814b00d4d38163c02a5e5300434cb8765a8e9a655713c95b7f1da3759f4028560ebd120ca42fe6c72ec92752ea55e718e4945233aeb967acd5f669fddae8a6c7d9b1f152337caef1f145443be546bdcfea779f56c490828bc8745ed28d4cead1508080f39b130736506e6189325f920dae9f9ddd0fcd6ed95c01de21549a72ea269d54ee251334e7cb7bee248f2ee12225f9c1cd15353540fefb257391e30b4596601b0c962074a11c71d0c0ad4323f91d09b0e08af87ae2e706ebfa0acd1771b982d6d8fabc81320a2b0bb5a15ab112c2ec212014d15fe4163954fe02a89c09b6104e7332909f7f3771f20013cfa4afd06d971fc09210540f40b28538b18a567bdf71c1e2d0273e69bd41f7ac0a3999065638f5d9047c55ffdf8e074533279e16facd4b3448e4769933ef4916d0a8a8819f39b4b8881c768c63dc1b5f6bd86b11a25c6f0933402c52d35d9c598575d1de8ee6e5fd144f9885402974a7240cadb718cd27d7905948081177b1e602b7c075b23beabcbd68994bcfcc29972c6d4b2ad8e40420336c8b3f70c01644818fb1881ec0a7e44b814fe92d805c924da22920a07080df8f95ba91059719f521b290ac4accf3c243b2b7270f72cb56b81430478ac035f170c79c4c0e35f508bfea9a83f003d9a1ccc32749cb3c0950114ef6aa85f77368fb1ea0470f2b2ea22495fe9da9d9a22ab71d069f9522955d413716e9be7a2ea390fadc7194a629a990656ec29c7efaa890b0b7f4f8637426049b22f6db00c07d89427c8a38086795917b3f425c5f2f7c49baee52f09d775b8c02edf2abe5a28d3b26322c22480262265f90e0ee998fc39af5af4e59440f8744dbee4a7b03e6e47aaccb66a5af43615c5c896ffc60743681be9e0b1941879fbc1cd7691c5255639c060da3b370a7bba35a9533691f9a16585f450091bfa05ba38e28bc4ac4ab5c7263352662a6c105baf50505750d2ea42359eaa1c95a79881183d75b2207e11ec2117b8c8fb3fc60f668aa7ad1150cb7f23933ab3e86e530b412e2e6aabbaa3e9d35822dd8dc5605592527f4d1ce8a2753ab8746f21efb37719a4634dfabe7131aa2428cb231370d7780dfb4aa411fe775a17620c1eb6056ce00c2498dcd566a69d8d777e9f75cc22ae97400037238f3b8a5176288b4a7c63269f3caaae335c5df776236317ef41f8d714bb566e8d9542516359e4b01e8e070bf764115693c5398760f7175aea0a89fbb78ce30bfb8f93c1720e84ffb89e2e9e4f892e490d3e1bb24a2f43f05b292aeef8f7dda494b18ddf698cd70cad777595b7fa5c1496d994168722a0bb5f40fe542918d1eedea1319a7340d16e675379f9bfff72adb648bc4ebf95c9c12fc912511bddc986ff4d3fed93e0ea16822b5d9a89b59910df0e89fc1f7a99faa643ccb2589413baa572fe5d876bc569322d81f1c74cda4671acc014cf150fba488873fd5cf24317a6c5c13b31573f9fa9942cb2878f3dea18701f488e965d91f82b34096f93610b5ab925b34be960c6fb25d78bc09cc706d1c316b6669b7687f789de8405ef957eafb373c699824181fdb1e2ea1d9d22ebe2b2ac31384288fcd724fd8304ec7eb49d795627894672ca95a4ccaa721d1a12f8088c6dec3e7c8d84682c6547cf56af8665b542552a9d67cb213507e8a9bd66dcb653a15be59f95d42168e335aa09a44ead36f463414e2be586810dc6584253dbce5f83692ad7981bdcbf73ea6456d6f42edd1c60b197af4a9580d9d069dd0cc52c4a5961ef7c56dfb5533cd3680083ad197dc0330d84990863f81875adae3645d43721c09e2c404744bcd93daaef1f412edafe25a52dd166c9a62bdbf39f2d937e2b34797922aff2157f12917f52fca35dc5b0fdc7cac72798ac3ec8c32bdd8900a7893293551d4c9b635b8c85b4e7339dff084ca872498188a96427210002d4761c3f5b7ce20ada5d7196fc83fc3093c39f020c15c41d15afcb66b4a44a968ad3b6a180dbf5dba5a227c550d531eb5e8c83c0cc6fc84cfd51e19ac44100e2a7f5d5cffacde9f41d9e38be728308ef6e2acb8b861e272dd938fc5c2357dd8f591d19252e601a5258b89ad6c7411fd2fa665c12209e24e7cfec046874c3541e94a517fe8b8120f9dc9a4012096ac830f87553689c50c77a90245b2c6b29c048e501b535c5ecfc5fa58a303a5f0fb3bb54d6c375a21b742a6fb7ea92dbb7702c2d4dcce434520ddcab52532702fc7aae90460d59f638dff96ffc067019b05f8b7b7cc8063b8875a7d173e558cd93829d3a96ea9c788dcc4f86d52c3ef8ec4b75eea83b23d95db8c931cab184844d97e934e2cc78ab9ae4fcb24ea8ee2e5a953be538469666285883dc4c5849b3038cb789f1ab04c62a8a71bc60f6dd94ef3a8e572f6957e8e26f793c55abb375cc80e460cbb075d312fa2f8e604e763c389b6f54a6085504b2b8592d802129a2aabf47f98375e513d2238a648c6d2a15b33e7e95b2a2b2777c0afeef42686225060ec82f405a4426c46a82f17acb18691ea1caf45ad8ef274ddd6a41a6a9d940b7b93e2a2c51f3d646b34f201df3ce7defcdb5ab4ec63a69b97c49855d081f838963195655f59dd1473049c6b88457c1bf103668e966d0fdb32c4f6b60324baa2506242ad638c22f94e27f18f30f35b41b56f5b2b35885fa30d45ce091cdea9ca30a2616cb8c632180b3386e76a0740411738e867f80b56307c35006aaad54dd5cdec21bd52a26f7e26927609de20e8e8cd11eef26eccdd1f3b87f603b2a8fdfed826ff8d728ea4df86cf406459ead67d51c19e3aac3c555cface94b1202c070b3ae70a154f137b9487c7a90f68def89ed496e675647644dc2978c7220cfd071f78cf442c0715c26544ccdbae9276e2e225ae87e8c676b2ea87968bb8091335d2962d51f68da321bb4632bb4c4cd340db311b61a6e967de3aeae4f626f042a7c9e9c4e614f9f6a7b400cca0df129aeac0459e2d020d0bc2bd0cc19fe91cea7b2ffbec577c1493d8af46a2021b71b5396ced108f72b5156225d9a6574ef603cb2919c012dde70b41b4a8d5426d91d6666e30ec1d481a1cdfab502b65d5b7b400f1f954a391c2fc92f2fcabdd71d01aad00d91b8c7ea4b149e2159a2dbbd903bc2507d395d264e2c5ba81cb7bef1e581a33c74f31b1186575ccbfdf9b6f0fbffc59516a404aed700f263206c9f110c5de9cb06c701a592deb0cdb8847c3ad7da68f809809953849d6873fd741bf82c947926c97c299c58c524f87389e70606e63272d6af196358d11ee505cb77412d6b476eb457fd7c26f49185c9e9b0af13f7df3265424c2fd073f1730effabf9a7ecdcc0f50060554a1f08c2893d607878bd5e4c1f84f9add2db9082932df2577ba6d0d98554571100369cd68b384512f464fb2e38dbeeca900d125add4b9b2ed8e610ebcd4e424e4c75a7ae3817500f61ed03da86d610b519d2d935c9438d377109bc668ae3061fafffb24d584f08af18f6a1e7cc120e82d310e1feb383cd5ebf5d7b98c22c7037de927ccc44764460884501bd96c65b364c3758c8a9d86960e2669e7edc78072edd80afcf39596e7824b1b9a30cd929ab44952117a6a915c3aa5f846ae54935371430b08291c74e73be2498ef860dedda62dd73bb605765ddcac452bcf1939839efcd1554c7e8557a0160e3c934adff956cf8fee8b1dceefd707682d59b494e504fb75716c1a30443c82c4887f8fab29aa3983faf98f9dff0571b99bf869d6bfe4be1eb6b02c935e09ab055a7e962ad49a85fc465a007d0c18875a18764404c1954eea6b4942feb7dcc2b4a0a2ddcb5b048c6e276f0e681a9063907a2809b9ff3dd7e4d5f8fee94658eda88cb8b89be6a5efba618ed12000107cec9313d0cd55e789585e6386c8d70ab673ba3f55f4f5e1c7bdba3e8e13057dd6ee78039363c9c9a291832fa655f13f1932c590185c32c73739d757f922f3340194f8950f749cf412fe99e644f2b7d42b81a622dcc66c2ad085ea739b3132cb29ccb8c3929093ce81a18fdc8106ca62bb496282a7c1e6144e5410962c0256c69aaf61a28bfa095ff326c481cf7f2ac6fe64305c09d29387c5778de24b8c6706bf3d5fff89602da9aeacf3b70d04418bd24d59a12737bdd4691a1a790ef0a4bf5d70c813c3b18cf5de24861612fc1d18cfc9ae2c4972705742aa4eb9bd57f915699be82aa467211d2c1fdcfbe644332b451068d2437cc0a6a061ebeacbdeefa9a0966b3b802f1b5b2ff4e077123a651d69de177070ad427e37d762b7437eb3f77e196a9148a99029372c52b347f53faa68bfb14a4006054ba317b1f183318c80bd11b0fbba2d1a43c8f37d3d77c286106416d16df762ccc1e3a9949e49053bb973ec4c4b31732ae589ac7bdaaa189be29134413e730bbb2415d19d4374d723207691ea5d8986ca0c2c6b3152f42dffe4faa4605a7868d43f2d49e5d48e96a953179e28f932fb8bd4dfe16ea506c60e0bf33d7f996eee9d2c27fd5346f7ca474d8beb726e19727132e4350b61f8307c78f0c2e450805b6e9fa647ed84db56fd07ee2841995b15d0d84f2c322728029f4289cb184e7c267e480245b0335b90d926cc0ec6986078dcef9f9ed159742a5335794b0b5e0869c47902d0a43580aa062e84f408104f7fc290f7f0a2d35711732930795b921f871204cf49a347216e3cc2765943913412b261340ad86ba7b5f5210053b49c9b4bb875d5ca7d3e4331b7714a9ffca0c3d05825ac37de7d3edd7ac8956048d1e6d8a64b116a1ced5b8457a6782ee6e181fb482a6e133a8c72e574f08de41b51fa33b3024304ad02dc0357fce073e1a92574556d873ebb407110c105f78b5ae18fafe731237cd223c28bb08ee6b66fd4c6be3cc6874f01d4fda66cb59deb4ef280896ae711e606cb751c2c8e917d66ed12cd6843f615ec8d18f0f53d6225fdcd6f31abe8484fd8aeb3790c74ec48f633aa31dd5922cb8cc71e03f8757c16285e97e175cc1491bb5c3953471d821a59bf660120405bc72409b68d09469d1d2e571a21ee1d4d3829caab1d1c06bd1566673f595dbe50791d77d7d0a11dc18624f602d863b6260881476e2ea2b4975daa37c10867227a2e4cd793248cea33acb7dc94d2dd30a72d9c241f02309bae48a638a5a3b64497eb6ede33ca8532bb433f8bbd50f3dac26eccdda40c4557a52c1225ec237bfc9ab240745ed68a3dec0f4d862916430a83497d7a634a5a8c10d265c749f8dc4106c3c5b0a000676de5ab12583e178dcc45de3dfa364d5ff0483da74e46f00c5b5d3315d59b054274ad0579f2781884ba93bf6bef50e1f50e5d39d6f48e08ebed00ca84915a7eb7fe3ef8c913614e55977f7d8fa038a080578b037f8a476d9805d81289017e62da2f393e77bcd000c3cd6098874b38bb60d708691c0e9d1fc9a440c19ff3adcd64f0a04e15ab634d52bbf2d5cea56c63750b082eb96dc3766faa7721f0be2ef429dfc498e6b69d0198452449859743fc4f3284f142beb212c26d8cf1f90baa217ca869d63d68079f70a86de6888a94a245dff14fdd1f1aa452717ff4c6223c7cc8bd5127b00603a1748d71ba2eed4f00095a9f7654220c5a7a1300020a6258ed4eaf69e738e4d239a9a9857705ba2afc494ba3c710b80a47b322061a145da62418250dc1938305f614d453fa8db9c9f2fcee1d2dd51097054a041914b722b88d7fde436252672208155345935e21a6c1276de924c1bedd95da6fa95000f9e336f5ca7b5c652f6a6dd146871c4ccb7de8a37e735cc70570ed698550d6e3c03a3836f9b962e3b000ed5984758c6d80efdc8eb9fa6272390ee6b66a06ba9ba988d5131c5f7115183426580d825184d44eb4a9be7b11a703a0c43201e2a300832197e92bb8e4c30ee3bb4bbfdf019d196ef2c51abb594c9e0ae5d6e3638748064108c6cf3f25c2eaf57c90fd13ca7d1a81b29612392dc747d413a324d6dcf5c7eacb79fa77a39bed32445068c6a50b87c295081f7eb4e6f9beec487fda8d5b6b7095925eceeb2178e4e048baa0db67aad8e2fb02d66586efb19f278897d897624d92f02cbaa3a4b92e402223f6fb583f3ff9c1f3d7950d01361a0f014c54a9ceab4814d2990b531ba4e61f5f08f8eb2831cfd0d1e46090abea54f64e0cc7002751c52f2a3d11dd8da5afa08d495c61687b74eaecb269f5386df5c3860109b15eb66a1ae7951dd75aaeaa0ccb2960defde4bed5402f7c3317520bb387211aa5ae7e04e9e0af6593d73d7b1fee0bdf3af8de8f4f7ab3df1b727414a94ed540abd7e13c9dbd2fdd7007b06944c130dfadbdece4551c002ec0d9f7ee8ffab1f8b9706ca45d5afccfb2a5f959da63209ce5b0c447e131bfbe1f83cb80dd04edc4b61696a3306b5e3d01b0c4f8364b3c0e05939a08b83da3fa064246b805065b4e4f11adb9bad35e717cbb0bc96da335f5a14eca60f62b140f4435ef12e48c19d0262ed3ff3406e6ff9807080b6b409bf8c01a6b305dd0061a568f3f1716ab389360c630c1148400953ec68bffe9284dc855617dbe03c1a2ee9f6b544dea865881a6c114802fa48ea511a587087b8695dc75af3a09d2d2ff6738b05b6fbb07aad72c80b9a57ee3b85af2b5dbefe9934b9b0a2a4d8de77aa0e9f4a62120d4a0b9f0f1969d99273ef0ad6566ef4045cee57848fc77fba388675d533dbdb68d2bf59dd2b16dd4ee0fd2ab37da7bcb4fc9f815c4ee34cfa66d74254949c2732d46840348513a4da3c89df45fb0a262bdbbc67b84e0062baa0b577ac05d8c7a590ec35d660c289ba2c4b4f08c166a313dd452fc71e974f3d7226e61659c9458480b9d46bd1908924a06417eb6847ba926b7e58e4c15a335842cdc166cb53c4be8ef883b7b4e6fd10fb69bfde836ada8cf588d66885af2ed1164b426afe82fe83b07ea3e897fa0edf431f555183bd2c0076a3ab8d11a8abe417521d63b9ad7fee6f6a1f12a36fa1237080d9969116507c6b8c9e141622c6dcf2b8bc062db62763aba8206b25cfab2b82b9152e17845eac401cf8ce96f56ed1ddc3bfbc6170249285ff7d3a7f94e7fcc25a320ddbcbcc00d90e017d989dabf1acceea67285e6f260efd0032a9fb6c4e4258f609fac9670db06b24e84ac00009dbe7fa72d3597ff0fc7e666ca3e81e2d8e450d1ec124a49d4c9d4216a6aeb40b9cbd3d8d11f2e5f2045c66233a11e9a3406228df11a6c6f4c5c1c539f17b76bc50ba0d97e7a1710789d4b6b93000b66b15596d6ec95903f0012aab2a042e0dde5fb17ea21ff32c163bf954fec3c3d61750fc6ff28be30ed41742a15457cc68ec4e22099d122938fcf257cb44dcf8e43302520b81840928877e86452795876ef4f1eea7a7dada03f0781e2028ac724f45f51a9eef7ed11d0c10e46944ac35febaece14c2918876bd96ed3e93466921d8b53adf05fb14aa565dfeeaaf2a7437232c1d4625f34b611360378a7152b7636f850817c8bbb92d44e8c93778c95e5708fc23ebbfc2b396ece12869b68e710b602881e1fefe2ef4c57309c672de08141b8834a6b83fb4ec8afbae19e1ecb4c97635c2455e5d99066ff88a6850f0a328e6b9c1a8d1d1a0619154fb170d1535fb5241e4cd09fe1e04e6994cfffd65e217bb66da561a95ed482c01c9d0b80fa4109f5c6cbcd7fc67d02b92635cdaf3d692be4110bcf29af037fd448385697cb2292843fde1cfd6eeaf4c4bb81cba6bfc34d8f90c73e92005fb576bab2649b16aa39bf601c9a2f7fa904168a2fdf2616921d3424f3c78b11fbc91dba0ff978ed9fc12a5d550b4126991fa7d68c8793dcd560063172f07aaa4daec5710c692577eabeacab53854b9263c7dcfb9b500ccf61bc092d6ca5a864607ce414daa18bdb1735f28b76d4603b90d21a0c65ca7125fc30cfb918f529cce80f04303965ef6b04060ac9a1553f176adc75eecdb01d4f8d8af1b7dcefdad9d6cdf28ee9d8f79bf8077d5f7e44539953ed127249d854086fd30543c2c2ad2944709ebaa81c120660388c0aeae4cf34ad3bc073fba9e79bd4f0b0eed39403ccb1cfb6d765327838ae564ce74def0c6997245f3e9b585e2bfa2fb90accfe672728c40e54c209692d167b0645e3cb2aa5ae915c262b41db8690efc071bf11376825d34d0a70fbc014f6bc8890e88eb273fa600fd1fdba115dbd609b1b1a9e6a398ade1dde7345c2db034208fdbb734f09ce871aeb5a6198bac01a0d677b3d8798f3fee78f09fa0abbff0f30e46ab8940b25bdb6c83514801d5fe25832ca996f56b2500f0d77ac824ace7935087600f2299088fa9d43474e1b47b3ae32d1ab85ddc83358078e7795715f5652f3a5b20743d858f17e11e1a52b8f9c39fe3fa71d41782a6fa2482752268c07e6deb7d6a56680809822ade1bc47f79c11750b753c887874ad55ad75a5fb86470a75b9212e81f4e3af041e275004c519fe4e6865841c3308f7740b8e339eb8b46431a7dbd6b6675fc74e8b36ce784590181fd211f80620caabd9a423ad02bd9c294d17334abebbbf931fa92a1041152b0afc46d72e30a0b45e4064f076ccc87b1b9264096dbf897381204a909491293175adbcc19d073f36991b4c2e1adf9cd93624aefdd6edcdc519de431dd459a8a32c63c143666523e73766a769af1ca3d858d35665552d4af5770062c205f1f624b90c1f7784fbc0653abe4f8f56139f2e27c5bb221b4e5cfb51a6cc72a683d56d530fe0519a3adad0fdf478561ead010a21f22f76f18a43d14d2023b2e9c6c4526c786554794714760fa9c0a53d0288e01195bf9c8d4d7c08d36a8fd699e6e5bdbca4704d9a3b813286e1a2ce0016dfe0cb4bd2e702b7762a517cb7acb66e06fcaa391759d64a3f20115bf467417205c7842127f67e68f62352fba6263e98e8ffabcc06166fc1ab7b1c1eb507d5ab73fa7e85d4054d3dabdc585994537e422c7066a44d7e7759fe1b799c7f90cb3e8609d24b724b3a0f6648e321865ba24998086761f8ff38d466aa12f9242912b8ca9d32b82fb998f7dab22807f23dcad4b0ecc4aad29480d8ab725aed9b18deddad3626ce677ae9fea12048ecae22a1cd8012d7fcf3f43ec9e95f6e5dedc32c65eb597056e5b046d56d0f42f7cb95f32967eb3762db16f0596ba7fbee531d7f86adb038da31cb0019db575da573baf6604d25080c4ea070053d1e7fd13e3cf667171b11c1c8ccb31865e9a431fccc9eac84aaadfa6c59f25b88433078ac57f6f5c3aa5a6ad56f97a44674416e2d788a8c055b5a999c1a0bf7b7c1326c8ec085d3408af1f0d43dc58516ee099d5ab8bd94271c481b604d12d816cb80bbc3c5ab58325e1aded61651d9652a5eb089509978377a287363676a5f12aaf34df47e88e57fe83b75d3e1d9cbb9a3c0f2c9664cdff8de7d93713dab2df3e1973ac017d5396c7874422ba9454c04bebb6eec05619b7d870a826d106b3dca7b92ac7c2137d74d63ee3598a68388d2df5cbef5248a1193dea59571dbe2f0fb8668d83ba5bb13c56094991124e8d5bb0ab91f38d72567768bf21fc6c276760d84e370984c1427ef0ca1869edf602222c63559d8aad3372f4cac3c0b7cbe9939f5479dcc9e5103132153a47779c7a5a07ae028baaf95356304c8dbee68342231a7daa86202ece4873715496e647627a10fffd6982a663fe9273da8f8783d664081ac365587deea1406d537546b4ed50002537a6ad1b32dd598c3bae2aad38925a845675de3ea5ad6a297c3e384449cb8452f24bf281ce5dfddaa6d2e3c7ddcce22a40b9055d74793b2b1cbf6c685b84818999177fd1572eb222f78e433d770231f5a13e4fa46eecea94620ee8fdcdc1037fddef62119ba5f9d93eff77eb4c3246038dc4f3be47d16b3d6f8d440d6851e41d134f39156b9bd908ee811de4ca1cbb54a3292516e3c63929eaa00c98afacf748909c9ea2a70419675a49a8ebb0aa24771606d69cc6357459d5dd5a67835bfbe3c09a67c0205012a5c910dadc2cebb70aed72ea579a618a77a097c3007c21290ac482fb44031caef63064224b81d47b6b8ecdc014b305ecfe43e3e3e27f6402271fb73a582cdb7eb8df11a9a9e5d904e080a65eafba337ad571a6fd69d50634a4a7b792daf647e3b6cc14f33055118bc81b29a319b38ebdecedeaedba10c560b3e3bad5b0d217ca430cb7d71106402e41eb96d1789bff3802826b42186557e1e07d94b97f2258b960f249a2e694a14006e12d9259d916a6b19a5efcde21b4716a4ada409f1953dbfb823178ededec807c0d8292fe49768c2c51aa8286f70fba9b3ddcfe62ec4729229d9d86364f24fb7a2b6401167a43c94c82768c3bd883a8803ad5ecd6f75e67a324d940d1724bc0ff02e6325cc74a82c190635fd8d2e3dcdd55c0a5a2d0a6ecb4bf9a06bcfd26cd6bcecff39ddffbef40a749e32f3e8ce424d1eae6846ac8225d9410d5777f768f8b8ff8c60561d3a65f1806d9ea0d23cd5b2456e04555342697d2c9a6286d52dd4e8cd73ea8f61266a9211a82bd35acc1287cb495fe7f55cf017a154de4795efc3ab1fc7ed2e2347b7b8ac4cd6f00f4cd52493571fb5007a157aeb4d6d026c2149b51bfa0a2be202e324fcaa92393227f2e3c96616e16be672733d3d3b9f05adf6567190005fabda860bcfe69a5fc8d76b29b17a05e0f8e9a0a38db97cf47039a20da681ff5a8c826caabb2f428144432bda515304fc63233f5fe1ce02c591df7ea9dfca4f93a8efa1cc53835c76395b2cd05ac92ffe76eafadef5b7d307f2699bb9cfbddefe8368759b81b128c6695f41d51b6eff4c11197722ff869064840a1aefc75650cb0881bf6dad0f8939520a47db04fee66faa2863ffdebe83068ec936815bc5df82296e3cd0ab92fa26b053193d8dcb95a3407eafa20adf0f61bd253dd817ea8ac786c6c13e5760a82547c47473dd06f354a416d5a96f4697ccdcbc0fcc236f7b75312f221fad60b96bd783df8ef6dfecb92da8f6d945e2b952b17fe0437fa4f43d61491ab091ad0549e9d2305bf5c568f0888809eed4e6448d6d7ae8c46f7ce50a433c4fa20a58d6c09b109517b6d5e296c3bf95613853d8e62bbf3e1360e380f9181d1bf53054960c582ccb67566a1583c53868b57af06028084d19ee45f0b81bde861a19b55f253bf95ff45c359aac6391529a62549f2389d5588ebb936495f2b6a5df86021da3fc99d31f64182e9baf275db05ffa7ab5f1b27385bdad8b5efb514c045a6c8db7633d4c12594b4e258bf4eec3132ff4111724f840da8a29783f8619920efcb6f65b3d56fb2a7e4e170662cf75342d55d8b7781d722c402b341d760bef1ac790b5252fd217a0867816feddb9633407eb19ad9fbb0bdfb0fbe1bf3bac0a35ac3b648584c11e3f73d62faaa641eec9850f5c3f5366fd548d10c303efd1f4dc8f32349e42fa39cd5df88189261f76dbebec3cf7dac534a27ee51f0af2fbb84237445d955e6c57e44fee0231dc2e207912375af64c1f04e4c300413f53112b991b586b1888f7b9b446c2b874c33c9516379c5dd3506702e02f93a3d69c2553fa213347ac30b43e041a8ffd34c8269ca959d2f5f639d801ea3ca08b797f08f2df7455d4d958dbaa2a9b3d73608bef3fc03a069379a053ebbe29798c5aac62ca2c9463589d4ad8d61cd2653aa5d69f10692571fadfe291d149fdd0e25786e1a3571f0b426fe37bef857ca0cc04ef91ef712e59aabc76344b1109a158054098f4ff68db8453a658d288bf5da109851e18edda94f4750bf059dcf9903a4efb4fbc8269568c8386b27cf5c21aa128423a6372c8f2138244e4622c9ba83b4ff6b7f13d4fdfc47a6770969a6954811f352b03864ac00f4a8783423c9e124fce0467b61b0ffb98d12611a8b52ef07cd17a45a18e6c09ab88c37192c9ad5852899f1bf9682802803086fb3b4da4872926fb5fbb8037fe6d380dafdb77efce1edfde1d284deea037dcb5537198d8f709c9a8c448866cf8ca18df93df9141a2ddeca4ad334c5327fad54aa02682e93de55c046b3c473c65abc944c39fa1730b16393f99ebfdd84169f36dee065f15553e930cf5546ce09de7a43e0baed19ae80c30c869322e79c14ce0ff828fd488cc7b0e4d807e893f8c6a8d596059d05aefa98147a1df5106c7fae8c184fe3cd6980b22a21d59b80c0bd418a87601d565a2d57eba48f1cd586f71d1145d383ca866872bf5444192612f43816043133bbf3f753ec2de1a310fe088e3d749cc853f5bbb093e2e91af5cbeb3748698d8dd339db3d042269c738066d2ea9f2b5ebe9f250ec6e7dd1d9610c3e917e8be91e11552d426df42e51082fef62ecb1013f3f8d5e7190357a690d4f049b8a0788dc87a644b1a470d021bbed6ff735b27059b0d77888d5a2476ec870d977bd4979dbdc932b9ee4daabb106d8eb3cc38539e516d5dcf2eac232da58ad6d64dd8a34bea2162ef488d5b73ed3a3ed93d8c033d5ddd099c6f97e1301d96e0eab14732860a6c4726ab7c88361a80a1cea9dbfcc9211be16d78c531b52526849f45cfbb917ab8f0202b08b22f466e44dd912fb627e26308132f0548c018b98ec9547287da9e0609650b5651dbcc310a701c04d44294415db40b68ba7648c4b18ae966b963625eb1bb731377627ab388e474eff19c38a334388530a16474f37216f3ce71ee2fc8f5609315fbbf76af4a1f7c644637163f649cfe01aa744f27b230c3746","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e51cb6d05ed027db058edc159e71b81e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
