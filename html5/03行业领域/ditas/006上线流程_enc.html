<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a733de7526602c5c0053caa0b22e074c5ec9bfab619a684067e50b5aa1f858e44611a2837f8410425b23f42a800f8206b4be38e70315e483a86aecc4aaabd5c3e10fd737a96c153f0743ba6daee7eca06de9ac1061710bd4379acc6d488ab0bef35869b8c9739c44a6a954035b88b64200e80ac3bf514b4d0f376c6a1c2a9b652d817ea34a9ac550621c705da2cc92b4e65cbbde933ccf7256ef1846e9a8a7ce7d2373abc2799e19feed84088649360c0e5685a16c75bad53622df978c0912b53f1a22bd72ef0f34f00542da1a2d57671710dc72b75bbb62e1ecf61212d777643d255e42dd9afcf82895ef6ec0ac03bbe65f65b7473d1b6d55e712ab0881b4e1ab80459d0dadce6eacdf9a8b85e86a4c6638e29ea8d6c237d0e84dcdea2b0dcc48f662cb8fd4090e8e2cbdb886ad804222fb52d798ff2047b68e575c7d48cf247cc01d8405fbe9994cb8607d40040a02595eaedf0ec8a88ca7dd76965d59d0daacb2d6270da88eab274d89f72cd50b47bc72e73c3de5d4979c57df9316567e0fd675780fd055f054e8bcb793b630e0f8d3f404ff378f9c648a3c7044f857f9a3e31026bcc02291f9cff447b8d72e5e3aeacb3be9d4c5f854ce8d5baa3752d5d0c67e7cb2f3f8e9f803e91207c28c43f74ef7a3c6e0b27d2c043a38ff29bf7d88063c89b3d16a7dd2b913e23481b6fdb570427ec9ddf18e3353a3ec72e3ac57bb06af66cd1d6bac0894040a55026d986de51f986d776fc671968ede1b9b5ca894b6f874caee39dea05f67c6396238cd15e40d10f91c5c2bf94843a54ec49d7ed6c56ab78db32e17c37bc9139f845f08bedaaf2694d29c8046474e0af46ba647aa9b0606ba30f5a6df7b48add28102913b5f0ec1957608190479407648efcac5a7c28297e77275d3abf2fa5e8913484cdae9ec43aeb398aeb030a39617b8a3b0e53f87dbad474c60bab9d65ec5009e8198ea03718bb0ed584b4ec7166bc9654b4f1d1a29fabca8cd85cc60099fd02155e855eeac5ac77b005b17c05f3ec829cc73e416ba194251bd4c724ecb256f86d3fa8d695da1d1dba8132cc76999df69f01681b88d297a4c3b26d1a40acce15f7cd91b6d9cc9eccd362ec7be498291ec04fe7041b473a32bdf3f8d24665df45aab1a607c2896f33ca8981505bc59e3e54ae2c58b3a63fa20afdf01b515f3663cb8923305b0c96e07e8d82ee72461ce875ea3d627c02d4c2021df85951b9c6b3e8a5a2ced26d8a6153372d6e7f149d50f0f8f44dd6a9256c41d919beb0a9ab778840fd93266b2539a9e1ad9a40eb7a68d0fcf7df7e32080b9e1ac67d5f1aa4fd199a3b89a71ede8ed3ed0057352677706d62b90bba9201c643933420d0b3cd3699ded483e73bdc1764c13fef5864772dea6c81d1f9553f9a11ece484871019c8b80c74b147a577b9cb0355d2762423ccdcb337406eb1c049ec74a797312b1b2d68564a117d464e74625b503547ace32e28dad7538cd9e1ff1be9a5559689b6976db4873f628cfbbd56c468ef59d675d0b913293692dc63a2f368433571d8651b07738bb56adf2592db3c4949000d38b0e9b59b52b9aefe06ead3f724480f80919b119b3726978be2afb12e10637bec9cef261fef3893cad6dba2deb3b9cebe8dbe6b4bfbcd7eb975e13f13c61927209a335ccad2bea217dd62206ec7b7325e3eec1c34848741132201c4122c1918f1bd0dd88f0ceb28bab5163de9ed0780b9c4bcc852812efe1f9f9b07a58d7d9e460ba9a73fd587d81d5cf600fd5ac9b5a7303f6615e3cfa7705b9a44a63364911e244919de0a6ad30ad5d63aa9c18015b31dd8d3f499d89b0cec3bce20026aa9f65bdea7803e4b3351c0eaf7a34238585f6d7c5682293d2feae1126cdd697e8846502d03bec2d1ea8708609b09748065658d0fe1fd37c944bd2fa7fb49d439ab1f7dfb1bb946911d530d6b9b42a7008d444fa521c11d33c5bf1e4474ba3bff3b3894eee399f59bccbf1e093561c9069542943d7a16a05c4475829ab494c831ffd07c84b438e54d1991ab1e51be4b96a27a2484f4f67a668f2ff8c6d6b8358c989a5f59150d81e3597cbcbfdd0f70ef0239ee6429d5d98c96182130619913b5314285814e476b24b41421e576c54944d89ca6cca80f189dc68907857f66557e555795bbd6b901793904bd35f0b0032b17013b7f81706ed32dca6b2b961b4e1d75188ce3a8ce54d8c560de47512f1ab107239b4642ec9aebceab2c0c591b57612d768a3363548c943e611a063752ed2331a7cb77cad0a226997280f889d757192044a55ba73c27c9d0722779c6eb4ff65567a766544a67c5bb634bb7237aa24151bb7ffa4ba2d4e5810d59101e4b7e487b5c8615c55edb3d44ed84d154658b10f1e14a69f9805080a2249c6cbfc4d0e429aa2d4fe0aa76935af91ff892054f706cc6f8e6f08431768de8933559b549c47b31ceb1e13b436009c21bf26eebd9211adb18836b98d48068d36578618edd087ef6fbed88bc2086e1291a0782a7c02a58fdb47c3003759782921bfe6b26f14fb66197a89dd4a3a9156fba939ec1d5a0c648f55f00b086aa86fc6e86181dc5a2ae39ab534033cf05ecaa26bc06e9e41f84089d623544884d00985063ea181ed1496f7efd9482ba44bf8a0f348f873222439e7f540cf2e0ed0fec335143c5b285f69eb946fed0f938e5e7e3700b4a5a2566a0954521079982505fc5d950160950a942bbe702cda95f6d25939df653267f08a211d3ba47ee656413d7c508b623c259fed7482d3d899f83c5041b5638c701029ae0c7a265eb1a24fdf77b457ea892eae3b68debc5f2f5c23fdb4104cf49d0bee27c3bd66d3efc0c2081a1e7243a29bbbe628d1802508316c072a641563142800bbfbb4bf80b602f67770eaa567fbf020ced1969c06338cc1f0de55efb5ab8cafa61726590ffee0e3ce3e5c674e0c0b97602b780641abe2082fe6a8fa017d44701ba70bcc4017cc2a5d480543ff469ee7030fd206feec7cbeb76eeb7c77c6927b2f42e886755ba2d8e08707d6e727b682328c904c520b7099e46eb4d96abcdda513cf7641f483b1b029c5b99c8f1daf077596195ca46210e2e656787708a736de3190632b945d349521934f171613dbf259ee45fbe45f380bf982ce2a2f6cc5438d1215a16bf784856da09258f5738f87275b98d2dfc65e87855a73be07d5f010734974a90dbe3f98b27c67f7277faccadbbe73ad6d3312fe6228d4a01b00373161b4b28e43fc1a6d4d8f5bb191c8bbac6552acf2cc2be043a09fd9c6295f41edd1a9b8aefc541d3d36cd3d0ffddcaae159c73e66c972e47f8478f1b029db450a2b61c7cb3b6c7f45422c1837f16b929da2e57169fa6f870b97a329b5ad202fcec4cad6669db9231f2ea901c02e733f579a8ed9bb6aef804262b0eb69779e124776f52ad7863c5d44ae23a084f22fac28c7670dc974c116e3eb4a9ff9d06d82c707b0f3b57714ed5a3ac53429b11605e87a56529bc750b8aa4d6f6d104df4c36a28cd90d9b048d8e609a3150257da2a83f0e1a99c7c05e7d4503e8fd01ad19e1dd17c24f7c13b3d96b87ae048c96b88e59d48c0e71bdbb5189d37bf9319bad5035c01e471b79e72599209558144577ea46a457bdcdb817977b30802d28fa0a4b01c8a1f3447de6f08ff8308d60a0551f1345403449e12b651d2f8123fd2d426d03b10218b09beb5975cc4dc8613af5401ff1d0ddb4d4ae89fc0c6c2630acf232627140b252f3aaf69873dacba10328d8821152108e049a3f8be858bba5d03cdc6d813edb40fabc999fd302f112638e8ddae9dd043528468556ebe3151ec5c566cd37ff4436dd7be629b1223d0a87dbb850c09e7e74a02dae92534fe860049e56fccd564b842741ea9ec655f447b367abeb9ed8b239d7f36d789f4a699a93de4d6f9e2c569bbd17fa7b5c8c8c5b071e209e4479437331bafbb4e7f8a542a3002407830ce19887745d63dd1080f0f2cdeaa171cd40ec90e881303f9de9acfa56df11cd82a40fdccee6436122e1ac544c03e99cc4cac60984cd833da45819ba6bf1dd36a575e2e0e0533463b66951d4aca7450451bedcb407307d67c25ab70aa07a82b9f68173d02173b8c108f7c2499dd9fd7a3c7527fad2cdf2945ee81ff7ae60c97394c1b783aefd31b4dad0b512e3eabc599f672ed414c0004a706d656fb3c2b808516e2238ba3ae67a8d3cc2b15b67aa9886c1610111b2810d40e6fbaf36c3e4c7e6d0172e5925465a40de2065e9abe74b885d8d57ccf7ecbbe60a8f9ccede743aec8ccd243021b7187e41f8ce6e79d3214a2d5ddb2e3bd3f30aee6688416d4847ccf6e683de8ac68801fbc4b462fd08c5c41f9fd6a1c81cb0dda5ab518cf5b1909cd3e4f699aa5eb4eafa160b3793d606d988fb7ce7231373ecff2ab4230d4753985a5b606184d636be8d989367e912850a5a33f9a8c3e815863bbbb69c4f22d34092f6696f639eec94a20d90b5081f741d472e8bed755bb884e205dcfed101e962a3c474b611e533b284ee5dcd0e802b90cdf5336751493795a35f186fb0be1b94c7c6b72b981fa7a297ace4dda3bde55d86d8e8bf404862a4d2cb27c854c28068b324ace22752c59053dd44492a3e0360443f125be4ae21519a27b0de77c8197acec080a35f2007bd946bbf6bf8d384e41ac24e03536b9242a1141a051ec5c76039959fc1bd0fc849dcf14719dd2f1b74b302b4a83624994ee691a140b82a5ecec2f65de2d60b7cfb6b957e4e789a8464da384c434aead37a2c60b45302e9970c965cf05f921cd41f2eb5126d1b16ecdf019987216774a427aa233910673768e8a73e7e8b1659b276d15fd027865c21a5fd4f296aeb1f62a10bd0416ec95bb5bb72e9da6f4c6c3a8b027f46022eda8ceb4b8d7a9001ef1ce9ae3d2693df6530a24250dc580f5ee464120fa40b65dcb696c0456b8cef7ad03e28fb16e49933662a03eaf1b9270ead8b01c4202f4a619e878b7e1435c2fa7ee0c5c22d773ac8b539c29c460544a9420f152f216b5f43aabd6fdb012ea1af0e6ee8179d3ff5a57cf87b083e10bf195f3204c6f002d5b5c764fe6dade195e4196175331489845d97408048c40109c1f9433f05a1f190f217d6d9932556fc56dd9ef66f89ffd71647961f01ef1bfeb30b3a913fe82d7561b382b9a947142066f1b41f3cec17129ee5003c09cce38f95a42b0c7e5659665a3b05e68699c800b3c20e0529160537315603b48da62e25e17dae79596a995002d96ff93ba7bfdf3a7bee28068fdc1b048f03459ea8e0c532d1368e2f1b511f08b7efff12882d0020f979a088c760584d5b4772eef73d2996484e72f7a1671621fed66a8f5b06ce0ff3910badf9460a960811559b77ae7da5807cda8d4d68d9223588071d0b8c8e0b4ddb678ae468642fe0b057c49e15b0e7d2fc336b15bac3fe0a52965b456cd5d077ceb7b607160b8c242deb8e2e29da3b05f4bd1e06140c45107c9f86615fe22d9362f7fe1ddcdf5eaecdd6f7cd43dd98574b26f32ff6baa5fe230d9c6e618ef326836c9dee0b19a2cc400f43121691238e5566faa215fe120aa35ae70fa796b82959f2dc129daa33212afc2946a37025c35e0a83ad656b09fb645e4ff28198e7c4d2dd3f7a5a8bb7d5e2e40515f06658c7c49f9cc96d7e5c774fa9983938cba322528c0bbcfc0fbf61e909fd03af82bb5f2a0f9054f346fb3b22a71e1f87a2d128df7a10513be95169cef06d2166f857591fb41fe308cbd8f54650ffc60672fdbc026866a73ffb0ccc926625e42455966e9ee061af67dab9b6a6a1ae48652cb395692eb69b622c1513995d44525566f871718e570c7ca4cc39bf41700eda3beb677d3c6ce3fc56c5823a545f1bd87d5ebd46bef4b5a911cfdf9cc7a7f3e065215f9434c54b2617d5b0d78e9df5d737a3b1771390f6f42a91624da4858aa150766d7d0e5207d1901fbec58e8036c097b115dacad8306649b40c37e1b42d44bb491422524443a23d99ff0434fb5a0de35d7a78cc19f49fe5b6249b34d1074eb7a6ac89f6e37505b19b3af9fe097589537a5aaa8383c26b5f455780bf2aa742c7945db0ea53754e394485324f6e6120b54f07e39a15f30612423161cde99aaf51c0188eb68b938bc58c84dcf302d65408d45a43bf7ec62dc2031b30688dbb069290308311520065e3525a94eab88d246b0242da79a1092e9b302806ccefbf99223a99c8d21b6dab4b929f0cf0a4805256a06a442443da9704827207d852e0d93c79877571a9fb7f82f77019bb6619f00abe6f2db4703c271e1905302efa02ec6437c722c3095b13ef87e49347d34ce53c0a9b05b5d2c799b8c059c55cc2835098a6e37425ad0cfe16c2d2927b3b93e5f153a98047ca5775fc490dde05ae8ff454acd1a8e5dece09b767ae39ee6ac0d0f86901ffdeb54bb6681ebc6a98e0c62c53a479c713c048c28815fcec329a48ede2a71d4e6e5edc42167bda28b2a0bf35eb172536ff989e2bf9d529d7fa178da1a4142a98576ae7fd14b1bf73af59458ab36a4085ec8668febf178b05dbf565006b188a344721b23458ca63bba6c672312c2c8dd41f16b4f61dab60272d06aaa04ff8090b558b5e3e549855bd94b2962ac81bee8eefc17ca061e951c573a22f3cc72a2c0b11aa421e6fe99fa4472181769e8530417bcd00a5988b24b2f1315bec0013ddb8b5979e3384699c88c0c7902cca07e4b4d86181f089d92c24a4809cb9e315773f8fef3308773b33810a58d90ffc6ad086cf5a7f97914f7e290ce909ffbef020d6cee024869dcd1e06a71a46b594d492b469273fc9897c97c185e3e2b363ae38aa045c63f49c17ec6ebd9ab978a16f3a9761d24f9a9f1dfb6aa003be1af992d56966a2497975c22f05bc38fdc8260ae2ff7f763095c3d87bed748c29b81d571f269f0b94623b8192d1c485c78ca568029ed4caafed42c82347d6971ccf5a3f3fee701a0ef2ea324f2421509bc99497ce8ae92d761b2e7cfdc48e75356b1861d82f7e6c6b5fb69ac7c586d56db45b182264551882f3fedc7b1d1f1e7c4e4075f6ada2cb37afa64700ef2346304abf77ba8d02fcc320d95d12727da6c8c6a8019b2bdc8f5f9cf3189ddd4b346b3aafb0e5a9d15329ed3f1cad32dcdb30b388ed329a02024fb9a4fca893c4cb7e6f34e54a450559e1e9da1ea6a8f4721d9e74adcc9cefe8708e26d5443b7ab78cf4287f76c62812bc1c8f4bcf1a5d552d654966125a1acbec074935eb1f71f5e8026ef027424154b40ebdf5fb72ca93059cddb5e21d2914f229a16fe381aeffef345a198d22945bf1e25e2eea5501a413762c49aaf5358d31686c92eccb738f1bc1881ee6da50cf9ed68a1412854e3cd789b96a9a51e07991a5f318416ec04248f715e09b680a13a712d76e57863f2e6c4dc893e676b9d34964a9e555ec07591f71f6b2c489d87427dbc7e27b0829b6becc2d59959a0e581ea85855ae9c19461cda4dc04e4032b2a42a4ded1de6d34e90c11e302982e1dde055f04b55020f3cb885ceaf4a7aa20c9bd1abd12d8dfd502ed805aeaa1bcd0bc91db64a0e11037d908a79b4c786284070db21497fe86fbd7c6491abd8ce2f10f0c4c6998a6bae0edaa68d6f4da61aa69d77b90de2e362b78ec9e172e24d77a122a4732577dbe34777578cb55e4ec3e20adb0279e45ab3f3f0b39ebecaf7c4dd8f491b9c785f145fea3bdb131899234120aaa5ffd40e0a36c2327e426c7d227585222dbeecef03dc14c0952d2f008f33d855030ca4fd1e5547d75bbd6f04d7d7c6da63559ecac8ed4c01fa6a1254dcce0dcf9b18eb902a2ccfb866d2d1619f29e58f95b435a8433fcd1b1cb06380d8609c88c317331230d6edb6f9fbc922e2d005beecd9ae80655176509914182b5d82d09745578982a7dcb269609ef70b4e6543a84e1c18cfb41f9153622bcbb102952027d9d89bf3262b8d9a99f86cdadc89cb0e58061a3b9eaa0edb69858d927dba5ac0b3d0a9046d53d4338511b4afc9b3b7e6e6c01e62ebf21321010807cc3eef43edb1c017c6cef2754b2341e5d69e6b0b6857581a8579e6ecb96793a86aaf33c79a08fd832e1ab27716b706d745f8862dca88c5dbd417c4011e80555a6c3b19c02aa2aceb7f79a62924005fbae6d5e5445171517996dbaae313a209affe16a17011e0ddbaf8b25e7df5047a4674d0f9e8cb9e8c1458405c1ff71a0729e77075e464c918342ca51a8791bdf487914d185ac5c6af1ae8670b84b6b622f04a26848cbdc22919e0372b76147a983de026db35d5249a6cc43982dde3f7cbe844171a3631e7b4a597a797759ea328cdd549f1eea7b15cb21f0a0633a7b1f710822411eb3780aebf37bc819561fcd7595e41023c0fc9a6f28a16caeffe3102237de70032a20b59c1624dfd16fcaf15afc0360f2985baaab74e3ba22561171e85340d226a843434fc464224cef7898c118b0dae45ff06255a59e2ddf53dbd7a1273510e0c5ebf8ea02da643d7b9dcf0ac6104645dd0f2bf28885ad771090793bbdbe46d1de015a53ae44424802f7d52c299b47a41e45a46e74f9263a47cc9361614ae8982e3985efe9ef35d84837cc8be5faf66abb0f568a42d67ddfb711a733e5a42c1e508693ca73f4c8c4d7c6922fcf66678e4b7478fa22633ac3e65dbe604ea4676d54a9bbdbdcc2fd7daf7bfb8b36bb2335a3024ef4c9eb419552e760fc5e9483b8d2b9227d12fbd8dd024095d348597ce5117d3f04c120d62c1d20f0b8f7d0c3b847c85c134d9c74227fcfe2705c2d65eb58c744e9d3c23b967bcb59313ec942088b2680deb6d506961466cb7702e9d9d6a63006eef3d1f61348b12b3fdc3fec9004c5f917a16e200ba409cc42300ce76083c4e66331f21e77adcf0fe4f4c997eef71186257b5441fa39b50a781a4221ef9b214fa621af14a1a45a66253b66b852e76afda2cef1c28a93db0868aa8cdb0dcb3e8773f85862f8f048e165d08ba7dae132435724d565b8b3bdb8db716610f6adeb77afede14efa99205fcd8a15e905f01f913da9605e746f52e0879422cebac7097d1a72f68e97c967eb0395126f317f4edba1eee42c4cc6b184de4fd6b13ba42f4d632f0f38055ec08d3819b448f68e606a3bfd70f5561f218ce9ef8e8c44e073b6f3e16d86b7642d975ea4b8b3c0a718dd6b7f8a502f37e591d38e6884241d8f98789a97654b8869c16fc2186b6f07652b5d9b75c26b2b7df26eadc09e5b08efb2ed8dc3fe9386cddeb2ae4bdbe7cfa43c68858517cabfacb12cf73c1864b35756596bdc2070062a393fcf09349d76a8c6454a68d911b0ae7cf964bb5408d665d4b570c0d78fb99215a6a1313f088228d55230c1ac45bc02645a2fdcd63a587588c29c329c7fb0d7ee9dcdd712799a451f733aed37b5af1dd4fcd40c8225e3e40d136dfcdc74de0ca8d31a8595677094e0481d8005def5cd29a5491f533c7ba5963039ddb70fa27a8b57a168f201668bd96ad0edde6394c7dc921d543924520e7bd39570dd8835bcad19e83c44423fd997221f0e7a429caf0ffc5f2aee3cf545517abf0039ca85de5ebefcfef997f045ec8417df363768a99118719668ec01b96fea6aa06a579e2232cb9f3ce307228239c68daa63abe6a5dd576a6fd2cd04df5111cae708ea3ea58fa0290a4d1fb62f92d493c37c26f2cd7d3c70a707fb4f26a48d0a410db5ed66834e26291558e167dd90508c571fa4ba4b2c339a088752b2ff0a14c0faa449ae3187868a993a9392c8f215b4a3589ccfd34d815b6898ece8a8b5a0d5e8bdf09225ca3dd355f86056013ccfd35bb18667d6debc2895f6826d5178b0063d0026362979eb3520cb787e3461ddab7f39de236cead0e74dc9fe36a6a6a7a36ee7160ad91b02ce534f92906dbc18eba903217306faf19559dd8e49f8f144d927e78b490c3eb480b4f1bcc04bcb937aeb83d7e3d86ee3959bb221f83f4e39add22ae40c21844b9b05d6fb9954164a4ba962d558779ad663589f76b45d5d1c4928a72af7d8a7cbe710178198a5efac556f763408b55ead6b657ee50c929ae7591819ae6eda59ca22e226d63ee18200fe9493d7cc16550d565979eba3cbbd62f0c77abd252bbc246b1852a2ea3d6fa023bdfd0de5b88803f49e28d02c863a9768d6f1321655f7eee53e16c3b2a624abd517a045f109d61f41c0f6bf77978861d6cbf68f511f8d14da0156eedc1b9b1b5690913e2c513a3d94e336852551fc64ae4d3295bc27bb8989ee486cde09bb3eca3b5ac7847417d778ea716fd65e74e48d3210d13a3f406e7761242dcb80d6afe5ca65ac98888a8109f398b26f7ac820977489cb48c36e843a26b0cb73408abb00f4017a631cf7432073eb5f5b7e7c3ef5e617d69acdfc37c0dba29546d3c78658daf786e80c16e533b5c3a15379e9292c222649d3f5125d7bee954e21d5d8c17e9b36ed2ccf6c37e5c651ba250e932f02c377ee52394954282ceda0cd09eaf5ce78c3d8ba9c4d318cb69782c25136684297a540844e1569bc297e222dc63f69e2922e6d1dd0c149e143ba2bf5a57cea5d3c9342683fc8d0b75078340fd03412a84d4d3d93ed57036a4c7c04d6bd63717dbdfe696277cf74df45e9e04a1b49c1235e31554d54619f5c382b1c17b0d5463d360f58be85c1304fd42af5e321900a6f7378b459345727991c0f2822951ec63e2937ca72ae4093cf482a0b5e1f930cff5d71c5e2f341fbf45d63bf7ce76679afa3b7c93a9fd82ea210377f42a444aad8cdd37ec9f279880cc764bdb013842ae448e10a3be5db120d08e9ab73c25c089db242bc44aa02024bef29e94e503238e6d38ca7d121b98ba722e91eea895db8090b30fde8fffaabc94f8e6c9909b3b5287e12cead6e6fb38041ae6d8ea2507451836665943d45338b13574a5e4e6a1caa91fecf8e093c50837f933a6fb67712fb1b8679aeec2d6c795b890d7421b35f343bbe68e4f97b9fa5ecc024eeac2f42f6422144742ceba917e0c1a9fb1e9a5c98f8b41135ff61ce66a45e21a4856858c1552bc64bd111887fda6a225771969d178944dadbd981c97f34b3dedf474f47af4d72ba60884ae44edf8e7e27c51029146b0fb0f6a6a155fb4ac03b3ece6621675be59ba0d88681ae8dfb72c8e5a452dc45734cc6b6ad30b4f9339c91f1f6ae3696aeff427f7dea529bdcdb89001428afa9f9f9d49677449e163d0126a99e89e1bb1e3961064506d465b429efb1d9c6bb1a4d907df006b088d276883e3274e19ab0ab6ae90b46aae8d0a0aac1c0f55e71c139cbadd4faf0b4b71180cc2adbde67638e237afd732b723aa4ceb1ae00808910c4aff4d45898649afc0480ca4388f85a7e4cb3bd2cab56950d3b37741e03c59ea5650ee33af4600929ebb19db0cd89c705a555d7e1dbc3b75c61302a4b7064b606b5713d924f9d2d674b2bf568c6e81908f4b0d19af8f82d797f09a9ce532c48d0f673e993bc5d16729342d6aefb2f3f84f2425eff5729a7f79e6d78d1c742b67b78dfa2376c5b5be4e98616fc7d45022360204351839ac52bc7ba8de4a5fbf77bc5a1d616b295cdfb05e5df615e6a4362b3f948e42157045b1732a8c7b8e3d3584e37eb1b6dd64cf02ff4c0fae2303b82410f329ada428b74311e00544f67480eadd17ea1cdd83a3dfca262f6881df2b74f5238fa591cf1b5c412036efa4f82520b12a12f29c4ee5d2e938b8369a7ccb980290af170a6eb9e30735349af68801bde6baae3eb71c7a5600af9561143d573d9d832b2faaf8a43c4f00d62f159085934c96345892166412c2ebeaea344df0d00e564609cd6f0d7a3face7de75bdf737cb92a9f073a4e84b3ab69e2738124754ac59f8d9a68aa10ee00624b10e60db73e33d1ab2029a73ba089da0612053a98320ab58b7585491474aed8a9fa8e810e0f7d2b635d041c2e6c42b8d83985d823376b536e3f8cba53e5a8db6a0b1d22b89933b8c2b54f82815b8e915e30f9cb4c93fe24174eb5d3739ca2a07dea458538c61826696a771e77ffafce7e81358b6518e054d8c05d09fba44a651a064e40399669a98e5f9c5bd034de24cb16666e9b50fcf2d1421e79051ed6c299e1e58e8349ed498b89d9fdac01a56b5cf979a21a72332f2bb705dc5614e2939c7fe99963a60e98097f28ed02a4718d67e5d03c899fce912f9a57827cff6e8e726eb9ed6225866defbf2244a1101dec7f26daffb1847345e247839a1d546e2c4cad9f0582e2fbc9a3e1b2b0bb5e5c74239f4f54833fadd18cfa6842501237782f7f10d167cbb782a7b16282c84018004c14498c2d54323b58af3bbf701e13cbb5ecbd87e47d1b12f29219d19edb3fba79d3dd89f25eedffa926467bd0d8fa8557bc3e4c240c4168bc9ac59a2b11625778b70e87045c86d1aee07f14587e602565ec567cc5f23957a0e139bf2c865470715ee9803ef435f727b1e510c2f5c6cbd40bfd11c70e6214aa1a05cdf294f6d5aa477dde7a2035c3b2598187ad422688fa2a9b59a741f6e02eece7b9a6fdbf953c2a9d0205472a007f8e3383c099fc8437d843ddae1bff7d959f1e1d78a4127f7bd90906709938d694e78aca070c41c2b543c6ce6bb6836708484a1fba469a0b2d9fabeeb294fc980f743ca6e09569f16f91607e2d66adc57172cb618a6f65eae798f9b5240cab26f2cc250a9f78bce341c60a06ec42d61f46e53dc2cf90aebdd7f0182be11ca7fb3eb96522e39aa90fc4c559f3d5729d276daddd953a5678269b5466f04f2df0a6090783c7f3f1f9eabf8647de88ab60ef17793da598ac146a64cfd6c0c8d797cf20834eba67bb54f6300afcbebd2d18c7f6c438a6f5dcc8469f917238fbd31404f7796b0ce5a15da4beb71328cb2626183770484e487ed9e8d15a141f191389d7d8ea5bd36110b7cf4ae23ed8b3e2c0794ab2350e083e708d40f3017b972fbc5d7addc4bae24a64c71b7061e486052622a53c807b32bc3bd84d95bd4d58b801ba3d2abc9e316acc10cf02ff10ffbabe2c29840f2a1a8478a524ff6fb25b6a13e852a64416883c502ddc32356493139badad1f3eca33a8a2b0f675bcbc75e7906fd1ca1d20608281220278148e0ce3ff6136ae0eb6c99a990b181edae228488aad3b6a7ebd4ff9c498214b81ce5c5e4feac5252c60e01ce8bbe8e0f4dab14d91259d27977ff8498ee352d8a6c00225f0e75b6f6766342d82f87b5039abc24041e335b912e36a0a18b192f73706eaaea00e4e91f40090886d04018b74765152b1f3a742a0c73aaad5a82707219d0101a716f4b3f7d6f15206596a0700bad73e1ed31f606ce818f58de1c4573c69162d83b78c7283e5d0060a5c6003ad119c22282d2624a39c391dbd6e418908bd8b287f1bd3b471aa9a94796b543b8e2a3da55ceccd746cc434c32d6fb897dfcb9e7b13cb73b96a42583b4aee337fca869923d0a3f5bc24a3c6e6980eee0a3df857648a3e1b34f4cc31e344463f6fe9ac59c96810ca01820c89498627f2c9db3eeef4bf4fdd1f1e4a051a380cd9a19ba111ade9989d35690bd2d1aec6157f2080ea15be846cc87c0cda6026db326f76328672f2e92e7b30338508307821adfec1cc0b3f8db85e10e739dd957b5f524a71a1a372898afde1023ef1275f378be9c1d070e07445d0aeb7e74a53014e4ce0a715d7fb00c8651281c47f1ed7941ad4b6e396dc01e5669e2cf16538bc1b0c47f2c04ef2ba5d2817e45a18c437ecf3fd0b45dcc24958ca11a30735327a6fffd3c7e024920ef0f665e3fc5b9ed0c2bbbdf7c2e77405d0957bb60066b7b328f7c55d6ae7e63b4524a1adfbafccd09ea48d432b623fe0c58e779518eb1d8c1beee8e3538457f32ea096eb0daa793705bca1c7a31b5ba44bd70aa89467eb24c704659bc449d224af4a4d09ac35fb6702c42ca5411f5c066ad10e9d5f98b4a5836beda9128a73796d4b055627c15643a1e06b85efc820ddab82e1d23822b6d23d7ab72c932d4bbba804d39337b7458497d504860a5269d80e13fa9bb10ee71f382833afd80e3cc5e19268e79aad37fb4252f1d8b77ac4c297878520d2e4fc207dd388a4d52a90ac73ebd08c0c00ca95f00481b6c8e3080918b1fe4a8ba2f49392e3b3d68e9571f09984016cd1e80e3fff012bc28b5688847b10ee3e7fc58bf580cd5794e7a7b5644c3ba6ac379b3565cfe081952dc4085737d89d6c55528705a656e87b130c780f0fb3f422bc72ae65b0f39c31a1c4218b9fcfafbf590b8c151752331b7d2e7de8bb696a0e3ed657b033f9909f74506178f7ec61dccded98ab263981fbd9b9658137b23694ae07f7bde7fe7591c001ed896a1a456ed852fb84b4daa70a45014b2478f5c4827b28caf970028d579af5aa96097eeba63b8550c60dae47cec59f3dd536498b73d37d11c3abec4067a833b7fd06c3b53ecaaff7a931348206fd129de96519ad887478f26596c854db96e1f53170eac9b35f743c686f74db22e57eee6d08b0e71b577301a93f3206210aadf3178ad0dc4ac7472f8ac21e61bb44b97ed273d30c9bb6649c04e6eac34357fc6cf3079fd1ce905d6c1870d7cd0c255c3d1aeebe84df937948591786c5a4039f07ec086a344e84e566385912aaa9ca673b637e0a95b3fb048517b8ca55d9d1d5eb20426c9ae2ffe2be16f6cc6d2a36d03c89bd96f64a3dc256e15c8091ee6d3535ad7ee9323cebeb785ae163a65ec23f21c9f3c1bee70eb5b05f874834e97cad6a83497770156bc289fafeff8aa0f65f8c3d270bbe2a414a3811480d3c57127a93c742a8fcc3126a2b07b61d6d0b429864f6cd2f02d76bb9334e4d9d4f259eea9be95259e2dee2468ee3c4f1ebedbb19ebde0c0f5b3d1cd6267e65d55c47c02c6d5da8e8aab1ff07940624f2941afec890895b5665c8f246ef08189811ff11316e828423b23cf51a165432c3b8ade93eef24bc91d5de8cf1e64b988418d04260a9069bbaf7459fad45db35562f53be9bc8a919032ab087c234cec423d0c9ddb0fa6b84c4c9a95d5c07cb882a3f200d21ece1fea820b50869f523753459e801f13f55b48806ba47d34d3601c619c40a4fbd69f70d3087efa7659863a7e3a1fa44f8c0371b91311dfd592e96223f43e797b422420080fb9dbe6d22e32ded26a4c91eff7248f2f3fe5e329072b2cbdf32109aa04c6ad7231ea76e96334e7ba1e963e2678ef84b28c1d2aa83d950a40948fe8794399743297b6ec9c12faa6c28b16c551e316e644f59ca026114a43bcd2a5ae2adeafaa1b8280b2da7c86e900df53e8211eea4753be7ceffbd32a0483d5fbecf87f8294048eeffca16e5e274b8cd8c5b3ef3e07800121e40a4219129bec16f88d959ea2f589bcd4ad309e30d467598a6a6e051defbb6af23a9450cf2e3475b07e6fe800396a8395c615b542ee234d0fa49b1cb3b820dc5e9cf35d6c2db3471ef8b5708d5004dca50ad4db2750cff72cbd5abeb641e0d25dca98c7fef892f616d859c9b5ace6b3e46e7910c2560f686e96a4f8a01f2179d80582e2fcb37ce8712c3a9c86b56d8c3cf3c0c7f6a357ccd09315f4c9ebd46c97b27801dc86319b780e878adc2150c38b22dd47b68799eccdff7f92a28079ea3ddee95eba1137a9b2964de486ec867d7a85ceb663d614672b83b6c5bd1141b9480440f072ccfd0dee776db5cb9fb966689e4ad4b9fd306cb2c68c6fee2addb34e65a942e6e192ec75610ed5ec48b7807c35953b4a3cc36a464bf3369ac4e68b8586bccc470bce859c89a4704888a5df0bc73b6889b5512df6a6660e12d044ccb80346d018253644e45154bcb77347c17d49d7a819ab74d09e119ea3616a76c914e4fcb345a2bc84e81ca5f2144b58916f9aa03a83cd32ac5b6a562669bda72d42b22b149228719958e334b56795a473fe95f8d9730e99f190b3c2c11a1b68e8fb1a9ab789b4e50a0788bdd90e715b72fb638de1302a21bb6eaf94e39b53572e761c5c29db74d496c0535d0794b10fb51f6c9701ddf112779e38f05f428964ddc6473ea364e45c076f133ebeef9a784fa8e6cc4ac6588d926ec38b39bba36a517eef1f7410a4c68cd73441957d6ac1b7f9b30ab50b20905021c4224915dff241b29b329903937c1c282f84db2cc0eaf87d0d673bf8b42364fbe740952a29d5fc79b2406db79306f7d577889d19dc821b2694c43eba622b7ed14d3397e498f15a41e4dc25a59335830a950dcd2f1a4d80f9533704b0f08abb28a2a91eac23d97d7470b6c505a09a6d8026f10ddfa9cd0122fffd3823d8f6145e9dd90dee31f4c0ea0374718fd1a8a2389e44e35ca6883329bfbbcd900577dbad18ab8d655062106b74c626effecbbd27fb8b33ffc8e64b370ffe1b527219b3bd5fd4e4cd5ce60254143f593847d135663faa380517636cc74919899eba370c74ffa600ee5b47d5f6c8067b1da99cb72eb5acec8ff5cbab08068ce19feb84ffe5314e989506813e49d38e3fe062261c2c2d23fc27dfabd89106b2d72763cd52c9b48584725ce28f091f2b5d35120ffd3f9c142c4ecae896b6fe9a75d13cae0d1ca2502c3862316bd07a8d2db26628235471aaf53125b7ed01b628bef5604bad35a33d5afd308a99ef5f6d84068a8378d3e48bbae70cd9f6c785a974733b7d0a19b6943ca82711a91a99b00e9ac97b66f6a6c22d55c7e2499824f271cc95307ff727f9d6f9e8033ebfb07085b5bf9e3bcb5b7ec5657d26da4c2fb133344eea8461246cf0d85b5342ff292ee85dd3771f21eb95b4bc1079f1b09b61063d35d97f023c1043e828b77c6f44b2f4b68945640f746a2d8d0674499ecc18819a7cb158c0c27a5fa1d1c9e8596801f798b2fb11824c265d4a66da683ec0d876374c23338a5515e8109bd93029cab84526945378110c18ed0748d314a9fecb3692a120c1b674be43d4cd084b56a04816cd7a86dd04da8cf297d565c53d3aace95ba463e3fce8f98e58ecf4b500aff3f78cf48194a594318f0c89d13e54074092b65cde6e344e4b26e64a245dd7768692466b9870081295d384accc823bb406d06f4a67e4401189c94fd10ec6f2e50278509a7c0908953f043ea3fea8140867ea1ce4506e50b6aef68512546d472e7ec1da0827ccd9744dc77b245d594c08c6742d4854aaad7f314758067d11c13e20113160f837af36e02324cc0c89cc8a98ae7cbf82458acbeff5aab07319623d94c67031d35a4b05307d235146ad1f1e11c9fa5b48813154de8cb9c946c4675c4b640cfca182112e41213b3fb4e0d5b99b8f868e180e9cd2b4518fa7891ab980019e1bac12b8637f16cfd1a6c7d2d13602c0f37a40710bcd71324f3b7f3913a9e83e3b9b1a5653b2123242f8a121c97fbf492a66aeffe49e3ce80c38ff30b1497a6b8fca91db64a7b9bc716f67ad1061f04cef87e2458230f111747fd1de9bf8fb9abb53e0453860bf8cd747da3f944a7b7d3cf45530a130f0c14702c580f6a83a162146814c7bdcea786a2a0616d12091bd2319db374beef9efe74345f6e80ee6bf2af020e39b09fe1eac9a3d30d93814d97c809c06730ea6b0b956ea481bfceaac33ff20939f9fc8b209159de1e9daca2b8179302ec8cf43f398f2a64b87cdfca48641782612cca04297464fc1f0c94bbc4e2945298854a298ab0ddf3ae504128369f5d3ef1e5963d6ffa61dde108fa0dc0b8ac431190da0348a38d02038ec7bb4b2e2eeeb1397ad71fc1b45897059afa8ce3ba93503d70bab4819ca2a47607564fbe1ac6632b6324d3e47714002f84552f1bf4625aebb58e476a6d44e092357b41103c43fe0783e0a307c907bd2f4dd21e58902bd7d2159c72b780d732ff3922ec148a141ecc29dc086bafc3fe1bd6f09e0de9a38f48359de936033eb63e227eb30a5dec752862a3a6fb7685116e490b4e6970c13e4d8610d9e3883170a80786ee0345c3b1c76537b15b2a5022334f1f80737cf6c13c8f1a1e2b1a10b6696ed79ec7defa4e4332de861b9cbce48a57baa2552306a8574825b728f9252eb3f8a857289a91f050bf5d6518ae99cdd168b961c1008b506e3f3390d7b7c9119df7c15ddb29d01370db6a93e7795412a9e1480147dea2d2c8419654843578646df09a31d497b507f7932d92e56af7ced40dbe08c528bc3ed648741992160b5e0f0116499ff9254fdfa7dfad9bca444fe0277e655ab5451abc623886e416419e61e8ec5b2e8ac8813c39f1f71e88b81573602f344457570096f53839252babf86d8c0b3e5634b06479d1a69b041b052d9e5711f961d3521a43d6947532c7357c9f0fac2428862adcc1be008902c138f2e0a24d4fbddc035bf084cd2039950875f6784461e68218c3e99c55504bddd7971bf0f70b886ef0e18e31e9a982a1ca4a4f6d17cde03b7fc9a6c81d0df4e694abd09fc5cedd71c0f47c7b2c5544e92a24f96062a8734ee6ad1af84d191044a00ffb8ef4af5351bd67a6efba57ce1772d2c49c56dcf1989d90f6741236a2b4adf19acd97540a144635eb7b72b3e51f9b623ade8265ca872cdced0b3798dfa7078b7a37c0ecfa615167f5a4aab92fa60fc8679dba6f480baa8ac15752b42fedb40cb7f08b58ced5d9f3b7a167362878f80d0fd7fbce8338e4b0cb887e1254fa6940e5a6ca084475e4a5a18c33dd761074cccd89b64afc297310358bb76b13fc903285566d5a83ae5c5131de1da0dc4cfa5aed7601efad4f0022e58b3761de6265a1dcdf55b66e0a3ca7b755b3f8b5a59a182b40678000d6daf95325e29c5f8f987359aeab5cba88c685f2b6e04e71d7da0d00d1f807b1efdb001def0e523e7ff58037690451250e29b0a4ca845bdbe058673aebaaaf7b872d6c434e9624417ab13d0de39560071a531ca0c900f93e8e4465f5a46fa997bc706e37c6957eae91ee1be8f51c6bfba588d39f1c6aee4c192e9f21636507ed1f23f23823c01aa56fab4332141a92afe45465387fabffd935df9078558b67d371da32ab706c40c1f001d713c0f651708747b7e092fbf22c771b4f05ba640f21c55b7bcf8020be835f1770360a6059e2c86f213226cba48500389f891e9fe6091a52bb50a0f32f99b46982c9e8e4718362ef8f42b37fb742813d908c1766db188341002848109b330aec4184ea53939edf33e5a9ecc24fa8c800e40bd776c898c8e6a934b76e2fe3049c74c50698367b3d6a257cce552172141d56728df51753d7db47ab56299c321972b115224fca4c18cf55081af50b31b2a2ab2af5f4b363be15b3489a619f58c1391e043e88bfb480ed027b33e9f75f4de9ab6fb2099f4e0035f6f47e07ddf769f8165c1db7729da705656f0edbb4e56b8e6203e9b71b8deffc276f065b914fdf786839f52eb7a6f8c149bd8d560225a09dcbf941b3bbd0bda42eb6d8117a4cf1dddd4c0889c42603da7172691cab3fd3038f158b477355d9d0056fe4f63012377cab2867283d62423b4ea706e3173eaab1b593e574afdd5eddc57b79bba27189b2751aef52ee363f0c8f1ecf9a7d1cc5bd9b17965f331a5c76ad62a71eb37dab4e4bab28a38ab2305ac0955646465ab975fa512a36b2fb8d65d31a5ece931b025097da1290ebcc246b2a32d47166018181397ac32f44fdf2","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
