<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e86b62abcc2370425e595aafe5b4a7b5ead782da5f8f2d2f1c40bbd058a5ce53dfb25a60c36fb1d884389916ff3ffcbd49eee7befbc6513a1f84d0613b82081ea5c0f3b173a2a92a7582df6c0d5a466ab9f34391ae236e349390e36b535dda424c31569b115a2594fae3142ec44c0a235808c1ab0e9acada19cea9eb57d78d3c8dae1ab2b83a8bad43e7669eb3dc628dd221163fef3bf9e5ce80b511f9116270f66b6cb53b9dc96b4747c231732866802ed9b89f58bda1fd435b26a18f7fb55080b906ae30bd23325dada7304df1a0641bb54f61ac919e84c29ca8412008c1290c0406dfaa9efd1bbf1d965262fa1764f27254a052d181db4d33a612541f03957756cb23247225a4c891b4c533f35d9483570b695bad80d2cc58af585f2e6fcf19dd1514e1179c34087501a48b32a5ed2267ecd753dadbb444a4ff8c106ae9bd2f5873547e4122dda0cba55f4f1c8df54f774c6666bbbf23fc8992b81a70ab260edae04dd5fba90c96aecb397834ae9db99759b6598243b65077d48e82940642f740857246c0f8f0e49cd1efe2d7c1011f2d9b38e2078fd94bfe51eb1f8aa06e27c020604db54af64e4e54de001ded04860188e00b4ccaf865d3da60fc109c9e224e9e13d53229559a837f4cedb3345a5007a4fc79db2f7b14c3b14ba50e6abac054f9954eaec81636d5688ccf342298fe90cc6a4ee58a5067176a51ecf7c86e56fc1792769d5150561df7846316e98bab1a0b588465bd487677d7a0ff952c862e992c50db8b0efeccd8f10b2b2779892d2040d0a4d717995ec3592a53ab1cfb1ab0d08992a1a443c124917994a5bf3852d3e3bcb36087570c99eab8d7c12907d619545a81de9c8025829f9aa7edbb8d8d871ff2284227616afbbc1b4a1758830594772b72a07c37ba1cb5a090f8364a3d1aa1305e9b12700e610ae2d70a78a918c929e22d2d1ccef22b4e229bf8a785cd67b730592de2355ab07afe814b727ed523adbc822abc343b80ee88550e3c8c476c75a96fed245a26ae88aa7ea95371c7c9a62d9d08f5d7249df01692bb17b2da943b790ebb4643265a855937c456d0759104e9fbca1d62045dcb9c5d0b799ddd340234dc59408f5027c4ce86814fe7683fd13bf04e9fc0d922e8a8a5328ccc4bc6dd11dee9df0bf1280057c27183a7d6a2ea8b5d8645bdbcb1adbbc6a81bda03d5669b4b6db949131933eff4cc8ebcb9f20ab87b694fd6838a5cb57b63d6bdb4b393220ea1fade880f860093011141b63fa66ea6623752160fb941b8b9a24eb7dd5caac9df55220d831b5a1d110cf4c2eddee772a9df37e22e97877f6b7165463194118a20e481abc4496130b096090716fe6b18656ab137d459757a375705c344b032344e83c6756a496605add442b45b09436dca88d3cdf191b696bca0bd09c900de6786369b0df42bde4736befa62c892e8a7b311cf6b10032066f79f219a8341c743851e3b12929a866bcf26e303f1d99d8f9f6f5631f0ebdd319ae9be9f209b2c79ad224c3e2ab08bb2b5c12a11ae1855643001fd34f2eed25ecd7ffc32fccc75338631c2a9a52b991efad49ecdf1b40679d6fbcf3156c84c6fd38b0316eca4e81c813f0c6ba96960f61e927bfc11822cf67eec545cd01a8d18d4cbc7ad16c70bd6f283bef9fc55e05691836988b40431af69db6bbf5c421626505f8640e7f97daf64421917c12cc74642ec3c2323abbdeea346debd8b51af946bddff56b006b2d94ffa9f39153ae6e0ad8b198e0e0ecd8a20b57343b7b944a6d8b2d5668a9db9fde824dc997e34f1273dc2405453c275e63a1d90e46d18a9e6908b8c1a7e5f44b3348959833dc3d966211950bcca457c4b9e5bcdb473685cf80a4d06d5abebeeed0dd1ed26aaa23e4a052ae28e746c8e6f8647503f711cc5206f6b978f578919d9ad437f7b7097524f9bae153a0e8d0083bea089a4ec44b4c12f5e0d7e7494db37dadfa923d5f168ab6857bacb08bc00e3c8fccbf58e8e45d1e1a055529933f72955a32503c62193399d3548435706c076881bddc10da72e492311d45d85df0774e4f70b2a89f2a42933b4aab88f542f15886c2f65617e0f5866ab361316338185f65b3b34471e46dba57a51b18baacefe260197ab4765501faff8acfaa42886251bb1df9e4f3b3704d12310d57bbf32816188342ce746903df8a11e8fae82e901566b9113cbd43814581ec08a41c9ff21a0010359c36e472dd2cfe9b6f2bb75338906859a458c57eb4f116b29616b61ecdb1376a2e72fcad8b7819402f25d6cc525b428f65438c8904059204309e656e355e16ea4897ea6cda0dfa96a4f671f9bddacb0f9a4cdf7f7464aa0e25bb423cb4c3d6400f7826761896043a56819d8b75f4835ac27cc380e95ae7f4b038b8143a231e8c1d4f23bda1725d67735941660a7f77b7a765490cca27eab5907154a954679811beb355f5ea0de3f1a8406b3b4c114d27dda88b465c0c80314339cf863251c4094b0047dd20f73253bea56a9df2b2a86396c9e88f8c2b7200e354c3afee123140eef2c89b385944a8337cd9bc450ccaee06c619fe2b35987b347c3a8e6212dc7efce34446932fbb26428696b8887cd9ccb67fcca36fdcb4cbbb555f9d69954fd156ebb3e52789f9fb1f7b89fbd0e20edb48a2319362ce01ec40b33d4ec4917c3dceb446144acbde8477827cc10823385ca3721833113c93d20333cf1348214c8b3deddd489ae6be6933c6889d6408756b87f2afe8cdd124ceb145a9ec90a58337e4d897dd2677580cfa6bda088f8238af57739b5730e0b8ef4d2e4432b637366c760543a6683f0d0fb4fcac7631e536ce8290711a49df85f10a3e137e3f86c6417fdb37ad77651daa3a7e51ef168ae0d404dd150582556ee0f0cb7f38f1cc21b927fbcd7c27f626e90058058ccfbe01a31837088c518f8938c789189e8339a363b1f648ec0d90da0fccd4f4d39c5ec82e0f264af9d690f8c22e80cf200103d495ac04680cd3a7d46145d043c4d75339a58444fe51d13671a40ac073e152855a1ba25d488a37e8fb7eb75d24bbdcdc195b4138f4fc3896599bd2ce5a5fdf7958b28cce20f50de502998a9130b909182bd35bbdab2741d57ce6278b1b56793cba655ab304c55b2bea6d7abaafa4173143b2d666aa498764a816321c0b32a2b6fdf5b1cbf8b928a0157549c8092b5e67b6399388bbcd1257c7cea620935c51181375d8a995bd84f16cdcbc7f8e7f3916f42c2295c5c306e110dbe6f529a54f0488a6765c71bf058b98ab850575973594c6ec0a72fe2ff2742f5c3a9436a45347e2a744d8ba88f61e94402fd64e5cb053c31d5018c6d7bcf5ab9f874f93d06419cb1f3cb56d9bb04b2c2197e6e4f0530d56eb7e3d19636955b403a770a24843bfae4b3eb6ba8054ec17c567eae4e4dc3d0a7000ae1ae9c400f0757341057e39d054d538104fdb5b544535bb050b920eb1e465bc8de1532e1feabd25f2c84536c9e2c5e237370036b0c62f27e98840458dc1d8d9d22db23cf52e29f7dcedde6061f7f55f89c0ba6605151851bd3cca69973413ee3b1d93f6a39243f2e45485543fd7931daee0377e6237a1ea06b14f4df11e21f224180f8c6e59f3f9503c59d1001d59bbb0437b3b6e0be8a1a9b4ec62bc08ed822f42d13af1a3e0d706640618af66f3f0574d45caf931d994a4b5fa3d05cc829708eb54cb10eb3ff29ed5d9fdeb76b4431d2ad1b8c75e2c85f9a2c290f74219588ef30c4d918ced3225fa5ff2cf048bce5a6e7d8950145994ac7e7850b961ba2df3139aafba944f72bd46175078b182e96f9493487804b1cc5de6f36c21a718d94788d22e86d051fff36fb3d44ccd7b57a3c1f851719fd432df9c796be6961edc08ab36ac9f75d3505f3061d6cc4ed539608a9ebcee35ee71783953a97c0e29c86035dc76b0d52ec6e6c4499b8f094fe39e1affa9b685460604d2dfc469520fe852c7203a9aa13830effe5eed90e4981bb701742c493e812fe3581079bd2d96184e9a0df26fbf5f835d1aaae91d4c74270a43822d58f2b016c2f2ba8ba3e62850dea1a7ba9324ea42a3d578b85ee75caaeed52814cf62494a3aed33ca8bfda991ed740fea7c1e67cbb561bc334f984d37644f86fe56e0b54c06f77147a14ec864603a8b448bab8204f8d0a30e3a6c807f589697544062d25ae1f35064a654a04186d59ec7113b69a1bee369eeb925b9e6d2920ac6b01c3aa33d92bb4610b160a7b9f3e718dc915ceb690a0471a3c30496064e18bfee67cf479ba1bc5d92a018f02b3a1c9fe3d52d342664ea990f23ff39ca1688bfd7b3c33f30e41b4d5f37b9ec95f1144f6df16688f8624b4003a246ba2457ae75f434d79736095ebf81caeb15b0121574ff8cfd778d32932b3fff59e6d30c279e06dd27dc73c047fe4c2cab615a7b785b78bfcfc9762a2750b5cdc0efb6980a550b516ad3191e7452790939952ae4d73cf87ff576e8b142cdca0264b3ab9cb4c8dcb7b03c99a133bbdc82028613e6e64616f5ace21bd8b6d816745ea500345592255897bcbe9d4cd29e16f5191b04ac613d82dd646a40e45e0e42cd9e58254fb916055b28e8c38c2ec654d8563d6ecd7bfaa1363c201062d11a384c5347ed72c0418c72b046ab72a854be0f5fcbafd5ab6649faf6f5157a606c2de337b509fd5788f2eb2b23ce98c26d15280175ad40ea80c3cb98b751f265f9a16bcb5e560cf18386358e3f2bc939869f68bc4a3a347b9b7df04e0261a75d897122380cd26374b893d17ad1968653df5bdaf3424e8f1b96b24f0c2286dc66e2745441b7565de04a0f5f50a7f65569df92417010ff2c62ab505e4d228da5aaa27ec7e28ef31ddce6606e7afe99fd98f1d171a0919248d648d77acbfb8d74b7cb80f616553d4c81d57567adb007d6bbc773380d54c302c3befaaebc30b555706cef9fe1721cfddf84428d4dc613a52df6dba852bab2237aedf299c441fc46d9539e2cd400e169cd1a61db7bd3c0a4a3213103cfd7e35383a79b38eb1d1cd6b6c2e40379580fb933aad1041a4726b8115ad031dc3b4cbcb7e91e0be43b440fa809fa41a30ca2809fc541dc46c50878bffe8e4eaf565f8ade3f652efc1bc758b104e3e8b539b9fb6f228817b33820e859332e9018e43011203a7ea5aed5bca8ea7a11d093b93aa54e1f43f049f3fe9c9459612d2015de844f68f324ede6b516812d2f9cc0e59289c2a7c16cddd0464a3759d69b25961c9153458e6fefb25da83da9f2ce99154612d912b32a171fdc5b4de75ac8d466af6639223942426665c53917a010177dbb43336b2ce5c3bfb0f59165bf0556cb6e46c9c7b0836c0b0118e17ba1cbfebc37380b676caeec0d779d9747c02edbd18f80cf782a07e3c90d9a5fb60d7313be7adff24f0eba2d0e1d89f9d48296853b6a9165787da030f57dfc185a380a93639fca1b0056b715d066f46fc439c21cdd5f0eed00eae97bfbd24fc9b86cd345afe412faf4a5d363563eb390689525b55911132bbe67daac12becd08ef1711e807e855d9f84909dd74a67c3305bf1060fb96c70c9fb24c770c2f69972324d415a1f65c236aae4542d6ca405dcd592b0999be11f122eda6578ea90d18af6512661ce59c2263cc33c00c4773b4c4998ddfccd71a8997ab7e7aefd63d9d599423d61a9c14a4d4de77944110919f29b77c85712097c070731ba483e04ef43e1da093c0fa7518cc92fbeef00acdbf006b039e4c54bcadc42eccf251d2dd224a6a4292559190c7f506949b0f8f61e6d5756f1d4f8f793b7bc8dbfb09abfb22e7180b7e38cb240585b445d650f23ed8307b6594342409b39556b4c84e93c7ca12ed4a88fad1874429efb5c0af94523839c18b7151fb969b330041bfcaf0c49cb8464ae922f96ba6f709016fa234bea8c5c9d8aca0e89a2960405146ea2609dc6c964b7b1eb71042571a0640d1a5d459b7b9a9e89e489f3e411de35ed61331cb16917436d27d46018392497e5ea597dddf4864f3ef106b7a4a1fb2896cac667123d562ffdc0257e0a77503c0b6a567a2342c27d829675d3e155f1ad43654d8164f5648f7fdb089c8942e4ea1139263b27af4acb6c9c2605d30dd7b6d704f1b563ee9835a5ce82f40be124117192788275846a488121f749e389c56dd1abdc3cb59431d00bd6b1731cbe7b5f48073faae75e0025da48085bc72592fbd8d934f5044324ff6a5767346fe8032c083cf011af5979aabe3b2a1c533a616a329dc5c9c91d50c155fd109b224ca6c37636c040b8afc0ed496592cdf1beac955806e6a2194f56b4bfff1cf0c71e19eb6831850d0e656c89b60ea91f79ecb021d55852a960558942560208950b6d8b7fc5197bd3a28a5568afa8a7c03452ad21c7f5a7322efe8c95f22b21facc929bba10f8e3860aa767ca6d8916685164b43e6666c601acef0c506a95ca27732dc897e4a3c9bb2d75d3fbbca23ae833236525dfd65919d3ad0d154d335ed354ca064ec503c3f58ba8a4f3e1712ac77bb39d1d49a2e1a0139ccdf3213bc580a7471f085451b8f53f1b5f39ff3d865a49063adf7e51a63515338135b15034b3e8a0ef7875bafcee797c3a0b07b0aeeb3dac9dffad0e5d00d957ffd307646aaa9b481c8958128a115f9fab2e06b8dea36da28ce7f8d266fa0897034ea528f14b9d815db70e111677ab173f1d97c12b4b2d91e0ec8269840dcd78cb7cc82b870e1eaa6898e5d17b551d2bf398155a1e22e379c6261bbe4a2695b5c3c2c2d094afcc0bd201b9409b32d8f730f1404c759639d3d150281d0f27cea5f3c8876b86cfa61bd943c97bf885a562f077fc90e1acdcbdee6bdd92cd982620c3f7c1d78f86200480cc278a7ec88be1e2a597c7d743adbadbd7e360f8c5ab4f8d32035ec33c1688a4a176aba116b07c52c6696903aae98f373dbbcbf957e90359b67c6d6e19bce3e84ac0c1b302ecdd26ba7ffc8a4d93c5c5f574c463fe6b5aba92ad42942b2f59553e1c6de3d9a5337ab14b279c38b26980855fe1f74608ef099c2fee48ae3afe98a8eda0e238822371e5de7ba419fb8e19e5e8582b97e3a607c6eeaf69d9dbac6f64667160fd7fef5b3472ac05be1db6afd41cfc8cdc597bc3a85fa65f6d9ff5753df2fc4c8c56c467ec9a687d74b8ecd7c47f660f4f8068f474088cc46160b236b605e2699d11054255035765882a9bfebf22a1f0458f1ff988776ab52636d243ea175ca1978e8df08d409119a66efa203fbb388265964176ecfaf13a42ed83c1e7d15f508ed173a953948a4b11cce8405884d9909eb3026b4bc02b262bf8723363d2d9a4de8cbe448d3c501f816a2a63b3fd43eb001a676d81349feb5607d6fde94ab65ac3b60c9695440d9afbad5968b90cbb857818ee166f1e8519d0e732b0a6a4d5a41722fb4f1b7ecf135ad64a0afd2a6c3b41349298b4e943dff9bbdb69994ed8b66077c89c8c3eb52a61795f94f153296d3b650a561a6ce8cfb37b88f9fa2d06e3408e30609c3cd7645f431814f5754aec89741d45ae14c96eb3a73d9bad765dbce3d9e6a3bcb236323397f0bce110cad1cbff9138787f9f14d4ad757ca16d1fca88f8549159d4e388dd707a84b6dddbb6631d17b17da80646e4e31e044e8a0cdac1be5ce9f4c41a09f71ea9228f8fdfbd5630243962a4bf2edafeaa3bd7d7790b925b1f1813d794ec0f0433dacf05f243ea61824e87114db6d59f0236f3dd0d170d254922ae9007a8082a82d6770f65836171f2f152a6288d900b8127e06b94c0a404ddeadeebb4ee4389d4de64c53b77c7bcccaabbad63d5555ac30b333f85d68eab9a1c549a3888d0023038a4976f24bddc1517b51460f24957bb533923768867917ff5a782ce253eac0f62d09e75b852017368dcaf33513d6db90219fca6e99abdf23426e497b51b97da4c62d3b4deec9a93502705b47bee865c1c8634decda582eac6a7b4b5c7b24483022ca97fb01dba79630b6d20e6e57e5168e13105fd7ca30681ffcf57f291f5dfedd25a297482a3bb0655620d44e55208e35a1834d289d1c4faf80198d2b9ebe3ea2e997f41c761357a65622415b1f3dc294d835f7c5d1159ab22c192ae145e1190c929b464be9330de6c22b05366cac542c64db458f0a6e6017f79bc557bfb23461b7005ded2560e98a47e565baad6bda93f75f6a1ca34265f64070b01f18283bf19983816f1068a5810c32fa022997eb8930bf2dc0188ffb6c81efac35545c4e2802771d8aff3f5848feff6ad34ea4b89ee1f453ea91780365105fc093aba5cee8dd1a48a1fe7c1ca91e04fe23ff02a1e465dc5da5c57258ad18a951721f2d42de1fc3696102117d4d86aab3460a042cbab33f2efefe800c23f94e589e3eef1c2ab1746abc8e17f57f24ca3db3498e7e4d9bd4b12b52251f08976d86a641ddb4ee15dfd48469896834ed9d4aa28e5c8b9897f602d09c35c7490ded02989aff83126335dfd33960712f32042544e988068afcde2c8bf6cf1e5257d773d73ee832287040a47328d9a26405170669eda73b29ac33552104b100a016771c00249fb51c44254d85218849a417c7c0423f9adc752b58a50112fff5d86ba4479865340cb523b9d161542dd5fc5fa7148550d645790ad0ff8ef1630680fc597cc44c59ee09ce56685942c2cafc29e2a1cb92c06b548c0203f75ce38a2932e75899bd3192c22dc497baa83de4b0b79740bbf1a746d87802db2d2dd837ef65105aa78bf4801766abe8744349b26f649eae85b96a9ceb102206d7f3dc2a728e199a4fa23f3e426afa7a0b2a3224eaef6464d98358d6c8b06c146ec69abbe954bcb16f6834641c0548a3eda8245d87f76b80dba71ce5084211a0eafe7c779dba90ee5b1e3005f1960bd1d5081db6b44dd5722d1c080f3de327a61467b6b5cbe5a182ef3769d01b3da76090d09b952efdaa196343dbd97d6ae0fd92820f498abb3bee345643eb1fd805141845582d0640a2f4e62ab03f42d2acd7883144f5d7f45e37a4c5b49fdaef2db16fd622db67ee9138e51b5e1d6de56fa1fccccdbc0ce158b3faaf94a00908084a6553563b33a01bc6fbb1f5fd1aa688eb29d4c01dd575e1354852f04e8dd67d57dc06af763702b789b36ffc756c0893a018f401baf53c1ac889b53de8f2bb0d9107aa2caea563db9c4947c22c6bed129f5cd6139decadaab858c106f3c8e5f9d889f8db608e6a3de7143d8c6ebc3cc8b28558a7fab7fc340c3b68f0c3407a7dbd33a658433e43319f77690cd308e01cef641e5c579621170fd00c41b0574d006681d4e677a051881ec74456f750fcd42d378daad9dc2eed16ea54dd480359c5791a6393559c3af9a383a9609f4557d38d2365ba8b4e6bfa0acbe3184b2ec7dfa86a52c7e67a63610ba3ff4bf81f307b0bed3bf7bd6e3bc4e5af7668c9bb3a56553b4f7c78268b9e04c6719343e1829a558e56ead461375b97ff4e56650e459ebb530bb83ef7450c6808a7095d2c37ab2544dd8af30e3410af7746873a445cf66157adc11b7c4d8c884cb0d51c8b162e2bffaa79420f4efe1cb16f25ce85c52b8052c4d0f03de0ac2406e1ec9c093e2fa9099976dbd0ad1e458e47e8d3a05c23b07f8b9b922c4c9a133b484701b7c7b64c11e16307af98cf730e113ef6928a40f53f0cff81374cdfcb65150ffdc58605a6ff1641dc290cce7af43ffed2c27f39d43d8b7502e26a22d4dd58e7eaf67c04f9006001fea6616a7ae79363638e302a32cfb132e7fef57ffe1b4ab272281cf553a872d89a10a3d5f11203f0631a0b40f69eb06f597b45ff026b562ce1b9cd4a0e14397e34d84520f0c11589c069f1aa734458f7f7a483aed9a152789025014d262ffa8a3cc0229728bbfa026d3c8533870725fad07fbb5124f72e3e3288e484d97f2705501616ce7a273b8539915c49046a21389cb2e6462981ca4c36965f689af94e89a829ccdb4ed9d358e35e925d98e7c0a4a48313bdd902173bc05d956d43d72fd60c59b599bc8401ab7a110f4919eb036325f057c002df895070468391a6e31939ac4ee383c94650c424e079f2758b5519673ba1729be4ec230b9efae21f69eb3f2cfeea0adec1da1f5143ee8767f872c81060214683e6fea488939fcb25963c48a5da9dec39ca0687f35c2dd56804295d7d4ce2c8b83b4a31dcbe14152187720dbbd151d08278bac35b757a435eaebfa080f4240a7fa6d4505dfa6cc22d8ff6ebf74f30cb5ab1f8c1f004a00c0e31ad3a9060155bc5e61847d2a277568d46d4ec9071b92d5f9ac00e8008590584adb8a199b9b3b29f224c1a2bf88703377a8c2497dcc997fa0056cb979cb63c1a12e92e9444176da03d4ff0b7f33115d17e4d96f363eaf208c9c50d793849d8b3bd5b61a71a0c95e4e1632eb3fb9cf89b64989f0d8fd21cbce6bc8e0332896e6d994adf22e4f07135e47b6fcaa7cf6708e276e3ae8c9e7ee1119fd4a785180f0d6148e8049622f5ab07310f9a790435c3c7d5ea42b806cb9d0a09f4cba7b07b22f9aaae8edd1297a713f1a0b305b048aa0d8a55fc7ba26e1602e91b1100e583dc7c9a936a81c06450539535a6dfc46f1502a043b3052f5c66573e94cbbd263dd747217b0787de79afc462d391ed5145e7acd96ae61325e63815222fafec0b81450b80bb44f49439cbdb105aae8f39c500e006d81d5dd9fcbff69ae0a14e551cd4a92704aab80eb6f4d07467551fa14bc594180374f5b1636dc57643ff1e61205bd6c8d09c54ae84510368c69bd7d019fb8ee0d58c2efc439caca580e38e719c5e1a6aba545eec807e1b72a01a7ce16c3ba55c0b089a76f21df8069164ed6f7db0fdfc95477536fe3d576e9744cf2dfd21f3737e8f0d8704a08926f6f7c69017728a53be2bbd7d7ef7c98e93f8626068751ccad6a7fd052323d2cbb8fba56cc48a224ea6239b73d4cd73d5986c368cbb8e74e442cd3486e5bb97239186feac55d79454cc2463aef9899353f3faaa859f215793c961cbe9152d5801d0e0db091c5b95ec1ad0d4b3e00d27c2587d2df2b6361146e2b081982c778ad5a1cff113ad4288f19e8f8a562f028d1c26768c78b7653d8758a91650526d627825f0dbca14af1ddd7524cf5105828a596bbc65a46604cf6e61a2f7b09cb9f85e5a361c718715560ef99995c53980f141f0a59fe3f8512fb866dffc3b1c4084aea44f4cde82f472f432a489920f8499144cce668429ded1fa7eec649556ff5e7b98300e7231c2b3666db7c0768f4aabb0a41bc4da767f1c741b109f456c2e5d0df6a7cb19b042f0a97c86e0e2fc1d764f0a714ed39b1a0832f117d9462cd84f49b7fec6780ac04070704578f0b7dc69d2227507bc91e8623b785a9f57813a8230924206540feadcff456c479c1d180b30e958d4dc49b5a16dff5863815e569a9dc0b9b071fb971eb1961b88992b5861dc2c9f0a650033160187b14fd8e7b28c5e76797c0ac58e2fa62e0c890c665d516d95ab6f2ba5af0eaa09e33b03142c5f3ddf5741af4df952ee105693536d142b04c02bcb36378b810e273338d4c3c7dee17873faa35605e8658d65364413ba6d94ee7a9323df0c20cfbd1d183fa01c5db8ea7759025c91a0c685d049944f29a8b728548909c467758db8d5581771d2470ef158fb1a3ca40713069d2991fd2d34c85cd19645b747b54cdcd9efff801bd0fea3ef3c037df35cd0ad5794991309fbcaf646d3794786999dd25e4381a8d70378153d2ba7ee9b1bfde7b8c8706050546f2f3d04e60946d547a624778e0a149b61de8f98a257edc3ebd218ce9b77517ad37aa3296457df46901dcd4e62e5beab1a4871d9b5b8221fe5c41eba4e974c5b0d0253f4ebf6a6f5c4d4f7798fdb6df7bae517aeb79d08bd50c601f5c6726e881f9424a9ec388f02ff8317b8f1a5e1f01308533f0a63a750dda9f77bf238d411de5de2e7f20db2114b6bf6887400a205b6f62d3e11c7867de064bbf168f70b66869a543c50bbed6a8a5ba68632661e978d30acfc8408c4182eb5170aee38020d1032ec3fcd20ba4f6c7ec48430dc2aacb3abb7cc9f299347207d8d6adafd905551b0fec1fc674fdac1f636736992496c5a9fcf5c8df432ea0abc1c143013fd42fbaa73031022336a5146df6c7ca75cf311a9141e3d50d0a4a202dcbd11f284271951c3bf0c9ce89584ff0d149416d3cccc168a950ef140634416a9a433fc6d7233e73297a087fbc04e45d42930fd8857c16bd0c6ec611a7e4c8ad124b860cb8787123181032375e5b7ab18bae62c9a3cea67b8968427cc6c0caf416bb2dbd056062a718c1ec0099a1d49d9574c6bbebb9178c9a5ddd03123d0f4686282fa08e1a4690e5ca5a45c0289cdf7abac06f1ade80e8efab1bb422414b4ffce6d6b6d7bd00809e42f75d8128230de7000ffab6b01d39e3f0a0b209f34e9559e886dd55e6ef48b75fd875885b692c9304a2a04c2f73431ac4e9e0504906db58013b7597679cdbc16243b6e6e510e131e2b43f15e9f0661fe5138ee5905612feab8c7b3ed7c2c69be5b84f19796278908d211e177bba2b389cfc7de922fe4a29cdc60223b008e7105e7782d373de802374970369a4da1b001b8ab89b856c3098dbcf329c85cf33cace2521ba92ee54def8bc6f3d67e6c6af6f3d203176ea20bd172c050658646b4bf604cc8c8637b28644494c340f5135736d608cea97d99c4603aa134a46724a2c2b5315c1d86c2d5ca4b2ff41d0b547ba408ea3f968d79f75af44c4c010302c57108894a1a6000be8850c23ca3c45c8ca9504f2ef0b22750ce58929f700ba60e74743940020e7d351bbabb2b943a00ab686fd6920851e13bf4e6c064c8641c3fcf1e3bd3dc0099885d9cb37d158d17723dd0b0745d3d06363dc1a8d6df81958dc3fa9ffcda00b816838f84dc6994d9f9b1295a34a6e5b780beb1ddda615e969c865d64bc88dbea886d3380e60f2ad6e674297a5f8ce77420a6608793da7b2a9b5f91729ea0a5b8d8766c612821fb8efe7b1ab77c5fae970065ccdd9111af48fe9d3c70853eb2eaaeca5c88e5026628d70228fb7e939e518738e4ca79e0cf5c3e76e0b29575c9eadf53bc0f2079a90124f7db5c805650100f100a48154b111f0e2387ff7ad0b6a31c47bb2e7360f6d01cad5acf2db6c6811c6e3a6442be714336e9b89f447a91580369395f02835a56722775937cd7c288cb30f9e103934843b4e126a6de28d61e99aed7b8484a5ea5e450e21be9f218760c4f138ae1ca5da43208ea11e1c4f855f12e25970a1bf4731d902e57ff5a782ff6c8916dd0fe0e695348ed77592cc3c40e761324fce127fad882608035b895cbec6c68d344d1790a168326830c25f4939c4b10fd477dfdef78c89104e15f9ca074e196a2c27e39d60ca1ceb5c44f0c55e93390bee3cfc6c11942b4a1366df43bcbf7fe74d09d006de1dfaac75408921dbbaee3b27a5f026384e194308b47137914032427bdf764bab2e516e2d4e803930d96eb6e4da763cb2395440239de05a59ee6d3b0fc852036091b09bdda64e2d4a8e0c2917368bb19e729d8f0381227d030e8c53d9dd00195918cf3fb5ec03b7ea9e6121018705cf5213412361c06defad39a0e8807d129a1249f1366ab86c8991e2a7e3484de0c3ffff03e8e642f168282d09073eeddbf51239da79b95208194f17939842327c4c6117b22857f6d92cde570fe5864ae668e3708414ac5fe06f88d69176fa20a1b18e485a2f368c2d1309d39bbec05ea36fe45652aa1e3190dacc215f4b7b21e0553f38ca557843cebf68fab6dc7e972e178e7ac15488e06410c5af4e24d1e3fd191ddf5eb50a76077630cc86dbc245495e7c2cf2e2600a2777bc584cc2a460a8c100c91ea479608ee5768aa33e9107a0c9c179cc55e18450230117d6a4afc10a3136224db22d3b15c53a43ea421f503d206d3427e856659f392220a8637e391c7efec29239957355e5c49b13e709f70141307dfde0175cb5be2b47f8eaa7efc6168ee94dbb6ede17a6a21c6b24ab8bb8ece015645ed486deb27dc7b0066afad72417630bb275551ad4850640299fab82c0e764916cb0e0207f5687063750a87dcf98f1a7cb6c6402fc6068172d073b4c1f6e57f272c9dd14d85b1773a06ff29820e8bcb1b24cfde4bad96b94c103a5cdd232d88f26251fccb3f1fc1a04e17de2f5f1d97660bc9a47d95712a034a7af02dff03c5dfcbe10a465dd7e3bacfe62a4bcda34c61e662c9b2d14f5d8ec6073ddd60149b0f9bb13c7d8036b6fb198ccf2296bd29881b4c63618a12f2001c8aa7146a251b7ebceb13454c7b11d43a5069e044dcc179b3e54a3b65fcc16576b4fc226ee947e4b8227f89073d31ce68135e77e0c6338c846f3389dd67e818996948b3c6289354e6c987ed183e02c025997f3eed41890577e7fdb43b57698ee86d667874843deb74de4826fb972feb7640fc43840a0b7f80b29604553142b10445c6289147c53f0a62c2a8a87fe89fc08a0ed50c26be09241c387567cbc100be92b390b761bea5afe9c3c65e2fa60d8dc87f1045eaaaa29b863ac2e397511aafa13ea5ac096bbfb99e8e81acb43216a89b9be7adbbaa0cf2dcf999cf152fb39db6dd4f147dc79a1f06cf66c6a9e831d91af5366ce6bb4b4591852b8b4d47aed023f0f5e4758a459e0ad94cc0e363360b6e4f85b1e25d6bdf7a9e08b1d50efbd3b87a698aebc659caa16c4bd2776a8b3412e559fdb32b200fd80ad4310aff2a29b52e65a83bcc096a62d9ec3fd320678ece171fdaafc055b94e4bd1b3903f5a338868d5d96e76ab83f77aa571ef55a2ae285be96fff2fe3b4c6dc32dbade817df2b83823b939ff6f8150b72223c95be6a6ef205bda4caff606560522834d1304306394c6e0d7e2395da4e06e0dbe015b08ba09a77e5a6b4ed94107806d4490376911a4410a567b6a0c288917a36a07879cede18d755bb30d6c64f00ad31ca84bb11a2224ae2eae44ce0d21d4ce394fecb69e4d8eb64545becff4b12fa651547d395acb1abcee1419b5b568318682c0d36d46641ce3e0aca929052ec0d1ef7238965ed406a43f09efbf438b2077161d95ae02b0d4ecc18967f80108117c44d75e582fe0de46d09cf830cba005dc01b163128245a3a670f7887e16369a6834776a24024200ac0d366e8551a9eb9e629e738394bc8298e6116e261fc7dfca962fb311ec1b8a2101ce2af786923510824371daddb5abeed3e54b40138f5608aa842fa98049e9322ba26bf941ff13298851bd82b5b98be2de9217610a302ce30b41770125f932f359396bd2fc40c3096f5661a47a75014c76bb67b0e6b22a1896ba613768817ad45febd181278bca88e234125929807b297d8c904537fe813470677f2a60d26556a5f98b866199b72c678cfa36db71a9764904596f2d808522be627c2ed98e69b336871818717b46b2fdb66a2cc364f04e12d2c81ed1884be850b5964e3f8af9915a0209230232385c23ae3bc857ab05016a23841a74145b2be7fa91280512de76fab4c293423316b7a35e5360e614561f5d2d0ae86b660a84a5ec21fdda9d65f38d8f70632141bd74a420025bd707a2b08cb185871c163131b62b08a034771a7faea54117bd8631bbb090441f3ab0a447ebc33d7e2ceee132e60dee91f0f48886889f2260749171f09d00d862c08b2d65183915588215360fec0280b5a1ec269e1aa47ff40b21f2f8ccf102fdc8af3b93190422cbe9e8cbace792bfd88f84d56cdf5ceb698738b96a85c18c04ae13c9fa96147c75e19ec5fcc4602335591dd8ee8cb3ffa081b8fb9b9d8699094ab5d7d27a46a2fe5c6b037a73256945a36d1c26120b727f9d41735f994672f6ad23829c7555f19a7d33111fe379877fab6bf11d40a8fc9fe226b958b43e25fb4444deb0ed6a699716677c53ec09208cdec5358e7ec00905ea5e31a0d41c0a2cb7003ee1a41717330b4198641370c213797e9f968f12133e4d4f678d39e2547c61ba2277cb10777afc1245aa95586d3352092071b9df5979c5264d9385c77a6c0f61fb3f680036d90f5793955501f2a07cbec90c745b573c5ff757e40e7d18233749ccf1689702a14623de889d64d9ec1e24881615c31bd8a675e0a4eab68a387258e91e93b8bc2bd385bbe6d21bf87fce726de6c2954508c48c03354e0382df1618ce05eb83c0af66aeff1356710b97c3be639ba41add0859e2ef28bb691b88b3f1420a5b721c3b62268e9cc633bbcbc20389cee53ea232805f06b2364df2c1cc3cd9229e127b5d2d323c79c1d670f9524dd0f98470cd08b47e79cd71967745fd15270aae7c560dbdc9fc5453245301930a829bc11e32c86ea871b38293660c2f1b0d682d29ae76ccd29fe37ae2c86344b2337048a6df759747f3f6877715c3d910a4d7bbda7eaa83c6b79db8e02dbbc47ae22e48a405fa04e8ba4d72a87299db89937a8fd7219e92338694176a2ac3226c7f6b81f041431dc51d9e611bc8ad4fd50a00d20b072be5e7409037f56cdaef7d47d4c124a6439a506c13fd4c1ea5fed08b3d8b13bfd09438c85021dd17562409adf843db0e8b86e3b4fba8c72d7b9efe80910b28a3f0773df0cb2125d7b78f466d8610876e6a553212933ce6481769f510776b8405a2ad0927ab24a6e441b5f15ab185d32a5cdfe7a2fb507779d14f91ff15274f35835dc15f2a4be0df1cec3e61efabf810bd250d63604cc4ab4a39f4cd8b7fc6c0d57831f7e30665dfdfad4bbb293b126ca9643edd79a164bcb36c8873bbfac2c4a2702e344c90a083df887d726918da18631236d398df7552ee6a0291ff9fbc89ed8a24c95a5bea769f72feb3fe36f023fcc3e37b81847522b6a13725cb3ea428a797308da05985720dc464a3697a3e9d77da3515907b1bc0d322f63214097ae90c2e7ebd1769d233cae538ce30e5a893d2446b06900f53b50b1513565ae03be5fd2f8cb794aba489266c4c0ca8e11332b61d5228ad5e75a0389eeab0e8fd73adc89bfef9e354e11ffbf3f1c58adca4f9670e806118cc3c877c2f7589109ef5a043c51297172d0e2c2e7ec6b111dae994ec847feee0851aaf062fa63bf75293a5e18731e47c572e851d1f2e4e78bf45cc741a335d36837206f6bc4827d6e896662dfdfb45f4864aeb164435075fbd627bb8adff39da5a6c32f531f8f9eaf8496aecfc4b220babbc9267d0a19a75c10bf9488b403d1b0a15889845fa15676a526d2f73d9596fd7787ca31a72c1d3e7dff7d41ddc8afc2ffe66dafaff88dc5e377c5d10d558f985da137c1f260d5b41bd9af11f0adb7b3a5fdf11268e5db624ad486ec07064db3651fd6b7d8412470df44f37128e0fc66bcf7ad6ce4aec23d18c312983b8673e434d00975582ce9d9e91205d35a1d65b3a4a9031c3c996eb77aefe945546bd37a79c11bc56fccf866a84c0bc391b1ab8f8adb0ddb65e5005ec43fa7258ade3e00df1a7e6ddbcb69cc3c7e2186da552c6a22ecef538e17201fd032f9d53943d38a71bbb3e1505e5fe1531c5fe6a85a6e5d335d19f23a293558543cc0807c2c60d61368e708f110c21416adcdb5f5b8fa54ac5568dcef49c14d7246d02b15762001693811f0223890f0fab88e7a65403a457fdb88a28cf2f60fe4ef6d353f77644197856dbbe41621bea23e7743840c741306eb942177bae46cf15f408eb64900c15909520c596a3b495810dbf9337602e2aefcc92437c36c830b21a52ac994187563de851cc80897377c8b3189365d68d4dd7c762f58d570dc1a5a305570c41a61e933bf616afdc39b46e321193bb0a00a461da2526915c4cfc750be7d97ef666212106b9c006c607440ab1aaf81ec16bc94d627bdbc239d7931fcd4b210c4f920e3cba1e5bffe554fa676a6f3b282b55c9aafdcc1a88292d3cd8e3463817c9c21787277a9c897b28a04afa2508d94c8ac47980ef890e45a1d2c518458996bb17cd50bb9e79498452ab0a0f411a8dac990db99e2b7ed89496fe9f1a9894fa3a2080677e460804a1e27c30a30cd6398110e7be27974de78f69975756207ee17ff7cb1a6d3f513721664d3625da82ea43099f3f5e81036bc84bbb04c14c0a4afebc804131d6ccedf7ee609ddcd11df912be5741893b89549e448f7a9d31314c153354c19230e77cb593bd27756471a10f14c81592b05f2986fcfbed7b74e835abcafff7283081985b00e61e8df99eb34e301f345f17d37c4ce3af994b9fbc500e9fc838ab92be5823473e714cef5520e7d8c88859d9b8367f62171f23b2809b10dae9aa100dc106f53061be9219b8b64868b1dbf3ffe4c0be729950997c39959311b1053adcdebaf9e5e9534ec0de57ed109a8a0b538c0e354949f744f55b85bb8449634d1824537ba8b1990c6a997db8d6a34ed0e3979b65da856d6b41a1cc846f5720909760cfddd6786f953c8eafdef4c61c0bb2e5b1e579f3596d2fcd294d329573b079f4bb4032cb7e255fbdaf3c96faf893fc11187070043f56e2473cb010bef98744bf3d5653deac271f445d62884efbdd5d49f1d015ff56803a336f2d299acf69f51fd2349bc73aa05d6f3e525f1b81b6334cc43e04cc8db3ba58725d2526fc8a2b38ee8c658051b578b8bb57c9f8d45f478a0d6d4e1fbacd85298fa458aaf7d8ecb1389d978fc2974af0f8aaa5b33c1a4fb18e08b8c15445dde56b4379c4bbcf644add8e545819017352aaab6be9878b1fff600ae125faa1d00b3559832b3a484fd3c705cfec1162fd3c1baf02e069f9d7c5799cdfe31cc21489199e235549dbe3736d74048ece19af60a223781686fe9c83852afcacf6ce5649299e791b8e9f65c6659bdcc547d49d941097380e544aecb864bd384c22bf898e8c04a4d3bfd8e0abe392505a82b0b7d563fb0a4502c4f5bb9118317c0f59b130435bf01481e11e69bc8db9e001c34a4796bba748c41df7df2e0309c240d898e718a23890411e1c4600609f11ed3e1e4c01420dbeb38c1d94c500639e0f69ab886050b47440a2e3b593c46a6969fa9bb25c26397d4393b029d387e3d9cc600e9b9a116ff33e63f4d93ed848b0b24d17aaf8feae2df766dd50c82f6d4fd727527985751a92b94edae221292fe01f39437f9f85e9390271eb383478d3a308799d6eaaabaae3b49ef8f91fb876fbdc322d9af8f5cde5cc4d9bb7cbebdba1b1ec4ac70c3ec9996f9a2672f4f8af92e72a9271c9640ecd6721a697f7b6f3927720712f7956d616146ea68a607f132b10eb4dfbc49c5e175f8d56cb264dcdeb49f945ec2ca6b6434e2912014bc0ac561840463c3c12fbcb0f46df06e227e88376e0575b22dd0dfe376593c0148a64b48b30a0c3cfa389814312e69b6c4d5573f43d5bdca779341eff8b88df79c53f1d548dd9235f26f1637112486135db44258acbb12fd641e1772ee751a548ae0beb4c4baa1b82194b8d2d21d88566c38610e7e98d4cea6da6f57657b9b41ed68317fe1addfda758f53a85acd92b76ebd3fcc1630efc21c8b71515029021d0e7cc0cf67f7b346f690d601510bce38373ed5dc5a60c20eadb06930394183a00f34ba4dc84a9c693cb99bda517d9490b9a48aeea371bfd72a8e72607538a61514e32a5e85a52e51e79868b39f0856ea3e1416e881ceb2f1fe0bc381757835222d520d44c7a745a5efe1d81127771cc357904c398e07fbe66666f0b98eb912dfa2967915fba18c0d840512129229a064bda88d7dab4d51a4461b80ee50aa343d660b08543e2f4bedf497781a92aa0216f4389f21f045e45584ab38ef64e6eb457b0c4478f6de40f29d15b36c9ddbb8d61a411f304dfe4a4bc945953fa10b163bdf56043ba1f9b006f54f0a5e32c0d933ab616dfa12cd99090f990f9450d0a74512601cb15fbc089dab1978b247971b27ac5ae826c8a5fca8fa64031eb440b144e84ba0ee3df2b8dd1b4e20e1e9f5b1035fb3c0e55c344b7eaac4cfa5766cdf7154143215e7697492fa13f3f07b5a8be461d61b6256bcd5973beaa585bb752a1d12c63699ba0efdc7c7df5b70ec7dead183cacde211ee470c40b1d5cf62e6de02315a30c6676d669e317e360d290cf1352723d07ee000cacf875d32a1da80059d7dd705c26a7cb5a131970111ad3527033de61cacf7cd7561148cd86bdb16acae12913a9c1bd44a0814dbddeca20fb7f1732ecb632f55d7d637ae99895e309c926f47da54f44926bb61714b8b724b0d936f3bc981bb9de9d5a6507487669a1512601246bcb361665cf22900bbb13abd9b889ce29a3fae8478cb2fe4ac42cb346b372ed9780d6204625dd9e1c54ea762bb4efa93bdfcabcc21b75a540bb865caed6a2ae5b9e7679dd6e6cc57ef1408abcabad9abc7eb6ec9c7e6d824eacb36f21f9084d0464f74e2c943b8d38ac5a691a6cd6cd10f157cfc21e1452244284c3000fe7b3e8d52cf2c727d6bf472bf10b0db573633e054ae4814ac8684f73d029a982a019577edbc36109389fc375231d2b01f1b98449526cb007c998b01df5808e6d97346b15578a3faba531acf38a08add723d692a150ea538cc2c2989de0b0ca4a0ace11b8bd80a2aea9b3c85505e2b77b817dfa7afd6eab4784aaa7376d0e05ebb15a1d1a2c1122541485585cf7ec9baebb30343bf84467c6f062fcc4162e7fed361d7b12abf99f72a4fdd8b5246f5577aebc28cfee7f314ccdabcfd3319367c91295b81e254bfe3d49832fea305764baf3bd05001dac33a6aabebfbe981e659990b15469810a75f26a1ee4160db7662b7ca2c369b4514d2a564d95e2acc8933be2b72f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
