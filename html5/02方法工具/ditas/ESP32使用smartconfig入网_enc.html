<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"78b79106d8fbbb74a14756ec0c147d6c0846c17dc81434a341b42c03d4b3615ea432977808578428a50b69d842ae62d220ccc07b65285a3996051e407e0e162f31d8bede960f2ef3bfc51f3d44a0c2deab650d98c06ea58d8f3dc1461ccb4554b3ca7dd197283f35a1892b52d8321e97c66c458298720d996b24c643b70137bd47fa41502ba8356e19a66e55433716baef5dcfa0b90cd9a5713be7435dd357f8ad499284e6d451bf42af98e857d3ac98164dbc8760a71f470dbb85391973afccdbaca2d647d49dc34d0b1e946d4bf917e371a237fc684463eca5d342328c46cf5d3ac24ad0f675663c37ff20d4883022c0f59e17a14b33a90ca7dff22647f3de56b656fd97c688c03afe6045cf607c4a58afdc0167ea96712987f7022a13e21c6c36ec988fa64004897829d2a41bb5e4c84c7d8f996b6d260a769524a76eb57c2409269a97370c7fb3980f9eb3d31e77bbe3412168a4610e4821c71976fe29f78bf3c88551660080356af3125b2b0ee2464528965041b3d3aa63d404ef6a7978d177391adf2635b82e957fd1103c2d46f590ceed13920453f03b8d8cc1eeecef2b0d7c6466f493877dfa04e26bab296808bb66570a245edda87f218a74d06fca19ec7b3fc986467aca36c09d8d782fc286f2aacdfba337b79cc733c27238943273a0e32156c947cb46200635a85bd7582046b4203ab150596d4fa72806e8f96f8735e8f6bd94ba177044cbb75c82c91ff0010b0f0672b88a919b4715c5df96a11e8b7fe1030069a3581346da9b8948b7159298eebb681e39a6ef45c016cbb69744c1a84fbbe109da11ce8529f79c327f919e7615f537ac97c4bb03e62b9ff2ac6e39e048cd5a453ad5d0fe20ca33247e974267743ce4e8a4d2ce7da1ae6843a73cd4413115870b197485eb4b356eea475e718bb2d65f83e122a0f7aacbdf502129308cb231af19d1a2667a6cbf92b76d10b785e3220e2d22a0261a31278836113924ebe5e14ea7d36e45a6489f1e22967a5c8ba39f1ae364a5799f0362f1356306088fa3a203b5f22cd7f9a5b5660964cf92a1c50cc1375b7d17e8028991619b11bf57cba24345cfaac0343ed5f594cfa6f513c2388c08bae45e9cde40fd16b97c21a4801b5298d7eeb163c9cb41441de401537dd6a3f839b84ff09297487e1d7bfdabcaf90168e0d8434425ce34db264cb9d730660b0e370a0ec55ddb0f12785eaacf978f4701a14cf833abadf746b2fc1fcfab0450e99f8f8f024190bfc0d19238c07073801d8dc44cc3d7c0b4a8376a64cb9eea94fcb52b6fabfdb668a06fdc70a52594443567c828c8f5e3b589212fdd565a84e0332a43bbb596c125e88cf6e78c25e9aed5aad868b8c32b9d3d6968e96b83fc56f1b08461fd8d254db32b7faa81f4857a97d47bf4e926e2c6b0a0b6450a1aa6eb3dac132126f4d255fabbfeec3c0464aed624a2b11542f0a7b45dded4c723ec910c716850a2fd075b53f564b9aa3a123becfe2824f03b61da9377202c01588fadc3e01f83c79c859f609aea63196a9326abc8ae61b4bc619e751b3a6da2b320f01a4d0a8918b0c29afad0767bdf9697725b5bdcf333e30bb7a8d1ac85d19cbae5e8d7103af31fb6fbcd3639ed58d403077bfc74836b295902e3b170f4382268ed6cedaadee2000863dbe82146f59304848079e181a4e94cb38aa75109aa3aa3737b0db6e7ce3c6e5d4537e9bf11fbb937657351b6aa47d20d1c55d7f5b245bd66b7b6cad02ebc632213063b3491896af5ec56e1bd064299adc95f273c679d3a78e74b07b50647cb2f34c3d011b334f528aaf9610b262355c6f25bb4b8c65c9ff7814327e8e6528c9bc454634bd9dca854a2ea9dd3db5fccc54a47aa145aa1c4b0537b428255270763712817ab2c6d7639c49202bf253826d58327fac4ddbfe2869939e96dff9bf07a0b3cf0855ee800fb03377601d59c0d231cda8dbbbbf6b6b384faeccb67c2e92132c5b5708519ddcb0e5db5593a1a8958e4a45e6b9e2490858216d0fd9ab966b2b27c5c4342c9292860fe02c0cc74b229707d192b4058cf5f813e4b68ed6bf89db88d8a20a7823151c6b408b127fcd0b26f75ba0cd8d26775627cf1846852533ce63589ef99c730697e6e569be15ccef5508b5a96ecbda3c4187a0cc55dd5ef72cd950cf579e65e58a8c726d07de135e3bef730d536eea3034e9ab2eda80bb5269a27f7b49c1886aa403a4586b6e6e6485f086bedf438b56a339b13fadf011236f472fc914e5daef49b312d91144db743a0102481d3c9b7945a30ce9123c2bbe384bd5e8bef2149779505f696115f5790ed2cbaf7da221467ea823eb2a3eb24918a7f62d0a4dc5734b64ce944736b0457eec9b10fc6173ee87a7846b942f0a75986d1cff6e3eed71cf7c315170fc26076235100b856c28c5e4981439995c9d8cac12e9b1f324800d0060e14f594a6abb0266c5619895e63558bacf219aa60a2de22b285a090ad9c8a0d3b80b8842c244870b91a30d9c6a39ca97571b812953b118af50ef3911a0147a650a4734f7a9f138b848726788db966928234b4d937cf8577b4d7b045da0582c0f33479aefaf437ab0910364ab34674280a00e40e7b74cabef334b8aeef989ef8fb7f243950156f9e39ba9ca78794029321c5a2b49304befd86e4239eccbfc3a4883b4de8609f29118261d93511f67f8b4567b6dea11796f50539aa9b4ebabd73c29743f9fa1a1e4663a099a1205ce6d00dc895434a102f7812fe20a2c12b8dc2cfe606cde362fc51141a46548c9381d8ed64a140231130fd603e84decde0bd46e359cfe527db42ace9de1e4d9ad6d1da6529aaea5f3af7f3ec9caa27a63544a08fb3bb9e17b1520e38b356096c45a4b1360415cb0de2981f181686b665dac4f10aa4ff442443e97456bcf41df745450817bfc723064e8bc1e3ffb235cd66a2975c791337b9b97b08dbc181a15d60daec6a3cfd6da2a7a2b03d5efb9d797872238c7521e932770dad3bfd78a2fc7fb29c6fcd92a0928df0a8f7a1f64844eb19d3ed0eb46d16aa9d177eb8e98b90191b826f5d0d8b0449148510d158fa82ee9f8808eba3cbf28775a6baf808e31dec3e65134d1231697d5c17d99e882c6e73837abdcee0c368703828e07c366ce88b769e65c5eeac0247b92a3051d8453c98a0b535f00f7f26c8549eb90dc68bcb849dd9242b3f107435d1e4532ebd7da1501e5d0a0d0cedb62d96d15dd862a63b787c4c25d3510f36f96d5d38546d5eea2f2de71e6288d2faf03ea9b57d610c9ccd0dcc10ff7e12383a10957f3dbaf5074bc68d6f67af85254d6a7d1100df38acf307b8c7f65c4b5cc88e0a7e7b9cf8479d92347eefe8cb3bb6a802f6978e8944e01fae604bfc0286d48b1c5e50bab3b7d0303c8f774256b722ffcc7c72f888868984d05b9da22fe4f7dfa3cfedf6a24cd523150c1802040fea80ca36a036fb8e2f10646f8781dae5e8fc02e0c4b0c980959618d38f7a73ee3512d0319a4901089c3726762e051662e829bcdf69e951c72343dd6e3dd31de5acc2606f3426f0ad4551b87d80972bc614177dabb5b0af5d9ee824fc2029a2e252f13ea7c8e7da95cd7f425efea14b671f31f00b60bdb20bff6b2072b13e77ccb5055c1e917f2777adfc219c88bf10b5dddb6dea1909a99136c546816351a96b348898c95fb17f2f9ba05a28fe494f74e053a30e4bf13aafa71706578cb6b1090d5b61001c6e885b6845cff4ce9192b8fd40a9d982b1573bcb0aad4ae6ec3920f40ec590a3a0454b50853eddb6335589ccf0fc09f9096f22b6c2b60cf5d8d5a8f978a29a278e063b42a962a96e336908d41733057f879289d50be57dbb125cf23f3f80608aaf33b5407774b993544ea709d411e1e5a2b3f88d8679e7cd8040044488978d78ffa319e87f3ccf2097c25e5fe53c22d6e4d78d91d7039b391123a0693ebcd3f9a24dfb058b34913288c228f63f2b081315060adddb04961444b4b21d1169ff70e4b4a510070f8e8cc7c38181cbb278e95981be6110cf402713c0b78edcee294cf847f1fb40babecc61245076e42f2ecf8f17b5db44b9c7a6516b3d7380022ecd948e9e86f896386e9d6ad032effe5e435ff933db52bc71f8163e8e5275e8519efdc5009a75315fc66e705903f5883c0e386d1e2d48b058ec045eaf31cb08b4d45765a3872a30afb4283c08cac3ac9cfa6c87972580091f2786afb53598cfed99873775ccd867cda2986dfbbd3f2eb50007d233f62eb9a60894793cddd403de9edff7ad65ed383a541e8d990fa61b2f692803dba0f82a9d5734315046bad17c5b731b97384da022ea6f92c2dd387899758d92c735946dd9230aea888b7670a9961a57aa6567aac647084c15d0a843c13c551cdb4524bb50b5ef566ae27be12d80d2abcc86b490be5a820366b86fc424f5f17e5f5494d8aea9869021ca95195244a5441619266eca525f36503cd98b89523bc7057e60c22325dbaeff728dcaa61e05ba99bd9604cb18207fa7965a17e1bd8a5f3417c33cbb1b386e96dc2fa211de5dee019fbcbc0f02c5c4298aa3f7b7f0fd4fa8a1586b1fb1dfd4469cc87337511bc8f6638e46df455c0b588b153e3f24ee39a5aa71262eb276d54c265161e2681f20cf84893f4a78eb11e9e1fe5502edba4853e745a32824eba654a74b81999a54457557aeb3bc2e2fdb095e0eaba3ea6d62a2815c2167be14ab3655da6f0520b21729e02ac3b8e48ce795be3ffb5e44f60039332d3647ad9b033cb987131a958e4b541e675e4f7973d5ee3415203421d03834c8c83cd953e7d848defb1faa35a7f39f8e9a759bfaac81d1ff9ce8da47f84b6c14dd17d79528306b49e970b5e94337374c2497db4b8e388eab460ff5f58fa6374ac4076222fe0d4fb0a95e406cc115f638f7846e519ec64a40c95625f4e5fce403242b2ab767862a6187685fafbd680d13702979bdcbe829033c42aadfe0cdc22708febdfa51d983338baffce66fdfc020e2c7ac0156208d1c9a44db09228dc6bac13c126c9343f43284fa37285520e79863ae53b9273f6dbcd034405fe85cf70778c0c17dd978b50bb27e7ff6b78b5c46ed572dac04a657fab283d45ef514ca26e0089d130077b8a3f267d08f9cec83426f9a9b7e00aa7ef1a8b26a6604ba1ce7a288b7e8941b7aaac07c412a785eb0a0c5abcd79dba023f0155ab15f490d56f90000dc781154a71ca00a5e039958ade606f904b7aece4b7bcdc03fe003b0b4de39fdedc0b74cfb4f7e8a102f893acd88cf6f0717630d9742e59c26ed46c4410744f7dc79ad4415cda27dc68cc59fed0108f36f7f3b23a4695d23c9ab88269da2d27372c226d92e4fc0ae3d59483cd4394e711c85b1287d8b7ea1aa423ef3626593d0abccc97a43d8bd7d7b7ca99c328c887d6764de08b0c59412d08f28a567d11282a3564fb3498ad1257b942042625a8483a09b96a8a6f19dc44475ef8109069c9f7cbb7bbd3ed6f03282228680599f23d6316ef2c4fbdd4dc4828b0ece722122c8f6bb7fc96c2a0c8c7b717fb12103dc793a6368e67ddddb3fcb2c8d6edf36f29ebab42e392c99ee216134c999e0e98695d00bc1168e0dc0d78af47eb1a55d897c035786343947e844385a77b4da4aa370d864449e23845a0ab5eb498d5869df50bf41ac4ed17dfec1bbc320263a361f87cbc03f844aa5b8f0d01f35ba2892d46a8ba212df8f0a6735fa89efd06ff1ba250f4f1e6a8275904421f6a7af04054e9aab7b011d77511e3776f8cd19b4c0da809ec090f7eb73b28ed1a381560b6f7dc424cf4c2fe24cc79698bf4599d94199756c69354ce11aa7f77980284cd655ac1fb221731742a074ae9b1225dbda83a9aa8dca44712859c981046b9f98454fb2e60157491d11cb4e2ee0a7ee45694f4d5c095ba6c3bbb2a420d3644924bc80ae8b494a6ce9b0e7f0bfa4e4d4de0b16be993033adda5557fdd6cafd620158c07894b51784194165a002887dab4ae4cbbde2fa38e38df3ec84de5ce22cf195a42de270ec8e0d378556e201d49e74800d8e46e5606a80c0d01764637ef628dd199e3a506d3987dd26a1d5ebe0ed330ecf304e5cbc51627d58c7d289a073c281e28d3188a53e373a3fa3e14596d96ae96351281a399028e69037db32cb69eae6bbc1f2558ac353a5321c138751973da81e54f65835a2de96076dcccb0c508c10e325b407ad0731de0975b1d9250dc561bc8f37789e7a3de73b0fa9fb00938cb786eedb51ffe332f617dc5088cb4b30f47a7e86923219031c51dd28581f708c92ed129a01b2239f5a0213892d29031ec9f22923bc1e5d7b0b0e9b9dcd653db6c73b9931d5c6ac90a8088c0b462a154d1ff249b45ed1d89191de673c3b1ed33622754f00b22459d21c1785dfee144ac55968bf9119f20d6e63cb29691c5dcbeb30d167ae2f6cf7bcdf9bd72bf8cdb9c2052c9a38375dde2de4e9150becc95aa0e82df909cd73fe004b69a2da09232873d111654a92ae8040806d64b88d42dd9fe61228558df715499ba5ee308d6ea7b9b9edeaef857a7aaf0267c123a8bd70038813149ed3474cde4b08c8060edf9c9a9cb6473c7e8cd721aff723ca1522ce670aaa278308b75d0f667130d4ba437a930475c91ad2c7b81cd8e0eb19c8e4558e15ca5aa183e284ac6a448dc0cf4299b710b8635ff81269fe8bc9e88d690139ad66c2af09fae21e08a23a2d223696e2d839993d334feb755e2473a30a6b72eec79027b39658a7cd25188980cd5897efbfe3434846653a1e374017ecdab5fa9d87f45984b1d7e9b2e6837dbbdab58f59e23ddcaef27cc2686f49599ffde0e01f059f1b50bd45608bd3f560708a69569792e51640f2dcfb9528cbfd02a60cbd65a0c0f1e5e05e7f18cddb8f83c2b477d2b054e73432409c6cfccc17dc1cbdeda62288b3144884d49325d46cc9b13911998f8802d27c25d004021d50ceffd6641591e14f818cc5eb2df31b6e9a3cc57b20ea7cbb15a4e69d1e895223c25b43de3f9256b90e14cd49ff7d5c14d827101a34a1771af3bbc16d4d9d458bd7050a4de09cee16388b0599657c942470ad7003a58cc22c09f7cbfad4ec45b1da1cbfd5d9660d697b1f59437ccae62da0503f25cd51fbb6aea7072b3462ce35444218b37b3ce14ac74dce8a22b9ea42d1a4495b44e2d2996535e88eda216188cb1b70d8a0108b57b85a62f3032356e5831ac0b9307f3c3e6be98660a0a6f109e86a0bad1f8625799af6c5b5338db7f616c44c5a7fdc9953e60a21220be8b5e3bd1d9f60d14a1ec75e028ebeb0a7e10c5a9dd139457f51f8e40b24781f681c7026a12afee2e6f4dbce768608f6cf9ab0162f2c67e5237b50336577fbc120691938d9b92a764dc3d0e36b31199188f5dd0330af4d7f7b25bdd52b4f84044d72a8706fbd1d322bf3e37ee3e61c581ac3b3dfd57fb3ae63ef62fba3d3f09d5b694b6e3bdcabd09b40482465c35b741a9641ee7ced278d8a333ec77633ce85f1d93680f9d31add793765d12b11608afcc4bd27bcafdb59efb3f08820ac4cd8c304adf5cd80e5e3bd64c3e7bac65fd22792e5f8ad00441257f5c2a0a50d5eb89481cbd1f6da2e7c8345e3d4fe28aa5969cdeda56edca83d2058ffd7132eff50d38c06827776c7ee82f2be9f91a48672e9b1152529065990ed68dae080aa7b8902c74d68dfdfd745a2935b72c67d8f676c605c44e61c5f3ae7664d5112763ea18bfe345ac7d7f516757d2c25363a779ff19d1896071aab00dda6827c17cd2de7434a6da365673f98cacc03bd45ff671ad9e96c3ed53ccc53e0039f5d518fc884d231955ccac5a2e6f16f9d9cc49cc8907d0616e90ec9fb109699eab42a830496fdcd04e63ab7260a7ed985cda4a3f6294d37d898ee4455ac5c20317cecaf43dc4198b6a06db4290f1de23b6d1c57f323282c1bacf869c82af45cb0bb8d578611cc4f222bbb2671931aab86dd9a59b9d41bedb4103297b3f4b2738c0786353bbc0bd3fb9b9c20d12c4cf2885b7be8ba0f392d20e621c806d238649c95821761bd94f8a2555d52738ab7371fa0ed50da37a06e0b32daf9ab052c60cca44273388092fd5abd2791998f6e31131112946c777367e264eb83dd431b55c49d5202480c4b80af240807935ee69a510431f889187c47945fda56dcd767de82ec263765a51f39d941e2c08f1be7528ae9dc2959f69aa3935d3f62048451885e019537f0ee9a796dec806d44dac083b22d0914d11ce187a14bd25fb2987e658077181a655fcf1b3e9b4f0e87ada87f7c19abadbb66801739fb319459574bbfb7ef176cfe0deccb4a92f40391cba58911f43a4832350225c181f7ef7d22e685d2c4db5d6cd85cde64171f8970ee7f1d8dd42ee58cc13d66a59c32c8ad42a913d14680afd9844d5b49e8d14beed09214657252ab21057c2c786a6984ff217a32870d7a2cb0f0c23a1a05d6c2614004efdbb5e1b9c146695110e9b2029571765375573f516684d8db6a90fccf8c8fb2c47c8a5f20945348df048c43d4734a81c465e8c2d0fd897e0d8a54fe5e2b6c604bd8d8674043af7573bbf0acfab9b6a28b41ab6f279f6025c48b367b2bc1629380755357252154b6bce8e32da5dff29242967d5e1281b4f8df851787064dd9a0b402d90b045847a3f81b264c596a7dbe4dfa94d3d8321393fcc217cfbf2f765e065e101a8e89894c58f6c0694c2fe85c487680cf977a794d7de05dc98fa0f5d7897df74f269b84ab05bca5f02bd6274421438aaa0d4ab69f340bbad4c75d4f229dea7d2b6aca913342ff6ac873085be7bcb538d0a34873af2909988306e563b4311839cc9d4c9a92c07d9b8cff681f2f973f6bf582fe48f5a6c20e7187fd8d594f8d3e73e3dce433531c7ff56337998f85d5fe615c22c643435fecb18506741ece6995e9d91ce3c5a8ee4034ab51d08bc622368a8aad93b49f02b37cf3efde74dae5df9745f6e750288280c3485583583d1d545fde4f74582753b167cf08088fa0fafd6eb505669cabdcced671deb0dde540807f99f7908d92e22808ddf385c85f1262bee36bb9f27a9c622d00d18df5f3c72527d2a030eec22285bf2fcb7b8ef9a523ac09bfdde613785d104b9c1e6d8885d94e27d5e409b5d2c98e9df6b61ee7c36d6396add24c75337f54ce6ff1b7f20a2735facdf7fd856169011d2220163836e4d96cb85a13db79fa5baf53b1de249ffe69b7297a149cc8ee7749140858f34b68a1d466877d29c90b72c7958444d96e727bd29000882f68ce7184b6ed4d5eb9356991d2d09b819e30f308b41f5e5e2965503e4308fa806f590fbc0bdc817d736e08e7943085a16d72861ce7ff45ea12609190348ee79ae891095f9f964b00bd8a460a0e2213a0458c4cffaa35a0c2497672dc7113886f8edb7fc9eb2fa8bdaef09f1d26b9236642a429c98a2996c84f6412bf3d25f8ff03e2518b6c8b04708c922a095cf91fc1cfb4ea4a155c5bb119ad6a4e83c187341bb13432992380fe11d1f9c01e137795b0d2ef22d0d7b8e1e972f556c85275102ac43416f276f4faee7609bcf5026aeade3696c0dd4c88908820d86e6c449b693ed287058a287e11757da16d12204b20743337eebbd66504cfb3eba214eb060fe1b9c14e8bcf88cd928aee663536966def97a1d29e603de6c26fa9bc91eb846b430f90406aebff67ed4ee72bc87e93cd92c12f56a2f9040b89f02ca98e91f47a986595dfd7cffc7cf02229d3eec9ab347dcb7f6232cb712e564804c94000962f7ab7d49891cd544646eb07568b4865aed5c9210c486a27609cbd537680ae435999d35082cb1d31c804a16f20ae72bab1314e82c279acea6e57696898bc15c660a75d188d4f672c8ea17b333b243c9e41a3838e8ab0b5427781daeaf4ef1004f4feb7d553891e62701a75002067f9f889db11ea12b2cd86d06ec9f08d04570e7666dd0f226206da4955df2f4f44b6d9556bbcff5e9ade6cf230776b9251781d416d1e5a44df9f741e3e1f7d04d1edc75853cd26a43c927710cdd45cc77802d8d3acc957a64acdf1fd77f83c5f11ef495a8d6c31df7a5c8c9e42ff2973acf5e24ec0663d4280eb9ba86e398937cf550cf46743d120304039f421ec3ac31f535d52cccfd3505f9f75c36fccd8a507df6bdc40bd7bebb8bfce756751e3ac9d50af08dbd5731464708f3740b83f1fb5676dcf93a6021f3328d2cbf60d49f050aa211e9bed853818589feb41bf3808938900b8cd24a127a402cd0b9c5f8962e7f597dd2c5bca7a82ff21e9300b5ffa098f2055a443ca2cc960c34896ffb8b6b2d6bdc9624538f18e6e24ba98f77e32b8ec2eec2fe3906e7c5c332de11fb6722aec9d748d76466b4331cb6a43ff2798f993d1dd6ab6d7d121d60b8ad6695d40b6f40bb599470aca1d8cc1f3abbc4e3beeaaefecb70b085f75cd063516eccf85b18e94e7b645b4783ae51c54c71643b58469a683a5217f67e9cbb494da5253a0a65637ec027c76cbc6b990d298d43059dd30c7f89b744f10f7c66668b38b629c8fdf2057be0409cefb3a5e866268f1d8aa4fcda25320d7418592090bb5b9e43c2bf66347db77fd6a767715f5ced7dd86cede39c21cb8aee3696f4c0a6d0ada11886fbd599050d78f675715998a56a4605547ba3694bb70a617d9a50226f3928bbfb4cf8dbb420dfc5d781fa31922886e222f8b95ad20f8686d22f0eefe924ccdd450c8999215af40ddb233da95e0cf939733b3d58ce13efa92d9284dc88a4ce4e83187e6e9d1b66a479e744b00a963da2b16f86f1bd2640a1e418d46efbc2fb271e19480fe972619e4f01b60dd07ed18fb11c1a8f0a12ca47250dc9fd70f9b28f54e4bde8c486c7606c503ee1e88a853d7ddf9dc3440123f60cac0e17180eb14cec48b79ddc9c7d53c84cf28f7e54ec16a3f284e4da3bff09d9aab26a5d3c6ea624a7963bc1afadd081bf45dee846e495f9562a9fc8b8a1e45c80f43b5ba97789ef0e3d292655f4dd7fa045a13b97fec98d8e1d5e4f1341b2a411ee513abbe4315bfc15d651da7626735f2cb7f2e3e5ffcb957714241702330149a1fbab0e7149e2de1a0ba49039b39f06e4f762426a36fe97aa29d5bbc943aa9a851611076c367eedf12ae6fdf507ceb7ab419aa490b9385260790a49bd2307dfd5176135340121d944f59550e6db1b412a005bd50b83ef7b76a4a1eca40ef5581fcfd6277e70dc0c097785e26d84d3efc7da53b3cf9bafdf618a329dbf0b02bad4c5f773db6b648dec595b59c0c4224144fbd5bee8e376053d76584c2c5d072bf8423fba69b739095f65e87098e82776389f43b3eb5bfd57d412d403b8c9490119d931b034a878b7ff2e9040e4f62c55a8b32302a119a53214c67568aa8a0bf088aaa3ea98d1bcde136e7b429ec1b93b534c2cd03b4c999b97234b77d95dc97c648775e91ded28a83b4ef50f16f9c4e1656e95e4bcce154ce3deaa199243bed31a1cb060a148269a4aa8ec6c7f34403cc6fb2e4f4d0fbf5d2b9ca2492eae0f81f2f2691a310ead0caa8c8bd9855c6356269fa034fbf8b588479c0f2316921f1978faaf97baca432fe687b04374ffd35687830449c08cfae219deae206adeac7a89547d16444fb7b06b7f8d4e4d272c31cdf91d103cb288e8883d43cbf45110d1a2414dddd59486e9060ab2c67557353bf291e0d4269c540f1684d941371e9386012305e5b081e564b4c28bbe1f4483341f94a168dcdbb362c419b0fb537479bb92b3133c7587e13d198da292f38358ae03932e88aedb7867a1dd74f5026a2ab3e5746a6b0b42b71548d6fea5c5e213b802f48dd85881d15d65c7a2c10ef2799bcbe28cc432ba6dc158bd0098d5fd77422966dada0088d593fdaa111aa62b80aadda0b0623ad7225aae6b2601bf68dc0c63ef3278643a950ce9f9e738a3400802f1a1edcec0c57073dd210b66f49f483ddbaa66f8caced15d2a9438f9e2a384798132b600bd8ecf31e0b9016c006d65f3e37729602d285b079e49264e2dcc7b07fb506de588290c46bfdb074e05535fce5cc45459b4572c7932def2d63bab45ccda9a8ad42638914393443b9d68244347ae94ae149369c2251fc32ddb8d687cbd82e462543949adb3595ca75f81825cb257570f551b9ae6094c116ad4eeddb46a3918e998cbd8ce44c604864920c44b168e109690f20d06b83848b8d79d0cd1c6725207ff004c2fabe749e5992474ac827bb752d568322c81f475de86ab9a9da8f26b8b7b55fe9999a7fb8f235d62678f7eda4b065e3f1d5202b304429d51ee4554650b523be576244f829b95e094ef2b879b1950e2cd303243e3636e9b843fe78ccf4505019d3f7eba07bd0fe4314c774d5ccbe7c6b28e15ae076d326c6622de4fbfd4886c3223e485e3fd32bf1261f07267fa831200554e19bbbfeb635630a6c591d7ea83f5852bb2f4c885276544266b35034a96a254255b871312693c3bf660bc797732a6d897c40bf0ad736f19a5254f7f5d4d224af03168764ef64a05713aeaa66aa013f682ea7e9838f3b11b2ac4f7a7c9e67a098a76d0e182db7ff3a06ccba49a3d27c5196c8b6d3da7fe1fc6b2b16acb0539053b66400a3021674451621aab05f068cc6c513f5aa20d53b0dc6831db9463a355eda7cddafeb536ba8fc512240940975e38d4509849882b046d1f3f7ef244d1a3dcc5e7abecd8388d4931d9b349c6bd0e1fef142235a4b2da0d75ff443b246444b2824371da24d30efe43bc04ea13fdd1de568c0883ff45e814bb73baac6585c2e1902e6a8c0a28cac6caa77b8b2fd0bf46f0a76576aa63d39612a91579379e0247be9ca0eeeba628b6ec573419fa5b23c7ca4087fbf1b7dcf7d7cd9e96176578960440429212bc4601f3d21fe97a31edbdc5ce04338985ab774e1ad3de32ab4fd03ba236ae06bf2c69a009fb3283808fe4f2116f8b71446c9ffd6500a91de0596c65d117379546c19d6a84ab613d7e780090cc88ad8b6ae5edff819640e1b42604d33d3c6b8fc327e73b90a120fa58516f1ccb2d8c45ef716c22b5c28b41a8ba1b1d4812c98f4786b26327494cf8ccd473ece1572b89d13b13db13430f98572bfc465b0756c2efc4c24e954e9c5d14b5c684dc27944ab05a24edd241d643f9349530f33ce6e231b6d9b7faf73f128d1d20c342f5ffd673ad2e8b5ef443fa6a0e62207f2475a55ac5c89fe499cfda633cda5b53daad73b38255f34e0a40d8403d9f59ce5956962a3c18520d8f5d6676f67348ad1dd66ecde73d55c50283d72e1fd9542fb5dffab32917443b511fb70cf4db305322f9d6bbe60233baadf9025dcba997b54c8534aeae2966cc92badc7d165bf6e22138699a72b97b01e58c34c5e5b5c321195f217b11ead956303dbae73dacb681f8699ae4a8efc1772bf73d94e37d65b7b12d08ce344915578a75c803c2c5da07cb77aedf2022ef1c2f515a22a077e5f38fd135dad8ba826e47682e1cf97fb5b11fc70bbd905959ab58fed2ab8f10fdce8c4e973a605c03bc37976b3fb5ad7943ffc2cfeacec9bc8b861f821c2fa457f80f2122baa0730ddc18ea5c5325159045cd211299c1e4d6b6d2355a79a44c5805eddc4f05687a3b15467987e93b1612ac111049d11d159b2610317044fa278f53f233f8918610f300c82fb77f47575e4e1babc4de8ffa5ba9a65d6b80636f9b106a8a18213c3852b24145267aa6e1d2f4b3a10d6a659b0ee9dd7769548cd5a35d43a2bdb49505ffc6e7d3029da7e0ffea7125da5e3f877dd5caaa4cbef7f2b6bf682250321d00becd114409aa7b151971b7132dbdf68dee26681f8c57fb83a7da977e5cfe672f0315a5a9363d103b3810b56dda6e181e6c675b7ee3ea80d598ab7e44d4b3e0ad2d567650d76c2f8d568979718ae598251c7f286e9fdc3eef0ab24f5c4ff44c08664303ec048a6182edf62958f1b7ae0665ee4a66582db6bf8734ffdb2fd00b09a836fa703adf54855e5c506eca099ee917c768a7e65982a82b0163cb610d9bdfe2f10dbb73000c47230aaa0193dc8474754051bf5123c2415fc6af27e05687d51c4519b5eb6347237af696557667d0dba011371716b5020308710e86b92c7f1f6e3704d933adb2ff5d2de271b56c8f1222422fc5081fe2c2830fa3a21c8485f28c06b676ba78752a7a5b1fef0da84b73ee2f5ce2fab2b8d171bee4c15ff8dc0ace4c9b274574cb2df321cc4d7baad29c20c83f60b2e53e284da55b1545bdd81ca419b6d2d449498cd80990e4d39c37e7a5b69604680b2efa0efe89ee23adbcc83fd64dc1305cc0c62b4de057fc6faae1baf37d25afbbaea1f2c476a39ed01b531d2982cefa0d8e75c6cf28745cbe1a50ab6d1823bdca37be6354405498af552701b377b3476e6c6df39b2732b219bbb0f28c703ad3e0c5e3aa6d44f9d7f528890471fefc78bd6e93477a50107ffcd49603b49d9a89ce5e56ec2a29105bd77e67f4122abe52e235027146d7746c0ad263ab64d893b645430af4d73a73cb3e76fc9f7cc5e3149a5dfd607f8d9dd1d3b95c2324c3a352fd3e2671ae26b88153491d0a6652e81c9b754d11f0c3b907ea58af17246364f01338730347b8afef30844eb07503802c08ac5e07e86492e4f8b3e12a353d1cf704dcd40be938c24c86fdcb32966183bc3cd9f17b2c0dace940d3ab45057a182b1fb020b66973c3e3ff0d0fcd68034d3b19e66072c4b042a00b4cda22d9cec36f96b8058736ac0d41268a7bc9c0776ee33c21e735a3d7e33c6b64c0764a58bbb1a9fce87d9d37e552f35d22f186b1985fe940fae580269863d898263926bbb1f2c30de8ca0859ac94d2ba3c097cf29fa145b8ad5b63c98215442f3308f2ac6d17c3c09effa58f6a6dc1c3937a1a074824b1267aac8045fdaf00cb23fd874f049bb49bd610051d9f4d225c70e5eb7a1b5a80bf0bcb59d25a6f410d6a1660ad10af3b396fe02bad911cb892b5f2cf0c0fb11831b029dcb648dd36435d0a89fca5583639a0927420a2e592e896cbdddca83620312d9d421710ee18191d15b8ea2f7a55da17b8b9b34bbae89be9e560fd9e187023a5d04b4e5e0aa36e059060b0df10da72e0ad51a29b55628a61c2c1fd6c73ba6a0f990435b617563ef8a89dae4f79acb60fb2bab92442fc2b305fecf2ec23145175c9b111668da8d38504a0cb4892a05faea09278bf3f317920b7df096954c2545f2f4d31c4ec51717a8c2a66f9a2b8d8299c064daaeb19697528ea718b3ce037b5a8c16a27c5e6c8c5021789b28ee1edfce445c0f81bbec5b092a6b7bd73f086050251a06327662d570489aaa0192f9bcfa990e601b24ff409ea503769625525b00aec1e164953b0f4a26086bdb5eab71799938be318fd8f775bfa511aeee9fada6f6096468ec6e61d1e0aed95419facfeb69cd8568f285bc70922d30ae1f47a8fb66cc64e916668522c80c99878dffa4f803382e8f5823c72693a5b4907f5bb53a50c43d3bed68c83722c3eb6a808a0632b8c2bbf91c68da5e5b09385488bd268ac577315182cd30f19973129652f89d282fc8649625e83668aeb5a5a00b44434d79618fc8ea93384fb4cec192a6be2a7889c198f1a95906150e2efbf2ed612a10fe3768c98e61bd5df88f3e9908e9a336e18cdbe0e7c7a72cfaaa8a43f7454dc99e676f058fcd1eee3dc57d7f29fa6aee4a88b0e9624ff3c4ea1d0da3a369bec107c4d619daedf14ef423b58e7db982d1f169c10acba0930678e616e39a5cf3003767f9b768e2b3ccb5e39294ec9c576b7c27e714446499a5fe3958f0371aa8411fdc4e0717f3649a8e283d40c82c9e5a0e0ddcce94063ac2273d179395c15e919f82a7c1077d19af7c92c17fbf12d0cb3e360150184ca8a5910c89d77ecb92ce44491a15ac55af81113eb3b65812f1ae1d98aa99d55154f94307963a584f2180024147b4f0c8f7bd34cbc0ed79fb72897fe3136513e0e79f0d736648c6120ccb6df38b362d45079a552ef4be907a5a3dd74fc6bbf6263165aa2177f7aa1ec36f2b29a922e1f80da02dd34b1886aac48cade07efdfa3dd79aeec260254bc7160c7ca763cd5e088693b48cb6fdd7b7dc2f35c22e34f2b0bd2c64efdb85eb89ee24507240312ea586fbc722bd3f99956af5e6bbe67632dd23a9fa3bc33c94ea7eab01aa9d0c1b326d5783e6179f89c1e342b6f5c87f098c40d212275598113f8eae1a320513e894063998ecbb94f4598f3bdc386db9fed0b7cf543e74b3adcac87ee7344e8dac01568b72a1210223ac1cda9ba915ef80b2fea0e256345c456c1f553faaecc7e49ad64601cde33b5bf219751d8282c0de557e5a59fcc147541345e6c18d378c7d59992085ba1381b10657da3f10f7027a315dcc309ded338bd6b30ee3b3185fcab1c99f29f6bfadb96f66169503d1ccfbd207205d75fdbcc074dfc1383c650ef63299a4f5a863c4ce1850b734a5b1547b007a63de3d4eafd834242831f8af2543300471c31f1e41107167d30f754bac6bee40194a1a1a5b45b7518cce8019f20ecaf3758ea9ebdda03766af8bd23602172e34368a3f28eed05f07139cfbba2b9e9252dd921baae49b96bbeb167cc986eab10d3d96a9bbe169ccdd7fc2bad7b8b449c8e8266a416bb04fdf89f3d2ac0beedc50071e19ab9d75de8a26b8807ce23dd26bf84c0cded93bd5f8f06c3e2dcc596f2cdee3c1137fbe0a355496ae9952c67c30e891a0f76d025046478049dcb53b493dafe418c026e64ffd7e81008be8cf12257c24f6fc708aee3ff9a54559a7d15d2a2a6d3db506488a7fd1b5a49771a58370a7b1cef9b99150c6a8452dcaadb64a1da266f355956c2f9263d649d096680928a8dac878a0a0412fbabf0c7058b388809ee2b8676a6b89b2858d1edc6c22371091e2103b9c02de1d42bda8a8e2182fa73d887c9e8ccd170da3549403acf7828bc5ee917a672878cd6b28540616cd9547bd4d079b470756c7d7d94a9c698744369257171c24edbf288c3b43556fba4de8da5dcfa43ea1e2a70076c33d71324fbb1896aeb7efec0f9593f7a4e166bba902f61dadbfb5267df241038d947eee3db23e3821f7dfa45ae99c672dcd7fd9768b125b7d2b256ded5f3557adfe8cb6dbffaa62fab8355761c414364ed4b30f4f6234dc877fc400fe577417250e3b27a7dc6d70e1a81c71ec709ccd133c33a3e64696cbfbd5e62e505187f30760c431fb0dbd72d8fdd4847b7e5ce31326b810e64650bdfbeb779d74be50b6aeb0bec93bd1134b352566993eb7c37d9c8cbb63aee7f3a6f10960cbafcfbf82026a1264861656e4794e8861f702e58e61c18712553587df8b6160e268151a074f5a7569372692913cb113ff15bed2a475b58c3fd1b4e365fba15dc28a8e0fa89370323e846a9f13aeadbaf02fc2266f8b0a89521e33f804878149b4405fc2e0a2d1e5b666be81afea4da454f4c4e8eaaf490ead5ffc1bdff9a25bbb480f7aacddf8d83bc4efb86bc9adf06073642dc919a2cb83eae09ef713a8c7fb84d9b581304efaf9e4a5a238878f0eb7f68499cf2b286f12cd9573cbb4df28b64b3a859342a3423ea20d425f940c987aa8767ad3a930c9bbbeecc63df7161481720fc4018d2c7747d2bbd721d26bf6b4e0f94a4e938b69ebd3e65cd7f32c61e2b759cb60cb9352d02b99e91c28ad81c123149a0b2a46ae864880a0df7d45a3a20558c70c76f2b72093e3a8d720e3d736d4b4c76e2eb3e1e7736bfd5cced7e30a28af3398a09bd72eeae7f51f265a86bfc039ae64a0deac31960a71fb2c4319d2d283a8830c4977a5ba15c9e609fd26fbb66a558a6ca2f7f25462b793e0eeeb7181e631aabcb3ddee5d2d861e99a3e5446c9e225b8defd38709c7bd5ae33c4cd083c83364902a787b59e5a984c76282cde00090146b192792d54611b013c70ab2413a21fd10e05a756d1f329730558410da46f2bfc5aa88f03ae471f36f399eaa475385b4f0efcbeca5f63fa3b98b36c298f0738072f3bfa38128386897d1791bbec9dbb4da15b1aac41f6eee720f1c9cba65b95806bbe432211c0b0830a9dbf0f62b81f652c2939850fe5836753ee46797887693518f06e9ceab2d8142e2aed9a78494559c448f064436a6b53fde0301be0060822381001c2ef525044efebfc669b407bf59ec12c6e2b468b959d8b51c0ced0d8b7e58cf3e275737809000bafcd33960ee509b208d70bdd3053b48e1c21ec216e54b67a605ce02e5d2008928687da7796d8450b453f2b0f9c0111457e834534d7f16eb02ef749860982fe381f197c5db498c454daf481b26ce80ee6d6ead567e7f984a17aec2b4c4aa7444b4c64e76ceea9803298543aa08a2caeb552cd2aa274ae8b2712db9c5672b3d6ff702487bf7200e3d2892e4040e53e56e6a13e59e7b9535169c75db6208dbef48db89cb8d6760ce9a16a4b97f0a53936d914fa96ee09fdf7d405df0325a77d199d68ba8c27c9a2b964d712532eb751eb39ec8fce5ec4e0198d4e9267ac401b821fdb7700120ae34055938204fcc4eacbe7c0f90e57a3e7cbc08e64003f201d31672c0f222b3b4910d6aed86242ed616674e8ee7eef868891d66b3a9c53b60fb70bc84804ff38c3e44b0cf6a5dd79a0234160cd5559cd98296e39d62f5d3bc369c304101040ccb944399559c25d77009a4f7836e293def1996db67d76babef4647a3cb8e7ceb3d0d66f16730a13c818ca0d5cf0f0b12602663d5d0f41fc7c3d1666a23bd04374069fbe98ce5e1b561d2ee93cdd9edd09f6a0243afeee42d30f53a238375fef0af376cdd752140e18a97f0934b21d96917984b9454fa174b51263d523d1ffdb2a86093291cf71412c7cd93aa05b7a8883f8e2ca1767d2be612762c0d912dbcfb05c4141ce55eb93a99f9e451fc0f85170a71f432599050d40a7cb177639c46aea3d75ead448913ab6227cbe5d4bb3d065f7844030f9ec0dbc5bc5655c130a756fd6fe1f5ce8fc9f6c94237bd8e58d63fe7a9b169ecda86637edc9c62896a8bad2248a72a18647057a0c3c83889e2821d236b7892a14333fbb8df14bd7505d240de5aab79ef6612eb38cd4909e357a124c4ffee47b1a82eb3be541833138a92d882d5ac89a334866b3c56a99fbe721eabfcb1dbf97ddb0b25051d13b1bf41b582d3f678206f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
