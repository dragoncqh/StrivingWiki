<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ebaadaebaec019785b74aa2510739f61d00845ac1da91b4e9aeda5770bc5073467cb4492a5ac6124a2f37f9082d036f95ab5ba1109e70eb16573fed181721e26be8c1c4e9a2703a7c3ed31a3d36b102dc280cfe800223c94b4f906f12dc7c05b8d1f41f5cc40f42b8cd0214c79381ba4e7763628622ed01365f8fc6909ff8bc1f9ad00d9c9f46b9ca883afbbe4b4573f129a0254bc7d35b12d6f2a1a612a3e16d45c9168258ec25b5e758f30c2797d3c1eb73f96699dd0bbe1736fbb03a85af9456a699d71c0c0ee866ebb1cf087c1a8b975967b7e0e75d72b2fab3974625386cb1f79503822e7d28e0af452227dea033fa5ca6235cfcc53b53239bb1e19a26e248df4f327e6f2b1096e631d4b7942534ebd4975bc12ce037af6ce7d1d14241f5169f292df580be1bc90c4f53881e97cacdb4d63fa65efb48d1910f777c3c15449d56905091e1ac8f36ca9118203962f6d9415627f78e20d3392315c6c3e0c4399126563ab46f2a9377eb775d254a2300a14dbac3f2a394cf24e2f487ef3aabb62b0c765613d13584380c6625e487beb0fdae9851d01f23df102446f86f7417716bfa1b666aa1ec12cc2d847f362e3e8d6b16de7ff7008dc853cb66705356b7519e14e3753300e690229589e5aec3f93d4636cbc469259bc854045d5eb48778e943c35c477c4e7c5e30483ec57634d479aa195a76ae5d676aa543d8df7402185b43612fddf6737f7f7240447356cd54fd4eaf560af36fc8d0f0a8f5f14f61cd777b3418b81e59d1eecaa1dd59c0160d5fb18865814401a22e2f01cc3c07c80aba780f12e3c7696d2d89f0cf6a9ebe708fdd1f9d1e55f8fc5e83f019352f434cf9e761ae36808e559c3f773c6f8ec52b9f6443b7328dcd2f0af340ce67237fc3164fa62389e526dd4091919f01c9b3edc3599133730a32a7197d7db3dc600622bc4fc56207fa9d3302a1c39e1ec0f2f0ba86767f55d9fd34351b6a74f34d4f661b39363dcef9f2a6a530a06cffa8bde291f0d699ba1c76a448f05c5452e277321963ce7d1a9e98a90a5b79915fc845ebaf62ea40d2f0dd7f43ba3f2ff219c12e81ce501d563633f13904b9189195d0788bf2c0ef8d513ae9d782acb81cdc8db8c37c98dabbfef8a41ee2e096f738e884b54c1eaf2b9f817040e2e099111286365bdee13c6574bd14383930e37735145be7404ad05d14f96ef9acdff910976121f3da98acacd88d7411edd857217ea70f15e8c7f2406e4698c070c7469ebbf19287337a4b42cdfe84542c4bf84a7487b4562129053b463a77e25687f42713f479847d1631cc2d1d721e3ca9f36b58ec547b644caa6fd6b0650ad72e7f4776e924cefe12ada0e99e63b71f650e6dd645c3a6d3c88c6001897577d922500d087053144492401b460d09479bcd014e064024b1edcf48e4c34ca43fd9e3f0a787961694039df6c98ea9d2481f651ac5c3174b60937a1a02a2eaf4a56d8e264a3d2156ce8db405da1330a33cda53bbba8d33a14e54308b0e52654fff9de6cf5936a3bc8041b77370412a417784d0f620f1a3055ff0545b74944d4ec482d1c3ce7a9ab105b8e40dfdae5d97171e92bdc61aede8592aaa1ab4bfa1bcda216909a3c15f8a4bcc8e9db40508721d4dca14100f139720b90867c833811285266729a86838755128ff0c003e7493aa1c4a983328555e60fb43afb37b31b7df9d7921c6e59a2b0ec20d6f8f51efd43f73949f0d5533aafbf022dab62809e68c88c8d954deedf87d9e09c0a1271323b3cdd0dc93e4e9253723d65223b95620fc01f6f59d0807cfcfb8c262b236794103013bfc70bee75a46e1663d0522d37e1e03a32111a8e4409c914d839da1dfce4322d3583fc5d211f3134407b1a0433e624d05438a2d18713c618414f61c3724b6565c07a0ae2285cb277842efa11f3d1891b0bb8a26e5a4285d22a11bde57ed1a64daea051afd4adf1a9f80c439c800d4c2315fa1e46f62d15c84219de8b25fadfffb84b04f3802b7b9a538279497ab6eb0020f74f7867c6c226059bbd313a3c8ab3968a019eb7a413c4dedc6f6ecedab09ddc04e4ee976949f72d7f1eee4f824a403888217a783177abe950a5cf00972d4ee3a27645f64e5dd99a948c2edddca4d95c849d38447a49dbc3d939d6a83d49844fe0486f6eeb219f1789d1349a9bf3f5ede81f665bd075a74bdec4c4507f2ba3411f702829f04ce13f7ca21aae00e8c3b8f482e2c013192afbc5bf3379aef95362aa326570ef2f99fb321bdf1e5add9cd64419429e9fa6c1d0608681a82e431afac39afebe0aff5b4bc85b28dccccbeb6f75abac1c569021b2f02cfd6e322c24df497bf016f6746907c5c7c402d4fd5c7affcdfa0a3dc6751e6c114b04a5c40273405545034ddc128cf5ff6cb7d01a52c0b38ddefc6a86abc80d65b7647be3860c734414040a2dea7e05e9843d3aa897f3b914a1652061bb9ef860d8437eae9d907ebf074708415ea6e9b313308fb4c14b265c430136a91b07a830105734ab439d71536f2aa1c9de5cdd33202614fc179228dadaa304e290433e19f5517f4fb4f8b3e2d97ec2278a40c2d0e67e58ca75c8bdf31a6f96e6821172328c847b24ce6b7d724619e6d3b2f7ea48baa74a57d404a57428542b4ba80ca201ead3e9232cf967613c6e781272357429daf3608686efe7be549d113dd0655d5d141481404ea97f0210913672dcd0bca146d8867e212d78c7b192e0b9927a56dbd8ecc8e4b9ea54076da62c78371be132f8d9b49a50fc55cccb08bc43fa10d96d5f02c9bb2c6ec5c38cdf860dccb2c28bbeb7e19aa6486f8bc7d6baf1df2d4fd56c2ea9d2ee63af70f1a5d8dee39b5db1c8859a4076187b22f792872a8ee8c5d2ab437efff7b7a9cf23faca34abf37b597e1cb9717c45c09fdb1ead3c11d7568bd151585daea8c677ae423c5f9f50d521a3c7a34274d82ea404d504519166489c2c847f51ab6471960a2499b1b5f589c64eea91056b18199b1c4a8a9ed8b737cf3edc75790f63e7bf54009423b4d2a5883f47ce921744f1b6587befae88d8bb823af78a7c1d560b3b910f13d532a89d3326fb925eaf0897b4ee6974f0a339a2d94ad4a117b74ccff1a0d16cb43abc5690ace8fcbec48cee5ba8b0a888680966b24e48b441ca72485237a18719c5f4f45f1c161f133f2d8a96a718189f8595c3101cf93e65396a6c50cea09fd7b6b3b01efa95b4d591bd5e6674c1ea320d8b4e8fef43544241e4f6e3c1f50e83dc06b36919e08e39ff226d5852a3e781c20ccf569fa5914e776929bbca3a64ee9ec712a7b760a81a96731fc2f6edeb3cdb81664ddb400f5e815b507f41b4ec37289f36886bee4596791f4752539917c286d6194598ac36685c7ab4ecc5b4b6b70bc80637a8596eb8285eac2afe57a83b5f0c84a841e58a3f7b4a82e32e2699f3f35a3eada6a514ece794a2813e90460a2d2ee4f5fac19971f85b1651946525e2f6e46f9fbe95ead3b8eabc58c66e787c91e1c1e76125f1e3c9fc8cc85297f7f858383f6216b54084e8cbea06f2badd65f42aa8db53657ebb06e4a56cdc14ee673f09a1c965c0c4d6778cc44f0afab37151934184ba59470f1c3f7d106646113e2f9d521532862c7595a19ef78e82b2b50464f4c50d5700d190db5967d9ea5a6376ded7e6b97147f5d6906195ebdd7c9be00b68040574ca48c68c443ca64425911234ee6d96b777b29e05f0d6241630dbc9be962fe3840fbb408dec311ca1bfaaaa7f923224af742f6f28cc2e70bc17c48355f0414cd160662b00adb3b58a7238d7f7341d5f50d2bc0f123400a9936085b1b5a44aa8452a72602c94617e029b74db4b1fe9e6dd4a075e0e00d5712e41d92ed92c09f0e02f4786508ababc193ab66dc02e414b5e54ef4b4bb03fb4b06bc24cc477c25ef3e33301a5acebe9bd6b456076ccfed065af00beb740323a524694b5bb573c8950ab6030c453038ba86ebc2b4d70970a92b2e7a713977c925a836698b6e00f95bdad0dcd09964932a244b38ec99cf37be4edd33e62f9977de4fb4b93a11bfd50f2c08e1f4a0ce703620900dbee6268689a98637d2978d73a2c38aa0f8fe740638c895da1683f07c41488a9ad839fb612383e5f7b73f1f24c9a12c125ed9e8e4cdbb6f7344a40bac67eddb8a63d1402d4b7f13897f2c29f852ec0d41e98ae23577ec91eb8358e1c9f2c4c3053ff1679234c38c1d0724b1e74097e4490aaab6cb7874143de51c1537e2ed10d6256b2662be6e72761f4d46843cfdf5ab03fcc722a4c7111bb287ccb9f0c19ee45a5e3f371dd44114f5c9014de4321ec7aba911272a56294ec8fff3052bfd74b01ee04819d8beb3fc2fdfec4ad8f3553dd633cf3c9c312f94a9f8684f9860640cea19271b3e4b38f0f06a55c9641d87a1e1a37d275f5efe6223cfb8b1376c32238e9d67b30ac0d6020514d210015c1b7315ede76cc89443eff427e2fa03129659d71e002e12cb0d791f782f9000d9a576facc31c640a615fb84d5919e33c210180fd1eadc877a4c24355b50a6083e15d0d99e44a0c55f8451008a7302aed945a77d54d40dd475a26138c886fc47be127fce0e94c73b0ad5f57bc2b5de5618e3b787d209c0e13954abbaa3de849362ef1b54c8d42e0c517959f634b5a3acf825a4cecf9128e1abd8e5ed8b98cc570033492bfbfa68115e365f3ebb468146d89f01ce434eb7b76524cc49d7c24b5f13b9162bba6e9c90656a792223430fe1f29c79a4514ae73020dc54350fc22128d216876bda7c3494182f512183f9d71e45bf8c1b4a6f02808650351d2421b700b99b86ba91f076096d6bf3bc9e0c2a41606c03eb8ab64a5841cc474563627b72b1424476099be32c7fab2eeb284ad97692a2ea2722562f98e3c9abe5957cf9b43e498607c4dea0952c7d279694bea6e4a07bc9a27eef86e92ba9cdd40c69f8a73abc0df529a21164208c388fde8f25c8413c6e0cad0265bcdaff252efcb7d217b1c591a241f54fe3ac75936c4208538d2a5a37a2f2036f263cef04f5ab4432a010a26863eff9d0b32e4a49a1683c16d1505aa359a4b0929ca1af7cd032c630d22a22ba545486e04ba089be48172ae68e7edd30d29cc1b2bc4a2178bddde19e9e03ed21af0744080705ad44253fd7f8347f390c2da435b321ae67d9878ad26b54997498135056ed7a41b1a022f28f0a56e6b9f134b6987af31a4d78aa0a8a75e23feb8b8be6fdf45ccae97006d7619980eaebffcbc9abeec12d91d96434e06021b32107fe6509eadea932f262f283b71cf6af24d668a1ef2c742185c968b5cdccbdea01f510eb10040d6fb247a06b5b0465679cafe9dafcdb2a66fefd9af2b421f2dc54508e88e209e9b2056845b5d764f4ad06a6adc2006ee673a95e71235a33fbfaeb89d37d3d92e329075cfb00f4318f454783310bd20d6a8890af600629e56b4b341d11d78db90efc3e46e0b7ca5983a4c87d5dd6a3360a2da0e90cca24a63d8d1a879172aebb376635c53b9acc90d5dde2642f6166e409a40a881dd8dcab48ee02179cc796adea938c14cc7e23dc358b847acea396f059398b4a99748f51ef14dc5141599f6cc5ed891030c44d24070e51cbb0e65f9d3127096d116b6015c401fa9faa6ad767f7b15697c91c3132a4e43504b32d5423897ae1f1e4d5b344aebb5856cb7e2dad8358c767fb33cf93684d419bf05092e2654658bb15d83b224031a56a2135dee43f9f8a3c611007a5beabcb6ebb9b0040be3a1d220771934d83144ad20b8785f79d367d74bff09c72e0f5d5342ed835c1d187a6296abfacfdd6b0a0b52cd135518dac71c2baee1b311fb825f2358fc6245f551d463ac27ee3e1491e2250b2522360a6110afd288bcaad270b5797edaaf5944e7184466a591d2f94b65470f36fd4e0cbe47b07918e977f896238565d09271cbdfc7feb643a807eb77ce05a985153b2cab00971981327106cc2a3e2a874aaa724c4c523cbe7ddfa191c1f0c75541075205cc70576bc63a3b16bd9055065abfe00d833b5f72337b3c7b53a0802f7bfe492b98e242cc1ca33b337caa7c9cf957d3921cbce267960caa1060827d7d41a59241d13a2c439244301e525653d56b099805a0105b89c8e6aec61de09c73388a33928d28dbfc1d9946bc53f8b56ea053a9954f60e90435911515e303609a5e0a6fe2feeaf8f007602de76ab4c9b39ead98fef02f9711082b11826bd12040bbc74dce238d3a29f1efd8a35e9c68d080485f50d5f87b448b13363edd1e68f7ed18201302c3d204eb22893899174482974c2294fa2284bf3770a3485706f8c0e55886f8cc544897b35b9fbebd24344bb86d62ac247327a79ea716a3f957442204c4f1ead7446c056614222dcaf33b9277dde792f501e085b28168945748816450dd0feef052312f1967d4970a26d7745e55bdeb1c86f42cfaefc3a0ce20fe02a4556219b35a53114e0be487118b17077b575da9df51af5cc3550a4c928da574c0e0736b6da1ee3968bf00a5e20fc3f066441d39b16480fbf581ef07856d54f167fb4d7f6e7107556adad1440660b63312e26d70daffea8f53ba7151a2725ab8a996319006938ec3a7f04514a9e1b228053754887483c110c705fc772bebdf80c71c8f01cc9ae7ef709ac71fe50fb91526e5edb21221b4c3413da5fdc5c058de8023c5bd7c2f390ca63e9f950c417a5591b2ae270f68f33bb1d6673c3ca08b258dcae88823961de0964110e228a6892d8fd3a3566a2815377795c01c500d17d0a0733e979bc00c45971b944be83e840e34b040839059217f3e965e5af8cbe97734ec053cac4c930b3a4915e0fbdecf09c8bc502d48d99cbe717e3fe5bc713a6c226d80ec5aac5e929e54ecbbb1c3da980125bed38ebc0b1f3b6ff77a3197941eaefefe090a6b9b78d08d519b1a808bbb7a44e376f070882c43eda73232fd92513aa41a2fa92bea72b07a4c230f6f8abd4d7f3eb1dfcd7cc960dd74e089394e83a0c752fb72c1b8eda9abc08cdf63ece515e2d0a50e310b9a8922fe90594071061f5c1d35e1f126d553d65626fe04571813ec8955e254c1dce2df40bf896628cfc0e456da966509082de17053d71741d80d73099a9f68e43c9dfda56dfbba27fff135d8e65f726db0ce5b6109f5a7246ac3f165f015c3c5928a1985614a4cd024c58865a0a65e8b064279a1a8a6b8c60747de947a7b05fbd5956f37e4d953bd60da5c9397d194bb31858bcf6c01cb417f63128b20626069ea0c72af9ad623934a600c46c801ad6cf0d04092968c6e93b86f301e9c90882549e462222727376bf2fe46c6225045922a9a2469473c836f3dc45a53478e35898a8858bfe1ad7fa5ee7f3192db49dbd4adda20c447e36afd322b5058a5f824e897c682ce04045e3d939cda2879491ff442c37899746b57b7afe1fe711b8d1f446f9bb9d6c2e6c8faed29e76ef3049619685f048e20ff9e784b5e456a18620a8e62bee07dae9f806def456c1144991995602df60196bb776de9e02e309cb75e6960aec668ecf6efb6f79eaa42dcff13b555b35a9384096bf01414ee3f0ee56ee947f5914f954d18360d11ea7b203ef8ef1ec6f6feae5a8074dbe668b746c4d61e6d148922e457d4901455659e0f60bcd7107bc572db34df5147953577d7517ae0296281be24d6ea9cc6d0bcfd3a51f626f9451338a6b42cb3a503646dcc470cfc8fb53e7c7f01276b7c77f3b2ac9d6a146e4887278f90d473e907ca369dcfcc2f628802bfec88a65db449a444ab57f3ae9882311ebbe755497c8ba3cd3e221853111cb609f4202fb2e7810fb6ea4bc6356bb158e9350dbd5dd745062e795e9ac6a0c46d4033aad0d59d931f25bc955963769fd6d084437a189a400c67d19268738526c32fb718630958377f29f3a6b8d06dc89e13dc73c3de0b8fd4c47e210983352ead932780054fee216a648913299fe0be561a5b5ef94824ae65a2388e5e0f68d0f4aeb42cbba4dc294e24007b1e7c8286637e132b0139e7f256292d83332f8d4c999d4392cc9cafaf84680e1ed24fab5a3fda4bb72ed053cfd4874b40614ae256d09e449b6d4b9d99ba1a88eefbc3a6044e3237153455536769d702081feb81d25fd3dfb5117f318b70b7ae4a8065e994aec976139a8f2257a3855d81870d22e2c8dd804465774e2f2fc5b0f95887098d8dc12f7b5ff272f4bd2d9c9d8ec794e0a7d05805fdffcaf4481baacb47d3ed4eb689339b0589cf126617b748ea0669b1d4b969e915bea41ab6e3540e73f68b226f30dc4babcb6b956c16660b8981e54bcb4819ad829429c96f9115e5042501c115b406b5339f68ca4826b1809a967eaa90c68fd06048efbdb04e0f31defd3ef913632fdf62eebb2b5143e551d866763d448a69f78bb6a56e1d14ed7ec18a16231e028719ef93520f58e89e6af9a5f2b28ee09ee4939302e9653a867f5a5aff1a5a7285c572dcf8dc1dc12c3fc2d1a45909914c16f85c23baf594d97147df55474a2a9978300b9f501e663ddb8a1453d72a226068fb22dbb1472f6ae05ecd72a54ee12782151c89d72c04ff74a9fc9a4148eca47240b8bda7eb41894c16588f1e381dc80ed13163d9c4b2a4c24be155be74411b9dbc6d55873d337a9cfd4e162d15241ec67dbf98a2a8d37fe770ab103c9e4f408df08253e83c96e8ce8856c46f153d9ad8b04718abbaa29238fbd65933fdaa294235592af5e6c137155be581389050523231e4ecd50f86aad8fc06092d26bfae69d7694ae94d38b14d00bce294f7bba34a695f4b302570635cb06844d58f52575e7e35ff20e1764d6bf721a29789e1e5ac26f96a087b8ff8a6bc0ee2ac06581f64086ae3cfa50dec7022e8b6e5792477b2a5e45d8a3353452da378049715c0e773fb060e768a0fc18153b42601b85ec70a9dd7231d69b145eaf713c21ed18081b39905e7007239083586c73f086b5bbe699c33001c995b51c41aed447b883cac32a3c5fad9948cd14edb11ce4114f29521b9027ffe1bfefd0282319870ff896af8aa71706e8382ad304a7bbd826f9f26642b7b98646928563f5a328d2234f1f0fdaf661b43a73d57e7ecc70dc5859db24b81f6e896f93f466a36932b09ccd60587c24be549f2e8c57cefa2d0cd60ce86ad354ebc6728f6d562288f744cda89523345888caf70d9e74059e599cf6fc16f035c3aa552429d6cb3a723ada55a1a28fba2d6cdbae4687f2a43ba4412653600c1e5c4419788297f07ada7ac7cef041fa87bb9b24f39e90e2e9cee5f28684830e627ea64e5743402524b4a6168298461d4efece8d6191954f0d7a497e2f1cfb2013dbfa510dbbbbb3b5d7a9e3b23ab4cc42acc1d951159448e213c2aff44ffcbbf1b96dde9d446cf194f1987c25df3bb67e96fb00625daed70ee008083ebc7e2400ee8a045d85d596b87c8171216924cf8fe45d545a958c5d5f12d9b6094e1688f0cd5073821323a9f1697b411a816e655ed73189ae5ead52d4a9749e5a124832b3c428833b084f58d101155ac5d54e38567c77b3775f0d3d6383e5723214fa41398c13fae20f57a5a2b42513c4b491e243b426c775e8bead28cc05f69ed3d5675f4e886896efd7bfac17ae9b536c2ef2fff2737dfc04c0e8f9187e77032f076684e322918b48f11bdb86ae9173952f11436f5b65aab52e1ce742e2aa04769617e2aaf8569e82451013bd4947e6fc929588bddda4c130e77e725c1473ddf926dcb5a8dd82f6c7e8e61a2f47d7ae2f63be5e375c0c33728a1e6777ea9ad9f9e2553473a62e6fc86dd07004cb7ded62887f103b9ff81d3db5611de1e9be4c6003f966d87fef20eec16cc1c8494b3579650e90ff606cc284fafd98257f598690341bbc1f1cb70ce22b0e01947043688788d6084997707428994db85e203721a065ca76f84a55de4846fd71a7153c4330c12426629f697cc9d520ac4bbb4107470f8a576ff82ab4600162735399283d6873ea9d72e8d4728559f3ffb992c0d4d5231f83645eb01c549931a0795b7505449fdf71ed616731d600989e7d50aef22c0cfff3b1363124dd235e328a31797c6639d4b75304d8cf83e22af529a94c43b64b7fbbdcfbd0ce57cd2e1442c34df52cc2d416ad7116678afc00568dc93f847e4c1240383df0e653a2ed85a1b2d042d308d86201bb975a34046ed609b4f33a325c729137e849379e24394a33b3deb8ca153fb3c9ed211648661e1fc373bf6b9d4815f116ee08bf9f2ef6c5f131c1fb1af65494aad99974f9d578cd8865a7d9f4e6a7a6b86eb81cb3542d0de994a71610a666608d1c93b540b8b9a9930d3bb2827b2a59e34371f1f922540a4d3853abe9216df725eedda5146269953c6a628f29202841a5ec373350c6699aaad5cf8ec2c206e2db8c34b3827292449794e72bc12aa9d468d59fd2678970022b2a4a6e6257429e5aca5e34b3b80a7c0d3fecb9407578f20f0d171b344ab353e1b7fa2be217d7b54f0411493e3dab3698bb96b799f50001c401cb251dec69dbb19ef7dccbb2200d326be223d9312553e6bc08b288538011cab3668b06918618f46940642892bfad378abe50ebd5e49db26863f904e8033ba56c02498b4778b7a28de47854decc8d5a650036166e5d16bbfaa4c3baf934c15aceb1a1b9f253681780df82bd4354ec38532bf13cc712419a731e0841e16fe656877405b54416d0dd98d140cc1d5ce0f98d44a0cee8605f90e3a6e26e3f700e4c57301875806bcd3c6b664608773cd4339f02c967781beafc4bf35051d3d652008547ecab98a2e409bc2df5767bffab4bdc9ea3cc2de6846e7a6a91204b659b34f3e5e31e506e559d3ac3138b89d880c4eea5bfc8baefbc35ab7a6069ae5730cd551bf44c687ecc7e32a12d2c666507e1357f18ab3ccd0d9fe5fcb0a2fb611603a0af16648699c5d113bc0f025d1f108f8fad6c68c328525ce60d49586f8a9c7356e9f49207d48d40cbf1e8c13659feec996f167d8bec046bc902a39ea23f5855a595dd4fee6206a10235c4f2b5b933e877e7768efe70e33a60e728d538d89c09490106927cd8571ec8bb5419c6fda533d2e2f8fa7b2e3e91465cfac2870fb1c666f15372d4e576f760a7d4f7d54c8178a7ead43c27fa3bdf44400c6b654a797813d8d2b76adb68eb57bcd1525908de80778c0fd68c62ce46e8e3b22f0ed0130afc7cd5bd6f6067f9df4001e6cc9ce241909e953e14a184e0d344075de8aaf1b17fbacaab76d3f4a75f4c4ecd82c52505576982b373e24812512533f90e0f5375d3fdcbc4f919cd9eae84c6cd89f8d9cec6164136ac3d775c81bf4e5bbfdf1b75612597ad914acdcfaf74333b9c8a53eafeea9a2fbae8768b61030f1d728e8bf4ae73ade5b944f3665cc6bd13302e17485337574cafe679c5db376ba176464758677993a451562d81928513bb6296a61c3477c6a1f2004f0b11edc57add77741dce3d3dd83b832e2fccc0f819b181db7a10f175b8ca63d7010269e6202475358bb179fe4d95780f47ed513ab332fc5f357d97a88271b4f03383a9bb61e2520dafcc9de38ae257fe29963d9babdb9b5e02a71b3ac53a3b42ec02f1ac94237be699295a69545921fa2058014270bf8c0ecbf461573824bd46d57edbf7ff9f53362535d00226ad94e32d978d9a265925f17d57a66a248eaaf089df2e0e5dfb4639e241a9becd61939d8416cf79a0408dbdf9c7d66c790fb735582d55ac68be478b462f890119cbaace9de739c52792d06457280a39658a791028e40a73baad780f522aca371db15d1aadf39704ec0ac0127ce0c3d3d33af02c447b87cd080be56ecf0360c743fa0880502f9d18e8e2af76540782d32124abb68da7aad1d5f3dc075b16c3248628616d4ea5fbb0cfc1c17baf5ec21e2884ad5bf31935dd072288bce90b6a0d20a28e8000acb9298b084d8067ff321f06c70b3cb9c2f7f200c88431cf2ba326b88d7bd666d4fc0447759564f1f6d203d4c2ba741795ab2cc5256c6aba5bec0ba658b2e124b7cc7278afbf713a7bb6ce226a1fbeae6e7920ef1317775814cd863b42b8f3f2f37d35d0eb202ff00617577ce2f49581375c105555455ef0392f5a1f02bcf0dc5e9c4b78df1bc713da1e38a4c2302c89c223aaebfa8471fbc459648323eef2c35929f1836a55315938d91f0a6c7e5147e20383e929abd34896a18558394126c5be9784841eeea7d0ae5228269e4299db6289d7272ba2b5595fdb652173bbafe9b8343366fe0b45d1801aa2a50f7144ee7787fb9ac84beadb00bf13c5f6e64cebceb7101bd637ad2e6ae3c0dc00f09f305d8777b6f04e0a2e2b6f8101ad7537c9eb6b630be4f8c19f07883240518b8f9eeec3a02d6ba5deeb01c677735eddd43b5319cea44e304d882b784fa88734c870a4496a658f0b81c0f2317f9d966fd323592f72f7a662919d73400dd0fd2aa66abc5f5c454fc11432a6cc9ec7cbe058535185ff4fd6d559dbbc0b8f47278a18c1401c8d54e91c5f19dcf44da75d60518aeb3ca890fcb0ed0e5cc1d6db3c1c4a4d971f9b7683143945d46b2140e6c59f84afc8ad4592aa126ba37496c2866f58940b9d5f8ebb99ba555d13406da68c045ceaca0f56b1cf15adb4f3abacfa864c08817e8db8e60098ab86536068438c225b15ab59b0b75629cd1511e6239b560d08c269e28ad3510489445f674acc3ab955ad2e352b6c1022668b4891943efd299a26352c481f47e5db6e7831925e6263366ffba4b0d14d321d5a94f1728b910af8f8c925a8f97b467e1c6801d48df53d8fbf914dfcb089a5a97cbe1d3cb8c0f4fcddfb7aa8f54983e62693b478c6d55c6a608e2e7e9c57e1fead6e730bcfed590929ddcecf54dd38c968db12f0b9a74d6b6f2f4ee7f0cd09b6c7f400648a82916afaa3a6a510f93e7c8738517b673a26b89c9842244f2344ceeec01249a5b56bb374869cac36702962d41103ee5acf9eeec41f982450596b26ee0f63314a68e5533a0a5dbdd7c0bc0b17ca6a25190eb06fae9501e8c78d303d77836ef49356df4ed621650f7ea17053498d8469a8fd9231392628e996ee5189311d2f4a9983017ef9dc71c44e4ece943e1ebd1b1c547a86bd6c3a55f9bd2000c4a2050b2dc64f92ecaaa3e870e929602f0fc1ef15325bb85de6fd082b45fef8586be934006ea2afcd6a00bd8ab72482b1c8c8396293888bf08ad600e0596e717695e9b01c7000a44128011023955721588bd0f56ead8a62bad6f723f8dfb94bbc3f0ad30546eeca3532cf4a924f8f9be5171d956b7bb3d67debe1d5f6c88c86706c83644ced4c62280afec440d06ef2cec3b3212f745c83780feaf235024e907fd81d67e87d55d91d1aae0a27480137f2d2d6769c850bedc7643abead3000567060d4c6f6ff056e9620671b3e33e8a4bbe77ab8f3b571f74fac55a4127de9a142c37ab8b184166639363e482cac3938cddbfd3281643170694c43dce9bdaabb7859445c10619ebec0aec533c93ed1ce648191f0bd93515c34be0a73387712b5bb827bf23ce160a57abecab65054bca7bc7309e632c5d2d3f222b029f8403ffc99331f34d336a3e5473ea52394d5d79526b2a877355f4e5ee7f4b6c04f7529ba7c267ad07ba7b96c0b5564822ab04ae34eb0f93cccea157d1e50643d3aa9dd5ab84a2ac528c21112418adb7c3467044e894c263f33f8069cfee613386c17fc7dcb755b9ada29fbf33e19bf927968ec78bdf2613098492b2eb274246fdf61aa794f2038d1e0df8c6323e1b803bfe684e166b0ace5987e2be5259eec50146ba894bcb84691a4ca4319628dd6e99a23004aa16eec32e485e11126739274ef90760d10dc5538a2fa0032d80e8d58d449e441b86166049073d8e8ccb37835a29e50aa9a363e8a0b1ce8d616f291a156dbe4bd51513672b2a518b6745bbaf0c436588fc4189ebfda3ada27bc6696bbf0466c99ba3027a0a52ee626ae62d88b613342335cb17c8a428e658a04e6da8ceb07ec24f7e543c16def94133ba11a5cb25287c8e933d7efa36a8f796199c5d48251a0b5c3d6b9b14d31a61179cfdcbab7dce5ea2124850c97d3eee6d665fb16ce34c9cc2542163eced93e4bebb526985f3a6f04c8d1d9728acf1860b2d7a8c16626a3d9e82dd1858ec76ae81f93b12e8b4fb4ae1b088991098b700843ceb289640094756c8ee4de805ced330eeb1ce6a1a69c86cd397d5a9fb660b2df94eed73ca6e501844616e545f7e78ce8aae34b0c587d05bc4f6827a190175392a7112ffd6c2f2304961c1d6444112e42a1d467b1d806daa3744edad00e5158a566fb362e9fea8fc8d0eba037b4e673d7143fdbce5862d1ee0f881d3254d53297668d6e5478d8c2432b3aa40309e6f2c7b576b716bbc2cd09451e078ef2e33f1cfdf8023a997b803ecdf87e07501d1029b682ad104a43e1ed7b50ccc69e71aeccf175c541f0a8947e050a236b8beeb7faccadf7a0315bba21fd8b2fc0b20c2b6d9b364c12f3186b5f71029873420575136232767d0e5f6a3a51f2d620dcf2fc453640fce671ce2d9a4bef541ba70f3012f71c7b2004aa8d6a6d1afdec4fa67f73f0c6e6b75da850d8ddb7ba318db2f716f96dddaaf8f3d48bd5bb2bcf8d08eb9344e59be2cb3c8e47709f6aad474cabc00255f04a40d056f8852184aefd42797d450644bb1706725498b31a4c4355779286e3c4013aa8acadf2804cdba2abff2775da1a9ef744e7c0273e1dce9ac7e771bedce431c7c124f1ca8cc26de8c7a7123720c631e75841b0b653f2faecd7f593dd9f7209ab120a4a8b10262ecf78e2b4f5a7ab49f402dc1e4b738e0be009d684af83ea658ca9e8274c2ccf30c0c6e993a9d9b9f74cb96b27010cbbc3dcf5f4c1cc24529960f5c72cbe01b277650764c518db88e63e677fd9f7b3fc5f9aa5909fd85d99e561cadadb492824249b62ee4136c8cfb57727dfbf5ab563925e7443c679149f7f5e9ababc1f19adaca279f665c2c77d8892759d5ddc0e4ba6bafefaf61f847625f2bb1c5b43a5387fae260444c42529b04cf439736575abeddb65bab118b3d2749f1b2ac5aa576a4d79937e6ea4b513bfe92a18bfb3bcc70a64a9c3d7bb83fbae71fb7bda8f20fc8ba27a53c0372849d7ebd083555e3dffa5c7c7d4b5cfc3e4788a591f13112bde597fa51c79670ce5a567ef513d86ac0b83ec3cf6920b390ff2883fdbf1f616cca9b2e868672408c770a2e7d8ce7bc979cbd259de57961b0480e0313b068a5523523c0c97f4ad1cb1bb3694df4c67d4a42105f4a7290ad38b2bdf0adde9b5b80a78fb023972c4288a23d79dcab0fc51a056f500eacece0013bcd75bbd7987fe6d63d09d8ae4259b38f3fc718eb334037007725b838875b144c7fc506c68112b24e5d01e5561476bc13a78298b1918d030bd1d6254aba9ebcdefb85093246a57ebc7475907117aef64c9315be97d5008dc1ad6d549836171b2f0d27f2c30a6b1ae056b30ab4476e0c479b174fe596908f01b457c997536b0302208e2cb2daeb208fcb3a080d739642c60e5b5cc52263cbc1c6c3c817b9ba0c6799c7e95ae56ea6831162f5f14ca30e305dcecb5c7cdd4cffca46f36503f645a4a251b9ae891fc06b0d70e0a87caa3797ad43bfc49050de0262b38ff65bedd56e80fa893f76da9e45229a26fcaea31a955bd8c8778fc003351bcca68f9005d67de05122fe7d716985405b3ea90baa5a2a8b792eba37980f6a98d45bee93d1d674cd55c096b9413d9a04e1fa8148c2b65b460574e044a80e28852f71c5d57ef659e8bbdb9d57e00e89ba2f5bffa1597c398c29166922acdcbab4f4e774fd81af859a4eac2ce33127446852cd8ca482036f3db72808f1f3ded6e743a5fef7ce8751cf7e5e6b5f5bdbecce350e092dd4fb77faf359e5bbbdea0748497a5ac1a29fe5ac730970c1ac43bff1fbfce9e20048235114621cda9b3397f418d5d1a67c7b73b9d42ae0814ea5901af59006914b1f79d09fae3a632642430b8910c1592a96e143a9d59a4c7517b0af72ca9b206c7939dd9d986bf58955ca325fbc581bfe4759af8cfe98421ee465e7b1c185572d4cfb6c4770f03cd088da7f3dd7155407a35873d08469c14bafe093fc20e4a1f8a5164c12e86ca3fbda4e007c8f678765260f2b4c41cfa8815696d1ec2656d271e4b7c29b7ee2e558b42b1f04246fcb0657af4dd3f5d38b87dee1773ecae013bdb7fcbb727b87abd065707b2803140937a5f6f1e25064bc45e52da8a4e75108ee7d28d1977fe5ed86f9f4121e3d3663a52494e1d85478b68d581aa5bb1f9d5ba97dab7737c84d13976a6c1d3c17dd766f78d4ca5e0d00ab8572f7fa516f188f58585a26e640f70f2d0bc1683d51bbc751d54d9ed2451ef93c01af513bfe7dd173c1b54ed694db7c17d5daa35b74ddb2f4781c75b7ce76b22900f392e3530cfcc6a94057b9df3c98b41eabd1ae51f13be4ac44380c3591c0c3e534dc3c2bb3d839de3a5df63e0085f041527ce0cb7fe92f94f88817b2a80e7a5a1fbc3c5958212b089d3c1c663512e7834de7b5785e9490425c722508738f018b3625cf9ba001cc8117ff94b74863682b81f20de36afcbf5a403c050200ece6fd6fe56c432fc4d3aeead30e82a72e2b4344aa5433def302a6e068c34892f84aad0455b38a5f5375c47b0dd22cd10a93e42f2566a8db9ad7f54e0a1809b37f26a257ca993801f993f129a4190afa51285eeab6d2a5d73b3b0a0c6f21c3b1b1d9a45b6c07eb3003c0d33427948e4408dc8e42125178656084809ad597252794f899a199a24c594f7c26e927e372a92ce39ec6a4fa52d20ed4cc51587349c38eb24cb77845d26fbee245e4d90ca27b70f0971a3a6400d7d6ca2c7babdeff5c81d3733298b262150bdde25ebb6ba178ed9bd55fb5611ca1e3af75ac9119380c5e732e9460ae1f588c7ecf4be9359e9b78bfa0f56a4b1476d0d1e51f64695766e74b65a3e8f4288539138e2d8fa1d30922b49ef736db4037ea77efd03d8527a263e1b0d93d8f16ca5dda6e307e68f938bbc55c2672679566104d154ef9f961b8358c699d68c6611645e392c3bb9f7956aa76601e2b65b6476deef942145309a7ccee1a47ea10194a2e1d7127c41fb606b4faa427d273dad6e6aede44db3dfc2fd1c1f996831ac0c7bf0fb55c17ef9b86e71adad777028df021fe689d9a731f2bd241529d4061190cfddf359ae964aa075341500c80a46afcd191cb026dc363b07b305ba529d02c9f6fc482b192ce7abc0d7c32dbbcdcc8d587bfad23d5bf1fb4c1e1af4d76ae0a2753783db4a1ecf10dd39bcf618ac3cdfb507395f0fbe06f433a145da8535395fd79a91af2526e9f92e8a802dd4a32e04562ee19a6233a3e5e0ff888d97f1686be17a54db401357c1a7b92abeff6b2b17ff4b83b31f5c963e3152be0ceceaf7a3423f4f34646381cc74045d19327993080cc4ccf75e6b120993d0d190744a1f51b37ef0877e5aadc0af35aa6994d85ff966de2851d112b00a0e85f4e9bc590d18fe0ad2675751e0403d12251958585e7e9cdea75f46a9c941a882d6183aedb8130e7efa58c0fed2d482e328ade2a0088b3951e6551807b0f7c27612f53fee07c30a4ca846557913762ec6930563444994f9b7466a2eb13690a624adb2d50e3d1427292d8cb175d175d3cb1286cc86ca81a3b27f2fb4b67e0da137cebf1255b40aa49d3b1dd4781de1b18b454e658ad2e9d750aec01f54b2439c6a825b27b2a68eddef00205574b4d7dfc480d98de048e880ef840135e536278edcd1e86ee687901ce4d2e0fdaf789024fc5bf41c456d8b10e0575d5ca094fc095330b015d20c447571074ae8e4eca0bde67f78797bf8f6d067e0b2e25dd9e271a5d79e08a275b94a8c112311cd2b928c66542db71600055fe3dc02f9bc86cfe3077f292dc1029758284c67e12505df2fc5d456eb435267aadb404965c2288b125d10dc35dc5e5e1dafdb311d51479699b74dba4496cb93b3cf0a211e31289f414fdf357fb3ff8c2fc4520c248935514f192598149c7549ca81a7d07c987e7bdbcf3453868ee9d7ca3b0a200a87ae62c14d18322cff350c3c655791bfdfabe7280e8bd3fcdcf250cc7992682f078aef8fe3e4c41f80efc8a9402038a04adc27c08394db0a38aae92d0316f963950a24d0751d470a7a3d25543a400c268626a9c6b36cc22db48047dc0c0dc1ba3e759ccfffd11e492e9b97fb7af85182fb64742aa13293fe70f815fd3220795e7ff212fd90baab2c2ac6c122bb3fa047c75f1eaaffeecdb2449ac06f15b7674245097b500156d3eee9d3454f10ffde285cda5004ebec33468a5b1de7e11f72f93bdc29164cef972efacd49dd39738436812f50e097e4bb8f28b845b2a5ccb6028315832c188bd74018ee164fdcb44a3926c2bb696f239312bdba8db9aa6ebd490563149adfee2a5ffac3ba967ecf3b06b9f7e0b58486a444e33b590edc16ad04159c9b940a9483672ea1fb6959ecfba1e1cad92ace4463e176cc12459392fe2478156f59ce18b47b77398fc81be2169e4f4d26df59a0ef60b8da4cf50619ff424e833ff4e0f9ebbd3c4a93d2e1b36573cc56bc63f116a81a41e6aa0f427d10aa8b9bde3fdabe3827518d14a781e102f6f6c739e0593a30f3243f070df9c91ed5fb06a156a79ef658deaf35309fb1485f74390e09acd1bdbfcb17ef59d811c97b7fc931f3c08042ab598a76f00e4b3ed8943fa1e05676fd1950fce61c3d7a619720bf08e09b9208968ecb8c33bef843035c595f6732faac0bf64ca8829a2120f038624391d45f6c471019b350dda0afb142752c4a51b2edc9ea83f896d0edc03cc080df62297b2221aef6699baeb5650b2382badb5e7d0a2bb594ad941ec2abc443168d8ecc73bdf4c579ac922be7292dff0cbc58f829804c178d3d6d99c35f7de3e15f9b9c3cb4f29fdf9d366bdbb579086ea99ec9eec413fdc72387baaa490bf3380a1cc9c519eef0b5e7d8b4ab6078a8fed85825a7fac68cc2c1872524f03028b1e85a2e9bc0c04892ec7498299c99222a55a605aa0c8c658fee620ca2e6bed90701c402c3f35f14f869095015faf3283d64da7d7afd0dbd787d7e076be0ff044b3a29d2575a9e5fa01c454882a0ecdbbd62d6cc609f2e390394295898e9cd61438fcd7ace043bcaaf878c8e3183497487fab089c494ed3425327eec01f780931f2888caeaf74235c322100189491c84d9b5c6e05b2d55c34226916e02210a62beb45c5e6305a087b961fec9a1869a945a20904c2444dc80425746a775b94f6dd4b5986558ca9bcd133a0422f95f3431e0881cfb1590c6c11aea7e2b1ea670ce943298cda973d9151bb055289512cc5f5856789539ee59353ba9ab892e14e4839d7456598d78709c2f98a2ba5d6cbace40c26c6c1f88fe14f7e7096a32b03a89da217c2f69735d18e90c1d1397cec0f384dd01d231661dbd3c3aa52a195ab54a0234397225b869edcb83f73220ffccd426e09a955eea8c5061324c4c501dabe3feffce13a938e524d8588e9737b674fa18c87c87d9ca925072b3a87c1d4d229c434ee6c091871e26f8dee7a697b24abba961c3eafbeda1c8612dc1b72af1784ff5d11fe4e9d308a999923ad4f1767fbcbb6f0caca62fcb4e58f9b8e445685d35294171270719e2bbee0e3a76b11b817786d286f9f6b43bd65a3afa617425db0fe50ebdbbab628fd8bfb296f470026be9f63fb980987586760fbb1907c8362163c1442819a5991800061145e8f2df0b5acdb37d899d9bbf95d87e61e639adcdda79f14715f155c1ae7766ae656b3676e73fcf178ccd9636276c69017dfb60decb3bcbfc74cd0a487683dea80339d403462cf3d5e3e18784878d5e8185cdb96023414eab12357599df6cafe4d9573124c2ae854cec4a3b2727204c66193a74191f4b3ac4583278253447d3cef06b484030d9bfdf8125a8e64a5f8a9717da8f8ce85bc69f5a4c9ec4c3402631c17f30a5855f70f421c18d545ea6b371ff96dc819907bdb56d5317dd6997314fd10548ce108e7a8b519f6e008d9a85c0ea0e553080bbd74587c5ddd04af0b22b00f94d913b6c5cb6aaaff2edd26a150ba2a5caa1e94ebcaa73740523aa16b7b1d292189d99e3c40d10a6887c98c32cf478b37ed0322d7acd21f7219bb71e842f4ce5c02","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
