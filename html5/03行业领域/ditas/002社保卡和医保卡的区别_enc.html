<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e10c5ced2ec7e4a1a1a07d49625fb05b3606c19f223da726490a3de57a1e748527be8217956c54f154b5f1a86bea787c98aa15a83b2f213bf4075f8902817906e519e66a6a4d2b91f3472dad7c1f8b12cc5caace2f0820ab814f59a415a6b916b88dc4854834e2eef0036c2255b6375909a33f023c91a44819263b44cc3050e3e6be066b6fe4016f0e9d123a54992172b9f46e5345fab28cbc1c929bba1329f9824a681f46b408ee99da14257352490d0fb959471d68c185019085b654ac5dd22fa08da1bfcca5a65c07bb74872ac2b580bac036f56f381a84a8ce6e2631c40060da91b9ebf294380b77b42359e8b8c1b8be5f7b3b99f46f513e27abe6443bfefa12a6ac7816f65ac6c9960bc6656b2d055bddd21a6c1d01272c76d8bf0d178ba261aabb7d339f2ad74f905ddda7257331e4fedeb39c655216f726469ae9f50dff31f91cd7338f729d5822e2238d103b25a9f3979bed8316fd8a250b5483df8d8d6a290d9565dc878accbc2326c87e53cabf24e82585ed4ca0938e19af613c6855adba09f61e8258259252fda1ca7cd0b0492fec68abda120475883d72221dacbf90de25256687cce1a68d71d987756f3061ab6b30336a2b6f85f8530eac4a62971947aa1f91a5620a07b4ed89ff7265a79cc3c248481f14bd6595b04697856205e313694e84ebd81e74a3fb2f493a9041ba46678adcb9a2da2fc1b5ca3e96e748705870cdb7c4fef61afd853753d96204cc3eeabcf1c90e455b2c2dd16f140f20e8f27aa26f87e9ec89dd0a32cf6ddeaad0c02edbbb52bbf32d3004cf94d76ae2f877efed14db242edc12b123d768f457edf4d537fef604e446f317ff08478d3e06d48568555ef4f919b51ccf908ff5577d50ccae28a29a1e636eb5f214459596e30db16f1e977cffc1644729c5b1c579c8655dc7c81a3a54305651c1e4df9ead129bd3e34adc6da8cfd81de1ee69cabe953849e793d85118862286a9a3f02b517afbf2045e260850efbb97e3a87f1223b97e66af3f0e4cc1cb6b0fbeebd0b3749887a5da135cd53c7c5f7a5edb59bf4edc2c05b80b930bdcbac526ec2e93161bfb9774d5204e8c2f848da72d17a52f132eed578be5cfdd9d811d5cbc85f2cbc650f50c7e97705157f035c5d02786d0f35a634d8e890983f362b1e0026b924287b34347eed30618fa988d2f8e70a99acc9a7a01b104b0e4960dcba586f65f399539a76159f5a67c538f9b727f790ed190d2814628e31f61fadbdf483b9840d553ee4764e241e36e0f1372b6176762b6dee36983ec356abef974baf7faac87ea0dc5968f23913d8518f64a04e11de97bb501622d066c329d69fae22a0b92e7e678c496e2fd89f150d0c050cd40fbe1bb5d70da113ef1b8c5716425b882b8e239ae7f80fa53cf8d932d42c41d431eb5e97830ba0ee93c07342e6343ebff89d770c1439867760cd8417ab289e13122860ca5f92b46ef3ed33727f771e142abae726ce0f09ec56dd0fdb6cc2507bef1f08f5a63bc77a723672404fbf9b0a56931b6edc2bafc1a77e2ab4476dea963cf1218b4a8630ff392011bd27e08955261f20a15a06ed90d1c080ee261171dae917f746b49a33be445377909464910b360241813e6ad747009ba0fca770d258e07ffd7792784caf07ace67f05dba91dc2b0172723ae2d07047b4c270c48402d460b7ea36f812470e87d3346e4c8cbb94ed2df8589d1f65ae7b6af523c1d9cf5e4b589f9f39023052ba128b22ba42c1371c48886e662e77d8a0f2f5c1503e2772f59195dcf24b7d76163308134680f4fe0d55192d97838d33638b1a6e2bfcdc793adebe3aedd77fbc3d83c9ef901daef3ec50417e8322b1c1de8fe745f8eb6c21c9ae864febd121342059949faf3f672ac0ec5fddd3c7f7f99bcd24e375dd61706039829f409166f4f9e11f0e02e3ea3d4b3fc22ae1463db42fe70d792ae46121f0e05bad4cfc2ee1530c5cee6629da198a8a09b0c3ab27cbc65edec9dca99032149143d305d57e5d10d0492c09419c59732250a0effefd0ba658d153f8430ee64adfa80c4f23ad9e2054ecd3be5969f76ed66bc96a33b819de6d9d4cbcdbeb3a6736cf81441d05795c7c6c10ade9bd5ab6c80ebf644738fd1deda2c9c42cf9da0f1cc2c784751d0ab220e12f618a4e44e1e6cf03e3d90984a1f2375b548eb70bbffce1ada3f2e1da8b3a35378baa054ee596d4c01eaffe607ef1a96749c2fb740acfe450960ad336cbb3aef1df929234cd61ee37d37f0c658ae44a79a6a21ae3d077a4913f288c8a2231ffc5a2716c49e09b147c26ed64a65c14b7753d8a5aa75ab60cfd4280eead6822c20f71d305c923356a807a4a5b04a168b3053a73bafbb14659142c315a581b9494a65c521dae044936ac149c2ee9b16bd596236ec9b71cc458b004b70e0a7be93dcf1915fb55e0dc616776fc3d764405e355c96a560c272931ba0dc733690be139c03fbbc663e19a483c4533eaa08c9c16155b645d51013ba17973fe394a01df307e4aa8b6b27641fe9f801f9131dc8abf4c0701e1d8ebe68ef0fc2803ba52b44029f0f62e09499dec5df55f9f0a00698d2c2c1f165dfb20d07691d0b329c0c7f2f58747367c5838230c887eac146202a8be31877bc8270f30b561169e0b7b03ef1491bd07607a20930c9112395882c5c1d6ce0ee3958a3d92eecf1920d0598692fc07289fce76d741b84d8b328eadc063442407089e99bcd764075fb70f60f33024c152b5a7ffb3be8e24d20f0f570cdff68dd8f0fc5003eb8d74cd339a5872590735a09a6fceec9eed736dd7e76876a9e9323c4807a7a52d70dda52b082311016efb8db41b5047f21238ea3d20456d5a469598ed7a80db262d1f92e44c578b5857511420e1f903674586e56b48b88d1e88e662c5bf637498c20534f534386e5bd0319b7647384f4f660a90a8f829f267e5f0771d77308448956a93675037092891867971ee581471956f59b843f4860310f4c9dc8ef3a08593476939745d92b44debe5b1c758cf5df22e88d0b605043d9991405494654a6bf912b97ee1642d12c3603381ffdca7f1e2f817c99f9f0ecfed46fe802199fcf192341f4ca8d6846a9054993a7229202d69cde71efd47d2bbe779856af85bee6678229bbb7267a43f01e53ec288367015ed020330c67e2d1a952eb5dcff504a8ea52d04371e67878c0496c09d223c70bbeda48ffd1bd7f261740a36b59f257729a2bb43492e44116947db92a3c154363322fc7643c541ca6aa8d6382c4284397329e8a04fda60a95bb8c4c04e23b5ae0b0502613fdfe8f12aff3ac35975525d02020cc6328285e882fc311b790c5187e8942d1544cc67f262c058959ec23990473457936fbbe036936bb191af252667013afe8f486d440d74f7245aed02f0cd0b7e86d831756dc354e929fce79838617e89033b4c3dfc13dafe209fc5011ce3fdab732f98603f5ebb9003633f88a42632ffe1fac63b875203bad80382ba9ca18fa9917c75643f82d4c1dc9572d90ec2f26b662bc93b272b21df53553831b8c01c9407a290df5fbba6d283593f231e874929087f222bff2061f3c3bde4ec540c8f4685264232ea15a281d06577c7b66a338c9d77decdaa2b3912f594687773c33ee4d72b3578a77ce5dff9fedd9cf0f9d7db46d06a2632177b0cf4a19b823cf05a01d1bb2fb73f5f8299a26e0da541287f4f5a0935482125cc3d82a66a8423ff5f73dfc001e1f2440b2c2d6bb3bca2fc3f71a92ae4563a3fa65348738fdea62f08944b548694df111344099aab469aeda3cb84b5440787f9d680ec51bc4d17dddec95bb97f998250c264cf7d64a34122a90a58ec651d4b4b7d1be3432bbce043dbe7411426eba76dd3b1ddff36cd53a43545468b2db079b51cea76ea35060ec7a7fb36c05a5f2a9d08f50255cfa6412d06b62b0af81f1b699a770a0c55f47b6b9e0bb9e674b4b2099692b62ccc695900a564ca85ed8e181be350b953d0a8e8335b582a7e37d833c9eb20347ccb1501a4be046949aa7ac394eec6db0f9a40d77fdaad9a80f2dbfbaedc2ef16bc08c1459db000c5411100377115af6b1c69f43573ef6e8cad41a04fffffa59bd55c2b08f53488387c479be4aaedbf8ae40194c32c20886315c45c63cc89f2ab75fcf0b3f41773669e323b877834f4f28bf030d4132066a35890680bbf8cada29e7a0161a5dc74ba673ae1e5c1aaa2f561c97cbf9ea6ea10a97ae4e3adc985eb4911731677e8f01675d82a9eb6e26abe6d6f3b5e7e6d0be68285db574e1f4b068b3cfdfa10ed3fd063eb272fd114c835c9e6447a88923b9dda19c292b88166fa739f5a9c226f41f8b70ba0edf3f15240b85f010cc3237c8d9e746e1369cd446ad9c53049220ad4dfec7f962f16acb73511b9c48f8628175d5a2daf0ab57318655911bebf35ad9dfe45738aaa02c3008a59beda82b9cd58cc73655645b149e45cb935f43c2124471dd42a2baa3b47e463493b8951d458b4d1d292d99869988a920c197df56034e362aebd8e06f219e091983d6c6bd1235c755ac5e442e95fa52b1751005f1a52f5666bd826f3f6373ea71d6f8526ba3210f7aa15b91605f536b4008d4c59079552343ca58882cd77d98c552bb49a7c8ab777ae1b9fdd69d318a44fefc03213c85d3cc4f5076562d434a63f9f2df0390a6e642f83df40e332f7a50807c08c3ed71c5589d8c9048ed2fdbc2df0b131dc38caf8561d240dd9b93ff893d1f430012fbccc450ee489d403beed76336c17467ae3130517ce875162be945b2910948f105bf33b235d9b76fcc4559f5170bae39cf43ccbf8b6c0a7ff1c61580a43d34b0d3bc6e8cb74f005e0a43964a3860c98a269130edf429193c74e0e64ca0abdfc095a41527b5c605681a17aa6e20befc954aa554e2adb8d5aa514d2a4f0a7864b17963013f3b0a58ec96891a273762ef224b9e2b718af3cd81586b0eaed3966ea05943d419c9819e71e5206bfe689fcaae92bab49fc985bd69b6c3cd1a6a432f99f990818be288f97d57e0c80ae5cb8e0ee11dc96c191e70994b7f4424fdeb827310e6d79220fa98efc6c02e98bf99adae73bd867da44718521fd125d05e09c87b7e0b2e9755f2127eacd8ee5bbbd1b9b3644624d391e877a60d8fda971deac1339ef499846b2a0d318f813cdf466810fdb2136869ec5a159dba8ef5e810de6366f119b79b32eb50589cc8e7bcacb31c0c093862a2111d2f7e39f590b7c87b0d4171336d6fff1ddd8576cb2f16625aa45b4004b17481416f1497720f692aac968947f55610fed8a0e5b222e97baa7f0bf3075585049d60572820bc1ef5b38f97339a2fe4c204f93c081bac0ee5609805382392cb067f39a89b7eab0d72ce7832578fb5f869a1a09ef15d41db63c8ad9865eec535874124dbf319728e31c8c90a1cb67f2d12493be27fff275af464b7ed9266bd2a492a6fd052789e7dade4e804cabe3258a1c32939743dcfe509725e70cbf2341370fa29a42f5af929191a1ce51d53dadfd5df337c912209d69d81920006a27bd1a1e0893ddcc136b3a2a8cb485693eaed6f9555a78df21c2e912d47388cf410f10b50add21d2a463c670a3c7f1db210e9ba33ca09430aa472c29cc0a39f05acd33c5892ee8ac09cf3b7d499bf51ede37f8f9af090c52f1e692cb476cd159e67c7c4bdb2979b592f38353e9377778abd3947729be409637c9dfc3ce68b5ca1708648dd8ad43fb6b40be172bcbac0bc38bf6876e35b216d811c88970ffc31db0b76dd66838a5deda61f1c6a1bbd62e43ca68f5820f402492fd7c51025842d496db7cdca2f4e2fcf8130b9e077805bcc037b67ab9c353d15e017676e33ba282f14f68c19d3acd114793a3247be431bfe0ad176956bc8228b98985acbc48483f489d7fa5d6fe044b4a9fafffa9ed4f15cd5d91cf65823994bb1934dc88f49c5e068876a1e9df94f5d5b504aa473e7ca69b3d9e5d75da6009fd09288d5e1bcbaeedda94becb40c262e7d28da8136be1d2750578d6ae3ba5867fb9564f34efe29f2a728964b006cf2c589dd441d0d318b2bcb05c1b0d95b71e970bf38ef67a08c0cb1aa0cc39c6fbebce9128e238d53d82d3f157a247091f1cfa95c4f356cffc9a6f03d459155fcb7a4d12986dbb8d7eba119031f6855cec79181c751b552a2d8bfedad80634f6ea13527abd03a74ba7d99d2f41aafde3e47f4e1437f878fd45da8c894e5eece36bbad0d023af221591548b81882b858aba193f23ac71e28f87f1742ac7068ca08f8f5da09cdd54315f2b24551c57a1b3b7afcdb7170906e56f5aa121006584bcf0624564446bf4152a5407058a0a7b7b58a25da608c187b3a42a0615607b30eab54675a36ee6e0fd521e280b79817f9d854b5746d17d47dac4a48036e00e583cf3759c6ad252af702a736764bf271a34e38f8d4317cd03a080af68f81f9a80f2618ba836b5ff1f673353451e9e80ea4186235001398df07a24b4c1bdaa789309e16df7b4767ed9a1fd3d26629ea6ee008679995fc5b2455239796451b3ae7807ad49f6e4c9b6dd12010a13d963d0109656e3f9352246bb7d3d1491a7a83476ec84a9ab483c954a20db3c151a2fec769ecac9b04ef86a247a4aaf6c9091cf9c5f8a2b7f9e333643fc653f9828ae86757442fcb6488e942b484872f2e5a5525f60e0ba37f35ff7eb03543d30732806abb9e01f5275b3cddab766a9a5e9ea8c185707502291d8fa5d8ca1496114dc4f31489b023ff961cc49b6bca0a1f2282431b0cf5c91d92c278ae224990a167868b64a1f07b12f12c70f3e454fea580191e4290ad73e29d0c8cd1471816faf1dac040e31b5443e9aae4666e399a3fd1876faf1e19649498f1cfa3621aa508ca74ea087504fcb4d9f07925d6a079c702fb796d74938a7966aa1275654e48dc34cba803ae146348c713f0bee9bcbb206d7a7e7c20da0b83950898b4d9c0236d1075cad807a00d05923c630bd39dfc10690bd265e193d503649b919d9304f16b4127a0f4b3d6afc0c4deb2aa1cad3da9241d65cf927db95e6ba8c411e594029169fb99d98ddbae73460f8e2951f51c0e023d25df5145f4684a2b10d62ef89efdd1fb891e74c22b0196555d01334f63bbc7da5b0fd6f42951cfda306a83d25dbe7e3ab26f4e58d346bfb77d7369d8b3125f60f3e4ac8247874a4be84faf75241825b3b75e3918ddca387745f4e08eb7bcbd75035a27312ba77bd25150695ba78e9bb5589fdc7605011be29a264a42cec8222e1225d21e8a38df74b3d7241b67c44599971194b17a2ef21170aaef44e0c7c9aec04c69d9baa4582faef26549e30772c4037098617d7682284e07c77f3640468cccfbb663b06c59676c59ab20b7bfd1caf9fe2c6bdec5fdab2ce3d3cdbf966cd935ac815c30d9333997b7c66abaa52da695286218e125523370a2cc72c6a64473422b6bf519cc1599335e09cb1e0f3f157323cc6bb1cf1263c52ae519e20e3aca09c4c9994593fb6e1cd64f58ca6bf8eb937b0fdff4a19073878627ed6afbeab80e9c39d3fe96d4932e07a4a7ba16ef8ec1d238529e1b7723d17539aefdb746e7d4aa1f1857c87cba004823d5bd2f09d088f75b7411449ec5f7e52d722b166c6a726ea1352bd441726c0d306a720ad037e693f4bd762c97b64f9c956a5b58f58e4363fa8b49a5541aa150a0a897786d1808dcf0a88f7d40b9e32d3486604797e9ffb31c560dbbaceda7c2248accc5f4802d611c389308a769f9c03c1983cedefc548f3d881f8e0cb4a80b9d0295e3e25f12e0d2fbb6280284cc17483a95ea247ddc20b4adfdf6507181508d2fd109c6782340959331ec1c90c593013280b515630f92eac87de488bdc2a086ce41e22e42450249c69ad1966d028c83112f0743c4c5deef03b3d6d59e7ef4b11e0860a5120a8695e2744769717710a06713287d1fb1773fdfcf58a18c75d72f0ab076995acef00376847200f3288827da673789a9fbb82890001bf7689f20a03dfb783cce3aa2258c0a2392d38c4f8702e80b07776c9cc815e833889515a26b17c3f64bf9577c338f6c34b160038bfa61613683c01e6ae0c575027fcf14aacd8f1ff27ac9a19c574fa0dce8f7b99e46c6fa1732f3ca4458a84db14c2cde9e63a801f933bc9719ecdce7547888056bf6d3d1f6d07b7bfbb682bf30367eb647ebb88ae31ee35d8d44db635cd669dda91f1b7ab970cb495a204bff99b6f96ee1dedc9f8523e832690a2916766589a89aa97d5600deb8ab2d6b996217422af556142a7883cf352fdc3c1e766dddc1c97fbf674e810da6107a86c3c64beb2dda8602dc73c5af088ebc15c52a8681bf63a21b9c1e3959690ea7d8955aa73afe4d264b756675aa5408d4d4b17a890affd1b19ddceb9bd748ed1901ec70801c7d116a46b924fe10a4acdfcf4a9870568897c1b30e0a35b4d62d3da5c1fb8c7658b42505c911b133c85974547b7c172f9a052d614ce5b18ce014260d7cb92cece72fbad4815f22d5b572056bdf1896dd01956f2f90ae0b91aa3b2fed093854d2c5ff62b77688be6fd008fb3e4a5a5867776d5d1e4e59675c10ba2deb3f19401a41147d8747034494d2b1d9866ab2dc417cc332c3951a1b1a4d6496e3785aaad1756b4692099c08f7e752df3b977335b2fcce9607a4c1ba4d5b07f34634e3431588385e6fa93b7a646a391c3ef719729654e1df5243597f2a1e42facf32860c275adb7e9434128611a90f0b0c4dc10b7d241b462d4ccc68a97acb9b01afd9d849ceed98eb7aaf7bf6f4433644184f79c4145c4ba7d3b00d489242f23739ed46d4793696e61e1e2e07408e7b04abfe9e2844fbe6f16d892aecf029a1e3d41e0807e65b725e1ab51a98d835433b90570cf5f3756c67c2c29faf13f7dbd99247bb1548a1c040e42ce2a0bb4a8940f71331994b697227a1185cf59e28c4e4f09beadcf9e6b1b63c5a92cf3727ccc6fc0ef41d9484531a277987456623f198e7b7b6022e481987d994b634dbc96959fb626e766ad2a7c2d3534d205008526544b3d1aaed1bc3c67eceb15ddacb0e97483c260cc42281174995a190839a2c2905d4159cc6a2a7e836440c733de45c03532dff325f621b2be60fb7c82762365bc5ebdcae3339657684ab580527fed5dafdb003896f8464ada0bdd8801046647e8ea1351c6b7540a29e312d9abbc63a2ad512b8e643aacf9b48c318a4711c00fc0d331677558e62940677bb396c1db5ca6725eaa11417ed9c2be0d48b3cca9addbdb17bee3b586ec59e567f7406e7476c6ec4468dc56143c44e22a2e1b4218cc346b87b5f62b6573c4ffcb9c9bc9d1dc9b5ab4eaf12324109d992b5790a98425e35f85dc9189ba68cc8f15d3fcd48a83be4317a5a388d1c39e607a869c7828ae0aebaee65abf87800545d0e9d903bd18827be31456eb8ae6aef79038e38f785485c2f1296eb6935f4e2781641d2117208c9d60f19538c23d3b47a53c9d5b36cea4fa1b3494f0dfb585d36e78109e8054eabbccc07609b44eae377349ec4c34c35d55518a040e82876db2054945d8289ac14d4e9a1fde78ca4de370db2f5fed922b8922d53d9f40d41423b3d55f82b9c47da7f19880c865897b747af62ca5b57ccec03c43e00290ffcdf2a9a0a43bd0d11fda8ab179557589e2838fa5ffed4357d459d0599a4ee1f538b7fd43e945d855736de25aca440e3942e21c6705bbbd714a6df7d30b68882fdb23fb5614a635ed9b5c75f842386ba88e2c558b8951fa1eebd25f38daa1dba0c627a527d4357271cd3124853b12865c19be7ad224066c929c45bf0c8aa37b165b5d5df4273070f7d65e23f0e8083e4c4a8ecd06cfe26f91afe348ffc08a026fa6178efe737b924a2f020f44eb0429fd49362adbb467e2205fa2256c20bc0990d5511b9e392c7fded038731309916c05f4b8ea2a7ed346e0d5a11b88598c7bde1e8083641690b8df1c914eedf9238b16494c2bab1aae0868551a4b951681be7002e68f2ad214f035d3c604097e87f7658d77214ba6e3194e57dcddea73d9f1db8530a7389395da824bf645ce19fabbcd5cab92e5a2b6a05540748cc42d35fed4991ce5a897926529a4309b589161e1a588c4930704de62830d8dbd7c208487cea5724ceab5c5f275ad0e36434b0e01196de7feb3bc0a80925217f4a0f6c0668ee4b8ef205de2e7ffd2340fa05601faccee72284d4bffe26ec337152bf46858d5784e7ca84eea1d52b45200754aebef1a3d2669e699eb6354efa329c37dc30f0fc4e1a77a9efda0a947f66ea3ba86271d84cbab175eb006e853e44d4a4b00de8071dcaae0a13dfedba42a973289ab5061648a860b3df4dd75d94d2ab944dc70a442b8b58bf4c4a78ebc3d5d96abaf7267e55840294df9da91765335ce3aea3ed3ee65a4f17795a5ce597054f4fe4afe35de0936708662560fbc03ce559067e3f108797556f4ecb5dc3ebd6c3cc491f1ad4adaa5a51d9b1a11188aee9b1d85a088689fe2b6b68c351366a93def688ec73d74681e35809ea725a05b9f9b8d7044da349ed0d191e9e707d45a522c7a27c534419e2ad692f61690b36551ebcb1bfbee8baf9f76a14a1ebf45b3b60a62df51b43f7ef011b48e48821694238055738e85cf08b76b5548362657b567e851e2ce8bca1ff7313d7bac60ac848ef3f0d8175f8615b4d1229d07509863028894aed813f3eb40f1e0dd019dcf9119ac5306ccda3d576ffe82d53f62613497c0e56a5d0edaa1af4198baca4ee132045195fc415b26977a854d56c46790fd96c53a5969d96af6d0f4936f8de16baa3ce32d39b63150b26d8d06c66e19339263051bf4e401478829af55e2985e262b0db73aa5cf7434349e7c6f26bfeb69cc90deb2412bc0ad2824f6854e8034b1e29c3b84c29a608f9d898158704fa26172152a65b98bc47aa79c5f37089ce964c4e67a7c4df5928ade811190e77903f0117d4c30f966c6a119ae612524b7470b207faa3f05740b1136ba607535a552e84915091efc2fe2398ea01ed7e54758faf3b63c2d528eebd86403f221178fc9f03a99a904d29d9aa52ca823340ade7049eede80fda9f9cc270bf0e71c602d67fcee8ebc87facc9dd42be1ef7e5f9f69e9221114f27f825aae2d72ce7a2a5bfa28eb427c6feb2f3cbcd41794cc662ee88358c470aacf03c05982d867fc5ddfd019f0bb82e26036c456aaf3b1743b31a932ecaea8a82e35a55be301bed28e9fc485bb933bec329310421555805463e95440a065be7a98f528a329dac5a320bed234b854f61e6522817a582dcf87fbdcded5fb7439634b0e4c70497ad7c6f13ed3bf4c69ae8545a307479782f6e77fbf54616f4b62e711a47dc9a1846f553c4f57870e2eabb3ffc59fa97c215a0eceeda04c4674f844a6d4787ed3522c898ebf1c5cce780f54b26779164fa5a53eae0517161b9f387a87b2eba7ab3d98460e052fe167402a258b6065d936a8b6ee7d60751489010b3b7b51b7a73b72df659c870f16a054578050da5f99449fecacd900ee896a631192dba9fde95e2e5b995e3fb0f23968e26c96ea2e404d233beec9523a3a9b697da62db73a4570b824fdbe90790c2ae24a3c7e3e9e038a8848b17207de4f67d34fc8cc2e7e5ec0d6a75798ab0ff6c20ac4e824334930db021b33f6c946807b941e8968144b8d0fc0395581d63780695de6cf2ef7e1fd0cef31aa7afe83be4436e78c2e85652fa7682c46b9a1c6a6b488ccc07dc4df5b2c19ca3bd0abd36833c3323cd45183385d839929ed6cc35f0a951272528e6f97eebd58c53d36e1a8ff3948104b0f5089559b1d14132a767e6c5c2e08d438719f4bf98223fbeaccf0b85c527625266873d663968cc5e033a43b333c59c3aa7b30aeab3d2ed632599c75cefef5f0e8bb1ea007f4314fe5c0fce4bc249a254ebcaf1769b35b53d2012fc5bedd2a6e3194e18fc97b44bb4f31a836340f5934984d23b8705671743b1791a2b5c9b6f65d91283547c82a7b0e1209d709d85de48eb14ece7ffb97cd795402bff684d1517031c1da9010b637e07958ba958863a89e78f8921adab8f2a487d8e804614632880a13351dabc98e5a4795acf4bb3aad0b9e6ccc1c2cbe0ee929507442075327a9449b63e7b1cce6f226975dac55036f299f18749d76c8790fe25a62aedcffe07d383be0f5a218c8c8b7ba9f8495ec83d6cd30d38f5ce6eeead779ab8b25280f5366be487d2e94e42913ca602995ee96a9b0b3542af50fd3b464f912eab1bd69b38a5d68a67894833376933e7fe4ec5bcce3cc496ffdd529956cf6ce1b380b983775d051efcc9d64abdc4d33a7e58db6f3151c6b3832a7ba81bf0fb525160acd08225d6bde2c2fa85a3cf90104f62aba6c4530d10768806814fe7a57757b97a1428219e6153286dbdb3f219b63fde3577781ddaaa3bbe7074c39784ba2d6dc5745be51cdd5eac26d18f86ad6c0101c49843b0b8cbd27217a01677d159a3e224ed8155f66b709feab3cd05000b74b6619bd22b7df1a9e6b2ae72eb3c8ed5cfe2cbcf5f22f36473fa457ec3541304ea63ed55acb1a88a66af7f829794c09735f41b3f6065cdbd1a2d8d63ffcadf92da95224a285b33b929de736df577e9fea568ac9e4c7a91f89989dccf508499b1d29675574fa50ffe2089eb4a07dca02bb52d1e3e82da59c113690bcde3b4674b72f55930f0d3054417db952c8484ddec9d2f7616cff46e7eb6e7617237e2a84a0dfe774efe6ede428a1906f4f5688e4602bf1742562af582ce8b5270f3b586726ede2609c6666b04b6a2558258ad6949cb8913290842ce84144d3c90fac85219ea289ec4cb77efcc5e9a68f60700fdb8ba12024c68703775fdf983b226005178e60be012857f6d0eed6307d10c0f50313297468942da264ab531d4b524a7865e8ecc34bac842f338363105d2e6495c709745a4b76bfa32b119f0ff3fe2f0f1b891eae92b38bcf147fb22427ee0b8b8fce6eea9ddcff15d916df1d6260b39169c6fe2bc971d56363c5e262ff8c49549effa44f382dc15d7f4c75576c78f0dbb64d544d8888e47907f54916aef6dc83a95068df14f7d68a6e454f491c9414afb104e1b1030a2db006afdfe5038a010cb5f1fb1c95fdd8365a4189dfe26a62ec0f3dbb427667f9e0fc52086c64bb9b0a500f33789b41b905d512efbe3adb02ef02125c82f2ff058dffa7575218b33c21aadb345ff7a53233a25fcc89c05f5c290eff90f7f51376c68fab80d18e536a6db16f59de316e99f9d369676de0fa4c5e51b178dc9c18a25540f1b80d6c2979dc332ed737c5549d437d9287e88c9c67737fefdc47c61ddc7d5f89fe3b89b5a64b4115f60b4d9ce641c6ec9c6d9a0a52f56d59f014ad53447f38087e7e928a70103b9f4c6a6b3273c56d68d3ee3fce1e61b0a61d49a6e3531a68b66d0fe89f611be4c128aa45fbaef6bb24d4c6ebc9cccc85cd7981a9b0b69f8175bdd042e36c1acf74b901e695a1e07feae8f9ae46e36ebdd7367c0e5a7b126097c88b7e09772fd643f0b60459ae8568573c16eb5b01b3f1006b02c705966739d40add07c6bb7b2c108df0fa7e446b12ecb708bda8a33f8c30d8aab614bc62e186fb8876ce62a28021873258c7d01d077ab384269d57c885def081bef8cc8f6188741610c8516adb787256baec3197622732c9722cddf31e9f5b8d4b0f50029fd087fe73c5002fc7535a5b19f000e45b59b75eb7e5d30c712b2c779e847349a53ac34d9292069192cab4b8f64c87e3999b4a488edef7dc7301b705663d28ace8a6049890e906d19dfee4c126c93e9fa6def17533b3877c3830f31a3b286f2069bfb8261174d693d1a422acb3ae77d5072d6fcc980482a82bb206dbd3a2d06b147a53c5dcd522918952548589402464c6301660fac8f441f14fe47dd3e1bb74795fc07de0557056271f102032e03adc3e4583839654464548e9e4e447d4fa6ef1d39d1f5e2553141aacc736f17839822ba36f7ee1748bc9fe286f716db5a4fa07c58b245ffc33010b5326b55243d04db90aadf877db73c92fab087c45fac555a19545cb4f7f2ef8e4879c6b08c839bbd3325f13864483de990f4c38c679a48e0652de4c24a1637a2aa743974e77d53149def716c05d446c2c2d3deb092696c120bb35e9eaeb13d652e43b8e7151873a9e5c679ffe4a78b546358cd824c0df1b9f139f43f4b4b901d0397eeee74571520bed51f39b94ceb06975b6cbbb7dd8962c448457660f9bb1201c40a42716bd839735a7467545ebe6c6542f783c5f9645595469a119bacd911b391d98dfd8b8f7067459b5573cccbf5f178be91e36ffd4ea52c7fe5bd5c33612d7efd2020cb8697192a734298af4b7d2e74fb479fd2f9cafb7b94f4f75b588a0ad1a125943b8373c7fae8a4c4e423db34b19d69bca28ef71ec5f670e7859d355c7e9cbc4f772ca8e2ac09c17c09d93a4ef322353ba2c6e9ca6d58544d6694c5020afbc2e046fe5bacf4ab1b8a3220e4fafd948445f9a5dd4e6c8433b1023123b074380c4f48a3f10a602df208bc6fc7843f890c80e16dc5b5df5508bcdcb5f64d6b809a9b109325f111723bc0032e999bd6eff8bda05849d414c80c0335f9d78e7a4c7220fc2818987861a9c9471f4ca3f4939f62828fbb3b2b1ba64982856911d403781dca6986b173a536a02cc12e0beabd2256606824475cae4e58ade79f896c6e3e3cad37d18c70e406cb396a8c8c8da8f7d846b7c077e52f3d393ce25847db4c36d97bfb93be21911ed98afdca960e230e6ceca303dadb6c374ef47f199c0bfdd62709baee09461fe6d5bde10413b00f4cb68a3c3e73561538ad3bafa7d3dbe678b8d7a789528e66e60b88f67dcfc7f64f64e646abf8944c5b778640e894d28429352c0d7785c362895236bc9bf6658568a3fbc08cbb40aca4ca83fcb9f1042a63f7547325b59452687a3779ce58ae9799bd6deec5d1ef2d2b153f4e7b1bd6eab0817996bf550f3a1e77ea323341b1eb6aa2c996d5dd8d878d344991bc50973d8d7de6c9ef9ad3e61bee6cba652441894da2557bab38b1cc116e0e9699d40fa89964452072f1589931535f32b6c6d9ab6d5ceff1aafd1e715f410b4877f12282d0f7b10baca1e814d2e0abab3b0f139f79c7173b2a38db4864531b3a347061f16938dd0184655cc4413bf8fb6b12dde8d186ffcefc9f74d77796ed857cf0eedeedeb51c1309c4077a51c618dacd2a0b07d5dd7b9103d0a932363acfd6c35f1299f719894462167f3b67d07c17b8a7579a3a29d9dd5507c0e8ade0163bfda0d6bca13756d23f74ddcc43769157c082a9e9e989a1d266df3553484a911b1b72eb85e35a18034cd464fac7c21a9d3cc843ba4381789c022db2e444bf50b10b3b6f91d26507a4afc53ab4b18c7ad10cd7d268b8d3ddddb5bfebcc0c362f8c338ef044bbbb3320fd042a779a8ecd72002776d498847e4979f2ee03376e1fccfd1b89ce8da5713ab34ba98c891438f9fec1449b49322022e9f5e80ffac1307636aa36004ca969e099aa23b614e72639ab8bbe901a60848806d3f641b045e03f62e2509292037658ff2c67d402ac9cc04965733bb4b94ba910067c5e4a1177e220c319a51f47db69cfdff94df70a3389f6b101a372ab794cfa634116fb8ff3bfea8892aae73dc54e331b49811544b945e8f3ffb674760c6fb5ee8208163d89740c4b3f852d74bdf667c2b9df3afd45e9dd9f90f918c2b970f0ff9fea3f5d2573460dcec809ba3286ee25b5d53a394d2e50e72b0aece8d1ba659aa56007acf7b707acb648e873519437310cd8558d8eadae9812afd9182b4fd27d8ff6de1f8f976a6ebedd4053d801044d544b5a3d2acd3e8cbbf25401ecc291c9e008223506ac11e9bc740abcc0cccf85f49e59aa17010141e69ae1f2841b645eee7858c8ca6e1f96edcf04f2701e8b9a716a5c675b8a17c9034496cc8ff2b6ffad917440a5aa1e6d16fc5ea6670e84093482eb33d36c65b0bd175e6dc37d1d72ed5a72f9fd206db2828737aede8f6774818853c08fb5902d1f649ca379f1877b1a4f4db517cfc3d3d16399a04e46da8dc69a4da715baeffa88c80499165f3a880b5dea72991951d06f3249d0b66613265ab12926bbd35c1cdfbf7263b83d0ff656fb91934052a388f39feee2d6d6ee27d4ba94c43e2036ad9b05944f0a08b66ad11d7387ae9d74ee43cfd7063a0e345e00ff616a822d7ca7f50a4f4852ceb0756bceaacc4abd10438d1c32bf8e89736557d2f33631680b9fa348cff96c612fd853c3a23d249d7390139cb0b777f2729f7d35df9cd9af2647716328f12df7c3a0334ea02fb69789acacfc94b1b2839da39858fae8e40649c515a3afb1b7f9a7eb2de5f0772e439412939e9d764c3035f3a773624d9b765d195edfdec134f9c32a6dc9088b2b35ea8d34451cfeabb6a751935722a096b9edb485191bc42084990dc09cab5c0f67dd359ec7e22ae61db262c6295d9cc2ce184994ae9c581c68247d386ac325749062ab128eb91ad5bac270d62198ac4dfb74f2956586a274e1efff0768769648114c858831abc9e557f6a6ec01edbc502759477f8076613fbe5e45d255c09c2b932128528db3d193b335bcf2525beafb9a46dffff2e815b57a40517e8c3fb8bfba48754e5932a9ea5e62ffdd6762c1a946362792dfa98731d533945ea2b7516df8195d237038a22f51b2b4a764719a7ae104618b6c493966657a66b594248929796711ed48d7c618690ae7357ecf09a6eb0aedff52dff8fab185acf78502b938affe57150ef4e8b2597e2ae058fc0ad0f664d8d3de7938ef8c84ca79e8cdd421da019701a140091437c40c5e193793eccab08ffd0c2b399ee1868f7bb214fdbf0914896f2350653afc976e3a80bad73abbcec74b3d2943298ac4ec9b957caa1894fe193b435443417a70b3a7ef158ec752f988f7bdb405279fb6b9119dc7ec5a39e4822268403470dcc1590c9f5a228538ada16a2c7403f876501929e74d29921bfd5ee6fd7759e8a30c226f615403cc4797565a2c8b5c9b50614c7c9be3a22dc2fcb434226d95574ba3be70315f7aa8f783dc9cb7af3ecfeb603f13f1c749604ea9a08d61f266e2904262e1a91ea95d089f63557e09d53c4d7a565bb61831baefef91b5c9dfd39cccdbddb6f6e17818d78e0b178320228a0fb70c5ef7e8446d0e74f6a45d20fe36ff53078fe63f0628d33404573912256f787f16d855c6eba10e99c902955fe4805da41972e08d4247fe6747e160fc413b92f3b72547a3c922c592d13e1f9dd04fe31333b226a9d5f13949b04fc835d45920314272fb2138b2d859ddd3916bf7515808d75cf12263f53d65adb27e3f101f2d6d246dae02d48f5513c64510c281f80a4f1557de6a800328b9330ca64e46db814c38ae3a1ff8b4a0f80efdd85e1490761b1ac29a9ceaeab6a0be26008913cddff4b3321a8ab1dc89634ad6d32242ef70bc60ee22c66a3bf581061de5cfecae6f9b65de8c8e067e00f8b34c7ea8fb3d914d93cb4f2c60d0e708fa2a315cd7c6ea7d11fa1655174110fce84fc472ec54ff1b365ba1713b0f62ebc6b85ebae4ec0220b54b92e7b42809e04f98d62054bc5e26ab413f058725fcab2042718c3e96d4ad14851ba5e8fc863f2f987902527f11b743cc12dd0bb3f21797f966f71314f9ebc478fdb15743916827bde4f4e867ad284fb268222b1362165cdc0ae0b138f5e4dc2463ff213c896a945e03905eb55001149b311b0eb29de528e3499d66e38a00bdbf7911387c6ee9630593c8af6bf56672e69dc3d99895a256687b0cfd9d7d75d92284dadc67ca671f211cb0a140fa1a4cb2307e5594398a7621fc3129e959a14a1d58b87fcb401cd43cdf722242b16623308962e31f06f8d6d978409b2df23b86d5a07700be989be7d649bed0a91042474870970e3161837b43b1db1e8b67bbd62ac7cd0e55219f876becb206e3baacf0bfcd3cf993657da92f85855a9aeb0e6ba40f2399976990658c6c7560d6480e9c772d92c2a508c35ad1d5d95f345855deaa6063048bdb19fc52cb9d165f6ecc2df5c1263a883c27b96856f91804aeaae71c5cd66289e676795726eb975516bb341e1109ff8a3484f4b931c37d9fd9f07ffca3b7510dec10c6e01ec57ceb9a02db9e6cf716a59e99172c1ef94e7fc00794721ce32dbe8dd3c69802a5fbb39550fe5f23bedb3ebc0ec29027a381438c28f17fff13e7b5110f870798aaf3d4946ce52a3140905adce3b38c33ec5b88782ea71b5e67d76b1a0f75019604ba235531945e70bf33a7b621487a6cb2d48647ab2f1e4ea4a8af13ad7fcac2f8d36c8f3ed67629f98592daa6e4452f6c2c7ab60357c471e914fcaaaf9224827909a614adcad7e6ed49441009af744ad58db9644d946c1e8223e26b2aba150c53e64976ae9527cd485fcc825888068d4b4c2d102b538302f353ff3d2a2d14fa6ce7395d5b80f1be24b9e8de212ebaa6c228bbcdc3600ba54f1d81c6f13d6f4df759a16f58e3d7986feb4760e36fd67a97c0e5286d1a27cd2796770f745510527b58074ec8278e4efc162d557c62c4386edd57fe63ca6c761c8b4fd7f58c7a0de9b3e2ffc8497eface3cd550e9ce436c34f1cd3d289b62f57f33893c8376f280e2f280a1b221ca6ab85d85d1e2d9acc1d618e5210bd6a35fff86eb14cf84203d91012fbe561d9f9e198fa0705c4b25d80185354627c8fe088a98372f5508c564f1988f0d100a34760e52ab6f396da9439b70fe70878670cffb2b7c659feccb2c7e09ce4421b3dd3924907659f38d1ffc9bac838e92e625328989362c2995f539f809761dec3f278586513c2a517b9cddd7e93f45c7805a5e5b3868f90d6b1dc80d28e8175e61e62ef7b7414c505b0511b0e575c8a852b6e39c344cf183a3e135bb7adca5318b596975d7f79858e4b2fc5619c953a642626e93dbfa37a1c308532a1a8f1ebd7af5d167781c9a71c1289276f9c114a5f306fcd14d033fcb192b9a70da6b9d42f3955515ee1deebf1a987bcc2e856c8b4dbdf154fe547830f1fc01c293fa6d1baec0f0867d0d230ce0e9d1d76b0e7e1e1d330f1f24d75b2e8e7cd7d79fd0871e001132644af05fa025d7ec76ffcc2d6e9f9b292fc081794455d8a79c216abe5d8a722d604d5a3e6b77d159948fcda4716d82860fd737508a243cd2bd3d580277c16785888092390f92b37b5ac787b0577a5009d807c2ee68f2c7f351ab501a01b4721fc85f88c758fbbf079a6225d59063df9d148599655e0dad6e2c07a675de13dbf74356e4f84c6afde5d38f9e2bfdf87887c13d195cdcc6ceedeba0a21d54288dcc8f4d2f9cd65e635dba56c8d47d5139bf20d23c0c29a902ec0b83ec0f73f4315e5c1f5e712497010bfc0bee562827b27e467675b1986b3032f33c87e5d22ab0a927285b0a5b8f531b76b10c57159fbfe1eb74e1013418539d1d3a739e4e0f4360d64749095ed4665bd1b865b19f5c5ce6677aa598f4ce114a746eef07cbb9d9f1d97e9bf7b4b897de19cff9fe3895d83e3480ed2b66535d83114b5dcf286a2a9bb584cc17c65a689d4bf7a2ca76c10d2159434762aadb75e290cfeab42a536b6a557c7582634b68787630b58b6c665659ff84c4d34ff058165ed7e4638beda117367dc08c5a52c8b0ccc5a63326e0680a8f549d8d147c6d6faf488f06a752cac7e98639be5e1988f07c8c0e11b55c4c92e4bf73ec3a9e3a1df5f905ff51a31f52a95fb727cd227d152033acdfacae086f7d707b6c32e7ec0af3355825b364aa33c3cd59d94f696b0453bb1f568dc7c24bcfa327cb084a4e9c9aae15e2289d8d2a77afe82619a03c719aaf43e6d685f879dfe1d5ad6f380b512ee164e3780f05a0c076b14eb165c074dd0bcfb","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"fe727b3ec2446f3e9140a7a09442f679"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
