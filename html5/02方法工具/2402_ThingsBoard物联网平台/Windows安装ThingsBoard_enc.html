<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"860032548009b4c087f8455ba645197874e572d71c78fcb62e8c2cb3fcbda39bcbe3e4fdb14311359408942f8c114946af22e9ac0e4242475a8cbb821e2ba6962c2586b8f22cfaeb5427ab97c1392e1edb5a7e26098ba604bc4f399690cbb2567f4748ea5794ab279a9f2fb876b3bf0b1b68f83e48491e832cb1c19d1c6f702891db896b90d1cd4fa2b8b7e0f653ba4c7dc4cc39d1f01d622771a602b16085b2e66dbbfaf4f989234d88a7401a1f54bf419221053fe0140bd45156b9e11fbe10a2ebc609e53e97c30eca6cd6cd003d946b190bc0e01526150e070f32ebe95e40d077ab4e5da83d714b33e44551fd1d0eb4823b3b5f3e23cd580b0062e33c9a1a4813aabcecf4205caba387636c851b32c33337a0123c31beddc0ba0906bf5d8acd8299e1e4a9994e87d73b49fd9aeb9fdda48c6e71a5b451dba656cb01250dca5834196d74a76b7f8bb8a951b4391fc28e36fde80e3c15cb1c0584e238bd8d818a2cb19b23db3d01fd49db7436c0295719764aa2cd264054b70218102c466f2d0cc0252354d4d0efc40948672c51e6b1023ec71e1bdc7fb5d8c4f026311e07ec2ac51a3945c3139b048908f284e0deda230ef292877ccea191135900a662deefdffc59393c447e046f91d21f5dd38988e7d242cf44c43bd4741ee37f10fae724af1cb5ae10445f7964bf920f1fb9c3d64223f28330229541410f4846064e5616f6d0a2795018f74a752e62bde97737772d99a6abe1ded94194f48eb4e96fca8da80023bd9357cfe56b18db3ad2670cbd671fcdab61a567adf5a350db5c4704a2593d72224705436dfed35d12fcc06a6c1f80b81d354508746b17792b8426b4331f13bfc25a79c32fcfde37af93e3352a0f07c0923bdffe9fa31771b7c99d579e670691576ac47d6125e0c25547c45a92cdba8ec63f7b39cc9671a5e9d5ff865821361f04abca15907cc9bb35974fca308a2a0d79416cdfd6cabf7f1fe5ef845737d76addc44b4f7fda390454b09b4cb6897a1cda6d2828b36ca250967b81b551a2a845a51dbed83e80578b0ace6e74d71c11736006c20f2ddc554a9ffafbba08295b14253c5b608f352fd56cb58c54c1b1671ba1fbb38eb10a572087ccb95091240668979a8b66e7d38ee5606ee72712c89fc612d7206afeb23a2a1dc75d5d53dcc6b60ed17974e5cc3c3abf5166ca84cc4fce4205a40c9f5fbdd7a8fa11069bb81a9e3c97febb9dfc9ff4fd7d9bee846f086d7808ee4eacc022ea5d5b424b369f0064d7d52ee68ad01a0124cf2fa2d77d695cefadcc8b800f5cabbbec104411475dd082b386741019d1e07df7b074573971ef944db324504ab57aab6161f6d345112f35216f6f8757269b1228d80e34fec9d8e453e486358bf860ef521e58be7a9a39b7019c3dc942584fcf705959f0f9ecd8746f7b7420bee441939b99d2048f8a1e64bb5ce6f9a6224c655bf4937ce41da8262c1461dbcd9b734767aab60128810770c86356a2dac38671d9457d9aad82da4693c31b83c0a8a511e6cc2b1c1974768d43681cf974447efa2e0a744292849d23b078e20f904d2619943dc9f298d4a45ff9dffd84b8c1549a6425d2abb5d9e1eba7678f266516c688f2e9c670b56a09138f66dfaddbfab7c93268a8248b66bb3a6314fb4d132944505e04d71091c4a16d6943c3686d8f8372b512117b373a0452a844782e2e4c3c4b90a9562d88e38df94b4f111a1c94da272ba3f1a82f49acbeefada6d32d094886f44808e13ed82dd2b846dd171329117085d48ffa9ad171bdcf58e14cc70e7978b597358b4cbc67bb87b8aeb6de0feb365ec74dcaa6e97270e8e26be8f686759361fded8f8aa20f286f578012c9d21b2b4817a092248c9903486b5c7f0ccfbed4dde728bc28e572e174742f6c095a24b9865828f9e77ce9498456109e72b2f16c56a7b486b81bab69a0cfcc0f53271c41a6c37004e29e9c4ec09817401e49d807dcbb1e349a83ba0bf13b570c1376d0bc0111047104e2231ba9a8c01a82c4e47366bf73e952d9b8015991bbfdc63bcb9e8c46d66920504d0dbf7e358219084a0bbfc051ec7a759f6198ecb2bb0b57a8145382c9cf707e925bcae1ac53445ae58e53cef529331a800ce3273eca10caebeb6ba51ea3119a915fffa9b49d4415a9dad9e17a45ce9d79b2cb1b44c433f44889c38725c502f96657caac22828a23130b6f29212697d52ede0f1c905d89cbb8c1a0853748b0425c78068df72879909187d99c14b7f4b884baf0fbe9520d8312b9e92711eb378235e32027db1231ac18e1f064b980defca72329afb4be3595c88d5103db6a6dd775c7e84d915173f637cd943b90b04140d4aa7ab316135363bb3dd66abcff7eb5ce94f2647d19df2e6f86dd107d7eb63f99667f97fdc9d3336f4dd318dafe751fe69f0448cc356624113513edd2052d21d009f145275ad830e44dd0642fa080679ff81eed64a64c8085803287075fb900192f74ef771fb43cab52626c1b5605ff9508c4c16ad7b6e3e015d32815368dbfe30360191e21b29d705017822590eea5d8ee21d0631820a0dcb513dcaaa11914ed6425603a6d88cf17e940f78379afeca4a05be39ad2dd23593ed9d998fbd5b226e568c63dd01760a4325bb28741650aa92b877756d1b708d5e85c17f5ba3cc10164df8f78a2c8a7af5439d7db3f45a0903d201ef6edf94df7fa791c43725623b7e4772a7b31deec7f2bd2507b2b67c0697d24f6148454713da6a075eeac2c7050038561ee7dea04e0a6d4e962c9a36bae55245d7ac8856bed2d2e98ad962c669eb5eeaf27af162a8f22459a095e4aa55fd5ef5bb69d71126c9b23a243da8ed3dda2d7743518d9ab081969f7e7eeeec575eea40a3916098765826fcd4cfea883782d9e52fe80075e1580c0a077915e543412c8f6c62d64b8bb238f24409c5ee3714be8e40cce08fa71049cdd61151b99e2c876107176485f94687d5e1049e4514fd3cf68ad9f4c250376dc755e4b02a1dabcc1d2146060bbf14bed815064080c7238c2e59f4bd7563b690524894deaa55d5966110d51527d6bc217102c9a0926932b82ab819546239be192e832f8e3cf9da9614e5e465227b17959182e5b3f76d836fa21b84bc8e1b390553ee75b1b01de0f6c207eb4f25d4bfc03241ed958b832166c8521a7ca0f10a7506bfcdb540057d2a952a81396dd20a51ef27b514805ebe57a1c274203a29169be2773a3e21c087f7d7d2ef8eb11a2ad801bb368d26f80f3f7f449c023a1d10a7f781c062c40f8e117cdc5d0b5b0de323628199b809c8b8c7f31321d113701d58eea1a297ac019a8c19b2f17718371c84a4c0484dff83e919e26cb69e60716bf8466c4c5c0cf33af5944a1edd090635da3a1737acbabc966f72946122fba4653b31101698e019c06351e832bf2319df4884446f81d939cefd299567c3457de75e1156623a07bcc793e4ba2e0fccec73d28c7a73989d1f88d4c451f25a9ee2c45634b70038fc474af3eef5f1f14910fe60ae90f3a86eadd952de22b5e8f6329e52219f2c1cb3129c2b9781899f1cedbad3d5a167f30d0c1401b2fda58ad015156df3314fed65fc12968d1b897c866c609fb50aa5d2324329337be7fe1f6ed9ce94c3c7d3b95696ca1f3d8c097161fe35f18284441bce4291646c9583e36ba0a07b97e0abde1cfca0edc266c64dc4d178f4e0949b328827ecad29965a18ca2754afce8e7966fcdcf6755ef17d97cf21f75f27b65f695f41c9085b8106d12fd9f5eb21893feb604ba1ef14861a123c7f3fbeb0d9d8932f9ec64b16f0a0f1b9e113133647679baeaf523fc0ba471774931726a385d49dd690229959b42638fe9883aae0e6158229c196c011c1eb9c6132fd609d8d889ccb474398214490b9db63601e8a8c55bee924fb6868ee6f1d5c06a5d33568c25c155718c93250a088b3be15996d5ed4611cdd41248010c374cd687aad6b18e4ec43b3cf774f68f6630c7ebc6abff4b5313fc0b25529b013d7df4f921a7670dbbc0cefce57aae2806f43fae62a10e432b188cf920dc107e5946de9579adcd5c8725c74c9569970277982fa07cc43b9feb0d637657704a49a8d3561636157029090a01a87742a9d4cd5c503d1b1c3fb428e6ae976414c71d0fbbaa02f8a672464a4c402794edce93f2aca7ff805165f2fcf66f1812085b3547dfb9fff541f4b8b3a5e5c8bfec09471b318590e5c4f05e76d6aa9e0c29e7c33c26eb1d23eaa052968af19c3942a8629db7dacdd3b04c33582f694a39bdf0b07a4da8844bffd8c254dfaf91f9293e51e949e87fb0ca19c51ef7cc7c1d6848aa38c46332f8aa5c7aba16601e7d89e1e8e5a2ee608ea9c641b79a9340ec79439d5dd17f83b50631952fedb7b8e47576307c62daf4e1ec2bdf1b2013b70d9e179a6aa3f2d6ea453eb54d5ba503f72d9037ffb544506101598fffb439e0020f686aebff5b9500dbb38f64084f1e4e2eb2eb6f2823db5d5158e3189bb016c1e515ec22e033647ac6bd6d737f4ef1a8b4208f52525f8511c5d8ae270dfe9264d1e6b4fe677d3b26ecd4ca5cf8b5a45e75b24ce948352ebcbf8f290d30a072b428abf036e2f159d3d988870094a89d34b603f9d5800e012e4fe2942747ede679ae5b725c792e3675b00961f0d6081f4aaa55a0db2ce198e138d9a43229456296646bf97aeee3015036cc25004dc3ec826024f7691898717794963f9fc5de1694e60560dd0f26a0f67490106f3e1f9c9cd2ff4c76c549f66294f948dd33e1c4a8dbb9dcf3f381aeaa4f3720cca646303685091a42e19c8502e1dd65b31076c3d62c5bbef107f544c1f3d68fc2cddccac410ee8bf827cce229f8f7a84f0d67c1d63cef5f79478f55fb60214c0e95419fd3c3f4a7ac12698a9d1a1eca99ae1c5d26474144dd0287d909e4ca1aa61cc811d471ef2fd98eb4b04d1893e805ae9dedebdb23ae8b62e1b144a345ccd67093b51f551daf64d175ed19e732cfe75b0939487b9912a3aff5ee83a269ed611b9ba59c48fe764c57b241c5a6a4190359e23b3c4f1cd414cea644b6c00ff7409e0d4c9f2701a0aacf2e18f443cece191da46f709927faba17867fbee36c3efc37b6a17500544a0a780a9e1731db654a1abad9ec40e00798a4b25a6482e61e2c85e4ae190d1b0f7be67f21a3143b32dfaa1687af8511e55b43e6ad9a92ebb1fa37a429369e00891058dcc4cf0b3f834249ca393a002bab45fa796f73a560ec21c8ca26170b4b1ecd55c6cffd5812e36097c88c38b4c9a5d3b7698fdfc2f1d0a778a552491f7e612e1fe3ac5607f474623666b349ba91ceb9430faa8f3369b2af7bc22b574765c2f4968cf97ddce27ef705f68c9e5c7d480ff94f963d8395c76f4971716201f0f638d689cc7b4caee33227a9b2091bd0976c5703bb9bea550f7484f1c086184c489ca3cdb6ed6a4d43717656a539c2aa8820d2e1831185a2612b19610e7b3adfefa952560ed6e6baa426cbb1732b95c059ba318d3876b26f7fc86d898f5cfa855f3d36e56099c9fa3b30cc0773d6afc7cf0733ed85f93ce5f970e6104e457335acef2b99429e394f1a36f1bf1cd2e1e9d1c62f3042a6f9f743056373856122e441a150608a5f6bbef349bc2ff533865f682d888f1705ff42efdc6d7962ea5806da8c041e1af280e68c59abb4d65277be42cf38966a5341c49e7d06d93668f1276df691e4be3a3715973a0bb21e1add546507f1d43c021787741a48639add8ed00e477186d66e5f0b5b0668e4f5ea3c3796df2ece4b1c1e8b722d8369f27acbd64c31bba6435a1c949a87ced7b3b06f9fafe1af14de36dafa8d5f48983c43444ab0de112eb791fc44f93d21047e814037d21f4453571c802058eae8f49cbff54694a3d2577a852ccc1b3511441ddf69734bae75addcfabd09f1a90a467ae64e4aed5a61f0481f421059a113275f31b448acff4507be08cac2f94430005f52e81225e7343b2076bddf252dc08d4516556ac002b1b53718acfd5de112a4cc5c763eaeb89c002689dcd98147340365eefb0b877820ac53b620b0bd916d961e0d31f892907418c73ba04f4e45431bccfa33836966fb855f569dff7ab6996f2775f5a34931c356f43a0a9646c8062747e479d78284107c36e9d33a7c0af7a293282e931743d01a97ba17e2d892348b7f272e7f2d6624baa563347c1924cab47f1e62eeff0c3b2fd6df073223fa7158ed0c2ad86392606975fec950e95795d5b32452a0884f1da6db1f45ad08e13b9584a10ed8ba193cd50571816e2e82ac23e981c706cbe126b1aa7f3c22120bacf120585dfab9c677fde764d655161158019e77daf66ef84b3030ba9495e0eb271d3893e9f3be3e8dda5302a0a0567b0f0443c23345e7820a751b4c4080fd1af9dfaeb2db5e2a9b87e0f7bafec28732272d2f325c45d9be14af85c948d0e4f9180fd6ebb568d01aecad208a750bb284e19f2001ba87248443f07d35c3826aa9e207d08c4454273f1d2c05606808e980730eb8efbcec8c45ba31f9c9386c4864e5ed51837179d89a8f8b89d33e422b0e6a914fb9c8541b74f7b220b87bae6a0928cae4f6525ed64c507b4da75aa4c6e95d910cbb3597596d3b9d550c19d8af6d6835cf5a308cb4a438c2c119c76409c0dda438fab2e42d6df1fab3fa95de5f15bc2ed036472537ea1fdd1ac958824814f11b9a249d150aa7a1cc6fad4526781f4b52aeca9fa15fe9fe0826a886e7d3022eaab52abcf0ce2787915d108004c65c9926eb3e72bf0bfee8a61bfcc01cc9fae504b1b38c4469915040909d5f184b6a53798254d0fd54600eee4d36ae7ea0fe717277f0e6110eeb9374480b26298b67ca3983054d5fc851f381768a3eab1915dd609a394785f3732044b3f867e25abb468f92c1c788ae66fb8878abeafff8740811020b873aec5c9aaee1d8f769500adb130c50a5014c6b4f4d1ef633b1af2ac02e62f1172ef4bffde0b20797228840cbb34c4ccb100d1030fd816df7bc98fce520af1156f6b7c7b49ffd6993577b8506500d0362015ddc049ecc536ee3c02ac44fb26db1e624fb764edc10c3786157dda35446b97d648e025d632262c47b08a6000bfabb0068bf679ab2edba7cf4d263b2c7fd48cd68930fc22f972ba725e8fcc0f49fcb16c883cc155739cdfe96ec32e6d2d3d17ee06f2bab2b6fd6e5d43e4d25e040d7bb5958f55bd7d5ca96810097926eb4f057495933f45229dcff00325894c5b1c298c6f478accaa1392488b3cc4c5fdc153d07d1c8bd7c5989e2a74368e901af19c11b9eb298989778be621d7ae49ac19ef8ebe3aea75152f9eaed423ad2c99e4b3cb27631f979a27d6ddecbcff1d6c901074ea19f22cf5c44418bcd4c5d8fdde6c14564211501cbab3a1342808d8cf1b1d5abb195aab756d11002375e86e6890f9518c6955f7734d71b1984afda83788d1d8bb622a5160b0e953a2918ca2cc293941bb61e3ee3b16df863d6ef378529fe22f54b38ea1a61497c0b419f4eece09aed14169a0ba38f8cbea73093ad15f00f2546e6f5122189607d44e34547bb932407b08ad81b5e4f4f9c2648330f18c401d52e8c3c46e060c2180d34b4b35fed8f0feac793ff74279903b803b173cc1cc3199d782d2dba56e9df998991436e2f7297f78093f00ad747f5817cb4e6c2fad3602385ff2f06158e5b518ec02b1a064fcd7081007d0a85aa976ca5b9881c480eaeec76a28557f0df2a5ec265aca214af0155bd647efc24796ae6ac428dfd98d25c5fe27037b95db40bf72d37b6e5aef91c28299f722259bb356704982b83c02d2cc67ae10fdc2378f7ce1b1bd1e44ebf6edddca342df107fa2095364da81396000f63587e7d7cf2a3ee549e1fb569f8d617b51f6f95e3b56a25975309d1f86ae073bfa62a0ca83657396f6e2415e41c5cf9f38f7751db5edaf8db1ad98544755f3d6d40a808a4dd0a99132781ecf4cb0ffa6fca33a7f6c660a6d858df6399b333c0b5de3c9ba399879d86000cb2ee921e77365742108521dc943b4df1f53a587c9af94463e9a5af48abdc182a7db364b0abd600e57defc82877abc380b844065380ff724766e5450b4ce3aa82b652583ed6848fbd95bcaf477bec323be640306740fbb014d867e88071d835cbb7e20b16a02c3989acbd6833dece25916fcf3c4eab3b2b975a9fe2a18f35a29a3593276431df2e1ee74edebfd904a3a92304e4921091239c7ce4a96a8f04b21f2f9d0942e8fd2f9fdad88c399e94d6cc754fd3421c27cbcb06202053ca33c4375a723756438d5f31ecdff8269be2d262faf308a6ef8731c80e33e894253570d8ce2524522e998bbb1e417ed58875e9309175f817a9855a1de6e25111fab13bc23ed4b1d54029793356d7598629c89a559813c2af267acb2d647a2c9c14bef112d8aee8a0169d883178bbb28617b669e92d8de612b552483e184c31505334b83d9729e5ec356373f5de45504b33bab7a2ea0e62b0c90b4840866c432b75b24b950a0bdda32c44166b2dc94a946470de41ab632dde950007fd4385d9ccceb215f69aab2f5a6a84ffa5d5a8672f3c8af7be7b112a1fcede1f63c0613f6a64cf64ceae6cb2d17245a11563477f77ef48ac93174a63cf1af8bd961f1f7d4095675efae2b4e2563e2a2324cf8448875c222b439c9a0ee0af7d030cd1c467a9efc3eb02136b3722d2863981a7327737df2c115705707c06a6ded00e74d3f6fc0ac499aceb8c3a6282aebcbf8cd1187a55d289cecad89dc346e7129362683034a552db956c9b4a63ac30cd33bb46f396c54d1a0e9314cdf24f978a58a7fc61e735702290a4397da17b8d8004ce100e4858fcc5982402593a43686afe963418e8d82cbe398f13547e6bb1445b75c733b2db2b4ec6acaca2076d742a1179a17c5970066f1ea19b624dc18c3a82cf900d1350e40aa2fa18e87c43f7bb9f76212e8be6f03832004cb02bbc5bd28b6c38b8e1bad39cb8d335871332f9337c025c771b538b18af7360a7a1813d6013108c92c292779976b84904a163e366ab8e0801ae5bd1a69fade1ca0107a36e220e1ace840b6916af1c508441ec664dc7684def732be8767277c8bdeea26cdcca7fcacd395fc278f4d16c0d2a574db94e4a56eb93d1589be9b3b3caeb9c1eed044b888d7b1ddfeac3412d159e0055a556b2af1751258811d8ae5dc9e1f7b7eec36389344da403d4c34c8fcb886dca95ada2da3fc1844ee41fb97b5ebcb0623d18a3ed22614666e220a6887b1b97a3dda3b6bfceb42182cdce20fd4024d920b93b09e715c2f577473b97ac3cbcf732f97102129f905222bc15507a8d8bf96a604a403e5f3f89fe975fb4cb466d19c2ff855d86b991f25dec76ee78a00bde20bfe8de2a6452ae850525a67d0cb5d8a5c653bf31f1375d63375fb5949b3b6c056de8fb283d780e0f20d84cc3ce92be83ed7036ba23ec0ca1285a934f813a8850da32b5fe5d59128c93b988b2fcbf5d6b4fc4ba7ef95b61af63c95e40105b9a06e215b38eb5481ad9a790904729ef247b1beef2a01c9864e1cad88ae50d6e30b04c5fc4a072df20c35db67226dab80641497d10fb5937338c42770b402d978a2c05d9c7124723fee7db77694a63736d3ab6c19e2b59f8395bcf582cf9c9aef966ae56fa12e54d2c98426b31d322c1a6bf65f08b2c09acbf0df8915fb8bf7b446d5ff8fbdc4dbda40314dd83e29481387ce235be8a9f13576635e097e593649a2e9c592c2997e4b7fa69a043bc9909d5cdc9447f927e2cf2543f47ddf4e575e782165fa1dc289b72abe5e6b255748813f74f1100ce08143d21a8cc44b52bf4b1aadbea5f9cc591721ca3554b9ab89b767ffcf05e73b25637c95d1c95ced04d00bc0e47f4c29ae441d6043291a13039c8781cd4bc2566b34069fe3be4fbf1bbc7ab0bae370bf013c88fc918f4d1d5caf538da23a1ab369baab949391aa14715471397fa2cc4265404bd7876647688e53fd25340ce2787603440c61d3e9443ddf82f22514ffee641928b9b06520b7c880d6fd9f36a7e32e6a551e0399761080da0ad4e6503bcd5ee7efecbfc43a81cf55aa26cf6b0fd6da14a2d60928a83d8cd80f05e960a118a683123e27e94fa86121ef55ad4b989c64f9093322c33e66c2fbfdcd2e2ba7ca125f84db8fe4fd720a25842bada7fd4fbf998480ea1145cb9eece930017189d8bd3cc594f763601973115ddaf5016da8e050bb0a3d65a8fcbdb88a895645cdd4041d5c79f92a98b7ef853636472eda12b63645dfb059cecda76f5b0148f32acac43966033bf3aa33751c98e9539694f6c244515ee2acea54fd32f45518c0de06845a19caafd9b7786095432d3e457d56e44c9abfb21e2463fbec8146cae69b1850ce6701f431cfb69a106e98776f8bf2610e9cdc788b8ae7ffb00e5dfd7e00f108fc3a2e34936f8c277a2cec51a2ca607b1de8b3b497f3147133ba43c83b4f7c0e8e1695fecbbae9ef3c8c50e7ee910f750ba8ca6eba34ad6b5387763034dd78df055d6c17000c12234576997929c7131b57870aeab16a2125b5b9dd4f642ed8036bd74fc2cd433522bb3c9fe996aaa936781391293d15111b45d76ca6be423c43f9cfc2f4168a404a00408dd6cdc8e11bfa9418937ed66f374cc42bd16488c66c229f69f318c53d3431f8fd8df7651cb4cccc4909ae4477f4a993485a80f0242c9a4dc495bc84f7a78fbf3d8751c51306150c136fa05111587abc85294b5777df85cc4d966f9ebda6e413786dba09df8aa6d70b391b07a72d7528adb5acdf7858c329de271847ad947f0417f1b33ea4f861a0c0fd2c8503ed83b30b0de6d1b3dc604546893129e61a05345682c23b4f85320b2c4356034897030bc704e10f5cd8225a692da1778110fa2a63c3f40ffbb88eb7ef13a676166a5c3a5debfff5229e6bd8e21057e89ff1fd00eb70a5cb56168c1857a047b5f34f7989f44f83ece7ba47e73449413a8b4a5e7e75a61f0bd9cc02efad4d116f672723474875f3c6ca1614777d08ef3d7b52dd87ea8381454c590e72dbecbdedef1dcbf05b93c4f2c3b97f5bab3f58bcfb4271dbe47fee38a7babf0972593bcfd537e4b832e6bf0d35790e1c40b819a112af8d75fea5b68440e5c90fc8a6122250d49dc274a5d797f4f2f3e0af314313055c2231ed9d908583586583f6e63971234031df0da89b8e3b82f627edcb4b3ea40e34df4660f5c751dcc172ebd146316051cfb01870ae99bda81960ebf7cb6c722a31266679fbd2b1358a7aeb303cf9a3059f1279f6ce608ab812de342b02cdbe7710840bf16cce6667b87487c4c53d0dc9753c8b4eaed7da573dc72fe691d2346f5a55d3d05c995f7ea5df81b47c3e7f1b11718ed70eef9314fd2dcf40ffe72a34136bbeeeddaa62c938b101034ede2471480c59cde9f87732add0993ace3446b688d1cf8bbd08abcd37e90187cbbcb498252a314224ddb26353fb42a38463f68b2a1cd4b181ac4d56ad2272ec739bdb4f496fa8459894ddd612d222c033b85083e0ac5a60f5a0eab64c62c73e36149bf38b6621d7d36946c22ce53bb906f681eb63bb0d6a5f92304ce15ec0b445ad213e79a81a83fd5a1ba79bc8773f0643952c9904fcd0238c67a5f64b4de8941099de5f4b6f9a39c002f69c16f41a7d5ac4a31e5a4c6b01b64f54a46f102564a007813f7596f4b44f140c8c494a42846eb39844d94a30b1668810bed5bab7ca65e293cde2fe277ed8d079bed472af1606aec85fa1eaddd4031a04b646896f50e3e7dba54cc3eb18cd6cfaf22e13a24ddd6e537bb58e12214c5f01567c63b46b35af314a7d7b6f285c70a5776619452207795f99f7990960c42348f3c0503443ffbcf3d9ae277513bb59c5393337518c2af7d0efe45dcf69225cb4bc44643694a5fa735fef09c24b6f73b1650c47a28ca311c47b653a62427d9205fa067c6916e05a90ad70318036ef93067617876ed6cc28002aaa7eec1fc6403ee93b94f7ec484a4af22ff0d42edd08a187722c9a621ae46c1160d92bb00c070d9421e75376f29ec63ab04d6a078b70829367bc2b12969a39bc8f647c1a947194b6f757047f58921c46f1a5d84b15ba50b9692232f79351853440bceb5712fcabf82c7c705294eb7ed6b63241bd2b808685a6070ccf8de9d6ccfbc090babbd7852abf2478cf3b139e2a6595944332f7f2ebd6cf7321f8fd57fc49ee9020bcacaf87dac4affe5c1344e2be203e54db6fd5710af6a8baf761829e30df7c5a28c90bb3e7a658f11ab00ec38d93507c17870eeb35726cf3e23771591648908332e7212b21be05d71d44e849ba49325fe22028d0deab0dbe426937dd530801a05f431842f456d55676015e7bd2f6635d9e31dc51c36575945f41dd93c24bd8112d191037f3445ac453bf0a1467f2172d7976ae77a15fde983446d8048ec92caf0044b960885b53ff19dca87783c370e1ecf15dbdbd09b6b6636749ef23938b6da4e3b102899ec5e35cf4020a50a597c3fb468086592d330b6e5b2f139cca29ffce370b4a5e126cf7d4ab05ebaeeb36961b2f649e29c5a491daec663f501cd49e6135aba124be8eaa796d688da4164ce85756be0d2f03937478cac0d56ed58c03ac2200bec328d311d88a446f76c81f0fe9d5fdd18dca0b5c2be5a72d0988810d3bf99f84cd37960241c6ca424b4a1ab5cf7bb4ddeb94269071c1846b281dd0da9a530965f053f55f7b93ab073025d2ef955602b8e56f29978f56a4d12cf42650bb4b8bf2ee5fc3f65b0c6ce21fa9ead566cf0b6af1954cb0f029d3c59ace6f884c5e19cb21563144b14e6951342ea3880a5bb398f97df13e19dba6c690bb56b9e3973cc27f6785800d26d5f02678810b10a6773703bc05e5a688da5dd982ec37f77f190c7aaf61f086aa7989e36539076ad6b51bb15b745ebe2b6ad37e5f323523578aea4d886ee4d32c54995d65eee5516f5023d704f5f737d82a6d41c4dca4239b52df11a823d2c099737f48c42da2adcd51a9274f69a9d3bc99701b7971c14720872e38690d3b9ef0039868a2bc746fbe91f8df5245ca3b006ba361b3dc562ed870d596c0c59a1af158a84704de0dab2fea436edce87291269d469535f19c0fe761d19b8402159e1e77f1c60cd1b196bebcb79156afdb4246deebcada489f6df46cc7c04ccbfdd89ced38bafbe67a8e4463ce5392a922672b15b0478713000fff9afa2eb47f540ec4e6a667fefc543c1054f65333acde9cba22b1817762f552050794f598227a487d713678cc263dcd4674d742adc59e8418db8fcd814dad53c609336862d9104333436f1bcdf68a6f52f4ea2b4e189ebd864b260ae192db600b69c776c50bbcd43f30f25154c55bfc37e0a58dd94a5d0f0a1de3413f4449ab2ad3777d75c6e7e32b7143b996a1b8ca269bd8aa7fe168c52364599c848d0cb24b848a0e5403e074c2ed1ffc396365f2d5d0a4b46daadeefe56de275d4773f4e13551a7ac830e51334d162ab056e36eb11a36a81f939930a7d8b890f0f23afe3a178043f07eb4d2beedca8136c1f5e6c40da2c731bec54c7524bb9a4373a60a4ce62a3d4bef7ddc4c4d3a9bbb30952b67da5e7b7ee010735b453c786b74e77337d54a4c990d26678bf8c97fd8d862be7e7a4f127f98a2fcde63b6a1573249b3032d0cee0e82ee646621f558f034662db981be42b6dd6481190b09cdb0f8b7a9bd92b575788ac20a4cf0ed7837a9b04d54995b5b4cc1ace31c6dd4d67a85df61b37f7527510a03203e6a0d3b5627849ff7ea99476634270de3181285b39dd6a2fa7e1d722842264d2438508b1123b7679d130b8221933c925ee7e715f4a73467511e03b6b62b91691aec8ebd4e567eeb1e308f630221e1b601a1439d01a78771a5412baccdc006e9938ebc47cf8ed31f7176bd0311a616c9d27635e9fb9d4692a88ef57b5ca074b07d3ea58de3f217ebfb3ab79488c58b8905dec4b068a80bdc7768a6bb533a6e6830244f03845ca4205b2dcf5f13d23a8e32497ee3b52f60ca44d1cb98de05814c8e831a9c6c90313f293a07c574c4d9f862ee70959beee0aac7f328f209a5949f41f6e4667fbeef6c17d28d23102cd79afe111d845fa8be020d873e4e7c66a595cc546ebb8623450445ba35ef4ba8b30431ddad48ea5ad0b817ecd23e86136a61e7f534d373b95089c48d98a2d6434858b874a02d52944b301777eccb774cab4db494724c4ad7c4d18b7cafc0d0beae1bcb35ddaebfaccc6df15f6f737df7b88de7caa89d934a73ce4c0f9222140b684e584a8666fcdb5c81c3bd8e5acf6d1cb4aaa3eecf003d5c49654168c2a1535520f33d0dd9079615f6f7c3fa8280e02cc20803260f4ad306fbf63fc62bef856ba614578ae55d843d03024e41cb9c642395b3ad618e1884ccabdca091ddc23734f1c6b5f1be9097028aaa9a6c3d52c497adf7aa76b607e5e07b5e1d64231e56fb8683e0f9e8274c3daf986b39be1d196342acf50015558edad6cfdd03351623865eb68e48435e3007e733c6bc7dfab3f5076f02f565f42a02a1919a777a719b65d98f24e6d11389592b7245f66ee55f0d692298b4e700caa91f83f4873a315f1b97c880a4e459359ddd9551272ffd9ee80ddef11ea9e876436e7ceeb6d3bcddc786cd8f817c42c995ccbaa762f9227cb29b82268355eb27b64d653ac2d9436eaf72e6abe3e9116f575a7d6f5aa443f83a9224ffe4828b9b2e48b34122b9d73084daf7f263ec149c49717b8655a98e9748d1e522e1d30b47e031de4d1440b5dcf431507395865ce97cc33a14b74d012650650165f7f8406313fb5bf026bafa649c44317c9533feea8cbd5176a2833f6e98f981bd85e8d5eb920736ccc190b23a9196ddf5aefc32c8d643406e89ce2304cd50169b67a5da18769aff7eca9843f819cec226c41d8e7b061cf403b7a2541d066607b41d10bcd47673eabe56cb3864e90604336b8fe46f0a0a386867a7f4dd0430510230abaf0b0464b60f8aa06d444ec0b31df98bbc7de4d95366b2aca45153b496770ef596b55019bb5a6ea223213bf53e8f43d5ffa366dcafad826e2953ebe27d9de3c2b2535f44101067f41849c8b6e884d023aa20cbf37a7e6a3b0a93c5a2fe7e187afecf1403a8dff10131dc1a91fb3df6b63466d6dbeffc290d04c870266d469ab8691a123fdc68e77bcc7d66d1b625dad14ffba4f711b15dc64c7c39540f83e0078bf559ac99c99821a90114c291f145b27762dfaae97795317a7a4671ea209f52ab2db7696e2c224e8222b0a954ca3a5c713ccb63af0a471a80326563eef04fc6f460db4e2c44094407baa6240899ad76934d296bcedf7d36af5b388ada384340241cbd35c6af6446c705d68be49cdfad38e33e161e6a3781e33759430b01f02107a90cec82ebcceb6e0015c43cf080338b836ade0ba8c02da88b1aba19c2d2be2381817d0db61079e41ab1ac78cd9bb52d0bd12033accd5571aca44a321e71834ceb819286ccc094eb05dc2c002bf31a557088fc04026afb7b978809c3eb098fd3fa7db929e33c95f1e1f6d86b275a79e06c0981d3b2061bd2e67efb4220fe6019ba8521c8dfc0c57a795f354bb01ecb183241fb53056c920704aa8b7f60a36095c5f8bef7b8d03e63f652c082476cebdc0baff6d9123e56ad56f0115d3af8857da30e6fdb25ca2cdf2a399070d9734ae3e0b42d353e1ce360f87409fa92e7060d5dbbf45af0d5521c3b244cda1402acef4b71baf5bebecc1ea1d8e01dab1eeff0e9bed986bb62843b7ca4f0c46f17fbc3feceba00e5cd01928ef4e4f763b97ff333d8cd26d05cff99372005ff3f3f23bc23d1257c1f16779e45268a270360dd0ab70ceb2ec7b257834a94e970a4ee4fdf8f8a9c183825d6c7ba7376c76b53296013a968672915cfdea7b7b31ed604f609c01ae92444cc3cf1aaf9e3b64c31c7f512ad9d5a87564a1dc72dc3b608c42c56578a6267d88f0675185b03994196ab45316e181a7cf28ee8242864ba816893c93b870436b4272936c28721880fb049cd06303a429915d84a4a0f6ef7cb680a37960b60c4bd3df9a137c9861bf69b99ca876f25e39d78d496d940d405cc2bc18c40ea3d5892f119b73b776ef17f0afd069e7ab3d7d0c29732d5cc10ffb596e244715c193abd3a0036225c765a5e3fbe46d12513afb799d78b7d5209cb34611b03d66b14acd1b5ac95e06a9af1633e77df6dd4ed5407639c7c9cce0ffdd70faac9b7236d63ad19b66480cbaca781c83cae59f2b35ab49ce4a9ad6ba68e3aff02c95a60acd3c775e1b51f9fea971ec6cac93bd497497070b4bfa893aeb73ccab3d7fda6865010fa70141ccaf64a126f6dea5f4518fbdcaefe5b4e9af44827a7668ee53014dfecf25a44ce6ff125c5647ec84c393eb3d263b405926e9dfb7a7e6136a0479946008d09abcd9b1ca602e2eab98122ab97854fdc325c71e49ab28567b251bf848f787d57ffdf7adf2ce842c7a0d400b5ea51dd91c5507fd9bc8e051d9fcc4cf9ec9f80135080fc450487f684ba89e7f65e816051df369b4f5163e9953d4deb58dcb4839fab84174db8800af723db25cb8429b95bb729243a39b0d4becb55faa16a1872542c5e1554d6862499608986b5ee65a21a625ad7ca935cf2cbc69e0df7969dbd3736f501e5ea89317e5fcfe55cdb6c60452802e62df0cbd430477e74a871bce518d8cc034abafa63ef71734f53c0facc327e4551a7ace2e628a75bb0b4dfb1c50036fd3bd7e9d17f30d6e5d5b7873f149619e656969b504b070aa1c7dabdf78e36524b813be227b1322a49aae51ba12f626dd14f55401d8bb8e09f35dc5670f163fdebaf4675cc776ebeb765bcc0ef026b260fd761cab83296984ad98b1f856e0df5fb1a0403f39181b6add95e08bad8029576be5aa3a42ccdeebed85c7152d39a52f7ee94bb35a0e3014359d46d725d790df15987c42c0e9f3de56f95065380be5b9972d29dd58b0b48d70830fe2fd53be5bc91e3536d355ef95254450407c3b169ba5323ee5cdf95f0c0ed7938aa650806873b9250931498b6b64e217b58e04f9c1c40ae4e26c1fdd512c98dcd207a30bee31950c02a5fc87d7d0166e734cebae5ace58603cd2837289cd1832c1d5c684e51d40b51851052474c11f4b8a502a8e6a05c1b86cfcb979682af5320d6e035197980b76a49bd2a87b448f96d27a0c4cdfa38677cbd793cefb82c55da38233e7ce47e004bdd78d6d741f01ae312aad29dfd17fe1bd55702c699c0087f6552e04e63a3987dc2d31e0c1dcb4f09325a75b4619b38f65040b48003d88b3a989edba4ddb92865731604ccb9240470656be1c543e7e781d8faf96dd6722b6c800364dc090e5afd4d4b92be0ef58e33e5f87d7de75d68e8f978ad8dc1308f435f2a00101441c7f79875549462aa2c4b2c420221453023113b6ac6ddc3b2a7eaa72ab4bd42b905d356aa9c8f3c487c5523130ace13ebace8cff95dc550ee428f1953ba3b083c3815952ab4803bd3f4a0d4db94672f3ab029dbc5461e202c37062e55fd9f2fc999ecb9544a93e617c649cd5d64c096208a8eb5a2389889a5ac63da5c9d6c0a0b9bb39d867d279ed306a4e5abf01d4abeec1d8259faab205e39d988cd447a65822405a0c6d8203d35ab6108cc3622b5ad91112e71fc3b492460d8c5ad9ebab198e928bbc2753d576d968fa024d920b6c7728e1e54f6380a0bda7b1e1b19ca7a56d0d55a6866cec3dc9cae9cb927b3e9c458ae2dc0e1863b96c31d5ff470a8b95ca689227ca3c6674a5d336a542de23ae5a6728116edcdb5b1401c945e2f1bfeb93831718597756a117fe1e488caea6c2ba65470326474bbfa68145955d14603dde4c8f46fdc12ddc08fcae6ba941ed8ac8bb1f6e265b7e123ea5886aa6c71136d66f352ffdbc0e04576e454ff66beb97eb30384d95d75895002420b4e6bcfc0367d74c9f092751ad7da5aca7ac8531579938cdaa177aa960a8f21c5cb59d49d7caf1482ca3e78f6cb248ccef089780bf2272264a13e892526ff60fbebbb16669ea63fc4f61fb9ec754e5ef4d32295ff7462a267371127520da9b8ce4977c5375dd028906d877bc11c54133750e43d502052c2d955a9f3d21f1b92da721502c26a48625100a32632704665e6449326b40f8ec4d91e0ee7606dace2e7af944e99aa11ab34f4aec3a2e5fbb03b7d04afa3e2c579f3938f985b042c72b1ba70cd310b918a352b39268f34301e0993f78bbf9baba54cf87754ee9ed1cb3e94cf729ad034b7dac23fa5cf8f68fa909458bc3d27e8b129578e2bb94245dcb8b37bbdfacf57a0253c878d4adebfa0b36930a231e6dc61329e25fafbbf29c09a6988452a37cc75eb05828afc34b985e3f888dea886fe1c44e578face0d739ad3024fae3b6d757d867af8f95f931ab2d1a1d0b014de27f8d1887727b100945409f85f5fe7b1a9a604fbafc503f6745111480f914593fec063307e8aa4df4259b4d838de5d51cb152b5c9561d865e333aa0985b14f56fa8be41c1312918365e90aa28370614130f3d08d6beb26eb84c58eec7f9918fe5782d9fbd940c71966d6cc0cd2e2a8914641ba9c3f65654bb1521a1e5b8f56dcdda315234f003e45f559e58ff0c0064c948c1c14931af72ad1ff153e229067e2568f6de5619dcf627378d6526dae7717eec1ef100d72ba54041e7a13d7c8a59cb1c3e4de424a780bb37d4d81da69df4e9751125ace1c0d6e4dbdd4e8b32efd4f9484d85281daa1e67f28c71e87c65d2d7c6c63fdc9d04629804998c46567e549f237e0f37fcada2643245407edbf6eaffc4cc3e8c12e6313d6f719f5fdf83ebca69b0422d50e40f7958b1b19655b275f04af1218d60ac3c2f03e19c61af41d4373815086ada84d8009e80ada44853bd059e5b102728b5ff74e982cea555f3039a4fac18c798096b522263b211bd7c38086e97fa2be7dc0fc218a9128746686a5e6490b4c552b647e21a4645793873690373173a30430b855d249b738dcd54b7f42773388ea619d4d8e6aebb1a448161235a762f97b2d624f9c9ada51439167636020ea2038244b586762d7df6270df9cc47e90346a347af1da42a8936539b31ed54c66b047a0938ef786f327ef6ace37711d935acf0f3693acb09d4e099b18e4369688fb7dc36eec0c0a03e6f7f27b09125e7fac73a6ebe0e4d42fe5c272b1d06ba455c1e7415b12e2993a77ddf735eb0b623c6759007d70b2915d4935fd2c89bded7fba4dece5e32e2d7a415466da82711abb992c8234606ca5133e87ce67abcb2887d8681ba2fa11eb8ec2ba82bde6ba859beee27de130af286840d6e344d73cfde039cd58a2f51ea48c9ea5a93541362a0231b16278788c5e000cf79cd3928e984def2683bdbbd748d572f97064a51f679d61cd436e7494bfc7ba599a198ed7ce995209b4096a074926757e61af74631833ecf9ca5c13bdc41f33d520774aae3bc7800b9c5e2321f0c269936fc5d832f2457ee938cd7cd1b26b03cd7f0","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e51cb6d05ed027db058edc159e71b81e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
