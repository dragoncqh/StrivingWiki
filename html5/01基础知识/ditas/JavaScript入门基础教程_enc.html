<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a97eeb14dce168837cfc4712b4e9ca3d0c5299eea3352d68c9750d421346735021cbc64aad61325a4f475a676d68a16dad938f3191ba04ca88d0b7d5f9994b95965202bbdaa4099e34dd87178263464d7cb97b072046951a800487f36c5c2481f0e244e987a89812cb0fc9a42cf390e9ff114457ee64a22f16b5bde8c10d8b9f2e373509099e6af41dfdc49cf2646cbc0b1b6a203aa9034c88093eed867883ae9f9349931971e25e4e06b4beb3e22976c40c82e337f46f8c122c85d8d6a92371a68c01696f559eb2b46ad42e58aaf81d5adb9aa3a07e41da95d6b82fb2b3a667abad417bed77ef27d290ad400134c56bb38b26a23336f492360d9a448f8ebd203011e199ad6801cdab46823632ecf47daca200b07e848a96d67dc1663ef377cf9b41e65f3c868a9403a299aa4c4b34db62c82d85d108edbe509b130945b250945182227a0dd4970d358b198784b881e076e950317cefb5f1d09928cb5eb6ff82dc6063d3ac31ebfbc37ecb6824f997a09c894eaa3602f0cbf640c6d69a52dde566c2a2af6e0ec3c2d7eea1cdee68c33afd0c3ce14dfb7e8b5edc0ff3036c53a383417d1aa4ff3bc5193025d37f69b6a06db948d20691b0f28ecbe8f457d07131bd5908092b171514cbb4b1c2ded299e6d476936bee93cbb6a3c7059218886a34fa343230debe8b9184f61b01f8b5fb8bfd0979e0afb419541cafa4a096cc5a555874305888c733ecbacc08010002630680ac1b1388dfb352c6341da87a362662695057b092e3a2254b7c135042b13b18561b1fa479c9dde011f524802c4ad18b3d96359e0f849369311f7b05fe8cfb0da2abeecf28a2a8e28f4a627f161a7448e1edd63d5f8cd6bed221430500ab78e157f39a433c26e4b2b61c17e212e4c50fa7fc303ec46e2fe2df19651e63e6d15c5b4682820fba1060c03a00971ec0c800f0a59896770a95b7e723285576a70b85a1e680fdba657c293a20fbfed5597ba6ce18ada82f6b5c5c6edfaede11a7529195632a0c7e90e3e2201c72d38b6344d5083d1c2bd942c062e5c6f38fc3ea4e57c42e895e09e5ae9a50fa729d6024c2b21e306732670ce0821d91d99126bbf22c8b3f7a1a9f2021957829a33254c3e42355cfa429c80389e2014407a3793375a9fd9393e19e29d58697d71eb6446f7fc66e47869bd04c8394e8cbb7c965233159fd0f4d947f1ef8c870fd81f99a01daf3a4043ddcf3514177623417f4533376619e5a73b311ceeeee8e1f90686bf666e0ce1afed03445875e30f71803288437921ccf057a27c734220d1c0d2b2d0517ad59c24b32735a930c4212fdbf61e1b7c7856bf03f98eefd75446b42aab6d7a28949617209f83466e01cd9c3acc87d54f26bf18b3058fc3c453ec74ea418c1939ca11250279a800ed1b26a5d12a4a314430b497daeca0a9b3193132a92c46052c4927b5e933db357d553d181753e7e3b1a43ab3eebe50426b4824dda9dabbdecbc3221de2e89ecf6d3a4f1b6efd2910a9f20480c2c23a34839ea8b238db2b30b9e9bcc1cb90c86aef77052a61018b51eb89e5abe045fcf477a90c5712d52f749f8a97d816d1d461e17aa564a5a33df592b2e9d51d97a2b14e4c0cefa6c53ed8b27e262d1c53fb2f3668baca708e3c120c9b8e3ea47a615237478ef15a999fb88a51a400460824ef46226867bae39e134243f0160cdb4e402b4445d1989f46d9474ed3ccb0666b001741152f8d044ac89167190f304de5aa797974517489c24a3c448fa3bcb2e47441406807c080c5d458548f29e355726f52a8c0c57124c0d5c324ad806f40d93232b1d8005a8bdf6030e8bf0b27576d11aaf6e1bacb275183901cd31d950bd7005673bbfc2f225fbfece86938a20b3dc6e0c5e22dd57eec2fd7238e120f5386423f1a5e5cb2f23e0ab4274ec527940ad323afb1f6853d99144552ae036aecd0e8e470b96d04010e5db2e9d573e03b5ae684f8fd12c1cc6b3950c733459e76a4a9a65d9c1beace0b5dcb727a0306ebe67b3cf281f80cc6a329582446375a9465c9afe730164e7cb93bc2aaf4a582bc86bec33f30463b7b85d3bad7951f58a7e71f6bcfeeb44b6878a6cd34252754a839223055af4c2b3fe3489e25d43268df5af60a7e0498df7a73ae93d8f913115a27a61adbd98d170ebd458a48fefb9b6f02564a4a90324b1c75bbabe43eef09659d7cb40dd01c38d134cf68aeb06ba2a44da52b5efdb53ed1429a3ca5a20b925b2f143b2de200cdf055d39369e29e8839004e3cf2a51386b7b197384fe5a319092395a550da08afa6f8584b8f287f9a02cd5b034b823871947d1e283437bebc97833bc13113c8daa88e8dbe21c7acfe93be20a2eae5dd749060063511e35b3579cea1e09ff1806905fd015b23d31ac987107fd7c135511c930c3d305b8959d8d57b368c1e5607c7fbff184dd4e3ff37100718a6efe273929cbf08a5b226085a5bbfe3a9d36eaaba550ebd5f93c82363121cb2007003128f6ed5b002d038920975eb2daaf9376798c7622cf84535bfefa37d5fcb90695546cb3152b220e0d95f6274364a8a846cb5b7ee59e3ee11367573da33ab23dd78d119a9ccb582b2da0cce706b3bd36535eee1d260e799c6b268a373f035a798aeeab93402bc3d4a0e1dd01116019c4aa2c66a5d94fad7616bd9ef5ff2adc0e7f6b9547762140c66530a9664dae1a43ccb3c9a98ec25daa0a2c29ed8e9f646a7bcb33946ac6eb9a2b141ed52cf4a2c0da364bb7203da763492d8a1986308f08e0b2a3eb1c46168b2162cb34f5d29ded8a257373835b568bb037125fff8a11fb94679aed719a91219d76e51446eb3d4dc1be15a2fd8cb04d727456661a0991e592b8b2e693947af55a6825e2d779a78736a29cee2a1e435b1c520e629466bbb7e03ea07349183e00f4ff20e2f58c6f61afc4ee5ed2b509a86a6c19e289658240a45bdc0f24196b6688676543dd3819c050302302f66b5dc1580e08009c1248d04212417f28ae1c6d7fcf8de07a2b4cbd4a84dc0a701f842c656e8e68665e4e9c5cadc45110e2d8d209d64dbef5a80c6b38f6d132a9b3a67d458bc9b53e6bd6e5c6ee5fc3dd2a656f2b99384a51236d98dbbcad5c745908ba10b63f5f450f1dcda13cd4c46053949f68095ce0221482231586738f0e4891025997a7858dd4fae540d042a17c3438c4f3ac384e7c5baf9fb808a32eabe9ef6108e51c64775927b33cccb7bffa54ec347556ecce06185e5b8bdceb42ff6d0f4a633cb34360238fc0cf0c27eb99417a3d3808d0d8877d54bb76a317c05a7dd32dedf16a1a9b2e036126421c62782e94f7b1785a0d35d549b452fc7980e4de66e550735bf9b0b2a70d7cf7db71b663f080cea2b781998e5c64f41b3ba5ad02672519ed4ee52133ae114783d9ed96c4dfcbb1532a03699d6ba72646a3935aa03abdecac0b626c8cbf56da0c9c9ebc29edb144ed553114ad5d575fc8f47b2715da23376b5a99da44e269552e321a3262be6f6c43a2f438428009d7e8c4eabb9fabe792113d65856dd3c1188bdf41296149e17c99bd89f8658c29427c6a680ab0183b8b6c7aa4661fa3ff38247941544b994196f8c80ae6fcf692689a8755fe4a7e1dceaceb2b3a016d3db6108f44c6674bf1dfb254c6ff6a17b31a4cf1d2c51520821872429f8c528a4a474bf6b81e70bbc2d73072b51346084abfc801fba2131aec30948d41258d9beed7d2070b95ddf313ab84b60ac602f10fe719ae99ef881840de4bef25ae5b5af4b5ccad64bd43d467e73c0f6040291efef5a40e909cf66810d9ee4519e1d7054f6de7223b98e9d689b3ced994b6b3c4aff2b233cca691345d0b26ee6acdd7219fc41ec7c4bc29b0120fb6ccd6926fcde2a9b87819070fbe11c8fc770df6c79e363aa684c9186be90a5da819c31cff4d8a7e3faf2f933ceaeaf869953d26d412aed79399ef7080c52b58fbfa2accb5c844f27f8917960033095cbf99b5557c299049260397b45f93278e4535205c8ed62748a1ab38a04fb541be5fa75183c740cc86fe1cd22c1325d9aa8fe238ac9254e891e39d3e7c3184c6eb26bfe63c9dab0e0faa1885faa98644dc12bf8c1b0dde554b062d920e33507b6398f6a3ed899f94b805842238afcfaf39074659c216f72a05b1f941d3b087d6dd40d335664127c93d5fe97597a771819b379e3444f32f1f6e8c070cd8bce77c9126e1a7ed7526624938079200e2a7512059f55034672af540c4a376958ad81ae95b6d231e5b88880c589bc093ebaf7e95124724bdbd9ad12b115601bba0c1b528a84bdeef1be8ffb6f5027125dc0e2174a5dd8bf24246e179a882aa6d3342d082f892c848c7f2a167610aa16ab1aba0269af9978b606c08a1cd425a40d84dccaa6ed75b2177d0cc9e2bfe981ff79221960e8b97b9212ad2567a527138688894827d1335730d031abae2cc0c29c20717c575a25c2560dfa785521ff2be207e1f31518949bb3766fcdc1bb264f28f731ffc93d77b2a65ff50449e92dfffc73c571f0a71913dff2140a8ae30d3faa84a76f73fd0c9eb19539c72d1e0094c0eda1b6cec778d49651e890f158102509623c5335959fd5ca29dee79e1b3cb9bc38bd377ed5378e8f30c193afe97309143ed4eecb7b1e713697d3c0ede5a7fdc324625b83bf3048cc61f8801bb5b08d80d6d7a44bafdc6723ea8b930fabf562666e1ad6436ef8a639611e5e16a97e0ddf63a8c709b062beee0866d63e2e2c298e363c388c16d4f33b8a0d502f62af9c8c55b051b9612f9d8a89f1dfbe2fb0d4fa562e8418ba995e58da63c47e75e247ff8eb4cb590edc834143607b397e3a7e86e54a1d4626d17d1e0b8f7d98e68aa50e200078672b46ada14bdbae38584a4e5ad625e94e9d16d2bf08ff69deb769dcd14eb280ae37f04c5b299caa36865e3503cf1331fc0049f0fd64cb27369b4134c81f313cc0453d1bf124a9262eb1ab4d61e429344ad5ed5029c21e11a7e6e80a44083f8916ff32d3b4719fa9e02e5109af2de0b758ab14297390e78af859de9734b9e39abf53ce4f418e91b23d7d72e98772e0f07c30077007bbc4f9f89b85c1a350b6d7c1da956c59a1bd7a19bb677fb8ed6ceabb40907deafa313d1dbe4314d1440a85596ad18cc76025021950e91f8ab5bd5a2bb901dcf948e15437b36245efe96373a40d3b156fd69e8316e236882b3e7bea128c203841b7ca0f5bffef909b4a977fd24e39ed45ca7d3c8a57c8635258c2ac9b2d6c0f18c489d89ff87638c2fb6bf3d681755a77bfe6b65b722202dc4c0d8200d5144f9151addc46a4aca69c10beec7a9048177bd4622083e857767d3d2da489cbc5b260002c454e46b967b9d538b1383000dc47fb25f004da60c76ae10bc76829ce27f2028c3a248fd1cfca0a2aa582d66f205e8bfaa58b34a05a28b7592133e94da878fb81264b1a45bab7c5d296f9415897cc3668473bef6cde5354b7f7f6e845ebf72282ca5888e1825398c0d25082baee38ac2961623a50b5f24e69c0dcf71d2214d0ac01fc4aa52c2f661993ead2f4a69171ae97dd9227a7899919a53230ae565c23954d067b2bf44a541dd7ed83604a97e47fef269e16e42b231a4bde3671d85be88d329172c62f4f42dfae2a84637dffdaf1c78d8f6c75828930e6cf95caa747b445002ba4d3079bee470f521a8ab1dd7ade060829e275ae1a6e73e1540a14860c08447a0e9805c07b5178ef5fdfc23cb20c436c16a56173834b7a14f93133b38f5888dca907c435131f1fda9406980ccf0642069011a3fb224763b48e1dcc9c476b62905e443a5a4ba7920b9c8aa0d8da283cfe0c7d036c4f9a3b981ca5c3a9005694cfe71d1de8b5e6fa6327412ead9c058e536a46d6dc86fc51d460eeec8f02e8e7889db930db9ce2e3692ea8dc9e7b0059accfbc3a91f3132efde5a19438e3ed95ffbe00e10ff4b87ebb69e7b490ce9bedb08d7577570e7356024e9f560d7077aa43044c684b3bdecea7a0506fda82fa10fd8ee24076db1a82d4345eefdfcd65cf27a256c7973104c789ac4e1b604d6b6a8a833f2dbe32c1cd6e385a788d084ab9790005460e17e972a02c9d147edf1b542edda7909fba246f915c6bfea8683f0669d5a5876a7a86e889ea4b6d0bc52aed84459e86aaa1263e913461df1a2f7e79024db9064520f8a1a5a4ad67490d24871ee777dde620bc3cfa8271e62f497be149ec23fafc6798bc570f8709e8d1ae6d41762eda7b8b15cde001521d5ead68360cab64b2b76965b407654c19eb1d468fd2658d31718f21b0998255701cc275e81d306513dd9787212f801fbbd79ddbb9679d937b10daf99ef9c5e2f04eb47bd7f140a29d0bd0fcc4746414e484513a1919ad8e3a8f45e07c4bee2124d5c744030617726e10af9d15b8c66e3efaf4419c36bca25dd31c43272f07da4efbcf83e20856107f417c627201a35f59d053d0dcfc28856eb6ce965572cdf1f16d10abfcdcc4a5bb768b467fbf2d24840bd433bcd70329afac7064e76628a4f56a41183ff31901f690fdce2cf60ca10feb1e0f20e5b98161caaa420de9d37a52601c30ebc865fc929f79ff8fab643167f2da41337b047b10aeb60d093b38c2eea2984fa6bdf6e0ffc468eb81ad61c28edf8e4e29010157d7bc41ff50eee4890cae80ca934e5e4715720946e812492bbbaf3aaa057ff8fc9581e533d562f43cf58e459d6efeaa88cae665ca81c9e6f7f311d735d0cdc0c7343887ca2682841deab4cd8a83a26383e2f314c91494d3c7ddafef77ae65010e7095559774aaf00bacce0d92dbd1887eacba5390ad12d2b45dfd0762beadd2156cf8a7efac8b6004290327b97098a0d0bcbd9d0419fb343ad4f56ef9ad626e3df4ab82b8f571b2533949e939f5e29879d45f6bf9cbaf46bf2f3cb2d9f4a0af37d06077d8cfb82549c2ba25635c44a74e5ebda377c9659451378053d34615b7d5590d206ba94b35f20ceea1b97fc9b568be1d700a71478143ae45569ef5e25bb689a0a701fff9ba32745cc4ad1cf5e996a5cd79fb2921ad032c40c3bc7dbf506308e45223c774ae03f8f64a0355e054f8d50df687238bd688a2a6619f582d39deca624ad5667aab3a35597ffcfb69d34111576ac7b71d8c0403e79dbc767ed41e57e65ae7c798e914b68e217e4fca1cc9d4478570c7148e1881e01e110cfd8b8baa0b0d16a9b62ec4317da2644b39bc6bb4363a15c1286ff06202f252830949bdf6f34fa7e3887df83997d32b3cd080f6d56ae5961be3fa3e3dc2c4c9bf6095952b53505f2e71257488e4ddf6c129d07af0d7be607a3f7e742d214125e4eafbd8c2763adfe0010fa8eff7faedd105e2bc5ddd7a8819e9b8dd54c90cbf2d6767ac4e3f3ce148fe198424690a1020188744385227f17e8cef98ba84a43e4893fc42dc1a85bd35d00da39e2cff23771e8db0c95863914745ce01d8ef44830782ba7a21588f8fad13bee16cd95068287266c6106a55d7309b6632ef74512bbf5596020d7c71885f35455238742ffbc0dc5ef723b36a4a9fc88835433bc27c79ecb3e6ed938b98118d2373ff89934e323bebdde43292d265a72eb29e82ae2089bd729f65c14fe57682ccad21cc8d0f875ab80a89f6445b7429343135993ae930f986b90f195d22ea7dd800617ed6eae1445f04d928e0d9215b839d5b09335e386460642ae593d3569650e92776e486c8bbab3fd4d9536ff81e03e903fb38a9059839af9eb387bf3c2abded11beacc79981cdbf159481342d6fa5ea715a2dff8d3f1b1152c8221bdfa376b541c62d90577a993d9c3bedaaf183aa70e828529e79b6b8cd2fff6f784bdd08f83e495316f668356c1a54162099daefec12c266b211b48851f44f62641d55f3989175818a619a2f6b7b9848d165e565019f30ba6eff7d1454dd56d48ff58d09ee1d2d44d3cebd46be73afe7b7d547faa5daa7a1dd40f1d206c471fc2660e4080626e4892582e0b0928c607219e1db70b57321efd5e23b1bf2e1aff9f687ee459648dfd12bc3dfe760260e60af6a18548455485e522435b9ba4c0658f889e57cf15ad602450de7d8913879b05b5ff4c310f6756ccf91fe15734dfba39add6f732ac73746be6d5bd872e4464cedd660beb26af7fc54bdf99f92a21d97f0dde050b44702d057707761ba41065a0649f9374e1951414e41e2ed40327fe34d38066bea319a3438a07c1e71e024712b730f862c8533b4380c7bc7dc9ef226f9da602e51937d1b7a8232bd38a9e6d4b309cb177d411179245233f8e5045af68e5f57c333a1f3e5cf9d69e4bd0e53162db62d80da0bd7b7aed9dcd39835ba9b90c71edac7aa63aacdea73a17f265cea92d720525b8ebd511a6033f3f6e44bece46541a920cd63072c4ac094509adbca30bac689c10f0a582e54d5f11418a67d6234e73ff2187d09ae8f8cf930800f9d279e15db51e7f46b35ef458f06f0e89740302bddac843b3543e4de29824210a2d79b1333f41c2f00d9821d597a9c736d72be5e4a23877228b1844a9ca3a64f2e816058f8e65dd4a28cc886b0c653bbeac93bc9a205e8b63cadd7e3f6b3bf1529377165a0cc850e14fdaad2595723f60d6a5f51c81301f9175a5deb72a4e2f19d27af1aa5a570c8b08c775021e4d715e1ed10678568c78dcf763b274dff8dac4176f2af044c5edfd19903dfe1a8e645f48f0c3210f877610e59a670164fab09ddf9921e08f91a134712eae31ec5e6e3c7e6c9ffb0e25a80d648b56bb9d769b127297fb806cdc17e556795bde49edf497508019042993bf96d18506cc0468e3584d5c9363383f7b9e3dd6b5d29046f8cd15a41bc5392b9bc55915c84acc42597da38f9397ba44afabd962b9fa3e0f4cc910c5a6d9c7ce1e4918eec725d63fa156cd7f46bd336d5b626116cf64d98975663f19200b0e9927b066801916f346f6ff0643076015497edae611ff4b92fca7e4c6c1824c2790df9b0de6a075e3558aca2d09cecc54b912a07a1fa03247c0286fd88c4162355529b92690b0176d21ac3dd017fb114f13a4012499e2f3bddfbb1ad6a165b4a46fa3b122a23335c23f07945d03c25e2dcc7fac63c2196ec1bdae8c4bba1d77d4c1a6a0e0b52cecf855bdefa46e8591b5b3fa23894a7dd879999fa70ca0150433bd7745c08ec146862f026bc2bd673e2563dd51c6e221d864f10bdbd2733ddd64836da264bb0faec7485a64cb876a4217b050e1cb3fc88a9398b8c4319a91a3a66e659dc6a0990b42efa99dbcccd0dd1e92006cc4b32f7086b6a30ddf66f31e6e5c8b3ad6891fb771d23206dc92ad1a4ac049c7750f4119481e1b91452fa4403d3e5cf237b800e5757cc7f698f102ac133342fd1c14e55ff9e41db6939f0c7971570411ea0445b52816312a69b6f7b834642dbf9a15fe20a8898bad39c876360ed05be18520e0675c13c321f69d842463bedadfb26e1e5f69b0f1adb137b5b031b92ac00c219408c73a51f3b94d7641e69519d989e92c5112c3574ac2bd69a9e1f482b76089c1129f48d24a28b7a315c9eb8afb5ec942e0a8bdcd962a1c82ede3c34c83d23581f38d1b7d7589c8f3fdf90b672de06257c8f982242ea8ee8e647b6ef8a6a059916884b41438abe2a5d6119f95ce7e58bc223318d645bdaf1d6e3ee39e134f8e3f117e6a0bae5681d5c154fc71ef5f2b8a3da6c45ec33aa659782ff5b8dd9ceeeb89e582eb1368e4904ac5edb7e11fbdaaecfc99aa27b31af0aea89ff37ee975cec82e1e45cb64b715d14ef173b7a951abe569b5df7968eb0f3789dfd4779930eafd24479ff4bada9c565ddfcb8e87c2e444c67ff288c421fabaab856cb8b978edc8d83c2b0fb3c99f4f5d977aacc3184c17d284cc52ccff6fa1c8edc904078fad06e687cbb32955f5691041ac817ff9256d8c5cfc302e6cc073ddbd1c565fadf1b89631425c5838c87ba556227297e17953442b9498ad4eb673d81d3b6e6d9ef6bb1b53eb736a2eeb56d2dcbc49ca73cb0b4b8ca88adfcbcd8536935557cc691caef18d471dad96c4729bc4c44c4813b6abddedac180fa7fabc500ed6d9e01a689b2b39eb00447227573043a6ec1b4196d3ec7bb09e4ecb407bd1cb06c7aa036fa5c5d74aa49e10d0f4c954f9b9465eb0090bab4070b583a1bbac0797c4c6e9ed967e2f1a3bf6d1219b72622fe3aa777a717f7b0a161b8fdf667d822bd175439c3f5d6678a704b6f9a1f5541e2ae4b3d45fc865e5f5d6bfd9d1c1e9d24f3c3d7bdc676fb9299ce62a76f99d6afec4481ba11cf087b89c506d8159194e80e08703ae08379b8b91334a34cad719d9a74557393d616dbbaec9bd0de626ebdccafae7a7f21f083c47aa56ac42316f675865474fe631f5e28fbca7378a7069569468c8f4dca4ef98116a39b038c69e584782f40c337aeaa6085746fac64bad3c7e1fa6e3bcb952c0df556932de3b9a5667b4e0e551d466883840af6ebdf9439dba1571d4730838f8ecf3b33c33318cfee4fcd46c9754711e1031686522963bef250df44e10ba1e719a134e8f40aa211090ba3fc7b247c1c5b7a317b06bce2944a7a62681a438df06463b82e0e5bcf0f31f2f3d60e6cbe8ae0ea1dbbfe07de6cdedb0ff566820b3a1a5dd0503a38dd10c51b3609a2313e464f221c9966cbb026520b7f8774a8c272a3043ff3866e7203c75de58405076fe474f2dc2dc85101921b0bfa1a99c5087ef4b4e3f2987212690393a248e46cb9fa768d5e73a165edd44e85f02dac9b12f2311bce4bd7166a889867b0ef585adcc0453b99964f521ee7a4daedf9f860c53f2eb3cb1221afc037c40a395a3b7b7dfd27050765d7f7e0e8ec472c2968ee80ecdb075db74eef30ec342bc124528c00532ff2e6dbf0c6dbb8295a482eb7389f5e96488ee1296314126c34a81e87018cc1edac0d2676f900aff142cf26f84fe4725a11f5fecb0ede1c35222410d48b0fd9c47a9a2408579daad8bea6f901d039e7076204c917f55a6fad212583e3b5ecce80a9c531fb62d8fc4296ba0e9239863815ec92fc126be96b16e6254498fc343674396d02f1726de31de9cfff278458a457ecfa8df6714c824182ada3672fb1a0d9ddacc5da5e0e0b56e3c80e1bd29ca091da45397cf327c76f7a8a99a0950378bc70b6104dba15dafb8802f9b77c1eccdc7a5e8655468ab8999c3152f7e3741c783a217ad88c3ce0595a9c6f466eb84313732155aa1eb45bb9979177de2f4156d92889b2db7486d1d76a36eb40467ae09a08b61486e8548799828a8ac5e8acd6dca6c54bd95237951c9f6d24d98ecae3394e64fefc82aea9e066f87037a592b6acc6dfce694151932e91718e502e0f468e96120e3bb53a799f79e52d52f91b8d2fc674894bc3c8e2ddbb5537db1495db9c9399e66a01732216e90bd3b9bf5e5c736f9f17c260f121c6422c081c2d7ab125722022da1de0430c7ede2f537f7b64b6d2c1ce6aaa3d56ff7cb765fd7dd6785cbc7f51339cbbc27be5d2f123ab451e14d5767782ae93412b0e80503457bdbb75558f1d745e4d9a7bd1564453d6469c68835baddb0a1841673afe5776f966f4640f15fb312b3eeae5ba388fe920bbe763a365355e80a30d98870eb4fecc569ebdddcad5ea2bdf3607a60e8b8703913ad47e25666e0ea26b6c018996e1706a597d0fd529ccde3fc612c27214031457b37015b9e55791474ae3b0b973bc3e29539cc62c9385d68e9f32d125360c983d40a30e51efd56eeb01a0b00180509327e89f9c14fde8ec7cad3a92dcf05dccfc3af991f5821f00dfdc68d1c78db259fb20f510554d6984d59c50549b7d342bbe234e791f7eee9717978ee0c8fe8372c11a8321f464555e9b50c49c1ea27e2b74acd034ebdbc7d9335f69251fbb49f1ae972e3c26d9095afeb5bf446b29f68b191a89a33c2947dba5631dfb8d5b51f3d8101a813b9110d51b21514bf8b5c7d5cdee9f83312700b9ebfbbe2ca5201d1d71480d1f8910c80cd32cddb1c377c6b2ab4e41dc787c6256cce7ebeccd2340763d4eeb3e41a98981a044fbd061bda49cb1053af8b4dd7b435d8809da8a4a106897a7319fcb257b136f624e93332d0f123a6884a33d451e660b77b3e08cdb20c30208abe9d75da5e92dfd8f2a8d10aa4022448c858f70a2c65b0658eb24e0f8f0b33363a8608e8bb73664ab8f4502c606f4d26737d6318669258a904103009409a040082e801b246c79154a2bdf71b3fae68b60b0ed0a27e77d483571bc7cfee8dcd6cc149ef162f4e0b1bbab8420a24f64eb605eb448ef1aad5d09b55f8cb9cec4bad37a2748d4a35b8e48d47b4397cea9d26df1ab7f237797854a1741a8f18ed0a4d4225a1047f6cbee78800b011eb432aff1377a28f3b966779a5d3bd9f3c9db3be1f34bb8ddd8fd7a8277210810f8efd779932c015cbdbc82a4817e46bea75b7aa2e14ae58842238fcb941939cb1f9d4fc7cb275f25bd404649b353212be8a565e1ee88782c401ce02fc0559966bcf55c11fe0183246e1a3cab0a2b601027c45e3fb47476fbe297c63e9164935f23c26e37b191774cbe1e970d74beca0f8fd38ecbbe719d4cce4cb61fa8c2a3d6beb51cd6cc7bc8789f05f3c77992785c7bc211ec36d7d96b6e342702d31ab40cd586ae6b657786317905cede1b6ea9a6093d127e20ceab4b8efe21c256093e92715ed3408be39c5fb69cacfa0afe5238d8f9690b93d716e6ff6a41169278ba6b3a0499fc903d778550f57854f202977eb84f0ba71ab66b7aac15874f1d084bba53cc61d8f4461b02c59af8907a2354481ea8d5e4f9851e6ff486af2c9eb661932032845ef91d16de837c0ef646ee2397fef26e610fb89ec61979cd14a10003ebe0fe14b132a96f4b54b6011639d848690c0735dc10ba99a76ff3fccc4d84b434e041f156261d8ebf46a5fad07fc85d4f664bd894a19df9d71137dca12dd6dc462bb466a2866c498168bf9f6c85e4a2c9a88e0f08c3ee9ae15763e4d77d03df5f979d5bb1076b2c6c8b0a70879a8776bfadc5e109760b3e27593a45549e9e062b4dbd323786676a2b2377ded89f83035802d632fb5c63ad19fa45800ae8cba5c64a2965825c98223dbd03999e5a8a3514191d1f33342d473956dee67e7279618b68897bd2e92c258b679b56458c5fadf8bdd279c222b45e72ea4f3f95ff95ae58ba3139005840e48f8527b82c6fffe2fe30dbca28dcf94fd2c5da36586afcf18aa6b36738a105708df5bfec730dd79b6c0ab80b0f8300ab4a002d5c442e2f4c1c166ec2984b09d5011830836e330bd3c35904ca15cd7d6a795490cf041901d901157134a7335045d7b102743b3d42799a5751d4f0910e2c2e7de5ba1b30321be1dfaa6bda4c9d51579b38224504b5e8837546ec564c22d1e719cf521d512926bf61a1628a026dc175bc65e7c42bbb0f48ef85d9f168eab214d25b0397799445c54616694348fe58880d034a99cc1a243b18ee724cf84f23cf5c977f07d46a735b243aac7e60b8376c3ac33d6c498c9bb5a4d4cac1e44fe967d2405f87afa7cac930fe29238afb2b525aab4f0ba99817d6698da56ea32c6d6499d88818ac9e6637e37f1b7899f03eb05c9e9960e2e4c7d21ce5b72902bfedbd769082afb974e7d77fedf5a826feaf516738743671a11720f5e6ddc79e69c091f35109c6e32d3625cf117a5d2cbfd96af6b3c9fc1b657037ab764fd400d766b7c2e9d7ace9627c9e666aec227928c2404a0bd39486508cdba4534aaea8e8733ec98a771cc5c641e2ee2c4dba564f08d5be29a0d307d608b4c54d58e220d166510ed144ce334e390576933bee556331dda944bb6f7a068d40dae0a2903dd9dc423d290fade23f6e2a93ca65369a9e6120b76e1219c88f29dda33d7fff9caeb01e1e735cd7647b8773b56468da5999604c16296d678b1787bc98c9263fdc6f527222ab1379061f42485f7ad231837ac972a2b5a739798d89d6e7753c21281b1c0e09e90babe6f49e97ff71c8e6890a5ea9303a3b5ae6b8f46bc7a89c45a72a657fba4d5ef8b79fb12b7cc6225039be3a7974e8da2666b12ce63c85be5969dd956965328c2fdb10109ff1811ce309c5c76d18330686c64ee4469fa42fc1b83f93e1528a100e7e1f1242bcb7fdd29669234580b359588e93c64050bdd55ad6167308f7d55af1eec682244e8e58a306da6fa4d400f49f7958ac340f92dda1e8a282df727feb001a98952d1e7a27f85c89c4eb99150b436e5917840d23634a3c667a86878d7493c0d5c019b9f99e2715aa03b2c959d25eb103726c27ef56ccb4874c97f78bb802b45f5e715f0bd4ab08ea5892ce5c02e2773dad75aa209b8b31997a6a4cf0a23449c932b147d9ea1859008426ca0f8c3e7d07ac8b64b15d02c48b502fcd013d6910b5b3dda3f0eb28aa57adf2acc9a230b809cac63008200b060f5a1d6fa0832602134047280bd10d26cea564a29721e10dc26963e9a55c21b9d2cd9958c553f6e0424a3d4dd13a9f1ef95d51165376a75c610dc2204e78af9ea8a94366aa448f9db28914b24075387c7779031641e3b0de4a92b44545217bcb828cb0c1359240c18f4f4781de185e1bfd7d7bc7c3ed55f4322bc753403d1d51ecd9205b8c8541c3539df814448ae190915265dbae82cd26cd3f8fbec10e510a4623aafba6378d11ff33bde4522cfe3d46c946fdc1316ed0953ecdbffa1671d4038416500f9c22725b2690654caa281a2062c932124d7157ae81af7aae72b5259c11b07d755b23268ae38a10b068def776a4f8c8eec03ca398f19549be9b9bfdda83fa4004e180759441fad9807ffe18a0860850d95a908c570ffab394fcd87bb25cdb2889b55a39b1ab5c1619681a34e33d1828462ee48e7167c671620c2a6e010b6df3e3b60881c854b09c127457704df8c1bb3668aa75152f144e32dcdf36b147de0873729c13062aea861df36300737c683aa89fa05eca36c250b2a0a09b45bf4d33d35684db003ced5e1e3a56e8c4fa8835e44f830ce5c5252a1daceac639cf3be609aeabeb6548f90b545fa8df6da7efb6d40937404626762b0b4a21b8b8784d7093988c3c0646fad4ca84a311860f78650fc6ffbacf2193fd2562c743c434e14ef362d2754923835e138c61f1088d0d70beb0d586711279686bc136dd0d82d90bb88f5cf8ef1d61043ff47ed8decd37c253a7ee3843b21516d2501bb0fa940c5ecbd19eed9ab55fc016d50844f3ca37e3f4500fa86fda29d33de8b5198710e47ed04786fc484aa99eef5308d2a732b41f7dd760ad5056ff436f283e3a80625fa0980d4472a8acdfc91e043134b134bb236c9f463b24977e3db05d2401624cce89d294fea9a75fdc6ff0562550eeec9f1e43b17553791246761430fd0bf7d3e02e5cfb4fd13407df9362dae367eeaa1e2668f59c9115e05a2c0030655778be276962ebccc3647dafdce34c9f475f2a9044914b52cd037d498392b0e8ce42ee8ec799d69005f2072f61974b443d74a3d88eb146d68ed9e0772ab1ae95abcd500dc473902bbf62a8eaaa58714bc7c8d4019f972f7bc0cf97aa42b2e381d5d01d4c42e1d7bde1b9bfb97ba7ef831b0d5d25a8a3513490f2cd13c103117ddea68ea1d6ce471a516a9242607dd53d40842aecc0f3f2fa707b51fc729733f11d99f266bfee27b583d1f030a54c597f4df5ece1304d0b6095773e9b991413160ac836e484d36f5c163eb4a104da70b74ecfd3860d3e272952a9600ea445bf22904fd7e8675ed15cbd646e2f08819862daa891da4f5b3d111e7e6325069b9d63f09c066a6ab602ad1b492b2fa9587259e097adf7263a8b37781e790f8125e70dc77b2291f7c77528b757f554fd0b08acaebc2126a285ff74a967bbe0600c9bcfec917405cd3eef21cc36eedb0952ab6d4e66d810a0f2b90bf413ab20c0af1a5bcb1193387c151122e2db40d3224f9d33735ceb1e781b1eb6cbf405a77a378cdbc0bdf17eddbcf2310f28a8e47b37ecabdfa182813247b53bd310f26c10c11015ff90ee2e525ab2effd2a330444c068c421849e1c615435966ecd2f84c3cc07b4a4d3e11f4f7e1832fac396f852898fbdf4197126118f9fd347adf4154f85df618b1fedb0925ea1d8a54ee22b63451332f916f4eb1bfc49d44613a35795b94cdd43f4cc60d1a2095016d408e006f9ef927de49e96b6af8eb63e38a9f327baea9d6ea4f001efe0256890dee060690cf5f539e938771bd8cde4158ef04aad4781f7993e596936c34c45d9e554fcfb23df04618eca62e01990a534d424d12c20baba9c1328612f5890f771f833d436f6737d22d22894a2a9d0a205e7a1f44277ebf3858810c57620f3575b374cd883c62151a8a95b8e43377f66b9d4cecab48e5954aab23acfaab8fff2df6735fc189028a7d65b34475f87aa82135f66b3d8f5751d82316e1c9865bfb34d54ed63ca463f5fea499b2d1010ccf6ee587c9438b2225e0fa103a961b04d3eb63ff6437d8a2b9ed15a082595c8e2ef878e4a8ced32e82f6a49d4be2e593f9e7c4409fd443c7151172caa81b57494966493c14b109e89b1d61c08ea658ae82b53cf0098ce591602e4d7f854b25796157db582ec87423b92cd2a80e701c70e5aaf77ab400fd6f48281f0291291f6db2f260c601d4a6c2451f40e40390bab356ba5aa5596459e20df9d826c206c7d17959db1dfc1afd0470d4854065a674af6e54ccdecec2d3dad5547d2ac3850bd7d1fbaa90556ea152b9815bb2f4f87a053de1ca37009e9b9f7e3374ed7246ac277733eebda454f934b2b28cc5139ea0833bade56e2c064b24cb02a1da3bb60c7ef542618c80280d4f3936b92c51081b6ec71946009f782d80efb86d51ee2331323e0b92537d2dc98233b83d82e3bf204975ebfa66f7b4ba7521448245acb5384aa3ae92bb97dfe082ba6f3b3a835e7f79bbcf2d3f6c4232a31b119f5cf07fcecf10b4c4348edc4a1dff8636de1c06e0f077295904477e4f01ce5ae018642f01a190eb331375c48b84d846f2639a7b718eccd9063840ca6ff7a57a376e52d286a4555e2044d14c3573526ac8fabc7fc654327da5e2fe59af750764615272620cc6cfd218df8f71f1c8f9eb9dc5b7e72f2eb143af28e0a5f59d39e0b9a9a48a251822698c809350230a0b7e3fff5ecc0d427a6cabb3428d5b309904aeff0351dc74d3ebdfe3201f19f7329ba18464389606422f30081d283cc98cb48b94b3d061b5543c397f90e13c3c8295dc84015728082c80d9db609458e28b8c0e51ae882d55e291137dab859fe50c3bfefa397c6479dc0cc4f40cb3d6d024da53708f860855daf0fc982409e3d54bc936bb32a5a263c00646bad59d96b50da87371dcf4f9f92ae09c889cbcd09f954c548583198e233869d4cfb2d9bee6a5c790b360e0c0ceb433b231775565f395b9caeb306510de54f3ea569c4ab3bd6f2fe0906a8f468a3f3032b1ee4806f842113c037d53d7fef97f5e544d22e9e56cb5886c852e5dca549a26da6e1c818bdd2258b936006de70e41dc57ddbb95acdf1175ab55b84742a6215595aac2cb37d4df1544a4b38c1fec9d33e17aebb0b0aab456a741eff3e9e6cb7535951b2016bebb23c31cb04feb5f3f0ba9ec230e763313bca62c4d74c61135c702b932e0611ad24c00ab08b666b42ba5aa7675ffc6dc52905996faa722a54b99c25e8fac689a22829587c9b0a3e9a049f1991bc381f2826662677bfa583aa6abed7557bb12048865e7efb559fd5300599138e5f9c8474e0d4496539aff0efed937c4183871422d2ca454971a007fda9d9ac48cb7bfcf45","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
