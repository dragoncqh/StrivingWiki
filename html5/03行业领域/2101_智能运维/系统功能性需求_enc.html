<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"043e2c1d0e517690c51f869ee825f2a487a9714929371a163609a14699aab11bd1eca3265104147c11b763470b19e2bf32e6aaedecc3cdfd745b0ac916c52b1e38152a0b7e41682e5f3fc3e296d2bd8d541e51e7ea1adf3fe8e8e4040c6fa2087b036130e17a4ff0390029accf065e0aec47ec718deb938f166154ddaa5dc3d08c93ba70eea25571d144df0ce1ab01298067799f9c0572581a894dfb8bbf9cc7dccebec8d5c108e6f134c7b679d0dead2d91cc6070096068cbfa03f914451509be8f88118f6b7ee495b5bd661db0a63d1428082d04a6c2929a344f2826a555c29d8c05855ef16198dc9eaccfce30aaef9127a7f922b7301beeb8754358965e2cfa4e46bb06a0d5cd572fcf716fc5de4e4fbf078fdf37edc08de0746dd4803df5c79dc8ca08b2c5acae7894de3e5f55c93299ee9c116a3237b2993e76f9e92a67aee27cbcc0ac1771d89adffab5f50d0f7797bfc451ed8e1e207edf7abd1cf1a43ebbfdcc63bafbe6048e27f267da754e3a50201934f9685371ad8eaf2c6e31e1cc8f8418a7840f58ef129eb4ca207b54c1a112e5f23d31e1882dcf774faf8cc96f81fe859f2a814c81c51ec12d4a6e6fc4809d9e68ba28c7f8fc6fb9ac5a2d23c1156ed8c81d62abde4249accf0053e6be0f365656546c632e15fe7ddc36a52053d38462a5a7e26383d295f276c935b0561313d768c5cdf65f4d43177170dff7658d302ea7ebe89bbf1499d95bab532d65d78a4b2d12c9a70b2c01fa982e4ee5a34e415229e2d0a9cc0182b4a5b52d3c8388b53a6017d9fb77b44c577cdace3a89f6834a3af73015cba8f70b41828e044335a67d77e7ab1bb88cae005e35fcf13e26ce18d3948043c9924dc1840fe93297515b86dde604bb548e48ca6fbd042c4603cc8bceff4c841a3fcb2190b5298f8af96aff56ec5f247c7250011f598b0f7a16ffaac68e733e458cb1827224a1cae0ab79d10d02422f61e048a99d27ed77f546e3293166c3f7e6c0d322553ab98c7945ce32750dd632d6053f6201fa809296313e76ab7eab6e7b2fb1e2a5ca026a467d651526de11bdf368d61f6ecb9fc168429511ba6dbc2ecf740a5c84ef45be55c409862d00d8ebdc132729ede37f8097e483606c471c2dacbb3459ef0f868c2b677c729a9656fd30e3f53471ad2986e75d1e8be0f8098d763e1d4db9a2450c07951c1de5f326bfcbfbe6f1b8f11535d5802606e4dee24015b9f2a14c2405903a9f75e9d754fdce681df8de73e833d992affdfb42a7665c7a1bb12837277460d2d16271467edf6046a02b5dc78cfe904eadd82569993445b3b98a81c4aa63cd184c3c1f2d8fb58363c99631ac6d53e20da3df51d21e7a773090b386412ccbdb49974b581674460204bdb22a7517b9ecaf8106a70a6c86807750f11a944e45076296ccee962a0111175dba28ded3155b0e2b1d08ff9fcc142c2e19e811ffb4717c87c76ae03008eef3f698db5015399cb428ff475bcdbc3b511980aa6de24156b1b00c1abd7f0603232cf1820ddffbafe270596753c42901d8c497ad671a8cae36e02c0d645e45209f94b7e60cb77fcb10e40457cd4cb9379ad4bb69e2cfda6f07ab9e2d8c44b850d2dbef9f76cc029c2bda5291bd08055aaaaa17e0c4fd597b339f4139b3c9f9fea958d3c329e8845d6615db7b047e2966a9a974768ec16a0f5b9a5433cb3a80cfd0e491ccf26b55acf7c1db4b3d8bb29a5e9103b8c477a1a8d327c179e54606af7712191584be5501998fa18071b7b2817bb059631a43380620000c858700bb9ce614df67eb19bb0734797abf55414a60a47ccdf70e4bc5c2e4d9f92bf4e57539580c0b3f705d29a6e3260327c62cc35eea14cb171b61fff40533abdde9cb6f380cabc085cced28c2e40cb694ec78dbb77f73a4148a959c7ceba013308c8fc98145bcfab9f57eccb735eb026479bf7d9f7786eca27fb5761be2fc81e0def0974314f856e7cf18abe95ebfebdeffee1f2657f37855f59f17da390dbb540ca4c77921541f64109e6dea0be4ab4faf6722cb9491d35f0b1487e20c75fd2703cdcfeff64d16344caddbecfd4bb21eb3c735d2c5d6e2548edcddbc462bb09467dc1bf77fe080e7b80cede557a901d24a699911c81735db7cbf3b8cd046d6befacc794c4792a5269cc4723ef099b219bf817a2795720bdf9219797d028e63ba0c79aee551bdd16e88c62357dc2a5a2ecdb5e3a3bce675237876571aa838a9e89e7ae4848f5c49f5106e7cddae45815303f6f4120f4d96e767d8aa30811a015293e70d9905d9e7ade7a64807d6621a04c7f45537f393d4c06fc3dd3c8289d5dbfbdf1f7731779dafcac5003ea45c9c6991f73c8727d9bd98b9c3b2776085022cc56bb233b56ec63191f224e5f32a3319b753ad5583fae390de363d59acd2c5cc682874513d18fb785c86ea3d0ded911e99e2644fb93497ef6728576596710c91e1e9ff96a908c9a08db6dd2991d9085b9891ff1cbf68477eee83eba263421cf2de0ef015cb84ee1b8d95c3ebb2b8c7fc629f3f6debc58285e5b626b05ad9140a2a6873fbfb0ec4570843fb17b38bc508385f1054438731984b601c17f352e59dab2d5460b0d2e5f6f5bfc6d87cb9d960cb44d55900b73a6482cac4025284c58709436bb2c49e638ee45a73acf27b9a7db8eef5dfdd3d7f5a694ae9f63db3dddb07cb31449d7b862fb5d64c8aa7630348b90109eca1c47eb58f71f90464a2ca8fb67661625c05121060184d10f6dfe22c3536c7c358c0a470f6739ae50266bedf62b4ab296b987bec8f4bdc1352640371585e1c73febca553af114b911b7846d98ffe93263801e31f1cabc66e0647d36f0189d3c992d4fbaca13782f86d4b94dccf23df8145cdea4c35d57708a93298bedc8fe4da80588f853d948a4dd3118d99ad329b16afb1454d5c20b81d12fa4f3a54d02e426eafd8dbb14e8dda2f0be705b9ba59f53fd50ca8b302f15057cbca214f1b3b6817843af17d03a20c4dc29fc488a08d00a6895f610a82b85e9f383b241a2486e25180478cc7326742275d6192254785d585042c79d9bcbbddf86ee37766034dcbd97d1cea6376b261f1d25a5a4b484515f8dfc4ac4457ec4cd512ed1aeb76a27b2fdbd825a0b1db27f0741fff54c319d6db382def9c98efe48098a7bf1f59d87cc15f23ad094838a3c7f73392f9579326af57a26ed1466ed900a42503a2e48ff19fc5b6978b96c6f0ae614a19aab0e552dd17e11946a795ba40769c24e3f9f069be7229f4cb14c4616a3e265cb10bb9e72fd06622e1dc283452022d0da3e05abda100f0d93449c427566914dbf3a84ec74ef23b3c6e9445d6a8cbe988e3331549e294427c47ac959b70a6927a705cf4b759fd1abb9d1283d87ab56af3f1a33c94a4283ec65f5fef4aa513b7099ad7de3b8459d420cf2e53a16795a5c786e873bc7be546e28940f2419f7768d3e31f090b590de7ab983f8a178e63b8f33c9245f59caa86cf0a0c0f86559d8a018dacf9f81f7d4da2e8bfbedcf7df6a5e106fd5a3e63ea7e1506b54439465db999a6027a344080a040d14e530837d55eb7667ef1e645455a003883a6ca7e0deb8775c8ca018ea3955b1d042780f7c7c90e24a6b5eef50a45e4196db30a64b48cbe2b07d1875f450fbaf61a78e260d9449aed4b65fce2ddf3de5aee6bf802afc2fb8c9e0bad8b9adb045c1e24479706e4035019854f79b6d2c9c2a760f11e419e54212173c1fcfe8c123b8b1c8c29616f49d5bc08ac018e0ccb946816186e4a4bf44344777c903a5e9282ae86fe4d3fbd2b28e0bb2bea24a32d1e10de8e5cafc1bdae99f078a33b7523deb7817da691bafe8e63fd4bc05d6b59fcd622ad480c69aa736bb79d78c1029068de27e3725afcf2090075897801950ea4240de073b7f6c496d4c24108d572c345fa8a5916c61bf61e7d6163f10c35680f5860e838155e2cfeaaba6bfcd60aad7087534cde1a956efb93a0d1f21de0695d6509d8f25d90cc6177ec090e9652a790a20c2cd82d206ce3f5cb8a3c176315688418dece133b9bdcb95cf2c6e985c0182f1c8f3fceb42c4804090772a4913498a213bb267964fee6004591a809ad50cfe9f1cbd7d1b01e71b1331f0ad43b9b05724b3542a30d9c4447b8837f2c16441bdbb899bb21ee07b39cc2de61d9d6009ac1f0b67a3998ab54048c05af9ec28785bc4ed942e6a610663c32a3ce390b73f444ac3ddfbff591e9e37f6a87c39b8faf1ca396730244ed1462cf8228141a2ba50a3e4cb0d0b88b0f48a3f7a8150a73e0e3aef03016ca718254ff494740c8064ffa9abe40d3a9e59b9dd885242da758105c6c40dbc4efebe289ee8a6487854da9ef96f3217fb209721e175df712efb5da329c7868d8e014e310a3e2f4013546aabf2e3e8feabfcd9278ea253d40f8033a41dad88cfe1914d53ea4db9fdc111d7a203299575124c6440b387bfa1b82eaee35e75e2e5c22203e1ddd73902d0b0706a614579857556ca7893108457eaef4d6c44f0d42fb623a1095440a000ecfd96a2c7008f679c8ee5cb610e6e331dfe94c433d02189392b02571ae3b2b53a9fe996fa5cdadf64df71fc549ca88f2cc817a4caf3989d68a22ce6d0db1c6449446fa0cf7c914129c771d35d50f98d6997feeba1879c6527e58b37fdb5b51121c273d943794ecf7007c0b6ccbf5d836eac697d4e78d3e75edf02dd69e5a92d2edbb57c96854297a3941d26ca8620b63f0da28d763f6ab8520083831ac96f525500b903b1d01c7a694882b4d1d616df32ceaa39c7bf22a7c52556bd3e4617bab4fa0fedb6fbf3affcf89215c3fc5055800443e425505692a0a655991d6b7f0fd0af23a592c3f5004cfe074010b496a7fbe604938c5740ece051c1eb6177dc99a8dc46415cdb08a7100e02c5c6ddbb10489c274301b6ae87d0c852514cb6a2f14a7c004f2409a5e5a1d8523487a13133a0a0e6cdf4c65cff670b086bdc0e4a7b59aee8a0522884e3322f2b738a4585afc3fc92075e7390eb9d9de710f5a8212a562a6539772bb70302ecd0d2838b1debf2b9b904974cb18a2a6d0201cf9956f9b20c00f03917c5a3694f3265b6b8be4c31baf2a9a5bf9143f75736b636aaa7c160c0d81833029805de4a273ef742688291f6e98905b0bf36806540fc7dceba79e8db3bd724e7e0796da2591e188a0355bfa02213d61ab6631c79132ef4b7cbd46688004be67063e4a72c63ec64341ddbe6c124acf40f933c3d647847e3d3435a1f885d11cd211bf47c73d3f54a4324d50d20c0284ba37c78f387bc26d1ace47e6dcf2d56ba992118179c836add3fed67cfe71ef774639faec156860a8971a93d452774fbd48b7947d4d8c13172339819d9e8e34933777c0a4ca6aefdc22c26c9f7ff69433db2889455f97dff55f0c27310bcd0b80531d1fbcb0ec8f1320c7de8ff4f132311fb13593eb25dbfc087c5617667a712837ffdc8c7ada70322be3c92aaedb31134cfa30b9dc2476dcdd8bef36a5f8f2f4f61264596f424618d8a5eaca6a84b1e0fe34e399947314af02e68eb8cd7a2fc16a40f25d52a85740b34411ff2214715f3b37b24805848c1138a5a5a35d3337a96e9f8ae9af730f63e84b271bd3e4fce2cc266a5f3c815ced0bd99f0412694f611f5cabfc553a598535adb54f2e98b306ba8dd8750fe73d648e39f8c04bc4b79f5ab023912900bd68f4867549eddc6fd5bf52c2dc8c1d75cbafb9e04ad50f507543e82498b8b52b4c9edc8d455bdec03e8f45c743aeaad6dacb71ae6e6417329bc9f07658697b5930289a97091fbfe24fa6af582a46ce18f7ce37baa374f6b7c1857f5e5e9d96fe611ce95c6734803ad6a59ffee7d25b6f86fa564894d85656c0caac30e2523591fb319773040cc1ff440497c4995fc5d5676165a77d7037abc561fc9fdaf6ee8640bf0c616259b51c26b4d6808df8c6b7606c96fa60458b73ede3442ecc3514c3e3c1d57fa05feb802a54915ada22e7e3cee163eabf9cfe61fb569e976d2fb0c581f7fb547d99c9e434db230e579148b3d716defb67ca8440e1002c0eb28c0b700cafa13d7bb35f7182c8af3c794a05487630abd32cd12af7c38a8402f2bf76f02f3f17fb5bc55d52d556e909f39383dd27f4beb5037bfe85bb7043599d4de34f7b4ab261f4388fb97ba414f1af6052a10484f539969336a3a200aaaa02879ffab69869f0cbdda5d7d339369e5b71b29bb4597cf8551f2351bc1748d542d9a4f98dc7426ab6ce43e20841c2a66024702cda5a39017ce8bfb71c4fd57f39b540f7d8944bcebdc1fef883c56b424733ffbe53b07d8ffd6df7f5b9d6df3b518f41bd63405b150bf0a250539841ef6c1a8fcaae9cfe540f603a0d1f183c17f8e5c8c3557dd64996c212bc3bf4ba8759a974a3d36686e6c5298377456c5d43bc5ced916ec60e4cb9c8491d940a68c40a304d108401277d6fc39581038781e6e9df0f78a85c79128116c214ea332d099b88c6568474b74953feef459550eafbd74e9cb584ba10b5485187a901ba135ba5c1b2faaa0f32661041493af73cfae79feceed783ccbb9b8c9d8c3074c660ac4d3e0e3533f1a0b2f4f13d34a835668d04d441c5851950519fdcc971d349579e127ef9c77fdeab24537e5b679aad42b36ce8e84c9d0be32c832506c50e55fef594a5cfdb6cf9704d54119a62311c4bc7f0081d01e1aefc6e05d28da38bc97b77066a9cf74c708bf29598ea446404bf4433165c3d5d92fc6ecd43330da2dbaa5bbb9e9080baf1ad595d2902e23fe65675cc5cd529cfd1b64616066ebd4b4f19ccdd66188da8975e87ed2df6138da5526299d5971198c37014d606475abc5b2d4179995de977d9a062cba7ced02448fc0e4eb7720d232f04582177434a27ab4ceb95e4e3cb697c4a23d5301e41ca1a335c789a2bc85ff41fe65a65f7e994362bfbce30edd5e8842915c432fdb15ddea0b11b7a4eb2ce6db4d49626ff2b8bbdac8f12e24adf7e9c120c1305d1d5b7b25f73d92cfe469d46ad1463732e3dd34fa668c3969e5f2148b03e09c09fbbec1a700cd44005127aa28169f7c49499710a1dc55803c0b841b7d0b139d83b844992d2ae538c5e926bb0fb960c3ab76e3e3f15a5e0d21231b856b5d2075b498bde588ac6e99b04bbb27ff0a3e58a88cfe833265802799f0851bbe1482e975086138ba4660a2c4b1117143a3a72195e0ef0221239366e0f401cfc7631f6ec32031299b0121d3d5443bab23a9081b5800fd804b8b913c00e4e7ef496c294e3782672518fd615b09d1c8ae5a2141d970ac70f1ea1f553322b516a62d1ef4a3bb76028a21cbd80291a95349cbe96aed88c97d35b04f71e200f667e06e3f63b232f3b3d0fd9f7d66850af9db66ef94cad99a2641458988d8be016dd8ddb0a2ab6376e8d9d7af46a285844ffb4beafd28e45cedac521eeca237af276303cf065ea6d428d2d4b43af302824d2c7de181fd5d183c4ce519547e661ad6f4877f49b362c73703150e329531083236b5449f952253eb0e03b4e0b4644d388c6294bd4f6be74caebadb7fb9cb1afe84db9f1ecf490b01d101ce08565d510e8cf153f7020add5181f0308340e8805315e324f2feffd52f428b9f564fd556796455e7383ba2809f57f72ca8b4d41f18592a93284b75fa1c8da1389474f6401482a1bfe4556fbac7fcbf9d5043a25548df2514babb960c46b9bcd5a7c9fa42e5c4bbc49827d17f1a31ae06ecc1a54b1d2f000b4d344cc0ea51e9af0c9fbaf4861c5077e5e1614816d7236bf273a9a39aa3ceb753c2d4751e05daba15850fce87490a9a2aa372edd7a98b73cf99779b9f9666cf3d19e265dd51d23fb38f4debb2400065cc13d8de42ce9f44a4e6ed69b55e77e7b03d995bd68805b27e78ea25fa811c0b11e425c89dc5bbdb595887d44a05388721fb1cd26338f7a0a6587148dc2823705be730a4dbe7acbb58aee70892989da8b079c0bc082a2309eeb3a51342af5e1ae831d7fdc14410fdc50265c4ea60e488322d42c340217ef53882fe70dd331d31e443b2b5308328efb0cc951f02e875a86853cd579d45746bdadb981e1d7a04bdac45fa560a831307e5c7dc56f1510027b315a9557bf494c9e7024f5c184c745c05331babd62c0be5bb5ef8c66373ebf31f889cfc01076789c06a8396c1c1ee0fe7533d025f1dc76dcfb5279f1e0e64f70c748305b00e3d5f1062e7319534c0372cb22ecdfefeb37f34f5a9dc61ab3f15749c66d7b99a775a9d7d1ea690fd0d754db48d0218d1d99de9b74e917b7cc5156a24b1202ffa1299d8e9b90cc2a7a2ee44387cdb671d72bec26b84ad9740d8063883879f508aa9f4a8b86c775d9481360d6725ab716c4ddc6f25de60d3953af8ad571e7a8e3035d29fecc6df4db6f0a8f10873eac0f4f73c9ff935a51ebeb3bab75720a3f1af56b785c84175f3bd59326ae428f2d4e8fc60f8fa3ebd557281534507c63421744d73d3c10b1a04703b794ba65a54f35f916dd5ad65538efb098fb66f3f4b3262ca36d52cfdabb12be186f1f01f33085b6a0a92036a7a4ce54088a725bfdc4979b8612483fc167b03945d25b25353200c614d593549973bfb440b70d252ad5a9c90a63e66d6e34b0ff8ad4c25bbb18223af380abadcca3483746f2624599fb5e4fff293b70e1eedb681f106edb5fa57b0e4d9d84c4d8318c67b819eac21ed1cb20cd8e2f2a765ff29dfb4b9fce48ff83361b47b3f574b3447f8124297cce671ac7ef8511ee4823544044a44728acac95e3dbcdab20608ae3f4804f55e108e9adbff74b38c43b66f60df69ed0d72f9b1c9523fe38e87a99b847a03d8c1ff5c4975439e6277663e009a5148c6e7534cd7c23a1b27a6ca56c0f253cbd54e80ad32d38a8b4ea58a537f9d1e23440565644a1dfaac2ec540f7edfb2a4f5479f3f4512bf611d9b94d0bd69a053d52ba10f9aa492357c8436625c541644598bf597d575045a2fb769a615b87cd20c75838825fc13c0d57b7616e9f2750fa979979b82b0a71ba5f79ea2d86993c804d4b1f7b7d9f230c00a3d4f8d5cea49d1647e8a06199725d414185fb7d148dfdb06d77c277c942e34df0a41b171669923d450dff587cf9177ce17209a8c18db46f8072d2575d7685e7ffadf0ade7c7da65ffea75ae53549a65572ac268891d4a06f8c628cb6cf13ddd51294f425b677e4cacbac1a4d723186642a0cc08cbe7dc5304a4ef448a8532252523b704592bd39630df10668a653602fce6230e0c5e614760a250466bbd142e3a299bcdc9ce73f3e3471f95b3bf6576f0128722b5ddbb7861bade41e440d103d52f1d10ed4630011fd031bd1a2bb476e4f27cfaf42cea93fbd72a6c46a6b63ca77d9106c2ee03f3163b5a43e52f0580645999a56dcd9d1247aacef44cdb8fc23a60ecbf360388c69297ee0d20ee9c24a468ab4fb9714eea5c0738094c32d97029ee750491cc71d878b642d5b9fe0decc6c03cfb806aeafd5b7e0eb7c2e01ba88c32661862e0a906405c29055582901705c90a9dc3e36f58528fce7a5be2d7ddf26c55de40e460b804241fd71f29ff1a268f85c6edecca5398e5d9dd758d5bf98367f3af5a4f65fa426231e10bcd6539a7eebcf7ad693b095c4b71f8b42423722351827e06c491e66918e4c1b26f54cc9970c9a0d699f2420d833370bf9cfb436bebb02f61208e425e2e0fd8262b5e9caf475ccf8c9eba2a556a150bdd7342942e0a8c61d18842670575869a3e9aa1a0eb67687902941ebb635ebde6ae91df1959384671e5e6e833a563fd8b50c697714805f8a09ebbbefa08304a8d03fc603ac005c168fb994e92ec01bdc2f211fe55c1f9ca65a3b3cff609c46d7064c9e90c8fb79734a004776feecf3f2ccb440dc291df2b5c53f3e01934599d76cefaa050f96f16ca7db13b8ee3bb53e5a993b0e4e1957196c1d1e5dd96fb9559865bc605434464c9f78302c4f40ce5792b65f99dfd3827ad3818c4e316f47205620eb14df855b1f6b7997c3906e6ddc1ebc38f5f246d1b597d6f32d1e96396486fe65e735952271dd2ffa8bd8cb55b3f3c1ca206443e63f29c4d9805f26fcb52adb9e6fc2c47ad9b568fa577d7beae5523cf0cb8ac69a2b7a897cec84015481d5b7922b71458350233ec162b33d223315cd8d43b1986a3461dff1b35aba67e88e2e9ee20fc8bb98927abcce3a4541fe7588d9e800f70fc4905ad3147d82670a269fc8998002306a3c72bc52e96ecfbd41f195bced3c1c40fcda1f649288cd188654ab51d88f1d3ef800d4093c1db75865cc29a175a1aaae42475f81c7b975bc9f157281783ae4aafe7955a71b07f2893e4bf3fee377d459ab9146e1e785f7e88b100c881a7c039e2a14e54a071d92d7f3fddda15b297b5c63f6d3832ced09f7ba2b11e5e1e8dae94ded9c7cf6c29a74b6614bef29e174f247146c06db022587cce4ecba7c3853ffd15013264fb27214a3f3479cb03b34fdbe04e6444c307ccb4970bd4a4319b5de549ee30ab2ef1012ea291c15e84781f4753a67194ce4ff49faf270e3ef5658af71b3a34f076644a53de39eb1f9a35b03a91406ba8d0d7f40ef07a0c19af70e93e061dd69f05f8f296666687c4ccb39021559a9fbd580ebda020c46a6774ed2091f2735fd1d17cd4511dffc34f24fab25176c8d468d2c34e759a902bf99e8ba4d85b2652f12d340b9686abb019998defab4b52ceea9da8ecf9b2b8d690b26f7bdb97966a082a6f34bf8c1c06076b79b545ca7324b238d06b20cb92296493d08a6b65558990e6774a55816a44f5afa56cf12caf1c589385b76729928fc0e928e2eb09a081d38b0401c7251924ab48293d735e74cfd1203631cd05f36470d0c64c01aca512ac7e2abedc40bca892a7881a8ef6e9a22af492e01a29cf36e868d445d2307c148fd7cccd710f99085839da14c5819494136ce9c7a4217e1f5b2040b1b08e8f771493048c64ac470b22703e1973faa879dd04255ecf133cc2817f7a773c64e0024858329c08e070b109632e2e309280dface5de6ef75767daaee76752da5a3ae80fdcdc9961fc713e920026cb7b352dc0132d49aac7e3bed32ef46fe6ba151dfe720fa63941396098464af7a8f4d8dc11a27e913cde95e8a54eebc715acd5496fc3a2731e52dd23b36030f01bd0f920a8f4a09121c6276c4c0e0e6fdb8994939495e517a6c6e35215655741f7df0829e8f6a4ce89c6b54a4a5aed5f8eab53c5eb0068711221d7009f2a965498d06c06e1a1e7694e88751acd89c3a4d1fad90328fb69a9767bc41420327fde66fa7d492718c16673a7d12e3d2ac90e21718c14fda4f9d7e10b9c25d6a6e03fd7b65885c911b5cdc3454e4d19b1293795dc0280c0fdcf468437cc253b0f8bcb105b3a853a7d8b322c3456255300a70c75cdc0bfbb1af56dad4dbc82ccff487c85edea3777a38e9c55b3521f95d215bc9585bd9ff921555e3b20b967a7821bbd1d1b737ffa07add76c4c8f24e14492eba87b91b95d9937eaa5875b9e658e7dd99b18393ef7d60434310b8adbb6c88797327eed1c4d6ceadd25649025813c32a16718b3cc01ad5cc1662d67d8a62d04a436814c19cdb732987de31ebfd552fadfc69d88d90d4543735b06c72600c1a4be8762dfce87b8691d67ca3bbab45d6505c82f93f43f15333039d8b703d9a3c8091ae36418ac1ae39b23f21186f6e5d5de7f029d7f3783164856818d7ed2908a842bbef6e62a661db7347626533552c0a11b48b8a24616836c2df2cf0d4bf9d7b62684f653a2ba61f8cd0d18e16524759992caece89ef79e70ee5ddb0e05e12ac920c0daad4e42b3546f586e8ab498914440f4751347e6c9aa399967a13af5c29b715143106310929469322473f72d06b15da7f76725b4586152bf96a2d60f7cdb155e3059bab68eb1680e1ab9aee32ced3a465b9c2ec2e714e4802e35bc4d6eefd7a75d9575de9dec3dc60eda10ff783d5c4d68f57c89e29f6bd52d71cb97563c90f7e3e3ff4ffdcc90cf820232bf149639db84ec126c922cad21ffc28042227474dd5bc02ec6d39ff381dd377bde0b193f0816130917f999659f6370cffa9ca3b83745807f27f7178e996834d80ba1027b56c1305dd47dec9fc4e932bbe6d1a6e83a1e1d9d419740fac914faa0f706b09eddb897c04c3ebe016534e619e251e8abc6c13a9c113d383a715fa90374c8fab7356a8919fdb8a7d0847eeb02bf9ac70a7701af7e630b6b032744c037bfa993358117e632bd51f14ff9d4afba4a007d23c8ec360e92013352dd0ffb67a20fd05b8fdce94ffd798827c4299769521c788869dba3afb9f58f802fbe508df24ce63a5a0161b768b1c5ec58306bde022047d27f1fd36eee76f841336a923e443c05c8700b06a65a988c2f993e5b83d572436e097fde5a7c2da367c9d98817af0d2c89b1670b1c6b28def9c89c271d9e9e0811f87bf86700dfff3468c82219a10696822b46ad2eefdf40cc2cd91b7eb95e4f2dc6e2e928df58e6b93bbd3713496bd3f1f47a10910cad1ae44a78f50dc2181de815252b10c81ebd4f19a46176fd6a00ceb67ccb3162aec7146135b37b1d7b70d79925a8cf0da4441ae37a663e86a63fd3bd47b187710b186bdf90e46a6a1b39dd07f8df5e89df25bccf3d72cea27cad98610bcc09b09b4ef62ed312e46edd70b75c3b9bfb434c333f54272446566542b6a069609e791684f73fc095ada5fae2a7094358c4a5ab7c427abdcc26ca7b5185400f17c7e34112dcc811d2a4f74c0dc37f247a36819da0545c5fe03321df2e6c4d7f66bbc5693177b2425d39bfde270ff6749701faddf363004fcc19ddf0f856428152d78d358390ff6a390506d3e6a0e1588c10223e1df9f848f4936e8554f985731a6318814899c195e36fd3057b24bbf6ca3ee75e02084eb0f714a16aa8e04dad6f9de1affd20bb34a625334ddb59015c55ca6215e6f58de2f1e6a1669487ead7f18fc70b07356187be1a04745edb6484cb1bbf4cedf91cdd383f13607e282e6b7898b5263a1e5279c1ca15dc60fed9260465d7455a3077091536d845ea652ea536118f9fbddaf48cafb6d3905eca299aed2c442a2b89369a849f3f1d59c3e7f99345baf718e4289dda13bc635844f8384f158d710d77d589505d04b5fba7b6f10638c61c9f27ccbba1a8199d37bbf7ea7ebf0db3811c1e26df93ead823cc5b085853c9dc6b961aaba0c0e4691dadd9a97e29abe56f04e294a272f5cc94d3d5ed407019f836b36f6446b831234575f52985a19f8154015c27b81b6f3f976958a0d7aa779ae76750753cf1f36be98d3a44a501f43f5ccf426f9629ceac314797b8161abf94311049757c96cb36b30d960f8f5965138f4f77d1633a304ff6d091994bb72e3f9377c43a240fee746abdf6b4d38fea068adc80a89f86c812be5d5428e8533fa826621e23ed97735adc28e68ec44000f67940a4032604ca007d8b283ba26c03fd2397565db620fe07d2cbd8f0361f88b33e9a2ca9e0c9ce266c5f3f0824034d18498abd78ae5c719782fa4ad9c505df9a4bf4d81f3ec6d8a6da1060c79020f835805c3f344ea3baaca4bcdcf6fcedf3eb7fad5edfe7c983044a332f0eebc4d09de73542f29020d3239154c5a81709bcd51bb793a7a34bc277fabf6e69d088755ddbd8c53a5388ecb458e8f13b8384674cf6f96605125af2c8572537f1d09d4c1333fc95f3cab70712f68a7b7ad235f77f102bdd7a7e286a7e7d30f3415255a5f5b171fcb6824352ddf773373d3b2806928ea4b775cc8980c5c0bf0ae6274449673de1da73705312d2dfbefc82f47aa7b9a85c1f338f1139096bf67e2e5c3064694833b3f21a048168dbfccc7191115912aa68dd3eb40444e2f7a9f65f761347487724fb3337b3b2ca8770ec1af6e7312d08eb8b889adeb190ad5179d724de862721dc85c89f837b4aa46fd138e309cf738d3c1861de73403ea1576239721d69ebf2d07f6a4d45480633056af12a907c958595d6b7ae9c075ce259b5c927104762cc5958b244e5bcbe51775ba0c0709c2d0c12975cd09349a327b3450e5b8b2984e4a2767d1ea65955d30caa372f8bf73ee87a87115d3147b04b560df9d9d228f6b585c3ede83f5e9d7722aa67f5c4dcdd3c7f7313f04a6a718e8a19f35a5dfe0c107dcde9a1deaab1a3f4b4b7bc53b2a1875de71abb2a345aba4e6ae9ebdadc9dd059916c757ae35d0cb626d4edcbafc4dac22f854bb9123e2fe7a0f22ed2d74109ef63814db425709c5d7a937658ccfaa69fce20a55c0d70ba595d700af7b2aa3e0683f8b0b0084abd9655ebb44e851184fab994230ca49b178f5cb96adea588c9b9d533828b7750cbf3ce07c91c8408ca5dd88633fea8500bd68928fb2c8043c1ac29e3512e209ea05831687af28068397484097eb1fc2fa3e724bf134fd757c36be28108bc95197ea3f483040ae05a7a6ad46eda78ccb81065afa97f1da80d238cfcbef3dc7bb42a41f727d0bf9108581b0e928de56fca2915df1750caa40baa421d2b7edc167ee1ac74cc36479f301ce034cfb3db08826ef7a17739d3beee0dcc9173ac5023440d5194b05c3c03e13d92be4b08ad69ee5229c88e9c22123f8fc679282bdcb3bed727ea0c5a01dbcefde13c3fd90dbe5ff704f3d0c6e5967efbcc1203d0f5cd7a8c7fb7607e9f0cfdf5ce1bb5bbee1815c2618bee7dd5c57f680560d25bb46dd777619b33093b94fde5e3e8db5e9be08c79cb8c8a4e7a7afdb4b655772881a1b2ac38d86466ce10efafd262786916b44384b97e0c138a5644d145df486ccbba0911bd38e1b114f64fbe6c4930948ea9cd1ed16f0a0736dbfa2cec4069ff0d26b7aa02fec6989a1be350b1fd941c2bf20769c5cc395b5a41280a7041d38df399cf439996d6731f882a3482f222250802f8e8d0d4effa890518cc2b72b938ff023b578caee20cf99bf76e68aeab5924e6a3fdfc1f4ba351a3750dd8266a8b1197ae89ab316bc742fe0d5647bae75267600f76722b1e43d2b217c4b618b5fbf23b67fab85176b4763289f39ec7c22f03a46e7d2ccad68162933baba082f65638b4a0b6220de9f9819d74498f8fdaab7770b2a187bccf9448d77ee5cb315f95c2ee410b977f466b405c230a0f5d3d36ecb9f2e42552f6db6d384622e941979045d35d9cdbaeebedf134a1e292bf9bf0a7c3ac9cf3e1ef6e65d5fcc4bd2b456215dd9c8e05011a5774633a991a930858db09973d3b094c3da701b1555c725e89c789c1876ce9b79620ed885e9e0e57356b108da851d50907321a6126385b185f15279f6bf52cea450023c944886a385cd35dc7b0c6748683509805f51374e56784d253d7b50086ab3de830a0e55ab29985e01b79e8ed6dd0128184ee8734af7de2cfbe0957dd9e0616ad35eab26e4128825f6a2d938f83051255af99b96d5bd03123e9150116dda2de56c31a94a5e188b6ebe4d1a533733541ec112e9df5b60a3f59f14c31d2c0a9af158413444e9032218abcf85ffe3c4ad2f0a1f8731d663a9db06be44bfd26b1e41bb4dd912a26102d7ff79768cc6a267228cc31f4bc4ea9552062b52016f095e6c959beaa56fd1e3de99727cbc1d536763c9b772994059ad4ee076445f70059c378a31cfb1c365c124ac517314d5aafcf58ec2f774b0f31e5ba3e4f395b2dd81ef249fac623e6e9437e3d18713772df221e138733e8e8e6b48e2acb3d158d1645dd07c8e0132348c3d0d2a2571af2246788d2069bf06227d042a2e9fcf3901e0c479f902b4d49342c7eb3b1eef45c88c00ceb72c4058e1cc3221e97a0d082a685e325015a713dbed4a4062864f5760bb05192975bcd0da9db506c929602a061e775e465e2f87ce59540f137a46e4c6e8ddc302d50364aba66d58b4732fef7f1c83b8c809bf4e25909d1fdbf1b989b10607cf7182686bb049b776072a743badab178eeccfc3219a76ac657925c76f5c379d4c9f1b0db1508516d25684b27091365168f32c9f27e601b772e0391959791c1859ae43a5ec9d6070874a1281af8c5c6d6772df54341b520622f84e15387eea7816b486043e571c3f326831935fb64a65defc8d76588e0e8c1b044cbc0447a8126c401de20e7869912a1ebb925f58323edd48a7b88524be1072f95946a811d41fa54a503cc59a220da8713b1754df098064b1b2644f6a507157b567fffc4cc667a12d9b1dc16d1cdf5de4c5e8a2b5ba26a980fda8d9a5031bdce3ad80c79964fb175f562a50e343080e089468d79596d577824dd35b3aef541a320ba1056a38ab8b4ab7022a7ca882988f23431950764f70d11399b8b68fff835db903e28ca35bc56f94da4752357fb40830d881dc08d782d076e05cd4aaffc71324233d715921e26a437666831d1070acfd07a237acfff84abc14022e00aa8a22b62aa08758230b7ee4fd29418ca67bec5c835bbff853342dea8cf6d7217bb975f9d1a0c49ca57a899d8bcb758039576ca4153f1d7731e37d19afdfa1441382939efbc138c04aa0376442f615da2f539060264409b6209e5bf9f0ba915848a78bd2c2a1389794450382763ce8ff028cdb6888c57816fff35337ba101ee9a2fc06390f7ebdd9ee841643281767b1f9989a0f441e3cb7ae4aaa684a2a597802a0d16f63018c3bbe5ae65b0e3e2cf73057d5209c6949307e32f713843d35368128a547103c76705603a8f16b327a261a2e5e8fc8650bc8baab06fb56bd96e57878c46a7b97259a7b041cd9ecea47621f4bfdd769717bd957b821a8a1b05a6f4c0ce97e2459bec3427699ed7cd351d17b2c4ae413f06bd303fd25cf63818ace918f262b3f0d93e60c73c7083aa857c696fc558f4eaac8053525a075d8a0af795b24b48bbe4eb2eda484c9c006973cbbb0c600a0b98de53587f06d51ab49444c5a4abab03c1f4b52f0130b00e0b300f2962a9e3170af9185b304cd4942526aa912032f001bbdef8fe3f60d414bdea535fbdf7710618bb688e8e188396446537b2b7807d4319a053af11738568d5923ac94bf7b6b2d491a4b9be744060ae41855067f4fd6c6130578b739f352a88376ff2eaa9d174b14181e95bb089d662048ab6110da8fe1e29873e462d2f09d7b47303afd1e3a7c3f2e5864b8b10ddd04e05c78fcec57b9649a0de7ab3d54c5c44de9a0c98336f52d1095e74b6c5af39e4622ee9eabee0fe4c00217eecdae2d33a5bfa28665f6bae80d32b68c755961bf785ca929630a8d212f2d9e137cc5db20d806df75c61038e240263f611d91d996433cbf3d65523aed2e8e219a1cc2adf3026082a2df427833e28d5c6b9d6b6f15817ae41afc9a7f21faacc66c7fde3cf5149b08887912406d166e06337ed8435388bdf9690a3260a47c6cc55eb393dbf9e3394a73064ec43f4406d2133aa54416890998b9bb440af9e27563549f1c9d7fcae747550bda7a91fab907f4254f3f94dd22d38810765f2f70774ab40601666c4701ae2f14c4de7ce22dd33c639c2f51936f70259026d85c98fb1c139e594f6c0117781fa68867a01226427bf2bd1960c53b73107314dc76acf735fc39b7ca4f905fe756cd4c865622027b6005ff2abd00d186622cc93c1c5341dc41fc09f5b1d68fb6d20fc8b9e010a5ef7a80a6453c33274de3502db203e23cdbb6a9481da9fa7e47355b850cb3a475801ac01e7a75cd87d5247ece5e936766c8e839150684d484cecd8ede7302affc0ae820713bf907eb3d1b434083ac331e657a92c429920d779a7685176cd06b2a4a65289da47f3982ce9fee902e001d30f9a1eb6c48773c1ce780aaaa6478207f07c2bb90fc410c6db3120ba263fb4ec92bc881a927c34485c5d30b8019643d56c01d81644e834e60e356e45c6fb151d754a9f528058ca4d6c196fcea4c90cf3025ce5c07e7d0c73578fc7cc1fa6a7352b7d814f6cc1a808618313f12b0497ebfe51338ffd1ac256a2025495ba5e22d4fe30b0196a452daa8440be9998a33d550477dd6f714fe0e5b79d0c6cb23e02daee24ed1018a0b4447bc0f1f493d477953ff30d99d75009bafeb1925ad507801eb6120ed070c3556852576cb2a43d8f46bdad407957297a4208b0942c0c6b6c24189bb80c83da382c0b1e0174831e6aa2f7861691ba31a596e13064ae1c167da0ffc2c4507a44b0d99a1b7017923af45cc57b0deb2d37b20470d71bb2566c4f86db0d2f647da0d3c355380f517e51b6920c39581677c5f9d0e23496bb14bca95dbabe9a4c85993b0c0d224e0a46f9fdadaaee8bb15387b36d582567a9e13276532a7f6a6df49232e0ac001f9ab8aca2f4c7860e9b957ce69819d6647b7388f3b8e608bb893f25092d420f0004d383264cfb83026f94b70b834f6773d1464e28ab73d03b0100f62cd416d324c8b0fc3a2fd63c14699125a022ac3df36b699070efea567a21ad67e6199e5bddf0761215ddae661273a73ee883adca1de2762dd9af4fb69d0e5266010a7526b6c91a40a397bfc1faf5276c6086240602c712d315d63112e74ad982f7a5c0e2c52cc82a8ab7388517e997152bcff7cfa956cbcd75aa0656554dd634db1c68878c02b324e9c7396283b51076a36608d5f0fcb7b1b009f67fd314b74a6aed456f10cb17c5a0a34a58cbe9b0a6cbe5224a934744b810c4aca56404163f70f44433906a1bf0c244113fd3ec1c22f707fe4997213f10243e05d264a94d618e08b6c13e2eda7c4046bc14040e4667caa972b4f0f65d1084414f94b4fac12b04bb0ade2964547fcafafc64d6e57a3067613ddf04ccb1abce704edc09f99c36204f998196a81b4d584407c678be8c23f6783768b692ffa009d8836c5b3d0ef62ceeb4e5726f810021278b2d5bfaa3fdfc636f05da464a3547ea1919b583690cce29237f4906334ba07b9deb8bbc0d78a72705a4a02d930cc930eec0aeeb28ffc11a39f86cbb14425da33884068b3703d6e32742adbe2cd4aeef520ef42b8e42c442d7541e69b66d7f6663490eb8570d1af10abb4f9e75d5d7cb21eeb01826ae51756e6b008e5cbdee229d04a7bbb995f76ddbb6920149d027d2c4052fa39bc988528b3de62b2465db4b8bdf107168f9e9516bc92de8064b65008c4c118ba550a287257e2f6fe27e90aa276aaec9c52955a35a0a29f548d6c1024c5306ff45a3429b5f51769890e9eebdfb63ebfdce1e5fa7302d1a5dde981a57089b4cc28e03f3fd2b9dd5632b5659a423328972a368d1fbf029d974bac0ded70ee612d8a8de6875ff884c55a437987a898978515b2698639943c6d9d455e6419cf4879a750b43598cea32edd2088322645bc37f8266fffb8b287c64841f5032d181ec663284be7d1c7ff9ec802f0123fc7fada7a1f6a79fc6b1270cadd9743d754844b45a311af2dee7c0fca7d63863a2a34e46c5ba1364787d9a0643acff1152fbcc30c9d3eb1a4cd9e382effe05083afeadca9319d92eb19d71d6e0751da882d34ccd12379125b162047251132706a4046c65e257c3651f1eab973be500ef98c20e6771364b3643049c88e02401f90724953071ea7784c96dde3275ae903489ddaa96424c238a126a36723a2fef371a2d800510c2c42fb009d861830412337f2fc07923662163c2701679bbd920a6fce7fcb6ca4ae5745b193180de227be9fd118232b94a7e9cc3e74982a85cccac9cf0d5254873538551079ac725d8ad0eedd3a292f79be2120d4883e56d4300bd95681d524a6164552c3e8f67200dd32043e6bc6028ed3dffe424c901ba0ef489683e3c8930ee5be474cf9529fdaebf323ef9ee1f2697724f3449965b1ef0c7632fd79ecdd211602dcc167358c8879c27a22d22741e959d423d3940c781d25ab1169496e1927f89cd63d5c4c82eb2ee3a730172d4dccbc3aa4c4c3e4e33e864368fb2fcd9b17afc3568f9b8e2ef75912f00b1103af2cb148095e301d309601fc0658ee0b7c7db26b8ecb34eabb324100e744b764ca9665c82a63afb3943a288e7fff7d5d42b6e26f12a0afd1926773b8eab6a9e538ecabf2c1c012ea50d3577c72de640f60655c1cbe45103565dad08059312656d377a2049d170eff2b02db19d33ad24119cf5d9cfd33621c09249c3b97bfad6e09ec33a41c61198a86030d3d6871baad7e6f64bc96efc9c930bc76601b12b43c15d980944cfb706f01a0a7ef404cb2fc24125e24e53b42e66e1fd3dc67eb0d0f9ef7663136c606a5774797f9f76f0abca225f8f040111260b191e37c5bad77dfe90c5c2ad98265537bc3cd1a9f781c73548ee0a3a96555d210ed9fc84e66c807acb4c061da4fce696585dd419cbf2cfe8f946dc1bce2df658463a9c113f349658a80c3e2763bb9410c51984c9fd109992c8996a7401036b4322b2ea6ab1d3946b52d6b7af02820407ba8c3dbf3bd8919174c77b1c5b396541e806c9a73d203d3c720a5403b03c4c74d5abb0d9fbffac9fc3d094b5cf1647e6d5b19eda8a1adc6ab93543cd63f61bdada738892bf594b316a534e35e0b7db3d8510901480da8c46fbdcdd292a34a138562fadd16a7155c88fb375f900578d36ea5f47ccae6a01f672656340867d415337698af67da34dc034a19e17dc56d10bf52e95a301a4652ca97520e14782ea05889e2bc71b9051706ca73cb2e066f49f2188af1b29481a6825fbc4d1e3517be0674710a73b263aa5e68ccdc9bd12b9f607d4047cff079097b90a67171c0741d8c1e580f396c6484e9970561b2d6e727d2257d89184d433eebf7ed5df91e7bdf2a0170a52bc5acdaa53f072f7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"db2470865aa068691185dcd60d0115ec"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
