<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c993472d36d5284d60a11362a9f1cc670a5b566f43314b69da238f8fd89b4b6e5ec77caf90f2554d3991685e3277c4cd3a460d0c72c5ac4d4c17fb962c8ede77f0b81540a4094be0a39a0eccdf23c04f780adf2cdbe1771221775e57b216229d4dc4337c73a8f86edc7a6b480963df591b0b725c874cd7811a1153e54520a112dfdb3db0e7e9c1eccd30ef104052252225d01cc6bfd94a008d5a422aaff70cf38696877b858113f0034155ff7aecab0f0ad0666bf4a63ef43bc6278420368854374953f376e0371ef4360f447bd61bfe35d172cca195766bcd54b4c9fe2aa86e2684791609aa22a2011326eef18e8dd74f4da6388b61838447f0ea79cd116a31c86b4c0b4677d9859038877b6bba926407ebd511624b7e97c766bbd158c986f0152d559b68bf8e357e8c4d369eb76102aae6f9cb455bdcaa30f563eb3a2447213b2484c0e30621bf73749cee4eeaec7897d82a79efd1c37e5990a835167f72f9e85c547d6ea161b90c1d0632adc6578dc7482e638c83392108da6cff59befd8cc1d7e3536a384e78345b59fb9f9796a6a33593015bebf60eb9db5b1ad82752de0adb1f4a57e244159a3f21bf97da281b119c05b10e79f1bfffefcde0fa019837f8e4b8994609945d81a3181135cfa40a6a11112de7f16e44d43290a077b95173efcdd5cd8229a3f7cce28494fee033849c250cb35736f388774d1537427cdd23df74b71bc561194c20ea10540a5028fd41918b1dbef690161e8992be790ad1a077aaaa9a883eec4e25d4e6d7ab46a37232c0c91a4b8b267f7897a6812e1bfb967c5bc2e586fa925885fba7c951ed268a56763922828ff5706df9b799908bb98a38415d32fb87050374fdfa7e54e3a061aa37436ecf10d91c3f481a24e202b7caa035d5ef244f417aa244a51da0a2c5d3338e62b4dafa39e55efd654eab51bb2329ce51e9fc7dfa41203e0cce30980214684ffa368aba1a98ac74c76ca0d8e57f5d887059ae7c09b97afb82a9c42193594ddc4ef20bd498a2b529d931c1184d57da5c000e51d3615a23cf0c190703cdd4b69d7fc75f30818254f398615541048c7d96207b84206d476c6f51073f0d6752f8306d530a366a9e3205a342c91f7f167de4537f427ec3c5b293ad3472178ae1e7345d7550fb9e6a00f7415d9ee9366d5e05273894e4c9e068f67bfc06533a9d08f862a6f0d8134f50fe91d2673c02543588ae88efdc1633c93d51505694c2c01334f6275d157c58cbadde5888afd319d2e26e3a4907e9eba3d50b225aafcf53ab638bce96dbce974d9f087759c5d1d49dd12a1841c6127b9fd30eaa65c1762489379c663326c6763eea783c7fbc33be6c4b5810302eed6d94f1ef6236d454909b4ed47d39b7a7e21dc70e65298372951e5e536409343b1ad3adaabeb4810db568b631388bcc5a7b2e20ece954b7e06e8d54f40d81a4e7a42d84c697848a0d9066e5e99430a64659762cbdaebb1cc1a640c9dc4fd0360476f6c1a23d542b2082dcb5a8807db081b642320a520614f745ccb6dfc01fd113d26cca0cdabfbfbf97d1ce93668e093c8e7dfc98051b5e09d36fe5f599e7852ce1b85c4676acded660ee7bb9962d25819ef633b8e94339b860ac565650709f755321622b3d110db1ef310ceb79939f9edddb80db7867c1882ebe67df5c462126f591fb7b901ef612a056c70a46222f719ca80c44e0b944abaa75f27fd84ed45ac897b465db6581c5ba8e795ba03b0bbcb752095006c2245637dde8536462ea080de31c6c44bb306c0a4ec9c3b42d177ac4511b8e5869ec94ac4d9d29ff054dedb71233fb2f062be31366751beba5dc8a32379d54f0488bf7f225864cd6f53ac75b6d9ff801406bd2b77a590c327155b66b40d88637b355878bd1765577dba3ab7a910b336b687158e10c4ba8f8ecc326fdee880a64255bdcd14f5cdb3722f77141b67168bd4f508f6d28cb218f8cc6ec879c189b3c6f003d1e80c414035069ccbd375691732706ae5b69ff5d6447c4cba2dc2152678c065e96fd8c351699ebc467b03e62afcf60d724d0916378b4ef8a318d4944f03630db892c4e1102a70b181652e089ecedab7cb4d6470665c9173037a738678085bd1ed14f580e22ee2eb266e6bb34d0407e15f873c3999026ef3abe1a0ba282497e58bad881cbdc9e911b4f8cf23326180264041a67fc95e0a2dd97fdd0095d45871c3b8d6c63537ed5ba1dfd84a8ad508e18433f69c5d0e58787a33b4cab5fd9fb333553149717ac0396fc0be84e36240b4a817e0e309513db6d54ddcc8af0f1cce93bfb4e550a7196b8cce2d2ea1500298ebc008280d2adf94efbd73b55dc502e5108987bacb42315acccf5143c4f9149b1c9e2ed1513a04bb92f569ec24a1b4afcc7b3662b74d075877829fac7c4f445faa773b983e11b4966656ed6a9d09602181b25bbb454d291d24865481ae6524f1b165ccf956269421002b6286acecd37934213e5a31e575db4000082875266f858b1a065da1eb571ba044a22e7ff2bff33acd232f228849976cb1ac222a2480c3b7aaabf6362e00a1d3221b1847ec0d699d23b6b068b271e0aa3eb11380877056adb65e38ac41004d71aded5e887151aac360a898c9f91ba3a34fa561e65529ef2350a9074f30d3edfbe775db627b3d3e09fdf0337140832a4491e1daef250da2fa00bb6d99947e0071d336dce18ee824cef64313d0b6d964552eefc11efc82450b9cb88b2ff40a20fae92e0bbd0add22833c388bc877d6e99c1c7c1e13bad11ceb6209f0f65f4fc8ff903cfcde62fbe14e938f32a6a0eae2286efc36981491f5be7162776f19fe689eb0da44db53baaa3ee68fcae6f170de261616aa1540bd26c6fa52fadac083d9532cc66fd11c9f83fee7b174a9193075b6b5e7546ddb7694f4223c78e7d6b84b65e057e405a247d9b3fc63084b1895da5868e5a22bcabe6dc84cf29285ff27c01cd15ab459d708f486e8d323f67c79ec595bc68e1fda72083a791b51bf5659b2f844af4008159ea093762d5365ba61542defe2d0833b3db16fa438b9276ec5870f8f7fd03c7cbf0461d33c7c8e1065fa0584670e7364dd1655f68498b6267efb11b21b98037a599f2693758c1b08e8571a744c92f6be3332219fdaea6280ad3f185bc2c2fb8ad4242fc7fe05e68abed7af2d0229aaf25dd46487186b5ec6689ceac21363ff4bc7d5ff6761cf23366f8f7a124abd5227c3fc74078c71c44bc43dd7aa72fe48ecd7c6c4328e6a6b46e6c17720abd5d69c6cfcbdd91f9632a2b0b4e4837926bd10fd5257bbc9f66460d6f573c36c1bfecd03e2c83634d5b0e781421c1cb7dcee68f1c315af2946536ed95b11e18500335ddfdc5de6a96802fb5539ed228e7001c7edcad9ec3d331f3f06a368f9b680856e4ddbe04989a5e6f2f8ec2513fcd374bbb699a0c61ba8fab127b7ece450dca33c58bf5f2b2c3579cbc21890577c822fa36f05900ddbedfb687fff8313e28327baf6a6da74ab13fc121b4fd77603a21f8724b7af1e79f665b6d18709e012f65c2f50694c29866d346906b2de58d8b2bb34cda0a90fd8d5eb848f18329e7123e8cfd827248f4bb4cf610b0ea02a7e5091e5eb238b69fbc6b324642f9d53bbe98a1fe91c7063abf0ec0531613bbdc9493bf87941462ffe243831a97145df53f2fa761308427082a3716e6d3c9c5f91d03277b7c294d70c285af9d38f1be115f650abfc739ddb193250c96a419f1ce45d2d629fe34ddf392f024018a9ee6b4468e6d454ad292eeb02cdde5914337d2935c32ae2a415332d0740a249c01ca311b52072d32d93e9862212d02af173847b2546b1528565de6bd914942c756847a938d4e429d08ea3c4a6b6b9ab24ace36a641674e7706a496b19eb073e312935ad94af6a5b44e07189bdec83a8db378c21999fa82b6636eca48c6596bf1c50f57e4b82c34c9a853e54591403f959427aab5f80108b5826be33cf042609fbc3803e879df0780e2d7e473026b5f8d48013b6d41d28533f5df9e8f3482bff5ad2b10833288320ce8d5d947d07053414e8aaaa902206093ed290cb6ee0b4ab562970ebf70286fecf3476f6b1d40c9fe57b6272d0e62a63481f27c572bc14c5f9361dddd87285a2b8676777f317949064dc343cd2c4c5c61e416c028475e69b03f07afb885a90e0533258e114b7de704d86749a0ab43a8d504ed40ce3b92b38a2cc00a1ca3c06b1eb38ff5c21ef0882dd1c9eb865d4dedfa4e57dc8d3928c1d433cf20230af42bd5f638fbd0ecf366109536c96b5482030b3e7d0867e533733670f111777fe2f5b0d044483da9ea8f0c872d7d2f6a9862e0a5dd35523312ff83d4a01e816be1e48beb852833f7ed6989d4f71bd85a0c8423d793e4f986c960a6429ad8bb64ce85e1a59ef7c6e9d42769dca3459763f726cf7308800f49306ba096a975a61575bcac08f23b640e581c154b8aa2ea9898cc522811a4ba073c44022e9e2b9bdc06b0fe232fdf0bb13a694818a904953d3a26d72b9ad0b0719e7f18d23210454bcaa9fa9f72ccec711cea12ab5ebd1291eb053fec8ad916d3afefcbfd079c891e882c40a031e33ba9d3772596930b0ba8b5a8fc9eca70a77ea2512a85eac61b8eaf861ebf7720ce4667c56dd2b91d677477e6d98391d0522bd43da66631866b38533d790a95df1ff8487e4171cea460f81c644ff1a48f183dd4b18c3e9d57290f1cea103c477cbe1d77029c83156a32ba871eeca7ff1453f78ca3ea956cdcef2e89dd6c0207fc441fbf5249c0eccc283954be3990f2aeb7e032105c0d8e1e8ca346be0be9dc3f8271ef4960f962b881baa056543c48bc0bd7526d52312687f9c80c01fddbb88756271321c4c43e54c4917062f92e6ba9d67fe0395e134d46d873dc6fd3c69639d1127e36a9156fe41a2ac3288ba3cc74b8f8edf8fe7c8d81e908ca7c5f73f9496904a134d984db877092317d7a331e6544969cefcf0bc38be437e765c301bf5f63e1fc1addf5a8b7c7f915a2b8afdc170ab0ba9ec1e90efeb2683fc991ad2c91086994d3e7e36224a7a024b004acdc49f0d61c85ce19d37ecc5423b5a45cea32d872375536c740044c24f4751dc496e7c5283c32646a6a46ba7655850e3f889bba6997abd0ea32667415363e524777456d084c16b4eb69434d98e7727c91edf423d524e10d8567889a996cfec21fe9a1b6a86da905a7eb961c51e00ef20d1627b4270b395806a0dfbaa8c00e94632b2dfc3a469decc6d05cb851be68879bf19523adcb9ecc0b7917dc4a7a3aee595d037edbf1314cd763c740c7521444f410ea191996e7ce0777f75afaa75ef318288e5ac0a8a8fe7caf14315f76361aeece4c5afc2c7b302ca68d406a3cb24f86ae9380b8f3d3f9caeaed9cb14846640be0ceea46dafd3b9560e405f69a6c12e61dd02f8c490ab98f2e174a2cfbdbc600fc692725bbde0b45ea0f87913a0a6b30dc53bdae9424df6366aae4323a9b3e92034c98ddc99bd012f99e9c99f10940c70ed5476b9f10f9cce6960b48f2e98860610f868da9d66339612757768360e5437db75fd26f18d3793e6e2495ce4037770e13326514607cadd4c4b003b8071088242fc34dbef8f6843f28a5e7f8a8b7b6f783f8fd411e958239420a1c820c71685f8e5c9e6a6ae5922ff6d004b19386336fb95dd9371d756bd33513fc52989a9b95f66070f46babe254f3cb49c30ef929424d855b012cdf7413a60857aa318f4c12dce378ff91bdb1b331466a0b3f852416d2b481cebdc42c84fd13916ecfa7c631ac2e8ec12fddb0a5dd8a14e59ce9fa74fa2026c596ce39200ce0819107fb3cf322ddbc1017c49f1b412af4a13b9f7e08b43e1d411a77d0f3d80f93305162f632120b2e83590adfae06a886d1881cd78de8b34907b93e0931844a9de4d6d4b7950482e26d5725e8ba374a19abce3fee5d71949741ea5570386b3ce67c49ff7d7a84fac854efe40ebd676c6953e989531fc5f1b5ab0c0e2994cc1400c1d0e6e5c9c01a4ec041e1cc867266f2d71c7698bfca05e83788a6b028e67577c6d1a7b831d8abb056f6f10cbb278294aa123fd4a0e905e649eadecfa5226b1ecf3de3c07e6154e23adad393ab111955dbf50ae2b6693de749a571e7f572af25aa7c8ce9fb9ae5dcea83403b96845058f32e149108a7fa8c799bbb2d4545aa9144c55e9d032efbccbc538d57224ebc65621ee5eea822098fd9954fe07282292cff381edff2a3fa319027844336a2a199b562ba0fe1fb2f80843b3014322c4679f024a77d69a678a7a0b55735c50e49c137a232f41b68603650a4b9016729055f79bc3e6f52a703aca2477ca72776cac3801046153e04cb8542e6d8d2c7e9658a3e89ae695d1da3d1166d32cd456dd3e648b99a45cd844abe4dc261045b96b280ff7b7df57029a8693189aeb3985976fe3d3635dd5f38254bed596f135cc96396c444078ff1dbe34f25a24c2116049a35301a956069185b79a930dd041a16f5b90a4abe9925ecc39bd3b8c64f27218e3bd0bdacf99c3206e9f31a1b58764b22c829d0df4627e2497d91fd0b79fb71ab221080219aad0b408d3ee50c299e3eda08408a8c7864ee360461d104e9d98c2cf4f49197c420cf358447dce4aaeeadcfe0cf6956b5fe8e80ae018fbd2a8189db4cf47a3d3785a51cd3823a647d76ee4d9ac52cf6d71e28d684ee5a3ac422c4565e82624ab09213a83a361d7c1cb90b972e085a8cb3b37397efc8c9f18d495bd39424f742b85d7424cd62a3604a9a16518c5d3ae82f7f3164c1d20420274c012bca366015da5d8434a0dad7063b539ea0b773b0cf5cf68ef6c737d23e24a37885cdfa15f93024e34cfd5b8e88910d0f5dc25e6d7d06618e5c2f21b60d918a32cfcb0ec3f2b07509ee12159f90aa23b2a348909875f655db38f8712d0861b73695238af28191f5f4b714cc44e5e31bbdb4f2da8f9d62a635f73acc5a561cf8b34ff839f1305b87d2336f35fee851fe1db0768767914d7536e626815d72631626fbbf3f113e3393e357e2ddc090321085fb3944746f8608a42dafc07a6ea7ced0958b7493a71f141aecd0fc49cc2f0919dda4976153c26e23a7add43a1e70cb06bcdc6e5cad7650d7f23ee8fa637247c96404ea494d15028cdaa49cc89d53bfa88f90ade713e186d64cbe29b02d49768bb879519eb5830d6caae4a342a94faa48cd3b397ed200429829edec3a327210143e6cdbf071588511a22807039d6484c5b1a1a7b117a845fc71aedf1e7210fe1accad17691329f704bbbafdc899069ad17145f027354965735b0e6bd3ffd456da1e850f7579b905f5dcca946e53d76147fcebbdb03fa808fd5211f523a7beda66cd8235b75c174a475cfc2758428bdfa6236191f3d09ee030f863e6d3410dc6ab50ffdfb0ca0c28bee9808de0b7034ba220d1ea362d1034a7d8372ad2f5e74f820e575538556e7a73b6a0cf075ca7db2270b362c41938d0bae9c12778cf8b8726bee2022f33a7759a08ef89978a79282a040fa1083acd783ea72b74a8b4f0185c1db9194b4f04a7d20dfd6e27bfacfb0ad17f4f19cdbe5f7420079f395386a5feb9e81823e829915997daa5233c991fb43c0ecc5565f520eb2ee8b4e7d4303b8946c3cafaac5317315b8a672e162336129b76648c8a0debd80df2ab68eef02ece81227f937dce332510176d3290e20db828bbcaf66fbda3dd341a00abe87622a65b74b9c773b4eb315d5d99e0d6fcc21057dee5515d159d99ee283bc328e987ae21b35028f0137184d4984555e7c1c7379a9b1d38c275f8b997436d505da5193a34036888b8bf38e053279a575868e6a50a315fd1e369e601fb89019111b155a141ed54e5911984bb3949dbdf77b1a7a2919c5f19ef91d1fdccdc5804f1f13a405cef513c8336152a7b8cfe4c8b94211621820035837f64ef304e316626f88c3808d9a00adbf5a6d4f7f2ddaa81b46981bb29dca4392726886c5f0a3b752eb2fdcaee9758149693376f991dbc3c9a8120369acb857916e04273772b8f5bd0602c2f8f854493dceed668c44b5af5c2f331ea3d83ade6ef6f55706d766c080c83308d98e45b00abb9283a20b25fc50957c39264b154e9d61e9802d37083eac264091aa5be69be1f121f29cbb8a0dd604f2baf0b97486254ee612deb29450a4f4c0015537f3d748efff002cddc52974fd905e90082bbb3ec0b8dd28efe84be4a4cd90e3dd389369f2ee7ebc03694c87abddfc554434c6b55d04a37e7166d2874612146e80d92cf0382c37e333d3331d800edcdd76d5027520a83c179555ead6979be6ae9ca00d1710cd81e862c7cd37ed56c60d0d406058bc370df8e0fd6ba3380d1a53eb944e9518ebc88a07943aa2e038756788f73b0278c9002d8f7635ff7e7b81ccf580d29985fd39c5f5b3b318764b72c743e94a665c26113ff26ca05474c3d77818ae4e3c2bbdf56ca01471b913854a8c39caf1218d9f750cfc4dec3f75c3b6ddb6fb16cc0257d5a3a05fe67cf0ba79758a6d96774df5c22db3a31c9b7804b4c43cdc979cae33c8db323041d6ccc05610579925dd0153f49346c90972ef93636ac3285b6a6a31f41b5f9c4a452a9e913509c502857b080b079e0883ced54e9f2f579944568e74cd4cc90e6a1948f3af0c8b156d76e267d0ae35b561cded03e408f83cc2a0c4bf70ddabe72c189d272163fe61ce1cfa28859a4a42ebf042d52b229156f705ad65da53599e8caaff82623f56be5fc6d82575223f2d754e76a4d205bf5459e0de46722e4f8e527d34211af3d1c566c92b8f87890bb3767a14a782cb962c49838404aa149c97423b903eff4d9d604d6ce0989cbeb6cda2a190d848253a717b9bd4dd2ee6823345ec04665f55748d187e9a3dd787926f48f3d9cb740a77a20c969c5a0954d92440fdad67b9f4f1818f1487f74ff574afd7c9914d314378d866a1388592b31c13891f2c3105ba46bb7392f3289118e5192ebe0d321b5d509d6c79eb59f41fae2189dd23c0597a00cece522038f1a1354ef42caaee5d9991eb8ba4f8990b55a72784ed9aeb81344fa4e171f8356a4f63024029e93167e9012e0d4823bb0ee8494bfb84a900a07af6813100f8d562195bacb2109a4991223e49f2883c60c1d102d9a94a6cb2304f9cc9785ad2630176de70edbe0062d954a12cc11e8c437b7bb58e4645ee76af8de2fa31c60ff491f148b811ff90948c937781756a9ec8a8cb8ec157c66d6b7ae8110a11c6c4ec2f302ad931ac05821ca4c300398341a19306cca2b0124665623a515db90d4dc7324a0262483a6f28e54c86dab7d6e76bdc9d76e69e2b81db601899bc639b3e20ebe64ab79492a47a1e1fe7c85fbff0311494c1074f8db93f0c98ce671021ae8cc86c08bf88751e10cf9ec76665bbfa015f5c8b36a044330e15f2c6ed6086dbc138abe707ef456efef876ca921cbd020903447953e7ab25bc17d676c1b5eece3de6278b2f14c6a1333d693520afe8151ff42e47705ff1991e947cec09e3e47885c3efc590f7f68e6f9402ed54caa4a0b5748a1051fdcbf90e03bd5692b8abf65804ec911ab37eaa869ec93976369d63a602cb340989fec071834f929a926fdd79ee8308726bb842f604b52e5c31b710e2fa96fd9dc87cd048ac31dad7006b78f70470ea82c35346e90d95038a674a6a201550456e749911021b4ff698e1bd93d8fdd490e610bf87ed2d02dda1ade26b27c1bc4fc108b0d59f987e4179aa499e75889ccfc6753e2d54d94e1ee8bde7af658a7848e08cb8745e224046dc2b545ccd927a000d1345680887e8f56b90c8725b80fafc3fab10fe94a8656554a3e09ea301aa473d8a44b5e80d1da7ea1d5746edadb6bf1d65065267c1c000b02372a24dd418d4982a76d023283d54cdd960c3b05f1b3dcf81192c3f0c3a99e4f975236a5f85748e421e94b6e4f98d8f653b291cf298996c0691720b0754ec6358ffcdc223e7190a1614af5aca531345f5ff75e80779027e9f5f90304286ad3c2cd5bc7d4a1ebaf5916ea7b0abf05de07282c0e6b8de9abc7b7581a8a306dd756903615f5c6d87249603f8f87d47237b999d03095991951400bbd07292cc306c2d77da421907c65e456ff385c94e0e8f56aa05c926e11d61690fabd257bec73dfc6be74d489e88798e257c2dc38a6621a314adb517ebde1d8d96f011b121ebe3c661e79c98abb9f5e056ad7485422f986bf7773a0fd3c7d340e119245d1610333878f8bb038f1bf173817dca599e2a8d6b97ccf902879922c426543c14606986c2b34aca84719ba0c7c639b2be19871d4f96f971e378e4b51ee168bf898676e5b7be0b4614d60cb3c17eff31654b8377af5d5447c45d3b84baefa85d8b5882d0ec9ff7d4f3ace1d34336b0eeb5049f5ce643c13c5c8a2d85098993df70fca31ce3a3612e3ec4df97da0d37f2388b452eed0e8997f0f6ada379ea84eb27fda6a5f600f88adf24c1855960890865943c5133ad6ce1d3f3e2feb50bae329dd960a05f14a55ca4b6a9144f022432cea17b871b8b91ba55d9c38355b2bda96cf0cff35eec62897b3e292959a9bbdf37e39ff14012dc1a9a58e45ceb74db48ad52bfbf4a5a0f2b29c53d79ca2bdfd23212dfb76f5ab3f1d9cca20cde60b5b4f9bc9e6679f7d841f0ac19911e5360e98db32550854fb4f5e2c3166f24048920cadf4b273f6059460b931936ba5621cd72b042175e8ea85d88cec18ac380fb6bd21260802559ab04b41a36ed4b6098c131fd1e85ec5cca63ab7d00b9769c75e9e357678e2823ac2c49402cf6aca3dc6f8a917a7d24ec3dd3cd86eb24077ceab7273b7be96c73e713e3ad91dc7c1b86b79b0f445e230f17675405a80a8ad1ea5cd6c706f1ff6864bbafdb52d2929edef452f1f154e84b9020f26348bcb3f9fb38149d4a882f397a5d782ca4035faa27348eb4858c82046867d2c03a12844e1b0a7277bd8431b2c5c2d468a23cc0f0bb21270e56c62114f1a8b6ab1526e254f340e5ad489802745c4c5189f885fd19dbffeb36d0254e6c2d0214f5156f72f9108f1dc6f56014416f02f7ca2b2eebbd1b2ba6b309698818c4b0eefcb566404a5f2e6517ae9186726953ab28c90d9aef43bb8369b7c8f98857abeb48c802795c87c1a970def030a52544ce5b26d7380e1b71e9c425e72dd1e12491d4d179ccf6f88f6b8148977dd45f1ce9cb3bece3f4cf8534fce1d4a5635b9e7be6d421e07883ebb5c5e4f8cc1b3ff3f766bb58a67f570df57422a082c2cbb50593d67ee89d5a840aa5c88f511fe20f426030b53506b9275e62e255e3967767988a4dfd20c738f7451e76f700d43cb0d1cad50a8316657fff15852bfc2e4e66a13add32f5d286ae96cfe090ec7a3fbf4487735805426ac046228a29302a89cd598a851a6454e46b217d2f7c5b7e70cd7b7e5481225ddee285fd7a4d5ffca11070ee3594321c02f5449e1254a655f0f57e4ddbf6b662b03fd2bf31271117515da6f88526ae9659874f97c37667bebfebd1a3645f3cdde917db337441e2e7e6d81589bd08ce74990d69d358c9c597ae6b60234b42cb6626798573fcd282b4ee5c64657e7b3cd196069afbdc46b8a51a8f2ce058421c561ae61465c48c9d81286b95812931f25a0d1353b692b660de9fba05a9c67a6578de06607714d09671e7a17bfae0ce5abaeb1f30a3649f2b572b8430bec463db790f38e829e05d46cce96cffc6eb256eec63fc76bfbcf97149d87af05d270a0a0d8106c226fa295c157f39acbf7bc04cf4c406933f64f49d1eca4a241bfba7683999a756b77249f8e0b3a26ae79ef9a6f1f878ed8e5b9a50f7911909a48f5bfce0633b70069ef934dd02f0f3105d15e14820c635b6ef374f4e955f74c494d2a54df3f46b08fda3c9b079b683d9b2cc4c489b663e21b0fcd1f74086b7c09b4c50ddda06293635daa1aa43a10cd4693c18d6187721a36a17b1fde200e506ff04a262a20a2a8b3286d5263bd7097546598171e3484463619b4170ce0be9324a939305d834cc8fc331280e55c62330aab9dfe3824c981efc7115e0a7da067a14177effce5db24e502f94715362b41221a6515bb20e2959cc295d2141f0409f06c980447756b876482e9f6638382537d65bdff7ef6feaa50308bae91560262b34a7c29c1b756bc869db587c13d7081507185d110f5894e2e89028e2c4045d4fb2439542550054903e487cab8688ad62e334e79fc4f5bdc37339aa36c207fd4cb73091b368e800797b8d545e1bca30061c12329a2ff3be84c4404125005dfbc8428d2078aa10d66711c8c5cc55e7d29addd35afee550a8d32ee072f8f9e520ccf7b1ad1c44b408c4ec42ea1adb6c66ba48a9553cc379cd47d5727198e598bf97bf1747b8eae59a6093c27fde46883bdd2ce9c6d6673d26aa2e02d0cca5c71881a8cf8de1f69b42429d82ca3b8e0cac10f14052fc2611e5bd427ee614fae96e6209ebf9278744cc84dc5f12defcc748956e00198c2fa6807cefcf1e65be9fcbf06e0fa6495c92ac37778a7cc69a5f34cf6200cb0693b45bf39ea499f6cfd622ddf9e41562a6498b6ab07274119f49438f52ffd2dabf085e1042f46c8e7120dd70a646d72e9932592c4b3e8bb4de22829160d119fde33ae604b4dc033d0bdc1567e5ca7f6eb83d713066d66f48a76aee97db6ebd8ee6eaf5a19a71ca0e5fc8380d72db4b0a3f8683e13394b3424190c49041654dc577dbdc19cc07be83249ea600395990449bd1a085345e1754db0e8b8c1a39f1915de4cb433739d03cc3b219e8574ac646fc292ba49ecdfff55a9dc0ccaafaaa0841a2b378777aa7bc522293c1066af5111cb6a6d9263d4f2f055a1a62b7ca8dbd31dd951d40ff9415ec07a1b1321034f367d84cbe26cc24e5e68e3e5a469ba669b4354985b71b201ebb04020339ced996f8fb0d37137b43f7832cb4122899157c240e78b6b74eb616c53ff1b24dfd7efef924f0dab597631f913861001c142dae393c77ec887775b35e4d4749acfb4b5e7b1a5da2295cc608115fe4d5bb2ea0b9077caed1faed1f341d55f9238d82ba5f25c28ec206b8cd6bbaeaacd87ffbe026196000949cd8d6515269449c74fcd263aec673439a31b807a7551192617861a8245cd5a4bf29f2135280d564af5057ba625fde49158d22e3b58f6716f57eeb8e5de32ac268f2b61834b05bbfbe0cc6cf54998ce24f6b1e3a0a6c99bf6ee6affe781f0462fe1d46bf384305013775e86617b082a1527c124549456d2bf4bdb682bd3e4410d27ec0bc826fed08820a3d7e97a93bea41e13c96902cc2c2e165f69e556b0d308dd97b4bc88c18853afdcf3e26276ca41b841c01b4dd40c0674deeefa15b8bfaaa9a4fdf8615fefe84fb8460e8292f93c63e907eae4e2def6f268badbb1b54729852a98efaef6187abe2d67633f1b0c09a6caf87acf5a957ff3373a5ac39cdfcd710f51f539e48224070766487d75f72f554e7e3923f76a67a21ceaf707768648c33efceae36e6971086f9ab61ac0615149173e2087a6d31fefcd14ada497b81036249facd016f5b056fff4caba015e2f82e38c0625d17c7c0191469f1b334a60dbd83cb451dedfac02ca12194e1f16bdc1762cb1e5b1a5cc65d9318ad3f1f5ea0d1ab6f5091e675034eb69a6184bb73ab1470060509dcdd984026eeff08a8b488d56a347f04a44afb09698541c1bf9a99a87f2592f3fef8b85b19dc371a373418849e9c855a2f9f984e6bf29c9577631b00ea6534a7458f7200222be2a2fa7b503b4499d0ae7e5edcaf19b5fbdab4e91b0ad5cd709b36f8296cfbdd68f5f1c2941f5325799de00cbbc29f334725ec577d7dda05999fd97335d5a658b8751824cb752d2a4672c2bbf3ddfd5a35d210cd4a9a49f1f9baf63eea90c4804fd48492266d7f112b157f35467d1b78c0430ca3b0a97c466a0b20f4442d980945be740cb534ad91a9199b8c075b086aa61f98dd0c49667c7799b1e89e47e669b326e4ce9c3d178e246c4cc4f64ded82ee3aaacedff71ee67149a880a7261b5c33fa1df9222a5add12f01ea2de884ad208aaebfe85b7da0c581f195badf187a8e52e6dee00ff8a5eda816cd9b9a7d8084118d243eeb8dda1b7785988cbd105dec63dbcc6e09bf9cf00c7784dc819021f6e79b449b35ee4660bf5b203561c463f8305092402649f16d8b850d1552efc49ecbf9f58102e176d6503fd64d422f6b7b731a5471f10db9140c6aa109581b8af7246d9ad900b7f12370bc5347cd07a9debbc451920facb1f4ad8cf87c60a5cbf9ab072336dcf7d4952848705e07803107a0e5dd894d2ddf4475d9cc41d857d55f554f233f6b1e1b171838d322e15048623aaad81c25adf61d631d0dcfd62ad13a90f476f87a2c849b011df1a9c01882222836ced969e4d5a9c25cf81601047fc4817760d7d87fdb6d9e913689e5f853d4a6708b845240c69da257eaf0d2dc1825a3706905c03218763447d2c15846ff40a7900892469a3dd9613994ab601e826bbd310a047ace0cf5edc0363008a3c1dcb25028db9bf6df37dc8ad85d3039bc83fe5018a0222d32b8d7c58a2d3018f00f76faf36ef5660f436f4853509d9f7c189e82930cf2ce4d8dc2001cf478c4f0096908ca1b55247f9904a2bd9a6da6ed183ab12e1cd1831a3f0e0e93c2323fbb28927620623e1cc21d9ca1a1e2d985e0973631f29892dd57913a3ea48b14c25e5f99dc2b0a4fea2099c8e2f7665ff3b885f193d07630bcca981f5e9a4e8e9b9337d290c86a8cd62dc6a6a3ea032b4792e70622d6ccff212221d920326d26bb05cd4e099143f78ccf4b20d4ba226d26aa02d0859bd33084e9bd76290b18631b82b19e0a7ae3d7314db5717f0d673b4a1e62111cc3b85b4e1cf1fe99bfe06f42fbe1edfac6164473a18312fb5bfb77b526fd221d1dd27b1811dbcc7d9df9db75bbe8ee72107bc5afe790e28e20520a28d2a10ae6adc738c07aed9f715bbedef44ae3922e9aefb5ed89c9c2664854d4f9713f1f81414d19f3708c03a28630db22960b36e0ae62ef7cdd66573a4bbee2fd929309573c3be7ef051b9f780fd058fc4a246afc0d7da031c6051fbd329458e5942dfb7a00d9e965e4c32b5f2cab86826fe0de137cf471b4ca873d2450a93b375b445db5b064b132f1b65907ec1ea4e219c9c21e0248e09627ffcdd1da867631170e49c3501058d7ebffbf6f23661424ed66af40cd27e65cb1ffbb4f9480983a1cdf983259f8ae1ae806d35d1e1686ef22d3d7a201e822ad2f14e01f4b75eef24a22dcc25b9c5df630a7fef9c8fd9c145eb16a7c9804bf3e61017037dfc12744f43d31fdfc6868302c9f40e466879108cc90a851097cc4918a523921e515544bbd736957fb9b240578dcc690220e1624c5bba3f3b21db86194f4501ff1d1c05ca15a59e1991b59900f4b958a432f626f24de8c0fe938665c374cbd089cf92790a913406d2f7ee65c208dec24178162348d71a38941254ac403855d5d1db266ed03550b8e146914b5ed91dbefd81c6d1285c0a72c811a84444fc1a8036d4b6813f4df53c5ee4571c56277d7f4701aaeaa5d70bb9b7196772512e891b91086640b6e7316befe9401e1cdd7f7f91f4290753280c9d2017e23638074ff45805780558c0efe55b856ece22bad0d15d2a15729250adbcdd0d8a056f12e76e405651f1bee726e1a0ad88c6401dbfc8cf2f8071b7bcf6f954cf08851a6b024955fb4dd5c97f2cef4110cc6158a57993e57c72167311b1ad2eb4fa1d1ba0a427afe3291ca1b109ee4450f1e197936eb2145fad84c494e93f4cbec8dedf1aedae92fcfa0b069410648fbeb6fae5e5acd5dc3589c2cda17c641a4d6a4f0bd17c1f6308c97630210c209748cdb402265ca42aa5f7d729efd9e94a96989553a361153e65694eadcde8bd9e088dce7dba01a811214781bbb2cd7652f350f04fb8c01264b212a7ac2507331216c08d6eb647aecdab5b95dc7436fd8a36dfe45a0121d0159f078b0cf8067dbc3ea89b8210f39365877d2dd086d7abe276d08ca363f72aabe844c439bf3b1e234410ceb5c2f083d9e8ffab2dc11cf9c795caff5758c70acdc5a5631a68fca215fe3a1c7fec16b37df1e082709999b831f0a5283dc4ed46bfd399b8f9a3d3997ee07fdddae5507a0e9f5822094ca9a95e4c29276c787b1469d03afeb7204f838d35b3e58b5f0b192e13da8ca5be7dd293db94d4ce1448a50a9dd2db8b9b346e938b4a80c34f6d87598f44a7ea10a422706b52cf40b8727db2a4dbff3fa2bc4e0153d3d16ab56f7ba39f9fdf6e5a161f5fce48fd087e80a9977382afa0c03dfdf80441b237153b8cae5efdf486b3d68baa8eac002f8135183f99990deeb73e6e17a99b09e66c34cd2f0bdc44ed3430460deb38af75600f5eca99046e96035b0721486c0f8d6fe45b78d76ae3a4d53080c544576a26ad66c9c1f5990901d2fc8d95a843332c612c816824278aad1f180b6480e951b14edec3308aadbfb847e930c0d7254d5d12bdce925ccb2c8c5c80339880977d6d0ad7a93d18126946eb56589d841fd2ca9c5c447196688a1f645c40d7fa46b7634cb5e540c6120741137e59905d710c6ee1f0ac9d8d39b7c2a82f426b79530ed6a24f0734951aba81e942bc89a56f360e60f7e711d9f311787c56fe55095671f9f9f1253a0c4c601fc5ae80a3ff1fc99834f5d961a359b2e1a398830321c09b746f1d92f553b8966fadc5cca0af3024151914b58c92b38d353f60f5cabc0620163376c8e6fd949ae416d78957537c07bf9c468d839252aa4d9db0dd6e7cd32bc4b4e5bd9aa0afde56974cb65f296200591ca72092601aa7f652a39dd21460be7171a28ba6fdfc69e41c71d1ac349fc56a44cd8188f01400b0723733b88731088ffa22f688c25be3c29aebfd7261e5c46df95b4e593a5cf5afe9b772912953f0d3e353ba0f0fdb5898f59a1520c68c836cd3d06b794c51273c4dd86be0813a0dcca448f45f8fde722785fb7f7b5232855a1ee2de923215381e13a411dc8cc59e9d6c4244124ea37b9bcc82a16826bdd69c4e87dc43e78dd9ad3a69d2d9b7baf081f8189a3ca2a88b6455cd8b223c3b36e916a5f8c530b16c3bb139c65f42b6517504af5bf56169602cc1e8c0452158393dc4012e938ade7531369d5e7e38df1a91af4bc8f4e13e2098d01ba0159c3c783505f553908e13acf73d0c1e8f36862bc65cd3eb527d1409c89f3a891d5cef255d8f594c71d4f7039f728a91f67543017b52002848f75e6ae95dc8f6337da8fccac1713487fac1fcf068602e2513b8dda41a875a2394fefe0740395e36643ac7eddb8f2d3101e2a528041afea51bbf170f96803e88ea671d36d0dea02f391c7224d352f7cf2fbacbe61e7f5ea06f69667598eea5a0780172f56b8d846c969e7a43b07a30bf4d9c72bf46fbb14cac6a3927eb8e2250ed7f67e26fa1f2d073b6f70afdfa3002591616798d83eebf0da609629e163d6a0ac8111f04c2e8347a117e3b66fca9b7a1abc6cc1107eb2a6793d45e770b81d33915b764bcdc86cd8c9334911b90d611fa3c655cee6666affc84e6ae4ad8df707d4d1e20ea419bea4ca98d3e2686123e42e8aa17b7a3718afda65a992fd6091ab7c76b2968ae55dc15266d8bd46127b3867bfceb139bdabee70ae918553a9bbcd1200e155c38dd456e665b30cc219dfd01407855d6b6f956015657d8566d0294bf53b3a11d61aa22f295ac3b4d6cad879449e0d385b2197573b31ad7d401803a750d170915b38543ac7db8d5e6c0f35f5b48ebe9bf642afa5e4b051067974a8ed55d4a96cf2207078fba1fa614e63a1c6d04823eaf950076bf480838d016443112059eefc7e1c38e877ddc978142960c5efd68ba9aba651b16bcda358a84c989941b1218b2474dbf7417530f659d102ef7d06bb529c16b493a823a48cd1463d787d51cb7f92295c7b55b79c37bd11cbc02d07cfbba734d75fed14a0f5263c759456dfd10cf96272696aa7642a07983803fb8b24131d93dee585feccf830557e740682118edbcf39743e34e5375fb01aabc0929cc5336044b1c6778595e2c7b6df9fc54baf8893f42df62575d0142b9547af46c4b42138075692b7ea4d5e3987725f39cdd7e455856bd9fc849853279868890c12c33f3eaaa8b92faa23b720e20d2da148d97c785ed0efb8ea1479af6fd6f7f349f000ffe41c9fe87352e816e8d921772d72e2956159d0227c99d957662d45f9a829bf540b2355ea46c9d71047163fec07afb5c5f36e40e8ac3ba29efa95157e414b1fe3809fb580177dc3d3ed262e215fa3d14beabb1e225ee7f07060a1d9f401bb033fef400a7b54c9bbee7ae85cdd3645ff683a48890e740f1f3d4f10f6c3c14cc4d6886d8f209dd844ac0ee2a96257d2ee186e2ca8459b68cab02e771b5d43e811c8efd39de507d958c0fd1cb550c8818ffeeb5429f9973fe3e6178ef9d3aa194897113454662c3da22e7eb59f4ad23693465a56c92182d8133a3c480ed10b18f1253944a613ce7faca12bf3b88c8b0579ddba90478c0036a57c462aa31900c38a292f1119bf21076126301e6cab3e6c932d731579ae2b201ab3b18f9b5df83b38c75b4aea248dd030aa49de4ab9ff52ad97b89854c348dd40d861aa844e2395793acafebac272d9eafe1625d34eb058c5aa347b7d7c164ba3398f73127d0733cad3b26b1fe691c86d7017564df7e43a4ba5327b06253a6a07b0b9bce7ab277049eed6674d96e2490054c142cdd8ccbd1705ee49cc9259b29192bd1671cebb4a997eb88218d0f64b8263e57134b0decc3f7aa92e77ceea4d82afbea752aeb8413f8a0b7773b1a7ab90ee4985c8d9cafc1c642130fb3a88b92d9e258e9babed03e8f2ddaf9027e65105488a17809992f5f7d37d323a6aa9f750097fc8d5d6a4a81de08a80338c83cab533cbcb767cd110d8e5917e4c739ae2add23749112965a658b76b33b007c2d13a54547a6e4b0793aa9f1ecd3ca17cb1f4b5edbcd451ce75cd12ecbd2f209f706a58cdb8bb8f65fcb353b71a5f59052db3b5856362bf177ece7941abef6b79fb38a6d5182e12d57c169adbd1a72513b1b67bc15517f33adf40a0f6e72488c8c74aa5a8e856435345e5dfa3df2f6e57d891a2f2bef76ce3a3369876a4fac99deb7bd7bb80e7ede03da8e4d7150f68d8f42bac0c85d734c71b4b539e176613414fe64aec34cf2683232311b3f38f227bdfabfab3622761558b0fac55e025fbc89420d81699ac125c6862387b89bb51e012b54f809c5a809147d607059460b99ba123b88ffa4ad8fed5b9b24599824208f6c7e19fea556e0d407a08a1f346414ed7c0b8c063a54aec6a979d7fcff2329c4b206b5b2cf7a514e69f3dee874f94575f0934a5935e0c9f722fe66b380ce45eda8ab2eb5f3ee29151aa0e5c2db81b6baf0112fc92e0f8b914935ac064622dcce8951a4030e68c5a7b6686fbb097fbe9f6ba72f605f27ec6289b539249d55aac70da86c7c6d7785cb224832430471993c4f3a50899ca8bea842a57d8647ad67c9a0deae5d827fa247548f0b458d72f2d3e2bedd5132f88287fb79bd5de0d039f95dc9c0ff944b8ffa05cc212316b09759bfded0f3d000fe253cd4aa409c79adaef04fc006fe0dcc32d0272477a99dc98006636195d4d7b929553eb2b5bd2c44c9f4f1765a6d6646dbb0df8fbe9351fa4dafc9a698bd7072ff4b680b6addb229a8086b3c14637fe46fe9595be5d46640e0b2dbfb7a67f4114ec17138742091d68d17581a4dffcad75e40b5f6210a92bf33e1682c1132c5792d6bb3b5907b817f8216808e478f2fc482037e5cdbb772c73b14e1d31558cad72c5496fa207c00614c990230f5ce26c162db6cf176e9889c7829024d1c5310056abc048353960cb363332f099ccae85eddfdb1188214f4279ecf071e128d4b09249168f2de342cb801028723643f30695bd0f601a69a0994ca38d1cc2d3940098d75f31f86e6ad392ec02e9afb9c0b81735f75482383c96c6a329fdd1b3de9498ede15e840f1f104db79a0578d2b79f6014cfe3b1198621b3a3880a917c6624724159b66e351c93cbe1a3a4d17369e98d6f7257be5e426a2c57e8d1c9e8ce569eb026b807972745510fa7a9f4217b81ebe5ffe9af80445fd68b02ee5c031405ce1d3c9be1b836fefcafb5b2f5a19476b8c2e9a2b7436d404d7830f115227697c8aae13542bde98e02db801f01d97738a31e45dbf63e2554c39a30e6076e2d5169fdfa1ed25fc4f7ba78db635f18bdfe0c8fd02eda9f2924774dc2bac349d69a27471f8818ece164bc7f34b0841e1423742a2597f9ae6d4a5c6ab136067ebbe8fe9e8d813e6ccad0ebb8e2e4fdbf8f4f6d07b98b1f1942c816f3d9c80f4ba718d8c77388607e0db22fdc2089ba49af3408f189e2f6233161ebc3283f8b9be4694dc4e2d24dbd1ca7c63560da78afce2f5e5c08cee360aea177179270052c1e51719a8f15c26c1256ca599d7873e467ef08e6023f41a2431f6c95975cffb2815d9a689fdb68a1cb95144ce14ccac829096407baf61a3b238477547e3081d9f183299fd79cddca45c02cdc3eca26ca839bf829933b934bed81aaea6152734828559a4b211b21dfbfdc73a83f0762dc19519cf950f5ecad8c87478f6a5d856081e5e28660c4a1a035cbdf489fb3dd6ff4c681f04045055c2a613dafbbe70ac3514ad23a551ce4cf515b392e05cacb4007ef8da03261905e85f262c5268cb51cd2d1d8de53343e101cbb4de586b1d375c3cf0132b3c90d52f1ecc1755c38bec3e44bc36acbf2d3e6aad47ae98c5f8d7b2ef9dbb61eb835013f66407553171ba2e6a0c0fc45a944591e5e6236b49f93c1a78a3622cc03636d61db14f67ee7cd0df5a2472f9be6c83d142796765e1e7edf0afe68f1595e4b8a0dacd4ac4627d0e4e90781e46a6332313706683316fbc70ca351e41119148fa48344ffb168a6bab613d25845db213d59c00725ebeb8e9abc02af506e98ea0d59fbb8deeec13e7dff5e0dd95d3aec04332f1d6009f159ee4c9c3b70ae51a3ff1382547f6054b77bc763e1927d5aa374fa3f6a568f2b670d5ed6cac92044cd3a231c99c4b07038bcaa38d69d1432ba1814af32bddfd8effd2a3638984e3bd81d326477ac0f474ef3efb8148fa7bed50b4fae0ce68ef301b5f4e45724a8283c2cec30706e66a054231a1ac907be7b591ab6395db056374bb4acab265f9201c867be330565039e6efbf6239744776481ef3014da20fe76ba552203c8cf116e9fe7fc6d7b8ab69849dc773ff1501a296648729e94c1488a897f3c1210bb6c0aec069331f17a4ac0c9ec13c51f9a51baf77b33aaf63d49cb9b7a404fcebfbca78b6c6f840d1c68ef6d089ed7e2d2eb34fcd52432561aad3c81105c1b09718f012f4af6e4794e3c04cb39c7e0af64a5371740a372789200b6e5b72e66d1512dcdcc865ffc7fb66e7231fdee1a8c95154017d7596ff6085146be919ac32c375c5e82d1a290cb0eda530d8bd46ead63e3d9e63e4e74c3d9dd7adbd4f9eec0422ac4ed4c2689e6846e05d367185ded42ebe62087eb268950ee10991d5ac044e21b95a22cbfd563591f13d4f6c20f813f3b8b667101d0f326d2f6ee7116957fcba6140b1d06970d81b67b1e7a0827ac6e8e0d133107557ade513d6275cdab092bcc6e72de170231ee49b28a496dfb2d503654dbda75a3fd55aeec962696da90022e3ccaca253e5564e9d689c7a2ae5aa5c35b22f0d732d8728f82c3044773410101dc460f235b5c35aee3eb86aa4408b1673eb8b540d6a5f5775a9cf9a5e698195929f8f617c8fbc40b7f6d96410eb5c63670da542e3b61df8effc3c236ed9273cd9d11efb81ad157bb6fe18dd01e43163bb941ee5a48e8fea476242e6b7d59894a18731400d2f67aef650c572a8c396ca483213285d60155348a656379d355d1f0d3c6c6a5e211377fc9eb473a6679d83ce329963b28d994c2b42547599c2721dde1d77526c11a5b7ea126081516b08a4f299b45622d6e0d2756182a0027082c10413db4ba67019088f706ed4027cfa435fa943918662025e2e646dc8c2829a2d441c1cb098d1505e859e1fee026e6da83d148b4e84267284894411a68b2f566d05b0700cdce96f9dcf6edc1c5b0f0e454bddd5faedbea9f8b4ec2ee67310e40e544ab4375ba7b7f2a3aceadf14ccc5502ebf8de7f52b048ee47809a8672a8ef56baf8ba8242cb9ccd6263410ee8cb9bc3064dc67cace99041884c530136f292ff7162906c754b5477e870f0f836e9131c1d34289016572f3a88516e9dc0b1aa15b9b4851aefe89cab7d9ccd48a53d4fc22c8d1f6cc736833e0b395536a46e282f93acad246d666891fbe3ad0285a667c134c8e9acab5c60675057d109405b455bb2d243644a46e2ccc602cc70423509e89c1598b372d3845ebd3914ad4d11f0c3440434741a5a132f30632234017cc0cfd3aba95cd778f304c787ee074870f80f387c4e190be3bc7784ac60251a34b639f887c0a8a4969e6b65bc92b304340a5b189995846f19c999083e329e10654799c5f3ddeba2f5aae4a3a3eab1a4350eca002239040071c7bfecfece098ba946c3c426a86eb31c36f35e4d6516a8214fb510becaef621399a32bd235302f6d4ce45117b8892a3dc186667fbd6f9a7c8813562cb1d6383abc48a0bc45c094104c765dfde445e160c02b10948453b61b818db305b57ce3119e18c04d2a78b592ea625af75ff50c77a9f12ef773764356311239ddbf450661a3551375078dda0012707b9c08a8e988a2be49630d5e27abf9a63a11d3b833562d77e31807ec943d288ae640798673e1f92a0acdb9f1c75db355407cfaf8d05928ce779f5388af10bbee7bf92d9f666da6c0c02c5dabd2e65dc28d435a44d929254b58754e1c8d2518c76d5a9116fdcc1ebffe0eb8b5e7834d254f74ec9782ef283f85a529a78604264b178046e64044ed64715e66882285ad866cb098877205ff15e24792ff3bec92462bf7a6203b398dc5139e3d0e50d2af550d55027a01c2bddd4489e6eb1aeefcf76cfc7a90d994a3dcadfae10b6b3547196a8f2a114b49d19cac63ba338f56ebbec1c25c915145aba7f1f46647eb9c554abd60a92d8146eecad0c5457b2d47ad48486ce27585702393e5991b3846a286e1aaa61f30e0d4e57021993e7a1732d0ca14288cc4adf5934bfacc65ffaf3c54f501758eeb77c1b4994fe61de79c8c16eeca2732eeea3c0a172557565493e5ffe795b9abf38fb7553892c215b300c924ad63f4fa74b9918a456ad53a0faa58a421dd53122131cfadb1c57fd4c73e1fb955fbf14dc6e4ab8bfca3c48cec75fcfa2df3a5883af169cdf34fddbd322fdd4bc4c025dbcb426888971f83fc35d4f05f0d8811addbacb064c55436a2926d6ac1e8b9e6b1c288b206a376817c845040b5c30aad815992d0d94a14c5a301c19d5d24f45d7813ae7e28f6627e","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
