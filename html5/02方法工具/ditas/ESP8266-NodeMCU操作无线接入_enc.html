<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"487cd6027ec67e405acc97a121de0e4a500d92a3097cc00208794df88df0bd10902961c91815d5d8509cefc0962a1fd58e9b6f770215db4acb6f1595964b8b56a79cb813170cd5abfccdeacca67efb49b452268cbb8bf5cc4d6e0f617f5caa3319489856083871a29940ccb8da64babc84600eb614680eed4cce224ac99f994312c8ce01077ba0786e9bf946edf64319438839e11353de654bd5629833387d10886b8a09a52dfcc278b33b74c7855050398b2a8ee574dc5e92dca5afc27d56697d5911fffded6a3ef57061ea31049bcb74ca29adde1df418a6c7e0d612e1f1f79fba65b9bbefb0219e06b7f30bdbd01c31c12e0c7a6a58da00ba873af6d48ded65365a728bdf6643f02d6a83f1bda31d385792ba4ad96b8c58c49300783e69e0abc6d51139f7ca46aeb14a3760193e53d1b73a8ed286f1837b030d6f19cd12d0497bc3d54c690456de2459429ab4390f00f1b0627bb85b0ad007b7c92e2274d2ca24d1df13fc86728a9308f1ee33ed1a315ce95136b0dd3cc1a1eae9aa734b30f14be4796122c835fc9ab33376d834ab874f95a4d828dc8b6084a86badad645a770ef70eb72822f20696411103739f2e43dddeb8fdfc496a9a303e2253e61644b00832df6a0143a5eca036301f295cc21b866816ed24673ec5a567abb655a654977bdf5c715723cd7909490a921d8d00596f1cb9958f6bdc3f64bb9d02d5992b1048c20364118e357d4890a1b84d2d60a88a1a9a684c4b861f371742bb4fe745e956e3e93157f96eb625e2e60cd676c8d4bcc3f9120628eb447e04dbd3a94997ea89656ee529fab30745ddab9f60964ae2fb435b362316cc1154f2bfabea6994cadc1bc3f34148f87a025a0e242035b8d664e83f7fed2894d2550e2071ca32618c0a132612a80eb03600efb62359b86fd483fb1e1fa10d075698015f797bf3397e4dcf5f7188f23a240ebdbb962b0d755ab213cdccf43698c9d5a42939d693e76dd04e6a05ee71479e830bc67d6518f87491a4c3150f86af4d5973dec882fc8d0bfc1d198b7a506815e1fb75a50411c50c70e5f661166158a35c55c74c586ff8ab1576665ba619db8d3630fc6b4505f7535f1e3938ce10ef4750f972ef9f6ffa91a1b4749d5cc073361c385a4f07d9429602f8a661c2b5235e266b1854676f0a456be39c0cc6230d8eef580dbc8e10fb307ab8b2dea6c83eff0b96ca58c435e492c44af5faef76625939cb83c85d3defe066da7438aca4692f36636f92de5f72e1ea7ff22c5c5fbae9e1caf027329005300eaf0b1dd033e4e0676a99b94006ce41cfc79b0f019a13dabf2a6cd06235493200d47b54aaf47849f72e7d387757fc0318a7b1cc599f3a6e18b467796399ec6344b7b1ee291a2f0643d55bcd4e3635bc0c01bed023d7e2602bb561781c6da934ee5a19818245fe44d32fd3709b030d13a7f480053be926c29c1ed1abedb0d33c178e5bef1a3d16263b6219b4bcad8be56b0cbaff4ebc21463c533a476cb8fc296a6aa08160a3865e1b2a8ad09f518721eaa1b24a64491bc230fc75009e1c425ca1d873422d40ab718e394b4508bdf9753a20497157d14e573b5881d78f7536f4331826d08760a6bca9a8e22a47f56ef14c17b78d244dafa7814d66e455a72b3064375e64d1f6da0db17466df1a11b97e1781dce55f2ebcf088d0bee0c27d96e03a9e4d2ff72a4c42169c804295f540544241b542dd4b84b82f466fede379126aaff98af25f7bac3f344c5f7177353f64f4f1f2d274c33c572fcfd40e8793daec9c5bcc7c8602d0b50e62d0b74360fcdcb556581234e91e9e0975f7a6495d9fd6af1ac4afdaa80274673ab6a26fcfd8ec888cb6300153d44d433ad3897c69a561ac96f98e2ce482c461e2d16916e60225eba9d27e3d322a40a09817e00bb467b1d4d7c804eceb880aecb774cda4cb4a0caf1fdddedecbe4128c0ef2b4093201651229ef5c2988f18e682e90a7758c02402a39b5543fdc6051ede45a4fac21f3f1d4aa1ecaa8404a71db21a9539d073c69efc0b271c9b15d78730053453cb54d3b8fc85fe353ba40e4b4f3ec25ee384f7609d898139422322248d59fc0d49dba6569267a86e1b9bd284ab156f973d02a2bc4b2941c729f6dd8098cf9a2a2af9761930e1eac5dc734687ff46440628a2a6652ff5a72ece879b7bb756c90a9d5ab197becd20368fc7c92c30810fe5cd98362c7a19af44848ba24bb38df5e11d42ddd957d0c0036557c9fd6a546dab37151572e26e9f94971d6fd1af72aed2ddb49d0415dc7a50458a34f520675ef210251787a6754c7e3825c90c4c99855b272d60f41f8b303f58cf479515daa527e16d6803fdd02cdef56696ad3eaf025112023a18fea4be2802337bab10a3ac49f7c9df786224955c60e9305c12de1dd595499fc4faf8fd5346418317c2c143a736e9892bce16d2e28450afc4178b657e9137357047341f083ccb474576b84c7348dbcbd2971231d96a4951a7c87a00af95feeed2ceba8afd984f0e6e9e3fe00dde7a3e9e5f6a031c67444aacf914b7f4a387e9610527d097558a9d6fdfdee1befa50e7caee03efcf329575653a97210506343754a5952447d5b9612dc31b2b4a7222907e96b770956ecd43cfe93376b708cbd4d8da1d787b9698e708a6143410468c2df4389aef5ccdef0220015572730898a011123bd97b4dd46cdc7cb1969a823a9b2cbb94f06b18e18704dee446c19aeee132977cc89a3384a13d8c855419f9170eb959ba912de9acfe9452574f1a1aa991b52f2f67212a7178cce1258ea411ea31ca04ec4dfa199a36f5d27f867b8baa42a508eced6826c7a394a5241c0ccae2924d06623e73759f553b05232da85f47d3f1a167e147472a13401b1b07e54d94980d5e84d4a293a60098332a33de91c99a7e7a7544237e390c98af92262b02c1bc00a021cebbc37332ee6550e1693bee8e75589faaba4c747da9dd41fdecc07071b8538044f6dfea0d7b0016f0f8c455e495c4dc80b4d4def2e9e31b51e9d421b3df29671e9005cdb2406a650ea956e325d01e86a374842d6a8f1bbbcf8793681e0075e787cc729d97b2ed7d96b6468b3272cb2ec9ec89c37b8bde070e90e358e12a30894a4ebeda379033425ce68a9882c4df6ae84889f7ad4ebac452979b415aad4c24bf992dd4bbc1b9e63495554569773ffd9762c032fc934335705519bd5603ad65d7e67965fa52ef79d24dbe8ca442a18a5bb8ba5de173b72e671fef9bf30b9ed57eb340fbf9b1acbf178daf4b1811e58207bcab128d9e4c6e79c67db9eb42198a8d5e4bd0c781564674f029b66c3285f4d595dd6a4193cc272fc67a91e7e6860916e3092c126bc38a4fb50947209b60793c50743759e9b38f6cb6b96a057dfd9c348e102cef0043ed78c7273a92f10cac6f6ad7605c7683828f24f4622771b6188541abc855da6aab2a81210aea11148a29be2cdd54ce801b6eabd2f390ea402dfb5375177087664a1ff4a29a3abc7cf40083facc7b84cc250bf73f30ffa1d2a2245b2eb85905afef0e79badaf6b137acc4b26e141bb4ebff69e14ccdd2bf32ac7c6f1ac3f79ec1b71097ecd62b0c1c018ff43b63f40c5f04e82663e14e9ab45cf8eb740c3c2bd285cc456ca5789fc820d052f60a3017f746ff76b09a8eca613f5ae760c58e2f69b1863ddd0dfe2657f7e81124b534dc1d3995786796a520e9474d251070d87f5fdbb650718d84eec1d6b0a7f95f175d5eed160c39b92dd91ef3e379e91ddbb2f5165c6e2ab84942cb3c79c073b4eabca0ec967494b6a7b60588f6408f1e754910ecd48749586af455d2b840b78ea101d1878a55a338c05f0b03ddc063a5eadeca7f1c7aea0bacaa445f8e4a8e0bc0ddc2a6feee61b0bafdac16e390b8cd336575aad328d0fd0216c2eb3afaa27e96ec3da13dff2d639a5d68d73bfe75c8f25c3f2a60b874a9566c7b239761795e60cd56212d528a356d86908667b65039fc1fc82588b4f7713839aab0ff3ba916acfc314b786b85a8dc62a7eae0819ae867530b6d32378a640e3825d14c14d38f344b46de53d7147752a8a410f55e9bee9f0cdc86e1a68f58b81cdda9212da5a743010cb917423e5666e469315b9ad64540dc46f095d59247754cf5e6a1aeaec5a524f3cbd8c0ad361c94231ad6acc75a19dea0278246ccea088c85b0abb0f67f579759af2b629bbd4b41a570a4399398dc3181979dd79493eb54b4ccbef32a17c53a1a7ca70ccdf8432a1b17ba9efea621d979e6d5c44c0f696e6b309480e1aabe3a9a89a224f0da601dbc3e7953fc8cdb93be84156d61de74081db390b2fddfc9f7f8dfc3f05c5648bc0c9e29a2548d858c74e8da583a03756b516169f576dfda4c84c3273a73cbceb9a1766b5f2b7be19a51711975e723c4cdb9e66b2522640f94a8108f09d5f0294c1160aeff58e4641d5d0d515705bdb895b3e9a67fcd3a7cee6ac7923f3358a02d4c32772bbbc1e07f2c9315c6b964f0e824b5551f1d614ea1b219e4b9164a83cd81c2380734f1361f23195a74bc146a7e12456bde238539d09aac194020cd1106ea06f910e7c4039002bd3e065bf3fb31eb2fc9c450f6af93afa64ae758a670a4c152744a4b49f42f49338346e0d0968a5c80abda2be7193ebd4ba3068bd13b6aa71357b694e18ef4d1bf0da913cd48a9036f05c54875809c76588d9603e629e427499e8d26521b268ce4ab361c3159b7e9b9da9bc964951494c82957ce8fb14ef00b3b6fede1a409ba8291534d74a10a95471ebc4f864479d87f73e324fb27592c66418508528f013381695709a419e17a926d2454b90af774e4680061e2a25e9d5ce97e9a648ed00c88ae8d4ffb356ccf9aef008e09a41e214bfda640b7f85150c029dd3df41e871ea779f9fd15cb4663938e593906fcedd6dca7f9964e2801a807554c849fbd6191b07d4e70967babf5f8c8e6890dfda1b858b7aac20f809ad2a57663aba6489f088ea37e003c547fd0a817bb8a3bfd8d2457414a517072d837211418c6c1fb24112f56fd4f76b3ba11131e887a7d140b6f805366dc71d84f271b262be7b6a2c3a8a135b5c438749f15153012ec1a0159c22f4714dd14a2a34377acfa1004ab000fa0463781a50f7b1ad91d6a9794dc0fb2bd00a7926c0316f3011b2375ff2ef6a3141d272e6e3d5f7c6b0c0e2f99b8fa6b8b6e5061dca592f13f7f11ad8b9df4fcd1682064fe46348ad6a4977b133462c3d56ddfe6f7b7cf7b4366ad12f347661ec20e701bb7ba8f3040abfb8850b955f75e577083997d35afcb1604a950b880dd2838cb8d10b0551ae893a97bc97bdde48d2ff3cde2a16619dec5884240b162c960b4c7e4f8497e8a5e5a53f2f582b9ae89c9bac54c146f4de63d8951435020454aecefa649f81c0cd12fb7774d40175f038873d7b9afa100f443adc7dc7413ed658cfa71386b0e19c467b1b5195d3445fef6948743b10ff6f8b64b2067740f1da8a64339386800f4b200f6678771a3b80e5fb89772cddb7cdf3c10ed9aa56866b49a3f75454b28da5586856561ee91203b1228f0ebbeeff8f476ff2eedfcd6f76cffecca94ad982019ce531f979333867705b70499f0612d5ca5fd3e6fa1713ea472ab272d3e2ed4584e7f74d8d82e30363fcb5b0e168f93c2310e081071b60de0256b4b7cc2c8a5e78860370ba06b22a781ee4e96311a8c448c914d456059ae236b4331769e07756482d1832d5d00848e83f48cbe7a1365292c50e9a0b541f6b39e2aafa2cde7136f1f56f3e29eafe6aa5082fdba986a226b958b79a2e683c0c0a24a1ba95988ff6bdd6267335d3ddbe67f0fb36e2db88984ab9e3b3cdc549bb10556d4e331143f5f81dd46e482d577dee3429e420698debd748ead3984906da46a1a222c129da49064b1a5b4e5c26300e0ee63cbeff2d4e606abfe722f2c2f69f83f667bc9b2c956d4e4b434a902fc78594300f8c864030041dbf6a13b59a01aecc2f8e6ae752e2f93b7309c628814aaa00024c95424167f003bd22afb817e9ea5070ad4ca2ed8235881b9af532a19e1978a1e6f03d2ad85424960c9774a472283a8d98114cb127f5bec9e5794bf04c39b81192222dceef20a9502c491270ae775426e705cbc1d5e4c06275c092bfa1d403f47e6a4a6dea7d381cecdd1072d770a3e53df32f08a1fca80f2ec75157968f6515a2e93d084d1be59c49b863842158a9c59fad19fc26c4fa5a3b9604d2de26bb1d646cb5acdd6425ffff36213c084d7338536fd19aa01481f8f404ef0cf837cdaa5c4e7c10f232ee973988fad1e8ddb43c6296bdaa3a3ffb167d41130eb7d58035bd8787ad01f9d1ed9142225e7d20a1d2163755f95385801adbb0c9147ee5aa7b90d4dcca9eb4fa933a6cf8ef411d1ce4d5c86a68d928ef01937e9b5fe9b508ea9bed64b23ed8e8bfeda19cd516e78cc3da16ceba573e4df97d9eaeb7b7b28c59a90da9e50aed32e90025ae56e367448311faefd7d165b19e135fbed8578d44f101ea781f38d2f00dc3f014d9fa29adc6efb9ca6f257ba3af984e1c707dcd66ad0974fc9ed8c423126a06a8c2f62ba64ced9c46cf5b2325951207f8db391f684bd84e4f033aaf25bea6f9cb4cd67aa41956e6940a913af06ccaabfe7d6636ce94baad2515d52cbc01222fb495233196e618f9c6b25827bc2379ddad190bb614b59580fd6d10c865bf64ccd7b266c2b497b4695427f13868213706caab011fbf899c9d4bbe89c88ff911cebb7c4e36b4100c170762f44e77dbb4255ada6b28b098888b41c4dd127c9d6c874fa501410f05f763ca9e67a2ae4c8dc70334088761fc30833d1b3d279d1376a49e2fb36d041675875b94018a6e8f506615b2e79a0092f938ba8ff2a69b34b3f2c66e860690c8de16d1e364c00a097f04022c7238cf17753db165b0cc0088814d2b5bcbcd81c645a32767b8650fe941d7f41bbd269bd8bfb1e258c8644154538507547b43a6c7becc81c7fa020151f799f1131c8a7792af9293a66f5a59e137573cc222fc65bd4ed63ccbea673e6a626e7c3b2ca363ea0d7c2510e2efdfc38c49e1f94c35c430e6fce8d649bd30fbf2e58aa8ea8d4f5f5f6805f73c33d63353f033f3aaa808232cf45303bac9d5c28e7d4ed83c517d3eb0ccc800bd655a1333330e82cd016e5a71c32559f494e7122bfc2555b3a98430dc1ab96562d3fd84359d4ace1dce847d16c100d92bcb51d4a55153cc9db7cb457b05a9788a63ec81b427a73ab090fa7350bafb170b46ada4398ee109fde6212e3217981170b66bbfa199f860692a37dea45d84af05c54432740b81e2e2f09e6a1ce01a71fcf4acc7a1e44cf0813e2e401c55624c4c8761820dc8290e3cebb20575acbf016f6de626a5531cbe2181a3c4c922f49e3293239d6f1534bfa8a9d6f9d8bc01eba0c1109240785d4e0f170d0a9e2a1717d0e9fd852b2e5a40d1b2ff91f35865fd01ead0cfcb62973e17662acf3ff5c33053360923aca4b1b6319978b001d7d7cae5a4d8f02092717e46a1b93c04ba1d8e922b5d02a3c131eba7b8e42cc461244fcb47b2d7e3e4907c179067817f8b9678e13916e559a7afcba377b493760c19db0d4659df2806d45a539aab215e9f7a42c9bd2ea17462ab85de000d168d705643b8dbd8a30612eb5817ac2cecdd50c5b0d4efe79325b3e50069fc57bec719afe0bbfc783bc51b3ad46738b58f6a7d88a33e3b721e7b86b24ef6795450c943e805063d921e675bcc20e6549e32c5eec5431334c4e74214e2b4ebea02354bd4fcb908254b368a5cf06ab86017b9c2c15366cb7fa9dc502be36c472187192770ea44e77fb6fb41295a9624949825f7d23a259272f4e79ab2da8f5007825062eb0229d1f96b0249033530789a0188ce64d587b61983dfc9224967de0143d79597296959e6303f452298d493acc79dfdcd251ed700f1e439b561122a0c4135690d5866f41b0899cb5ba8d8ba6ad07de19c661a4b3ce1fe8fefcb7e0b037cde766aa3f8e2768189b0ccfb9e3128972a3354270fed43ef7857fec7703754bae315c6a8b97f6feab835bf637985ba5b668732297ed516ce418ea047f6d429606c2f817e101abe62df1c0f0b85f6aa6cd9ea4cca2f6f67c63f5beb07afc2bb2406e2a75ec2d2f4c34f26dcb7c791ad9120a454e3df2815c80af3901e2e306b5330583559d23ef60526399fbd8c03c9daa91fa96114893d1b6e170951166b1104c34dafafe8386bca2fbacd53bac8f83f011e8ffae97ceb106fc84e241ddad9a73d731d2cc02897f475cadeedf284498b567121602d44fdf1a0bf1a0330a9560399d1891d59b63aadf79799a840a386b8b23d3066d19bbc78856312c9dc3278fb1b2b27143b0371e65fe32864317dc0262686d2765f34470d9e5f0de6f15f1aea96a06df0541db4a16c9f37354472b449ef70a80ec26a96102a205bc63c21cb10ccf46e850b55dbd8abce932115ff129aa80802a24a8cb74448bb3b3ae7c47b22bc00ee6f648d62562b2a7cf74761170fdd45b39d070f6302fef70f87ca2c842078aa514d660767453e574e15437ccd5a5cf9a7c47f0759f9ad76ea39a37d97f893f9fdb129772d7e15c5ca70e51a2a76a3adeee136c8bee560bfade61a54b2324b4649bbb1604446375f7f473a3237f979e8991dbd68e174015fa2e1946a479daa3c6a4e2fbf7c3e34f83c4840de932b22806d91088f0b51c11099b1d2def1530660815805e81719fa8d3094ab201e4f97be9b4beebcaa50b2c9c1d1d36a20be9b6391c0b736776cb9f8a98ed0390391bac15533291020dd0df3c8c8880eb6c62bf07af6662b4bb4bbdd47d3720915283e2f0810d3fe68db3f1d80ab3df5daa0a622617e3bf0598c44dd852a69b84f440cbf87ed95b53b1937583f282e0803818accd7168d1af4e22edb4590a20c61d8b9633342ded452ecfbbbd3b35badadc8626346fa984a1dc99bde945e162e94bff5402c12f37867fd3e9305591b4d7ea161c96616a3c5ab94613103503681ffd915f8de2d06a6628fd313d6d2f65c52870cca7850f8dd1084246ad2746d61789bd806514bc04daf3a43cd6e93e56ed60dbd85abb51def76608919d4f2f6e872337e6880d94259a20462aa8ad68f22f3a942825db43385fd98b7b3e6550b4e26e2ce2bfc6fc8fb8a5275f872b42e8a520dc12a0aabb5abf507d0545ddce1428832b4d72c2eca1f1e4e1e3940ac6565c128ccb26f45a71b546ca18e4f1c4b4877c4a97c4a806c6ad166c6221868b62e5570510654827eea2e1c6ab3dcc2d809c5b3140581bd44d0f7e19dce5fbe022c66ebd3956ba19971a0eb25b68473272180340cb50104d8133e74f68bac0e7964ca8efe656d2e01b47c3584ca9f6d5914d6f8c537c31237b7e01a22ef53a42becd84d1ca547a14516b81f51b58e74783d7b2884ece61a07ca26b0ce27bad8f7ce9dd6bf1acb7898fc22c90de82995478ad12e93408a4b6f88e4d3bc3063d95f3c4b8bb6f644b83d0b8cbbd15aa078f78f5552c98cc31710012a65695618df22fb6af947946fa74af23fcd77f42a7059afed005cd2b574405d3695bd6a025b81b8e8286b7b5b9aad9b032f54144f51662198dc28da525b76bdf96e935bb0a17bd49c7c801e470bf75b1b058b38741a6fc00e2aa1229455c33f31988a4ec5a4f04e7a9413a3f925c9be38eddb5583fd2b560568e9a5df3f1a809bd5a0dd30bce65f0fb9eeb5c5bbbe177adce32ebb7d9158dee2b241f2580a2d97b9b7069ca2d2ae5746037cc414f752f04776f3f4e402d50caf10f49e5708f5da7f4bde690c6142ef112971fe86581beb51dd41cb56c2712e4e7681f19c4749f8b047c5698cfbff43d2f9e8f82814686df3cfc2ab62aff081a67ccf26404c1572708c42f683222f5210ce08233583d16b7d5b82b3905c1e72c18829e1a09d14727261690c0f986529b9a66a5cbd1518030eac05b74a5404d1d340db9020d3d8e386c60a084f50cc8863fb73eb7eac6d6fefccb615dcec57706586be88b120025002728b7ca80342ca6853a028c514802f2628c3257844784d115a084e23ba7b2f60c9dc80b142036e7a5d92ef96dea6a98a73180bfcb28db88989d982dd5d753821b54d4964ce03ef791d8aa97c4c66e5172fb899a58e2978512042887119aebb0d70aa0a26ddb8cb6781ad325da8ccce192ac911ec160205034881e599bb799047a8d73089ca8a39b249e26e73dbea353a2a8094348c526f47a7f20418f1f738b9899c1d45e5682ab4ba2755c37afd30f53fdebd3fb241cf10e4ebe0992fbe9f5bf7cf10b17572db9c513a1ca4893e4d385623d25460f85abaec7a9553597eba925b30e61be33879bcca42d2d170e7ff2e99bce936a158a142c5ddacff6207f36fc6b0922d088c2b1351667b8ba0288839a75b5e42854cfe5aad2de6e70a665d3b7406f14890c07d37960a627582faa5d488052599fc48c1d562c8570ead9010f8eff6a6719cf03732fb9f825c797b2de96425693b3f4e142b5ec284ad80fe0b7d0ff8dd22dbc78da48e06a590e9e3fdc4e48d60ba0f102b9098bf1771a98abfbb4b8931fde70ef61aeb362d3694376cb60ae38cd78d7bb6ededcbfe47fb8b6fa6c79c94d8ad1941e1af31c2e7dfe40e0bc7c6afb7d4a70911c3f169adb0586530a90c7b05d781113659536be1cd802e6391bb8d0e73eaa8c344f580c02cb3c99dc5684df6e6ad6aa18b2d9db6dfba758b4251a04efa00c3bf8d02375f5ac3a015df2b33684eb5af8bfd602cc5c3bce3cfc5ab3904cd5f1c03fea0cfdf979235c1e40f99b5be2567699517ffcc3cecbca2e0d325463c215ba652e515714bd8b9e2ab5386de7d0dc7ea60d6ab6600ec862b841d839429801a1f476d25d26d968fe0931c4cb508688776084cd1c831127d6169ea1a1e434a8194301120ee69bb5d854b32364013d68365ae76751f916d7fd1e5440949bcb944e134c712eccc3cb54c2d37e91680425aa583744942d93a4e053adfe3326fcf6c2f0e24bf54237cbc60126e091a9b47641d0ff33449ff8f0d388baf1f84c22b82e0102ab8ca485f5ee6d11fc49bf269a14bd9e84b40ee4d87d631c63b89ad9c368319ec9111ed6ae841e015cac4f7cbb43c84f7bebfb579d3fb431942efc5cb800484f49d9a8e0baea8dc2434091feb41b1cd36628afa19d26a9d16dc0801be7f14684449f31ceb1181e73dd798326773de5bb5e5cafa4ad9f8dcef8834c87fc786247d7be6fd6d94de7f17f7e63b26661d63fea28666817028de3abc6b9afa7502b7fdf6685d231c58ab5c1da8894e7e645733e663775ed613d90e6ee111f3962c375eeafc20982b515657769b7d6cc26e064ef9765192430dc62a4c1bdc735e55ea8a277fd4dbbd6e7000198e5feef1c340df4485f0a59bd089e7c1db2ed0ebfd2896fc1674bfcaa9d60a1cfab7b6c38a660429343d5a2b1f2f2df5d72848ea23b2951c23050889c420dafdffd0d991100248cacaaef7a86e8322a33d5e6d60a3cc7e32a4f9be80fddcd4b5fa016f6ce4ac159681ce4d31ef6fe56413d46b106f8d3f7beaf6d6115ed483a358a5754af31db9d55438b48ed1afa11d513aac499fbf55d13e7eed401a2b190e06e6b5b6324c7d41f96830a3d62ad06e7f30699fe02f0699ea4b613394749f4b9a5864093a86523a5e19fb0ed54af7225ab5b4b1f8dd7b09596144373e59f025cdd16d492c0af212c904c9127e9ecae8d0a5f029b6e7a67597db045c4a7953a63781212e3c10351951736e4eab6e29c0906c21fb0c71cb9244c27d7deb38a794a5f2c06bcd98887decb2eedaab2bc1130208b44d8968bd66390ee9da3568252f99f99d87bff48143459876e942fe9fee2fbc61d38a7f3be2675c4a55f217d0f66db274fefde992b8c47e2b1da572bf10440d66ce42f7abaae0e24e9134c757265c333a0e3e2bbc0872b91b9fb09cbceef63054f7e96e523fdd9fec81928909eca90017bfe8be0ba89ca3fe318a04e19a068eeefa9bd0d6567db3e2ac326d654c635bf10208ad414add9c0a804b54acbed998092ed76252b6f00050acca13c699856276a4c7f851eadf5eae6bf49d017b85a0a48422819b095313ffe62f5d41ba2150002c408e0bed615ddf74efd7328011867994985a92e45ad61b882b6f7150e00f7545a099cc363a7c745f6b5b8524133822d73a6b0e744e32c553a98e5b97eccf0fcf2f7e913e1c98ba8442363910814c44cb020abd381e679de889f29ce97a2720cb7d15d85bed9af4df9b1b1822753760a95e43a7e30f985979f2228ead268dac09b71aa109047d1cdccff9bd91d9aec6f270594077cfc8b333a95e4e84a43535648c745bb3308605119ccc5bc87a4ce165bb10f22c22dbb22064e9ee3b22a4830578abe727462c4feb436fea9d47511536db19ccfb7b5a5ed71d6c9b2f144abf404b3d5d403b044bf32d494d7ed557d2ab490acb5fe3dd66dd7037ede7e1381d41409634a71b7b9141496e9d6ab9abc4ec5afeaae916d603ab828f373f91ac9f9609a939842d8980b04e71879726e435c62afdf1083fd486021faf2b2105b886661ee0fbfc6e29fd167b419eea54494d0023df3eb806dbbdf6dff122e93d451d31fb8131a91cf913dff2cf1a425895eb1f887f5a26a5601d8532cfa2107660e624144621139ee6f79116bf06c2b41fe81ae145e023c8225e94157802a64a38ccfd95209e4d15641695498f6a87314c7f2d20c7b33a58963f6eb7c54815c546db9b68eba3527902886e067a173e74cab8329ec9f8acfe24175aa5e0007a8bb3dc3783cb50bfe118658971f7348dca12334323908159764f4d452aadd352e1bca61ff29c093ac9cbae2c3ee66a42f8146587961b01abb0596e18d28bb1ccb1ce988f16445ef9a8f03b336f1d62277b0dc5dfb79d088424d8777e74d29dd9580f5efed46727c6067e6bbc2ceb0422d6b93d621174f335b93a543cdddbdb471026bb2fbc1fe917658cdaf028e2f65a1f28cfbe6e214290326c33022ec0ac4e3c63e423252e4dd2ae396b4d9afc89179628e6144fbbda6b544eb6cd98f711b0ea7312f0802e5f560a91e44618c7583a8847837b00a53679a37757873feae156c0ae5fdc4a04b462b39f9886c34f88b80ca30b55d14f38ddcc517c3ea427c172f85cc41c03a993a16d4dac7537cb6bb8a4ab5d959e755723c9695556203403fd5efc7724d56c47dcdeb64a24c9a1352a3b282e89522f49738ff7586871c20d3cfa10eadfcf1a9cfe09d919a0eb4ca82f3883fe721118e654e00f42e32fc42d8d4341bfda005f9c03d2f1e4603858d43e28bd3e694ba171ec5dda7e13fd6abe122ed9e75bd6a0ec8257689637d8e80fbf7e62a7a510541aaf291ccf476260134d29fd36e3cd8dd1d869231f77ce50fbb69cabfadad3a1128889f594508d36dbaddb3b36c7de0f94eb0e964fb87ed7cda232ab304a756d56ca5b3b3acf8b392baa71c7ce70fdeece5a4a65584082fc1246fbf3f8ea1d198c3b1e5b1534872b753804f47f4c3ddc547173b8847c196c94f4736a6dab2c2347d88f50ce4992eb5eb562cac4bd040635420dea95163f7797069dded9f8f2d482e117fda5a094ad0ee545ed5ff46097a41adf4ff7521c14744578e0ea79ddd876f3f9e35583ce7d84023e43b03f652f7ec6ce9843defc9321dc1f3001a506ae34a8fd5cec1de9eaf759020446f53cd3c35bb621cce07269998bb5aa93c7786ab91b08dfe9757fce477c1a576985d3a97e5a1b678e20f2ff1f33f1d6177c994058a2eee335721bb3f7d5b2efd5231f9e04014817312bb3f054f7e1644c23c6b5beb66be375c72a9e71e54b6158b320a5399b5ed155447197c8913419fb72b593766035f54a2708cd5bda9234fb288338ae3b8829c24131936e30617ccf1fab54747692f5a23220c33a21bc0bccb2c5413ff96a0b3abf20e8d95d1ba0a42272dc417ba0b4f9a61b9a69a1046a591bac12ff48dc927bd09a85580aa189c9f5e07936ba9de5f89ebaa4582d2c0b48cfdf1e6fdd7926ba4f9a2cf39220525d431a612d44d3e1729559049e19243273549b20d0a48a5c2b0781e13ac709476be247730dd4c6c34ca81a123ce615896ae0fc0bef1f22395d43aa2f2ff2460ed510099909732b8d1866140bd14470a14569e445da2bc75acde2ad320177c7974d570a95c840ae903e657f80f0d44b66455c5269e73a338cf72bef3605a33d79264d12cc7701c7f64a013405c2210a9d34dd910826bcb81ede814965830bac34d572dade2697f6dd43ff7fdc231abe065515d3477a9984caeb85fc2052936d4736d34ac4ce4df97806955c86b9b456a852d0551b5eb7388918660c44248d357362e459edbc8514518d93ac146166689c715bd9f33f2e0239ea8c623397b3c8eeee7faccbec5e59c1ce3551eac97b0c02c9be8f4f4ed63f95b57f70708cad323d48dc8cb61947a09b7234b787bde4122f2dbb51b370de47bb2520223c2370c2117e49494ca8e50957b028c497c84586d50afae8decc321a86afdaf73a43efe5b7892878788a2a40a28cc31962e75a9df11cc49656a7d725766bd9487e16a3fc45dabd211ad47ddabc8936ffb9b51930e6e9640b293a81619702aa51379bba501ebc09e95d5772fe23d4a61c661ef9a78fce7d1417813749dbb186c7e6db9838b9559683c9ad4bbfdf216adcded956253913ba56e421edbae6ff55f67b7752e128b5fb83107480b59d2a3260dca0bc34cb605596c744d7118486ac06a3bf0239b0ad838854302c74b5c7e66f57404766cd59df9ef9ecf324cc9a4db31d198110983d4cc547b727ad7e658826e00a552d41dbaaabc6621406171f56e5d086b059e496b0ad2825823068dceb6cbc500701106cc18b130b8c52579988ce4269a850ac884690d53f052a5460f9077fb7c543dfb000a997870d122868fce74d1a84f7b2e2b747fce89be790dac66893b28617f66f5cfbbf221a50c9244a56254ad13045af30a35a7720c5c3d10b7bae4d6f8b8e03a478375e994293108df7b9edfca362aff70cf3c76fa6987a8b0ae6d09e3f142ae424d31d08f6be1ee2c19d4eac21c6d09cb4a48b93a65b5e1e2c32a82066869e8b4dc93b372f683974287d908c61dbd898b73ea996a44b6ffed20b5f36098ae351cbf2ace1bb82bd4adb872a32c05d9fa6d7351fa04a8a1e8906db49ab1471332f38e45aa0571208a0aa56c2649998e9766050e37e1f4e1ffc0e19a7238c265cda7b4d02597c9bcab43e3d06c0a376283669683b1ff3503f3d962c7ddd662d8cc0bea5cc0e9e8ee5536a8692f713462b7174926a97afeadaf87adb465ec63a25e0e5c24bd003021227b1cc309cb610898aaec14738dc5ee13f649135bbe77f6739a74e058d70765a1d0134f673efa4cec24be199a40307ec3d1b046d6f990a05c2adc74004ef4424e7661a1b1c458a97b015a0d2931d57fd62b524c4bfc69fe943926bf9273ee29f1dc9f994451225ca4b8e4cb32225fc84eb3c02dca2e1529edc727cc88ce991587939a2c93e1b6f1e6e5e037e88f105e246e3e4dc8fc184761bf9e7f105c15cb10d3f1f7a84f2ce36a66236adf57c7c08f32e6238d8f5242bab6b0bcdf9d79d1b45c82fffad52e7be84246a99d224e827758de1f184196724087b4c5185b1ba3f8da99d441b5fab25c4d66fcec29ccd60d08324de277a8e75a44994d4089c5f7d859e1d934f2649615266e5cc31f5e80955af736382ac95d0a43ff46cdbec16ca4454dd8cd37f8c2f4c1bb0c71c783f3db9766e595bf9b42e51f08e2761638996be8fd9608474baa3249950789ef88cea7c9a85c4208a654e7d450416d6ba7598f43b28c54861ec9f79081e4e67f629b7cdf09f0f6068108ddda34125ce03173c1f9a77d291ab22e7279810b03ae54260c69331416f76124ea98d76d71a69bffdcc1ed4ed5548726766d77c54a4bab1ca012c45c69aadff2de0f27161e6d6da1c5120230c7097d70d690360c4bd00280a8c64d74188f9379d9fc233233e49c2f84a509d28a029d7f3eeef47b87d1549efa5d3de08d731dc49c9b8afcc73da1ea4d4896104d145eaada6e925d76366525169e727c5c05383b6430646e45f642ff175a30b3e20f828004d8c4c861dd3c1123416b69ef95a81df1872631668f96ac4c66d8da05f4c9700fe8495655215227ab7fea363b5de7764a98919489851ec3b71991ecf59aaa22ab129db8edc5e872a57751ccf7e5586d4cb3db862536e26df11af6982f9d4ca0dbe63128573583fb74f3a3b3cbbe7eefe2219a0df19d3616804e825534d10f862df4095795fa96abab7a9d2121528adc16acfb3b413ac57b04b2b2e3ce9686b790c4cf2f2dee8aa81d846d5b31c4623144dce4a641aab1e6439fcbe3b5a161c96b52774a2e8d1b268acb42b57861efa2bb4e310e523990555980038e2cab13da0607660424f9fa7f6be625021cf08c458a7df57e8950c202f4d5d549c4dd4cf0cfac8bff6fb49782c3a442b6046275f97ee14d89befe07febed0e847bc8964fc128d00be4d8a06e7d582f2e170999ba8ce4ff19ccef564b3e19c9133749df54419cf545e098cd1f36a23c09b481053c0a71574d5a090a4d53bf9f7f5dadd1395ffe5b964f4c645b4feda37aee48c0ad7e1cc72a487d1187dd113ff09026ddb30efa3b8c17a81b0c540fd152cae032c87b0020269332bfca97ca406ce4212a4b8a7fd00d8d0bc8b562e0f7cf83af0d19e1262046adc8cb43e8ecb8a1ae4e0aabd085641d4572e0abf85f307b72127debf63258a3edb25bb4594934e8e473bcd0dab0fde6a72cd916df80263560d57172e8dabe396e3d3df6c7fa008ab2f0b1fb7f01f6cce7109bdf1713c29666b36114a5641075877004dec889b48024400f4ca77a5d8b58b892965a3b24191d853c639797db3e98bac82eaea94eeafe9c04856f540c4093cda2f7825124351b2fee290c6db2340a4d276369245eac08d6065a867cc94ee72341b5d7999b9852e06f20ebdfe73f83bb59112775c651c785bbe032a144951864c056b5f16e63f16c45c98982d7d39bcb87b725317d7ded520fafb67b051164b14359b433a7b25916298dd7d9f6a59c802e5b92b0dd7e6d4f6bafe36e74567cf4041cfd27d6463fb69677527231b2580f3c45ad0c8a9808fb839bec9c03ae627333aa28fc8516e654406a813dd75ea4250b756e752c1d7567fa4afa1cc2b8c26a61bafaf82605f56418a0e7b31a89dad2f764f545653b1485c8abfd5fa2160750f973ae029b239248a7e29c1d5aa1f7a0655c020d65ecd4c99e31f1afa1182f47eef475b2ee4aef57575502bcf58da6782ced0eaa78f68dcadd69cc437b36a864ff594e4477c42aeaa1e93a16056b8bf157af2911796bdbf06fb4a8067894d414b4be2fdc3fbcb9a1cba9ded97416d6f506a0eaab972ed416a43b1553a43fd3b6c9cff8eb84085a6967c2f6c8239aecaed9c82249d17708982716ae06c40d93c9b1dc9a5e23ebdd731c12591c63f841017563140d2af24102eeaa1c5ef4984e808894dde4e37bc2354902205cae3cee908a9b24007486b1b7aa476e8e1a43ffeda202d778208594d64d3c2575345246b566dfd8ef05434b9622e39befffae17118117ca1edd390d3dd74e3a1b8c16cc8a1b69ff69ec5c910d6291e04dfc004bf9a910edcfdbce205fe28e3b8345c3d6a7ece30ac65a1a2bf7872dcf789f03a7015fd77bf4e1aef496be07d56f3f43c81c10fd6ec28384e409226bfea5bd5d799826aa4b3f2d111a47c2e67ec1ae0412e6a8fa97c0e49352ca6629a1d7954543a814234b413380002297b74cb2ea9d57528768f1c88f86886288d6c8fe5e74d69717f49230862a2a89946ea112b59a0d202b58b67927716dbe7d65d7ceb97080f2d499cc5b59852d973a1aa75dc6e22b3051c0fff9bd9f601ab43b2c2f2b872d332ebc338573198ed27124280f3bf959d88b23180afeb5ff7f89f12b24eb63e869c20bc9ea69bd4b93ed4bc462d4b715155ca98367c878524ba32796881bc0c1fc2cbc84e62a5469f502a927da623ac27762f7461a89cdc11bc6f3bc6ca1ba9c533aee618b0fa6bffbfb9b687c6fa0c9327a832ec02e4b36fb8e97c9b9a003496f82b7c099e32cdb89f6229ad7123dfc522985cb784f91aff685c725162e25e89b86f7d1798104d275017604bd05db83df04939db0934d9a415bee38be99fbf8cddca3e2edd4d2cfb64a4b29c420148e91a99c01fe65fd2aa83935e1411d8203667622e5476a909b240137d30fd0f7deef2a51fdffec2591d189ef2c058a220a328154057078d50405a7462fba1d61c4b816cd9250a2e19b8a384afa83ef9a6a57edba9762131c508952fae9c168d19f51e240f3771dd405967b002a1ee2059471dab7026c58a675e818c07c8fe4ccad4facb6f6d56abacfe5fa816559b2be5e88b02ca5d19f143750385ecc8a0b25838aff8498bf763114daa0780464053826a584a8b0e17dede39a8b1ef5b84014af3bd60e36acea089c4371c534be1acdd1fea90738877fbe33a69a2dabe9af6e161f216e3f3770264b4fa87622dd619391981de4b06b676bfff0c171ebbf2ab58837d024b2992288fe10b05c964125be42a29cddfe0d5eaef2e3bd73870f9499cd765720a309223c3475e99cb72f7485d41ab705c96009083b1eb32c08142c4a7a06bdf1fe57267e12e42261ebc5e2a6ba7c7c555235a32f59608e4930fe1fa8c8f1b5459edfedcff4e9ce951036c62455c71b4e43ff50ab936663d022e59d2bc17dca9aff508caadbdea44664649f2f43c2e35f3f2fe32b4909f683ed0cf2f50d531bc7d0647366cc218a82b8b6cdcffdaa49ef55e62bc69b2673e8f74c6c2523b1aa5f901072338d9f9d325e195edfaf8fcccf2557f9e9e16ffe5a5f6f241e7277530be29f06d977acc9bbfafeb61fb1f763d3bbb10354ae86534443aa788dc0069b6f0c1ee9a4b01145d2cf1b2a6ed401ae03f24dd27f54a2967c16b86ed68bdfded1f0c8fdf3973a5b0c8147908d6b013fdaf3d60fe01da8951481da4b06136454e388fb9a7cc92b92cf72db561ca5de4f41f65f8e5d317d53d6e704d31f2e344e7ec7191ab5253591caf5bbd79c0508a2706031574a3d9a606601ec2f13f462dba114e12bf81d6e123644a5e77626092d7caa1e224a4271cf3ca1ea87bc11b1e3012d9690f419c661512e09e01e0a97bfcba85499c7bb70c5d50c3201f6119102acf0e996e4d55aadc2c882a52d4874b191aca04c5de00d74ff7863f710baf700cb427828cca3cea3bc0f646747b67e8197e7e916c265f4fca855407594085e45f05d2486ee07fc87dd5564677d69d1ea0a8cfc8ec9ab01d4df798c8511535ed5e41f22fce730b29c436f5344821a107cb61021bdb08ddabe7aab7e0b2f7f31f655e724d9bbfc99f1f8e067698f8b61d817232dfd531aa36430e040899350b112d473df729018e10f0c744e836f37619382e82b98c2166f79f5227e51e8dbbd6792a13b2a9487535acbb5b3eaa384f95badd82e6a6e9cd76b2d1a1e6b0620df032bb00d8e2e36f02a08258c52beb068c7e257bf338344045e9e031673f097e2e0b222e160424d1a99bb56baf72477f3a6eceb93bcc56855471bfa54ae6d699d1bd2fcdd2ba41aa0dfe11dd0ccd0a9c0878f2755e6918bc81458d4fed08017a188ff6783b81333e40debef5f1f6c11994a6f9712988ba3b1c20a77218179187f428c0348874a9e0158104848f80780db2421f32a5e57ee29feca5de3ec9812337d73de30562f7bfef5cac932ba6db3646c474e4ceaadc3d44da22c171fa0f956531bedf3373313e662dd32c04473e3c7428c8af9a0954f6b4ba4584611e06bafb1a5551738352665b6777a4621ae8382f80e18df181f854faa6e0c34bd46d13c21088f2af9b70bb18cb7bf885d27be06d997caebe7b389f8bb2968ea797b15c6e235215b69025d307c3ba3c2f632303232509edfb51368e4b8daa4c4314b84f2ed5c392e54f6f038e62e796cbfdd07a2158e1e0d2833b9c573bfadd5b605e66967bf6a8a93db6d7d5ba3b93be42fd1982d751f36df8a3d757708b63f2e12de473ae43adce3313d7f2dcc44d2ea22025fbc0afbe407ca71e45a9e6bf63a0d3e562a9e67ea17be88d15f1a046cc7f4b781c94f72ffbc1141bf8a058884f462af656e655326297f994c2b17a35403bbdb470277eac87b7495d1470c35c0d553cf0664cb825561b6430fc3bbd52f540be924350b81d8026b70e5e4af30781ff7a91b3b36ae64591e30b27c5653349a0ab266b336e93652b3a3694489b8f185efb6f17812912584cc4caa77559f60fcd5f317564acb0a4f5983283ac81acadb9fb1e59317fd358b38dcf3546b5f221b496e8af79b26579fa4bd52e4f7544cf63d8f5be437a6b6d19d96ad5834a0458fcfbefdd053b4c51bd0112ce2746b768cbb669bcf5afba4a478abf5fba89a96131bb108ab8ebb693d6c658d398a5e62a8feb268d41cf04d4aa64d531e95514fb71d08d74c34ab0b76a8b0bcd2c6047b94dd73d895be70b017c68c374bfba8a918a6271032e78353b23710e71b5b3aa332d3e4f438ad78c2148827112bd236d1ba667002a963fcfdd76fc20ac1d3f32951c3d2cf2c0579cb6b68c55c6762c5ef3024c50180a4500612d7b7e3205217df59d2ea5939b30291bddb0e0489a7437e1a75681c6ae63e433536147cba183658cc65b58030ccf025242c73b360b3a4c1e63c69a02e72833db17e64a4c0a4ef5697b14a29371e6ad1b21c056992c93e69542bace335cdbd04f6b259c2d31b59c968f6ee60dc7be6a16c4804aa873b885948de269b843ff36e4d4e51991ccac8fbd94611829022727b8f1aa3a9f88937d36ea2b570ace2cbe0439a463185c23680b1669c3ae643d46ddb0a4067f742362ddaf24d9d544e0ee61e6dceb78ce361b92d4ebdbeec9bf65645d6fcfff3f7db8479c5d853fc683260c183fceb9f9c8d2e55df7fb7870cf3f1910fe886e144a0f49b51e4c638faca07db20044a5a5bb1affd25c77c40aa337d7f54d22e61d9e562ab90e982e401263fc17cddbe64a25f2e5563ac5b3ccd8865214c041dcbd1410222f26e0fec477536941a68abc19e45550911b9204ac69d43a9223ee92aa6413811b57f552b8b54e73f56ac1c46ca3c21c871e97ad817ef8a940a2566f06740afae904483cd7b85c8a1284d4c1323dc49076d22fb14e1f4f121e4c5db85b1c45cd099b82f1f88505554c6fdb5506d27e948ff27f9fe97f909c903959caf76575d61fa2ce7d2a643edd58da64118c11eeb62d807595c610b95734978576e3e611077ab84f3d48449710147435b981210a4d3695ae222f1c37532596be8991184c76c7dd5f03ca978c43c5be6cdff1d22536d9c3a80197054e55bba437cd359cd3b3b1d7837f48918b49e20727e4ce2e3e0e9091e5c046e331da57f7cdbc4686807a6a33d87ca70c30378f92bcc96748f69bd8e604411f8ae4f3fce59a5dc1d136f8e6e781510351c34491854272df21ebf753cbe1fbc6d50c93ad4e555bd57fc0f3db1ae9db7db2f3b66c6abd2adcab12df843be7fa9fb64ed559f53daced250ab5f02ffc3ec62d3c130edd87181686d48d1b58048ae1afdf3e7a7fa23c6e76b95ed38cdb56dbf379853c72c37917a16eea6094df68dd40047b18ee3b347fd9bf8874f4778e3011c5f99b6ff479dbc6b5cc3adfa03e3437c82ea256a20c6d404329bbc5683d9da8b1d47f35e982681f44fa2fdce3ef15f1adbf86c5feb0a91826bd90a0a343493fe9e5f7aae4bdd78c5e69ef11d2f1bfbb12b17175ac5a93acb58f08ed7ca2689be9f0d32d5c1e68d2ee22aed069433e61914d89797cbc96bfed0099894d38c36f4ba074c59b9e087549253a8f1f60799ce6116006447b870548ce468b4b52f8edc6c895f7c2af62614ddfe1f96fc5e1939b58737be0ca455a92b278441695db2d91917e5740f56badab212f1370793c517cb65ed48576d5f77bcba0a7bb9097bcad01dedd2dc3bfa09f35bef8edad643fabc6445f05c9886298230674c2538f685b08bba797d41e06782d3daf4ee439079b660c427db10ca5a683390303d13d15cd69c6f4578baa23958b75bfdb71d0cf50f11ca82c2bd45fbd6a19775cc13ce79ee22dd3fa3fed61022d42ca07cfdd78349ad962c15c2fef2cc6700d6574b3a618bb120dad1a7fd4585c7e7d6b176272ec19dd01de139ce858c31b2b5f8844fc06773764187469af859525bc877989cf68b764f3428fb98c3ba9d6c3d63bec35610c53f4beb9968debb6f50acfa7d147e42d562d608a8d0eda85a48bd0681608903f97845bbcdb08fef5e5b8b2f76610aeb3f959e85cb33e38147d4c8f6a2b30d320787088efaa248e8155b860b831cb3492de88db8f02dc197af768f1f13d543211cd520a58b5707f14a80143a648328ccfcc00808632eb165056914b200591b984a6aa267abe947258da387f37f7cb73e00149469c46d4d3f0af11ac7f44de3f38af3cacab69d03338c60f4969f1dc8e89a9c3f65262a9bc5e0d82c8a02cfe2e3bef4bc972cd63eea13674d626bb898471bd1d1150c8428da0d861f77d1c6c12cbac55bc64ca89855f4d1d08c4748e77d87931242eba2140abffc8241fc24fbb6cd9b70bcbd2c6721b85969c720d3b2cf27d7b04d6f3c409271e077a6ab2010cace05fe4895e3566d5b5ec01d8ad8e3a1a2e3208e8123c8d88979310e36bff7dee4fcbc3cbd0addfa2e48246c750a0f55a4f721f2008b0f7089b0845a0f74ca9738e78691d7a3f0cd8bdae36270e4e23704071fec7a8f3859552c458131047903b6700d1fcd6e8471890d5cbbbf45c2fe3fd64fff286212b93cb98162981b02c13ee618f5631ddc78b342de46af8effb405e7eb39d6a014bb225bb4d045eb7e58603a16d1e08f2e6a4d7b43f5e492e382a8e16e8c61e8141537bd3ad6498ab9e9349cca2303356dc68fc899f1d747bf081094a3d42ad353a3558ac2f1f7de3e0ff0f0d380b2478aeeb6cf418115a880055e7b3a4ec2db0e027515ca3c52314d99f66899ceb528603c8a2d1f70e1743a31618f6f07eaaeb83804f20c5125de478bc0844e830c254fbb9794c6fd3ff285774ef9797e3b5da75b4da638035bdae349f0bf0d31ab6576cb38aa06325bed4810c8fbabd27486e1f068b7925a6f942032a066c33e3072b20759dbbd9f14daa318221873e30057ca788c834be6d26c4e3f9efca1031f20175161dba9b2dc370dd1e96b2594f60ac8714a26de5e3228bb7d6b5b20cd5dece915bda77c0972b353761b1bb55cb753c35f9aaf293544d6a54510523b5a372f029eec387f72a0e1d8803fe647cf753b97766aa17ffadb5411ea96933c907ee28ce61d35c3a9066e6d539b388678115e2564bcc79a86bd3ac92e50b5abd949cd3b8ce3ff5c27","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
