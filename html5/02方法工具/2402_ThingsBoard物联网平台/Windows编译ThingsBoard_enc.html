<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"151e173be14e51bd2db45e17a425f109d83d3e2b4a90a5d1e25ecd3bc6c2b2aca62ce187f54a2ce55a078326e806fe87f9e915edd2ab83e69d93abb87b7b86df0a497ed5e6bce46af5498929e24bb5663c92be4ae3652c6b5df34b612bff4f9be46f4183d5ea1802c1ba989f978032143160901e25f67674238fe6d0a394403494eaea9da81132184f46305d1189c90a2f8fc1965f5a8332dafe0796b13570112f38ece81735637064d997bbc1e0fdc597b3551dac8f13f47dd92b53029736cdb868eb6b396e1b6702047435022451fd076b57ce0be97c5d344515e264a10adb2035b5377a378a1037d14437e5ef2eaea9ed7b5e03b4afb2604ccaa572764bb06a8f00f12ce2f70664dcfa246a32555ed70dec8aa81e2eb2df7fff56ca3dc39f9ae207277df7630282d2fd21b089915d22eb45ff6416b9794cae08a7fffe9f4cf66608ac7b762acf388e38241509082be3315081991fa895f3b04e23b54e795a8a9b9cc348ef6dfd1a58e4f2f9603505d61e83fba37e9d0b27303f349a1d30c31012580156120a9a2e171b1b7e83b8aea052d2f5d04df1bc2640e644c6b9ad22dd36f510296f017d3ba7bf5ded38153ddf964fa6308abbd302e33e24ab051b1c97eab1d16c98147f8312a953199cb8784014c9c8900d34aa04eca964a08c07dc0fc48efc04b2b591461553f9874be3e320ab18b618d77db2c7fa01ab19908cd344944bafc7f670c20e96a3a23fafcbf1f30dc99dd298a9d18d057efe022888bce6ba5bb4e80d3e51a2864e077c80f8a5a9f06bb36ff82f64bbf6ed4cfc33d55cd7aca40000ebf3eabfaa30654f9d9129ebc483736b61cc44bbd591c1618d4a9682d4038723b00716103ffdf9e64a6acfa2993e3384d70175c06d1041cc47ac8d8ca9afacfd64f566f6ce2b1b523379d7a37ea9b06caa9d8f5c71717e5c98d03051af9ac1885c0e5f781a633da47c46e4ee16bf334361a62a6cb2d156e61147d2da807c88fb26a05065fd920123dc3c0ca4c3e7d8dbf009cc94dc6d4e5ef1b9ad43ffeb4095a11b47ddac20871680161159062cbc5fd6ef95a51a67956c303210fdbe00c5e7301cb0d90cb645b6b33252df8094ff8ecc86c250c456e6be2c2eb0bd00dfac4478125b36a1bdf51c133857af3529cc79ad09537bf25ff15dbb4ee5a4531e0c0e6fdff261bf4e103d4a12dd2b8fbe64ff67aea55ebe0d8efc9a9a8f38ed1ee7f234bb0d20b5763898bf85a06410e87eb9323a4af5553042d107ad479c6ee4b7be9bf23517668bbcd45476b4c5a26fbd4bbfd3f794f6e32372c7d8da6e6d697761429bc9da2fc68e1223ecd626da5729508012411c33e0ae7685d0d94a6798dc3cd71b85f5a8e11527e4db040e25984dd1034ff701259b17e90f8592c5226465982fe2ee0107d1e1d1222ea950945b0b0b693f13864092c41e0d5aa437140227542c807cae5088618dec12adf34fd3248ebbfc41f8cc5721374b542443fb92a7b7398b7f267b8e544bb85ff8c25946f7a12acbf0673a44f05d65ec0ab095e5611198b424601d05f965cfc04790a4bcad5ceeaaed2c7e3671c85bd85340b792d7a3f34f03a24181c842fb5e60e6074522f2385a9e08908e7459f5b4a11264e5d1bd29dbb7e9691ae33cd35ad787b1b78b9428777ca3202ec301bc2053210db2b5a8cee7b59d2f86c3eae3a6f256fb7b532ad67605608246f9020b4267646a97ea8c1bf41a97ecf14ae221786b698b2acd55f67cd796e92e71b82e4cef6ba69bfa302454fb6b8fee8a2377ac8effb2b1dea879fd3e189d5e3cab6f91959373df495e443a62c1e37404868651dfd7d5ad5805efc77da7cb611f999b6fd5312bcab670e7d53884c062e50001b669474de07deb240215993a5d603470b80cdf9956e0a5e4e5c8991b10c06c9b1652b55e5b8ee8f090e9334af5a2767a39a1a5ea42b034cc6c3ddd96d5abe75c00f616fd0397ff1f4237168c887ddfaf9b775775afba142d630dce7d8f51c2aad698ef9c4f232bfb11308e349a9c28dbb21a3a18c24e30174d1334d93b61e1a8f39b2de4e94e4016d3d861c18aa50ca9fe86d160b7c391ba33d159b08200d593108a3f3449be9d3cc11e908478e32df9138846674d06e8da237842cf52a10929de75793395d5628be608d9edb100324a028d456e1c686329034c22d9868ca930272d68809e11bc18301e91fba4eb0427d122fd4f3abf0249c2c53851502305f0dc8bee8b6db5b498685ac2a58e7f68729f01fac88f54d0b197eae7d0980c1dca98a40b148e7a77fdcb3e7d66300a498bcc3c1388203737926266ac6c872782241deee460de905182fdd5660ee64d4c4ce2b54482f7eb136aa5497339c2f4c02cdc3dd91ea65867d0a5c35cb7d553c52a05c2cd8bde58da3e754f99dddea69f4d33f8ba4dc64838c3c73461374894d904dd2ebbed738f7bf6bf3f6159d3bcee5854b23ca5dc27d106ddca01b217e679ce072fbd33c1f38651dd476bfb33384ad6c59feb420e2aa71de2c3f09ddf41f15fd650cef4eb0ae4877693fa3379a12c7d22bf780b80064f7fee6eff0fae0419fe3ce0c75e2cbabe91a32b12e173a3441c9287c51e63a27ba51418175dfcab7fba1b132d47a554cb7c8981b0b04d341edb19ae6c53be1128c9b4a24bb32afdc7b9bce7cf87d413b7a336afefdf6775f6ce0c2edb6f57cc17c455a56dbfc4e2687d07501e3b6c2af560deb8e89f29003eb7a9172ec593218073a27274fa7f9f1d4d1e5c554a9923beb02a20bd21c59653f3620e3d8537f964bfc9d5be997298e1201ddc16b28b465e209267bc403b93a31a7c961cbd00a7f37906edd2a5301defa795eb46e0487cdcb6845e9e5fa75f87c1c20372c439fd9468d638512c959a536a0a69bbad5c3476404aa2e5a0b38f19bc1e30c50805cdd56e389c6fe5e2ee8ab870dd1c692220c5eff79377ca53d4f09b5d6d30f0de924c17079492fc9be4441ba533172710c1c72a8f2f4706d9cfccdb9b67b205e4044fde14842e3cd30adadb2460ad6407615cfc54d01cc6728a240ae289a10559662b1070d3ec909e6300f42b7a6f5bf7724c5167c46eac4c1d9a0b198308a6dace7dd415132f0bc7c88425684699c32eee4b10a902fe5395e54c42219644aee1fda4716ef151a9e1b2b05ac0fbf540e5b6b4c5d6ff202b026dce7b77ddf4628c4fc497dcd38b7dc1734471e68ea22501607f5acf870be0e05f58a67fa8e4ed8d1e410dec2157a0dcdbbe90782a6543d4b47e34b42734c833e584bd3c0588de946a8655f8f327898c7fc6ec1f0512fbbfaea85b6b6111064033c8cca4b2d7d59cff156f940796473fa438c9a56531e68bdace9f89780119f40ef33df003b0282784010519e566a9ee1d1b7baa683ba0c3526b37f0930b084da99c5e0a95b5ebf47272421381fcf970eac235b4293c8678447c5ce8fc6ea7a5b15dcefbf8d8ad2040c1f7610ae272562a2f5fb8cc33eae9507772aa88890b9043d159eea1660ac2284b08c2037dd10c90d4840b1a0771ab1f59fe7ca46cd02aa8816b2730c79e98e301c029efea1ff1ace84c473e4451b70552a16528cf9da1472968a3824644780ed443fe473c24ff8c7aabb20678134b35219f757f8535f50732357c5e2eaa3a18c45a32f7e9b0a2ba0f77d885f96c551d4330c83a220125afa1cef152fb1809742e22d97a9c223af59752a99d296d669818b7458b7b3557c1704685eded3034942f6192a41c981d891e0b7028ec6e04ecb6448f2292c40dc2d39aba71f3c4f0984abd6866199b5af697fb556dcf226f66a4e8a967457819cc265d8075ca064dacaa7ba065467adef384490e42df92bb5e0d9ab3c6459a6df49c63146bcd83cf5ccbe99912706531c997ea77eb70b6935d7b01ae7d0598a74ed964e90856a6d15ec3c8e509f9c7496a195cecc2501e6d289d97e058684d0f22532385083ad67dbff149713d2b0083d0457c43ba97d8b53adee9dae72badec0533e85109cf4ecf09cea5f3c14275afb4bfe4cfb85d6c3dc6bcc45ee171edeab6c9020e97cfb693379fb0fcfd4110302804e8b437e3333a69235cb7431df8dcc639d0a70413334f74bc06fa11ad051aa524fa416470976370959b021fb733fe29e2b1efcb31b170a7136cdaea2e6219472efb3ea856b822b7d3e144abeaa09b5bd715ff2b2b1c290ce6aead13b3d633d9ca7ec265947b32ecc1108f9268822da1c00d784da3b9948e43e33d91146cce807c2f8242cba4b567cb780b6fd5cefc2521531356df59d5a861a979f09281b02c88c33659f46e6f3cb984e7dcd13f7be319641665d4435c6b8ca832f5620352c1b6fd7a8a0895dfd810468fb846cc681dbcce0408f7577cea2524b573a50e9bd02191b63678b47cdac4b5b3e3d9c0f6c16fe0d15cdf8972a76e9d965dd46c3b10a1079d3347628436df467902cda5a98f94202989847f25460bbe331f01f04f357c928798a1c7df7e85973a59c85440c6a4c1a279dfcb245a0b5007eb54f9ac025a78da3b69d815a03cc0b133b664cccc8658975d1739f73f10058263870f6566d32923983eee6d8cf99c4236310591ddf42c1ee34f61e51b42cf04ade5505ddf7370490ec52334df9bd877b710521a602b9c050896906a3bc9615a2cc22a8de290660cc6e288c9603d2e92cce844efb555096c820e60fcacac99f36c54b312dec695512d18502706557bb6b3bc5f9bef0d0ef2b4624ef6dcfa80b1b7b5345f61a7b1a5263adbeac03bc2e48ce3c5e2478cf1f721ba3b0da8adf60ada3512543d11409801df610c8abb9b4d2e304b38d22f4ef599731e37c9c82cf990582433591bffbe07f2621d3433c143c929e1e6812f0e4f5e39c7b530fac21e8631070601e7d3cc2aefca7d9da2cbed069dcd1bd551f4ce477a60af7c6047398e879a94239b99b9ed8a22fbb32e930ba7b8b34e4322f67ef8c5c8a752eeee7fd372a2b5df8ad107b1a97086b95785ad832f0c14462af65afe5305748dcea5e73f95e0dcdfa4a6f2b482c41b53e5c317150c71716ddf000fc2684266952b154be303424143b3982af3aa2d7e688ae1839efcbc469db37c2ba5c381466ba192b16a33322d4e530b2783389181d5a716f8a2b19f21cc3e2a2349af533827ac4843eb2596e2eb032aac8cd3a25c012e9e96d5bef6ce6e1675aaf3038a552d8531051cfa8dcd9ddc620baa37dec7b3b5c0de343901be69b6183fbf8249730aac5d73fb5d5ae1bbb312e91a12977dd46cea1ab8e53f3eccc77feca00f2717e6b861d61211b56cd940c4554b2503f18a87fc596bfc73475f0517db5e65065ff4d6312a3ce282d7ba9832fd31f4a7f1ec55eda000add372a5acd32a2c8c41a23e20d5993590d891bbefb84334ad4c4cfa0bc15edbfec3f9175ef4707b8fa6b6b6b8af6d7dc51ca3b5c21ecc6397d4e4472792d47031d245228970d2fa9af3c564e15222ce611e9996786def6293044fd5aa989b1f4effff9dbfd63345f4c934cf746c296a9b9f037c9317b46cb76561292bee3ae207923e98594bbece1d09afc94daa03b54173e503643d91d09ded69031ecd23a35264f10311eb1c61883f2f5ca00f7449f9a76ed63e64792863c46f6792014e45f6744ee79c63baa8eedfa00e36b0c89445591692a589d2784886e8dc767515028200bdfc7f4a7848b672857934715e8fa7ec462c42b7327056429755c959b2359e69e91dd001304e5f69a83e11625209b0a7c06575c10c5f969c0fed0bd814509609644bfa3ef07ddaf34da4f82874c3b31b33ff516bcfe804b22460bb5b944a75f7e8d623fe77b8c5b286f8ae0ffe47f266884b4e7aa1c92792e15616980f5af93557ad867184d178416d3a1cd40625e49abbf1c08ba2572104dcc9f90f28573a5652672191f965336f27f10f292869676e912838dfa6a49152a5d71f4ff2371e6ab2b92fd34034c28565bd113d6739e0a43cc3151a3d4b7096f2eb6a0cab9bf3c62b46f648f007f9145b5c1212b8da284715a865512d1ab854019726813b0958570cb7006bd4b271315f463005b8818ff11a4ac498956f6aac6aa9e358f6c1417d48d894dc59709c5993223333be6c403f2fe2e110e9816ad1f022ce82b9d33354462f411bd020663f7c703a5740d18593059f6c6ac3b455e2975e3283bb8c1117f7ef652d97483b959a95c23f8219e84ff5d2e7c5a31b0db42d3930dbe42f564c804b277b96e2c70916712ed5e4ece159adfbbc0100200c9f74f817827039fae329ffcd8d196794a1f119bde5234fd989044a65e0293ab47a5bcf624b556e2fd871fa7c7494232c1978821cda62b1c0ceccd995c351ab95581497ea9231c97db47eed3b47160b8ca50d0595d31080bed472af8b7f0b0cd1837819963bcfce27ba4d4910fc5b46021a2e28402420a00c28ed6be11932e004f25c0fbd590dbc233e54788cdca4d1926a37079a1892cf65cd036e001575b434beefefe65e33a3b0802fb73a73082e7ba0f6e58391759e5b3b37f7bb792a724fefb706f59946f5e1fe470e9980296cd9091e6dc0d1f4cfad65a96c3e124066a748e94e26f864cec77859a45f2cbd5b29d3e53d0ba6999009c877c4f72c7bacae121b7548e7263ea440b078d528931351d76995d25b826f4c0db51141d2f45ecf98e2ffc0bca3070b62ba1d4cab185081705b2b7b2d7e118acdea2a9d310b0e484b53556c23a04f5c75db116ac43a1fe96063cabf2de9efa1fb870d32cdb8699bc0eb96efcb8728dba3144d51ea004ea41fa81f70c07fc8c5abb4ddb868438470ecb7705ca1839c1b44bb2337609a73d190a15ecd6b3d5b6ed15c06e58646b5fbaec1188bdcc4d2e233b560f51dd118f80453a9e4d60d9da796a434f7603ce7d216952f90709984419c98467b29f637121e6609786e7028bfff45fdc5d3c9ece16480aa7f2b103296a36d949beda2fd970747edb9726b3578b8579f467a6484bfb3dd66a69816f9d7e4374f7413511e8c2afec5c4346d4dc06fc4478dc075827235d3fbc2bdac9c5965f2f1aaec34a7dc4880502401a020ae2be3073cfe869609b7402fbea296ada941b656b55b4772e88a823a7a5dd866934e5369fd3f9b84b7915644040bd273841d8f9dcdcf51a6b2fc000a39bc5b4e5e1f31192194f99866e16702c23a8523b0554c598075cd051a810aa5966823823d51cdc8d105cee0a0ab8be29c2c8d6806991365a9c8ee5b4793ddb6c26a40eec665c67fd1082b1ae9dc69fbdf99ebd7e50b0e6268dc36f01c43785008ed534e53c32053cb45004d08659aa4764b7ce711b903b6423d63ae51dd2d337a731464a1f33e2937c43f36fb2c1ab55503425b5ea80eb92d23ef4ef08553a5a2e46d732c30397ba198e00f4080bd246fa32cb14ffa03f7db9bb8fc75b1d8d9a492895e3de1b53e633cb17d76c316fc127e89ec310d28885e0e18a4883069e8428601dbd588dd7237e28a0af3b09b61bbb0a2babfb6fa168e7e0076a2462d9e8459d9a158151f0a7f5326c6705ebd280a0169f89f53cb9831d93d401c457b8a452a9540af6aba326b9f354d3939cab0872a5e97c33f9b3967ee3316a80abb5c107a5f816bdb1384474c636924bf7c1c088e296c1c678559acb8d6716558d20d448649a207e29ca99e4f038449c1b1a16d00907b6f3af9f57109b3d1ea7aa1996e311f58456a1710d66b9a5202f6e477d85fd9aac8c4e447ac0035efa87a47c12bb4102feaa0c720aeddc1dc62df2bb7b4cb5d64f204f1a781d6f556d58dc46d714cf8babcde158502c2527ba77cd15e794574e0051523731e5086c6fd6999c325341847d7af1619996204ba779f73fb78dacf825b3a8678d942fc08d7f004b5503aab17d2bfe796d16dc1edf2c8984607d68abfd3cd3ad3f01ac548f6e75179df48321720f1d4d552287c08d3ced410e59d5aa890cf992a15865e5a2ec44ac4c2fee106b6ed158f062909e8952bd0f34dbfb5708a3875f797ad24e1039a40571edc8a147946b8d71a1191d5590c5f174fedd385244ed8d3038cb4827c6c5b303797bb09fa430c6bfb572657d7899e58760ed78d27ae21ab337d615e3d4b6bab7569810f0d4158de852720832681a150effaa4f32be58aed799ed6b0e4d00e8708e6524a8a6654d681ec468b237eff0e7499759eeaa75e24151d8b6dfb9b9d8087db1e808b5b58919e1d94da132ca68be2e279a7e67031f59e80177c70613ec5cdea4f32be8d83e31e325d34c30a63146845a4ba990528f7351aa9c7392f0c814067f89dc793deef49d41ba39473ee7d1bd9bc27607a0f98222598ba3a6820847ea2fb1d6a748c020215cd8b31ef5a05c9800b153002d4f579dd077f9a4b7772df275d540124cf27246884fa089203a7f5b6d96c532a4037ad2b9669f40f3d699fe7b98af973447c80929b578e0722c31c6852569916432ea78a9d4776d9a3d3729202b8c3ebf45d8cc35e5cb69c94be27ea9a385b6a5f4e5571d11037e59341f149aaa21b78de320b088975078b570402b9482b6dd232fc7341bc7fed3201ea8822fc34af5e0210d86dc6dbd4555c9f97a5377180965150481602ae1e911578a035634f2c34797b2d3d61525e9b437ced97194e3bf6efede7f99f60e179336129280457f8bfb9f0bf259823ada4fe26d07e503c47e016c5edadaeaf7551262065ca73230bc874966c584f838182d01cf76df874ec8277089808f4937e2da166396d2dceb33938681cec2ac875bcd3486a3f02d1e215d6890aea863627779414c6d3612c008f31392aa9a2f575e5cff55460a0951e3e05ae586ce434d387184a06ecf01f81e3c9441037aa02f393ee4684142ba3b74fa890bf57e4ecfcbe9e1cf4cee20203fe05e206b471931261717a2ba1e82a2c575e137691c5a45785f930996a096321ed0a6ca3fd28c10c80f7ad61d48339f628d5691aefe0cf4799de31347a55064bba4dd945d824d249a4af67aa446094b9fbd00948eab372d8507e5976ab9fe359c55e95785907bbba3292107533965fb7836a0ef4d205fd56f18db05f3044c2a59cf07a9a7ad5f50f5785886e41ede33f7b99f40b79977b37a5b495b75c0bcaf6459072af1f4f769ba803f053ec2901a60c234b52d20759492c72fb46e636a00eae8072aecd07caac99585c4e2fd41ad6f298e6283f368013ffb33c8add359099532992ea4a11854d03fe8965c84e8617bd9a1aab7a9b7aa18ae8be8a085276429eef363511b3608115052bb000b07980bd03cdd7a21ebc96666c0376ee9250e959c95c804a729be0f735cfb2d770456a66730f679488b7c05f9e11266933031fa81b331e4163a66727162a6721350e11ca088de641f88941509e6e5a225571f4656718afd7303f3d20eb5ce76da98902e2d2749122ca60b301d725423c5d29abb6a10587508bf57529d82c13ded8ff1397c4e3f0e2a4f03344345823f309539d1539c1483d1e3e8de5955351b24923e7554fa47eea01d7b4a61488e1c02602cc5b915e374d331858101476947fa0753303dd81c0b4351e0c8156493e77d1cfb939e9ec37b13f0a4b4bf5ff757ae20ab2ef8895c76f4abe98cf03739b838872ca47b1894c6cbd2b6600be64e2e3c8a70ca49b651bcd04a67b9dc5ebc499782c24dc2d08a33fca9312adfdfe27947c1d26726f255ef7699265126c6ab99ad8cece192f8509c269322a560de4dd2a4e7e5f5654fc132ecd22a3147ec29e2920d5ce890a8562657abb346d3153d6f2e7704404c42507922c01224f6afad22a16cdca4b5b340859b95fa0e4a77c755c5a292b7266138759ae5f80d985aa45bf4b4b168c83ef375d86105b3d64d95e08d6c12c017b6e0ccdf8e313e0968dba4883f7ce03cfae242a181147251cf47c32b6809a1c56e12fd37de8576d314db5b11488ab7b329245f4eb96fa2970b1d96d29c996376474bbdb6a6280e9ef6522e627c9a049d71bddc94f0391ff5ffffb1c437ab671361af91c72f8b20be92c07e8738e5f85906617a35c3a5b53a164a3610e8ed3fc0fc75859fb5761283b3c57a1a6ce66c839c942b4eef994e06d690a8cd2399cbb393dfbfb0bee8854927d00baea0bda4d23e28e72b9a31880f4778ec9fca15dad05552eb638c1b67e32c7d52d148f9bc89bfc7e40849cdab6def54e83933b38109a69a80ae8ee8d66063f1e4cd6efe423b59d33ac254515cd6581127f800614e2bceecae548fbcd333d0a66741c41671429168293fe200f4a603532aeb70186ae9b06a361a5cc3d49305b91a7bbe1cf1ca23e2320914bd47bb151242f1d140105c2c4df05d1a55ee8b5b012cc5b58b1c299de61e4280f4a313a946a8f16dc5524820cf2a8d8cb420a5a9f4daddf582bf158f7fcd0d8219d470e8f18d70738bb80cc0d41b2a99db26f45506c34344b3951a463212f7cb5540e23efd4384e19d4a2a89a96053f9959498c6a2815da927ec009e1961a02090e7c10b7877d959678f8f4838bc4cd0203f999bf0dcb4346b8d2cd0c9d9efe21e6b5a4c195e9ae1856d3e4ceacb6f6b1e20cd80f6ebae682a6edc7e5ec962d1407237542724bab85202dbfa39a24aa0b30d43dc153f1de9cc78016b7d766f5e3181a6a65d48a287b52bf354a86ce7bf51ce5dd2e370b6c81d4a704f0368328926f727e893afe59f83e78e2d6fcd12207fc2039de22b7c3a2314de9fb7d0f69e70160de0550bbd948920102a5cbd7588e10fee716563ebd70072dc3fc7fc1e1afea4ae70f731196dabfa3ce6226851d96c2fdb0905619db73b99979c486d903e31062b096048c6c6a2f79903f770eaed56ba1d24da1c7cf94e07dce1b794fbdd41cfa6adbe4ebeb20e29fc541aa620d893c72988c8473bfc26f2ef977b21fcc9407216f6ab89d64aaea0c6f986b8a16182fea5c758f2e136f82cdd995fa07ff61b5d11d06eae2ca5e215f17e9eac332eb28a896607d2d94cc292f7e704ee0b661715b909ec2b6198a970183d6da29345fdca46ca845560c00367109a0493bd0e5caa39f6dc6f11b31c26e6ffbdca6b91b8d3f4c57834dfd841531fdadb9957860268efbb50d384cd78b2a2969f3b8b2a52bc855dccb29bf9fe564c60678db65828db70b820c9e9c0ec010f7ae85b7b7b46a56b5594620eed3f1f10619e9501e1b7373ddcb9675f4449887362f433b39add87356f022291f27ffe33fe74f106e3f53835cc88db73dcf0a481aae85e868bfe08819e422f901940c528fcefb3992c55771399721c79fb24f3f584f584a9295fb7ceb63d4d24580b6edb040d2a89837f0e2fb13629f05c8a81b27b75be7f9be39d7ef390d0c37e2097dc79046821d0689aa0008c71399a66fe840d1f895abf524869a1c6f50e5703a05eef71b4392a359d60932e84109ad052dac7977f046be317d655323a55e24bb336769d1ca39321fea7e87688583d8e369bcc7f0cbded7ad8a33163fbb5fe6750e378c9723cae1171d77f4c9da6d209a257407ec11d64ac220a3cd2d40f78b820270663fcb129475f3cd27146b86426de55c1484c2126109d1afdae6cdd028feabfcdc56bbecf36ccadfa9453bf615d492c33cffb69b7f751259dc7d98ed98b02d2ba3d4524661215f2bf5e9c0d96f81a76d74c706120e3b85d0ee516bc1ef35a5dbe2dd920c0e58adca8e7ffc07d0321f79c8b1ef5ae34bc49b8383963d3f28472dd7ae826ca5d9b03178c316097384b37c62129fd9ea93a709514b15a9932edc8268a1715b2daea8dd729e5367f19532e5ba831e8cd50a13659a701376f81e668f988b636e5e5383b948fabe2c75490904b3640b1ea9f886335b290b35cfc659722c15745864e80b0dfb03a9cd51e8a81b51ba3b77f256114fd10cce2c02b71fbd2a2308486c257649e9ea727fef473877137faec3308019c80c2e5d3fb9fffb9e8d922f8221b41de2581e85719fc6b3ddb2cd42058d7fa1bb2208537465d13fa7e4ec7124c19daf8fbe2ef4ce2c1575384fe8d74fcf4bcb17e0f8951da644adb6dc0eea5118cceacdc68c9091ec020d56b897f174b931b4ea4d00416d64e0fb039216a3438445dc4d1cf8378412dc0373abf821d2ac6658f2646de68ad44473b2e881d26297712ba1760a18f78ae41293f4656aaabb8714bb4f9857b3b680ae308d90882c00712f36dcb94e4502952b7bd2c43844cef422d15eeaac4125610f9462a7e71caa36464b83d7d59f8a5b0760afef2de721f9460df60a8feda13e14621b163c4cc5c91aec62bfaa46c773dc09e066a4a175f5c8d2e345cef8482e2109d18a1aed71841ab97ad01d5f48dd5ae20a4dda97da2f7f3441942a8926f52a7fe91d76c22ae0a781c90d4599297b31766197571a156e317fa530db74e1a4c05a38cc3d899f181f6fa3e78f1508b04bd79be16871f8fc7ecd6a1c123d9ab4b5a9b89c41a23c931ce64675996a30f2028346f2ba7a10702b9c4479de94ed8a7282baef9fa128df1b7acba2a4807189de1edd62695e1e6c47b39ea308081b48cb35dc91bcc2e0a9f087f7b206efa4f32e9a96dc0054f19cbb94a03b1daefb60eb4fafec6a48e51b6de6519a7d20f9c5805a1736fa2fa4608640aa744cf4fb30eb2f94f244c5e1f2dfdec0cf845c0aa1096cd25e8de7fed5cc4f25778d9a5fc67b9e4199ab9bffb1cf806f6e89ed8448c4290a173feb4650e384f29521fd13e2f3430de77cdc55fef9093f0ae9a887e548bd38e17cf1c96ac146d0af934390221869631899eb57222f8d0b1fa5a6b19bc05cdf40309ae1c1a67b99502326ca54d652d2c78bb9f181ebc75af556e2696e92f8203f3ff79dadab5798ad4e3b9563092f19157d3f6d8b32b7887b824e041c06de03fe811973cbf0dede21fc06274d2025068c6ece3163eabf571360f4cc279bb907fae6780cb52ea167aacdeaf2f9ee3dd6bb7eb723b8c7699cf3e2fe693784ffec1d3214df4cfd0bffdb9e5ef2ad49396fffd88015b618c0998fe76ec10b4466cbfa33d25fa2f64218ceb31a1948eb4f3ec46d36b3fab24a1ace4bdf5fec09f8e7e5a2242a9871ad5825653fa0b3874c495aabdc4dfe9df77bbfe1a9c3d12bde806930d8b0d037d9e1e152006a2ce213b246c2db99e7dc460bd51207b0d7af2651d6585a35485bfec9cd9b65c5d604c935a8365f6ac0ac919855c1566a2d4d37ec215b126993fa2a3d3209d89a3374e487b913632bbbcaa5ad97e26074aa15bb07a568988531b8176ca3c88118fbb33761d80088b8513686548ea7195cfc88520fa7036babd6d0f80cda40a7d13a2a5f520fef3d5280bfa2c02a837a56664c4edfa91afae2aefc3b8d7677e4671fba5cb604d64d2d8d5b3bdaa6dba254129592b1ea73465f5daacb98f98ddc8fb3813802b92d3d5d54bff94b60fa7f4084fc2d254254afe579479f2edb68229bfc0b730de34f6da9c64f69da4b3cbf4d658693c6ad229b17b7b8e68f8c66d80fa82772a0ae5d44e155c44907a2a056ebe8fba57cfeae93b4229c2ad3cf09b233b85791f4fb51a9ef2081749e4f22dcf62de73e67a68572cd4bc0cca0206e8237c3946d8981607c902792c28f8af87e8eec667c669a1592572f54b1deef89bae521df920b9df63c2985a770b5480a2ff09dea97551e5f7df3230c51863ea215cb1bd960bb71581b7a17a98759fa6bb721b3cbbe1d3c725ca548673d3390e4170889e1dd680bd862105699966bff5f797a312e6414d4031b2da89c9741306d2206fa50182fbc4ea2b8d878c55f286974d93680448441e4d3208db300054371878b018cb5dce238732495d14531beb594ee13fd7c43380eb44e6086f04154f4fb2dc41ef84f0ec3660263cdcff67bd81f041b466c66d9e8c70c8689f92a9cab3f7b0c037cae56b0602e3c4024130d62f0aad90507571ab760819842417b1475bcf4e8604f49c3f38ae07d7c4c8dd3c89e4ec2b9c4d4c98209aa06254abd286b8b90b191392c5373e1a735e627a3d49b0c2dfcc6f5c785b8e3c1f75a6010514942832f4aaa78703acd78d1f46c8abea0ab5e52b58ac5c453274c5d2f48f161d8d07524f4e6e0bc1eb56c84dbd3c85eb5343225520bd69024f70c2db3d39ee99c41d3a8477e00cb6cd0d4f02ff21a7a27bdb1650ee8663f68e1a566c9b24606b2f6ea7359d11bf0fa63e153cc134fe0076c5ee989c75ffc8ae76b8faee5fa0398bc527ce684d4a7b3120dafb08280bfc3f87c87b828d30c480c69b8dbaf469e818bd0415bc9e2894fbc59151b04d79a33025705880c690e96c4ae42125e6e45eda0dcdf253a55435d7b6c786a20225e4f2149f8d7a63a9062b068ede3facd01299d5bd711d128e9bed66546b4f91b0cae890fc39abb71d14721e09724d2e2b4f73897349d84c95c69e9548aeb56c2abe20d8bac7897ee39fd0f7aab624e639d95bbd681ce7c29c3eefdaf128494352de4be6a6b2fb4c1e1e14f499ea481dc648c4256909a55d1bb3e58ef456e077b8aaaa330eae47f158a0463234a44d22c64304177878c311584aeb45d71faa60aee9b0a692f6a7ab75279cfb9da4210983ca6b8f255cc2d492cee4cb5d45401a8ce36373bac78c284089e00c5badd6acccfa2662b5db24bb196b9e7f158738439c364e2abed41d7c9f131809f8ef63b11b19d25da726f48f52702116470c4e0db6d53285008c67265c545605f5e7ac8adbb02c558b86a65d78741f719c90ae200968a94014e79ee6afbc9b012363153297338ab4fe02eacdb282375c4b7addd3b4b3aa2453d12d708e587751007ee7b2a59a37dc4c767a05c5905b17f7f66d6be549f60a1c1aa178b8f98155098da8106b625e3e9a8339a4c18096e9212f92629f40aba33947f42d148dbc631c88bfd86a2d652427e761896262e8eafae85f75835fecd00e7619e7bf91299475a71e535369c42fa17acfe84de7679d26c03bf08af38710a83aa866e779919f37350affb4fa0e53e31d01deabc04fc928a64ab2863980b31afa0a2f8d8b07383f51587c35b6708b522beaa09dc1cc7e26ba1e0a66b10caf00207defad7ff7f7690c8228ade02dec376238d71d85e2c67ec06989445f9ef9f21f4177b68d5b46597048bb8f414e093355971e958ef89b572a78fc371774e88416a59881dc9cf8239db109b37a440a2b44be29b1a44711ab4ac67c60522a67641901da0a9a4014d9c428221479e5966c28ef39ccd13b39f4c684caf874e795335ae12c35286651163ced8933ae491e6732e1cf4441b85eea26394bbeef75253a301b44280196a2a02882fa6e0ba44ff67b8abe835638c75663cc5280590fc0e8565f129da54157a48c32d532aef9e9b232a29c86ec72296a5fdfef37e7a9a6e4427c8686008c8e8919f46a7ce17ab4c27351dce49538b752e2a7db5968c37b7a2377330f36f4f2c68d2f40fcea94ca1a7587ac159da4fe936841c59a65c73eff8d023da4621dd15f1ed804b9908ee53add6208037e367e5744ec6910ca9d9825d66a71ee4f82217ebe145b13dc6fe93f4fcd1279640648ddd83eceda2b8136c4eea1142c9c31e9bf515bdf551e4c3074d5cde1bb590c01321f18266034fa0c928450c6888717d7f75b08d0eb4edf35f8c44a726ceda6946173085fbb1667145e95bf480dabc13fe6eae859666baa3017a7e834684f3ce53201b1cc74793b59da1792aa5735e44b00679ab4b1d220a205c0d021ef1e9ae960c1c2480c0e369d4c6a55fb12af8b1cdda81d772b98fd226d219cb09334dcb3acf7daf2a7d26ab98fc52b199607c74ddb1d12c125567973c53537db1965368c49365a630c221007be9397618897b024cf4f4cc95f1c57f5ea7b977a86c1a0b26a447d745794cfda60d3c96c3171779b0787dec34e9706510854bbf3f19296be0ca68afeef9f5b6eada3ade5cc9dbde0fb4f9a014fd2df35a9816ed53ba7fb8cf56559e5a6d3bd61c24cb101b90d2e8b4bf42807fe3b0f7c815a01b017488ff25ecc0ae42f0c47fd07c99d92ff5fb6f4b0fbe301345ccfc1a17c85ef15528370ddf6006d2cc0083ebbfe42ff11bea6b2de50d925eb70bc64da73335a781c6bd894aacb5e2b583b32bec7e5c0681a7c908a838635a74f94f2cebee490b0dc2bc9dae833793253e7f038fa62e027bd9bd413838d52a755a63eb1a07de8a0ba194c535917a01ba7a252f7d849a632572255d19b278530c7c2a935427b3d17c7985196ca568d04759245bdaa4a57591efea0f55aecaf73729c36e0ee0e51126bc33d5f132de1be5d51e5f724ab6bf9341a575b81c2cb79e12bd927d7c42d5f6d7caf758d7fbe7ae04f7e638220ceed7d120eb15d0910902ab159f292fb83ca6402605b08666a16257c4d30bdaed508273a0808f5cea6f3dfc1799d14835dea17d6b793d4cec76fb8f3e88d87e92f451fb54c799c4efee8df9bec2a612e20e7174dab4fde984a9637835446155283a3db73f5cd0971bfd2ca49f5b44427d63adba544faae5348cad2bafc984a9e9f29e015a53c0c761c95ef8802ced3172cba0b95db9a1ecd41c0805b85d656d77cfbad6be12b9fbc6b653e312dd9edb86f2d1bee66d5bb5df8559c4108dc124ad85d65f227b18e2c1e78fa9f12975aa540c60b93fc58d7f0b65ac18e47d82f716d9ecdc06838a3ebf3c09d46a89bd9ac5031fd1923103b5ea4f5b83f3cd798a9c955cf29f73cce4eed215c9b7ff4f885eafc487061034a3adcabf6996a78ed2ff94955a154ddb0e6210b85eea99b05d695fd6712494c0ba93b06ffa18dc937e219df938c54852aa2242863f9cb3384ff79c85c78d3ca2ce0d6a35a42f72dbccd791eacb22ae61408d40b6ae6bb418e26c804ae522ad57664b9e57dfdc832b18a8237c1d7f23be060687b5ad9b6bd04a1f7bd15710c637665a5b9798bac16b24c9ddf0e368ce492f08eaa0e2240c96dd4b690424440b2bc14f94498421bdf7b504fdd81f91c9af850b0e9f3da42a37f9e063acb50b17f32d9a2e4ad16af43dacea7f6db362690f3ea5347c8afc9ca3825c48862ab3155bb950174ed06297068bfec8848e4b5d58fbb7e0d2e49b79bfb0f4d49f6924389e28e7dd6a1d711a7f8455a28b70ee18dfb9f119b38cb959c80f34c9373a6594b9340643096f6133eb83237a8d61eda8a21af726a3b02c435ae3b464c5c35ab1e84bbec0b321460fe8f7006f65571c5adce92b5dffcfd7a620352a39ca12b5e835f83dec8d8c032083ca825edd0a81a54cd0bd24c013fc9d0e699a4663886291e65cd58145087afc3a323b6a97ab1effb1b0473f7b03a7ecdf4d4e976d15784ed43c4ec74f700c616d2e05ea80ec752d4bd40e7137f6b69e6ab498a0a205ee32f6b04c3731ea78ebad01f8759d265738817907e8ecbe86a98dc4ad851d185ab521a31a03dea43aac55638589a01acd7d427df973a993ba96bfae356dcedc4b060b6ffd3d7fd8a1e3fc172f10c9dbe2ab59fa83efd547f28bce25af5aa717ddeb0dfbb891bf59ce271780db9f68519b1145db6c4dabd95f67a091a73c3fc582dce3db8ee3b23a98121ccfe02d42f9cb75eb374851bf045a890fd822d41e4161f9b95db643b8f66c6ba7d546e684eaa74b735fc2e061fbfee27905114b05fe0bd3f0b75af43480ba1b51daf913b1e9e401c0e0bb60ac4bd060c86d7477b0842333041cd8d62831413b7ae43ac27120a05b70f5768382af18c61b3fa9409cb61900c049eeafe849857dd4d2e53bda8bdcb5c682c7a6cfeb0b2397dc81598932d513e8d994cde880048e732f46fad3e76306dae1dce1ca986f8777e09dede42c773bc1fe0f5ea5fdd958f93f6929519a1dd7e9beb4e6119be30a238f8626259abbb4e8033644be347946bbe8f186f16b6b9d26022565e0f27d6c8c6b0bff5245c8325b55c91249b1e9353c0db7789d4485969e563fa681d980337393ff244abb14ccb163e9a82455cf7a669082cca29eb9b9b66a315434aa67a1e640669e5cd987c5b7b0d716921517eb6fd3a338b1d61ee96bca48ea597c6ec5982b6031d92ebc3d98a5d65b77babac38c3290a3764b70a5cdd65467c7c63dfe391f5b7078621f56112b86183e228cff0918ccef0934e0a77f4e5ab576858dc838411bc03592ab3668f63c5c0b1126de20547b9545e9a93621e5961c2f45b4d45d0b09f551c2ec0196aa775df0f2006e649097a41cb26520b8419b295c184a8744d55d055200a01e355c30a7e56b26c433b715b6547863cdf6cc4c867aebc51fe24e59949fd8dcf3a6294ca312e8896424dc5dba899e5f73b31c1d3966abf88a9f0c26b3161fa53a88ab4f9952250a286919d566ac9662717139d4296641163b67f98af1c3263d59b2b038f014304a16f5a7655b3f7c55af0a98f0820f8731e87fece216549da825a76d955bd786f3787c42c7c509d49247d1dcadeedc82952024f935eb9c80140be4da633b4eaf92a5a8c1c6777b287ae366dec35f892c3893a054c5df201c18d9f9dbc2a44f7c1bc9eceee3ea1e1b3b21e4de20ebd21ad0ba4ca179eed87b85b8ceef9ffe98b4090e4834b8b9b1529db399d846b00c73ac35ca7cf49d7e87c35652bfe60018c15f3b6389c506893e367c97d27b3c1c39af42ba72b6582ea994eed82650e7573183e6cf2994f12db4714baedde687d33beba02e647fc86ce416bbb5e2bddf8e572e45e898d3a63341cdf01d1a275315c6d352c72e02f902cf688c0eb4e6c92d42598ead747436fe7301d574d9c54e6245000920eec52704a15dfbf0e883cb4727b63577a0d1b706401126d5817780e760633bbb645dfbe0632e247077306c5aba9430f9bfd84abc7bdce1087a4a303141da2250661ec99c96d082fc9bfa4a1f5ba5b0136b792a64a68034dc0342d8f219c6874e7c802d499181984bb29fbaf6f79a1ce372e89d96767f5f1bb14ce86a6d884e56b52a52aab96a4aff416212d270c881beaf8b67ea8ff2cd11fe75004c3bd928a560995029d377fd3da66a501ebd2ad22d4b9e91d10464f8803ca9a3b289e8758e6ce475c2c592ebff1fbb1b0dc037349956f4857ffa58e8dfcedf1b70f0629a921f871dc842c5faaa73fcb2ce3d57cd1e2a2369c830f410584011ea103b03bb161aefbc19577ffb862eb2b5770fd3c82477bae036a07134dde98e56913feed54a7947df68d138f746f301d1754fe019979840dd2261d6672f67d0d18b21bf36a20b3e3d043b66f87dfc2b47f41ce226ee3d2c815df897159acea619f49d07308c4f1f7cc0f7bf118480c46479475e938c36796d7337225388cfa0cabacc243c51ac0ce89c3eb0070e872e7c0450f834f0463afa580dcbdbec8b64084bb9370f0a7adba6c3d128fa3ffcaa7615a2f893c2acb76fc039b8c9a4d3d00d9a07d582f5029cf50f15528baf9e01d3eb0e6d2571e8a061c906ea29c9a79e48647e1476e353ca344c640e439c2c733c8e21ce6904351333fec1be6450c1984ef1beb046816f4070bb55b63d6907d676d0e0bf7a6da8989313a1f2045750e570f287e23c8fac9165a4b7f956b821d9879eb8ac74abc42c9c5be1a7e986bac9d789d748394ed57a1f5ff0f98f5be03b72b65040343aace876b6ff6dd87541bdaae3420e2cb5e05e011caa6ffafd95f2df3edbf026e9217ee673763a9b3e1e230b839b51287ca3f38770f5929b14f8c610b64111210c60a3a4ed6633edb844d75561273695c6a13127edc11dcca21fa78b68c44702d143251df7d166d549cceea502a4706942a5bdb158ca4a39e6d75013116b74363d11b0523318ffa69e2e1708a2e5d09b998314f2ad18a297ca9fb73368c6d537285ab398128062789f28941acd3a342ae28fdeb899dc79c234899fcdf342de69ad8fb970e0e9d89f947b5bde2632407fbd167c91682398d49e4cd193769b7cc218c180e94a671d694216edc546350efb0a87a739a2172bed789e5e9a00675a44b74cbff42fbdcb52a14d6489e28e5cd508e90a29b19e2490c07c89769e5a577a0f573267114012f7e0add13230199be0bae9abd41c86c36edd837b21be59d285ee19785d57f81590789121d89510265ae31dec44fa605e038128f7a476fe8c352fa4a12c33be5e0899a050e01009e89d6b484b619eb46d9cfe98c1519bdc1abefbbde944bc5b29b9b0419f3a1b6a2712f1eb0b6797b6ebeaee100e3bff285a61ecb17ce468ddad1ebebb100980c7af2825f9a4727346e537c900af53b2cc0a9c27281b4b817cd95fc44c867ddeef175d3b4639a8e9f4b0115111bcf83ae1d3a5eb4cd3622fd3db04febf3c51339531a62196e4c7a374ff4fc162ac20a0ac3d31973cc9c8efe9e9f16aff5cf9fedecbbe802ce613ad8770452c0f4e9bd2d346b2d5896cd3223c4f08d6b8f572b1ba742112f6a4c3597736e4bed164176a894683019a15d5635474cecd12381951aa1f4ca136ac6bf4ef3dc1240d11c753e8de887f25de8e3f0babf4c2c5d5378179cb9ade62b5858620399be5429eb23151ee1accd25a2acedcd30e37b271ec560f86d55c38182fd7b5562236ae170f3e2afcb9fc240acf6155bb24dd384c92450af59d0142d872067dc26a190a0fbc51b64e6d17cbc1d5db59f953b998b5925043089b00aa0f19815de30e38f2e349959121b40300c6f77c3f3dbd14c4d30a0e548a2287806ec1000c2a84eaa25a8cb727782e6bfd2ca6360893e4d9d8d9ae7224525eb89c8b6a3ab0e5fd55150fdb9e2f859d222d02dde60bdbac4d42b9459109807206708f8d87e849dd253949d02ad105de67bfe8fb2749ae0be9fe345fe725d3d135e0f1a76d5f8f7edff0ee558f151755a56ecd05c17483b439d731b8f7a0f5f23636d3ab03cff1d3f2fa45556ba3a31cf3d017bc54a1222b6472eeea4cb6a3df327ff9a0e3d94e51ba5aa141a885652b3b12b86d4b30aee5db9f5b9b53fbbbc8d4495fca9adf346b851bb5c1c465b13a3b249554d8a17d2fcb115dfd95ea2ecb73273be56bf9a2626c9ed7115fc6f1cedc3fd800cab2948190023e5c40f86518048212fe4b661a6045449306500eb12f5bdfb5899041882b02e862b1e82376fece8d12600846db92203fed130dca654f136a47ecd1ed07cf919f7308344956d99deb0c6cc5a001ea221e0c19354a5e70a64f17e2d3da5e5a1868c111db6b8d0dd136f6ffbf93ebca12daf750b85689fcbeb0ebf40be30d02e1bd2e5d361b56efcc4084345b6a0b044f5abd4b322d77c97191db796ffc15535b0ce3576855748b53dab8031c24c1eeb1ed181c3ca6a2eaf67de7a3814f13d66f18d1a3008c1406eaa13530aa5f933a8064485f6a1fad11510aca6244aee8c413a8a33d9d0378f1e93bca189d75d70158a4ed1a24426b9ee0213cfcac5374818e0e98113b7cad7c8b93e7fb8dfae4551059d2a53b68cf4f8d5c385e840de9b0bc6109139f4b661840a9edeaafe3070a49608932c7d51cf4bb267ea7d572ae7c80d9f777896faf5266351ad1c0cec6e87dfb43e286cea7fab1cf1934d0806ee07db4d07625c32754ed6107ed24b7251a7483c39d8f156cda7f05a4df2fd872da382a067feb259376b91915483f4910803ae2cf02da3ada7cbcd13805e7cb23542f27ec7349d8bd147cc58b27c57a2b04fe8e90e411b21757ee82cd813282147c001eae08fc6f1ad871da20443c4291f08c31346d4c1871a8176666b2d95616e40480a78caa2d9ca683ee8a2ff00522940f9bbb23596dc8aede484beacdfbb32bf422192628c40254df4876f37825ac4f704eec6ece2d848eb6b865e395a4d4aec58a90a780ef4734ed5835a2a2b24ed654dc2eae3649d35577033cefc24b97758d66bc2c47a67d2b2014514120ab37e7a974944e4c054f2d5d5910a1b5e7d7566e882ce2ba7b8aca1acbadf9e63984e0d3c135adc8651f6efb2f217897e3174bb8d0edcf5551ec0cf237bdf3a3be819dbf0269e21d37f7057c532e44db66251de4e913a6e5cfb00ba0052bcc3869c7a7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e51cb6d05ed027db058edc159e71b81e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
