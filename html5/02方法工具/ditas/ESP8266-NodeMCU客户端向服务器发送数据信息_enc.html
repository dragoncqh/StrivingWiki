<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e37b97612a12e0432e06ba60bb11339ba38bb9b7be7fbdc4964c857479c760ca89dc551a4df26c8967c847e7d5734aa4225d9898134de60a23eb5fa37fa34d607937e418cef35ebd28cc450ee2528df57489288de2314ba93c15cf1b9caae8f11c281b624b75b4c31dfc7016baa5fe4c2eca07312258d77c8124147eb25e502a4245072b941a5ae01df584af4399092adad7a7ed8f4a5c76838b98e67a9c24a3422e4185d3106838cd140ede846e88db448f55242c83d2c791888a225f25f9e28111e5007ae84d02a616b6cd57a488a6ee6fa8c135adb929f6980dad0060ee4a8ea1be82d29944b042fe68c3d3d4ce5310bb2d5e77ccf8c2b72a8d6180326922bbceb344f3f18acfc6f511f39f9383c17d75525bc57e866f71b36ece7289e11dbcaf4804bec320723d1f2caffd76bd5bbca5e4b7f36aeb8b4c46805559109d79be0fe50eb69489237ac1389217bb60c990676ce8875e65bdd95688d6227780e854086411964c1a4f78696b418ad57246b3c37ac325f47b8831b13b11500e722427abffb5326fa7bd42d262a45c8f1fe75f6847a19216f87d5830b4029a5ee731fa8e5b73ac7a350b218c7adaea57f04346434428475dcaae4d7321da7f202eeddff1d85d8080f7514f41a74b0e412410fbf4672962160dd365c238df36517ed0f2f11399a514eb613f1d4e0884dbb0fb16a74e093e7151a39ca6f2fae17d4ed638723ec5a79383510479b34798be6899e29b21a1487c53552896527fd1c3ed0659d02e86f70ba21d846d76c5629e17b12800cca4e89b2cba67224655380217cf0bf55af6a4cc7d11a5b22f7daaff5a104ddfade257f95e4e19e30336cba57cac50c210f70098029b11c18456759a546df78be15a157004bb633861ad8c9bb8ffd0b612cf7ffdc163ed2ec823c32f1c1e4fd712f97dc118bff976de3514a7ecd86a31503c1023ab7e880721ae308ef06e3a6da540d51eeca8979255e042bb915680edda77abbbd19d434614bd3d235e906af76b5e9f3f0eb09c1763822cbe9e61a258bf966e1349b2f4012b004212181ef3cc73060c5ea18c5b03a858e92c855a8bd76efd82de74142cb1e82d24cd23a9962b27a400631f55d05673a8473aec93f49a456e50e5476cdb140fb2617d78c307b010bfa407172f2ebfae5828244f6514c6fd2abe5058a4a8d92f10fdbd949e5233078066271ebe6dad7d609791474378c7c4d7ae15b1c82d2a1c282657dfaf8fa3fa6acc0a9b5366eedd16ba0b582400c18a28ae0d71511524ffb42769711a45b3f50011faba64c51ad3b17cde14376ce11f9c4717a5f0d3a116a2404ff5c6cbdcf19854ac22a67cb7376b7a3610f0c435c947d9886d96d8ca7934a4a30599ac85c00512e6cfe6b3cbe78e79372f0fb6b3faa127c86c3a427ba46cfd1b332270ba30ea2357dd07238614599f27c9863f066b5544a8356055d08a5dd2770dc6535c783fbeeccb86ab571784281f1ab7267ac308352fe9478ad021218596f2cafabfa6d91d9665a33c02162239a9e21bef502c4c9626bac0affa17c1e830c85902847c5a93ab017b5b3d702a6d38d6e65be653770f78fb34f98b2e5baddfdeb9faeea6038b46152d69b09c6a338322ecbac5d1ef929d035e3928425a5f60f0af59951fbc3af017b922f515ea638b743027f91e96b798b0444bdc818a98f8b1b4a3541f4db674463dad6d787a427996e0f05077441ec3013d3ee4b24cdb1d6fde80ad781d964875a136d80a6e1daa9af06daa25b983cee7a23d7220a07d3a1d5a18ce8afa61d2b3654407255fa74a7dfa89f2e1285c23137b13599d05b49d28cfdc63880ec790f6a5859a77b4c224603c320c20adf43bc7d0578b64817a872da78b14ab2eeb25926cf2c372d0f274758b19fa695522d1c42b48c81af9c72145161eb7f5123324a1edf6040dd0d2bddcbbdc19d9c8f8a129c781092290cb9e7afdc0d05802ca42eba3d330257687cf78a47fc3c0ee0a9d55898bb17b9315220e0a65bced4287048ab34f9cd5176b22c53daf1f3852a838ad394f20bda0a60665cb7d875604a08b768850828596841161820601e1088aaa848af23f2acfff910fa60240c5a6e1b13df8e2bd877af6649d163245e973763926252e1463225af700246607a097580389cea734979bbd9267ece4e9159db3a3673180abc81d6e5a246220b1a5b64669c684db277f13fa94bf84cc57b10327129eea370c9157581f36886f8eb02b2570211c4426b3116084c07531894b2a5b6827b470a5c4c3f68a7748233e1dbb149a4f71277ec242fd7df1d98dc04950dfaf3f35fab27651bdd271c9d990029238a4941a4938b0ce3b19fab1c7643f1a49b17b7a9abd29ab6c82bf3a2947f40c0d88b2036109abccc8f1739815fc55c8c256ce16f51e9676649bb811aa43692edfa182138887a971b258fb5d94d032add72d916ef0f975adbe14b3eb6f12904b9d97b39b4d3e7b53e5972dd3388b626093a1555e6e88960453ed1d770c514b2974f1f3982d97345f2c30e32a0622ec47efc996c96bc12e468e72cdf5232105a006bc43121ab18758f556dd76f4fd56e88051ec73a49ba04dca55a54795e53647c1da46b2c194915a6a5d7317da3814ec53c18a0e7ec0ce3b139135a43cd27250a9f9776c6a280c9de92e59142987714ea7ed6e00da75783a98d884828e34d409e7bd0e9397a2e92621570c7c4ecdb0de94706f24f8a157e96ed0c176e3b3b245de618d2bcbc04e291d89033d7e7ccf225514c5695c23b4b1c857a36596665cde4195c6b019de2e3af95cbd4d3642e5d5bee33fc99860824b7ba90fe0a6f20c46d0b23d682011561d3848e541c57704a3432aff8171fd963d034d527c88062eaf41fb418cf9ea2731e54386b73404498d104ba4ef15d6ac3cb377c1659518e61bb950159ec48933b1d7d673bb73b6056dd247fde7f9ef35a0024f70484112db87abbd5e09f16c9114f82b4ae12eb06624831d6d5b3b6c405d25c9d9d7b0985a4da8c25cde127b28b9bad456b739f6933448f23688d859fa127954b03d2ec044f27455be96a3f053bbf9095d7a5f0ac793cd952e06dcf28f9e5dad52557795c6952019ba63ea5abdda6f29f39b5f5e18caf574701167a8919c5414ceb706eb0fc071bc28d0b8c562de2b77d3a25b84c9b8e16b3577a731d134679ba857171b25199129ac5c32defcd3f8901a1de26dbee8c2ecadcd78b19300d8850922e88966eff944fd758bdb089c00326014472145ec184f84ed657118af7f76ad358e39890a3768804774fe2b50cc4af0b9add7e4d96ed4bfe5970cebde924e2f759d98d21650758bef4d8c6b353c0dcf5722450e836d42d0036764d726d930c7bd7f7508c880a6ab71e3605ce9e2e35ca98e9ced64f992ef5f154a693aca243ff018f801e47d28f28530498ea73a4adafd5136544684ecfd215e99fd3bcc7c561e212381f7daac5ad02630ed9b01cf827d7f30295ac8736fd15bbfe728c3ffd1e5af20e1ebab37fc041e26fd5d1f1f777c237465446192f92c151058f43c6dd610f5b1c76480500ad024aa079dd37b09d64baae2c66561169b9f0c0d9b8178d5cbc14443eb83826e928b8e9718e367deec8e74c6189a424bf2285a3f78b3d344e1c62559605362a7a9f4cdd18582569bc268e49abae9f93caf6e1da05c94899e5c94d134904c67fdc1c5db3c63d8a7bb6faa8013d49d8bc8bc380a58d31448d5e35d253587e5ac0579af87ed3a99fe509cbf06aae1c92f8a6dc602ab23a1a35081676e68dcc6ea2a9964ebe12c3c93828d029d6dc575e5ab363d1db2f6d1a154a16d5ee98d8e48d01be567fe24cfdfa06f9cbedf734b56062f5205364ba35ed60362663305c04d91feaccec50883b0980a3b0c4439dfbdeff1ad9d89cacf4a9fe5166b49bf30af8ddefeecdb1860dee7df85455218ebc6c0678dcc6644a1e49b68f5c076bbc02f5316853cbf9fd66093f62b49f4e2e5d4a9048a74db62dccddc6ed879d9924884f168b822e4201496f37039015dd75038bf4f0a236ae754414152981b4dd49fcf3cae60889f64e0cb80d57b936215593938e086d3ca556497fe9603a952c113df10827caf1774b21e1abc424b432c59c093c1343fa99a3c2d3de04b689ef1c5fa66a6058997378b8d556099c85fd7c7f1a5613f013b04592647481087dacae97f42614f859691976638f79d92f552db8e00482c6b8fa5ac90e22569d515faa5d4a40733706f0dd52d7d30736b4c4b1d11d84cf0f9a114fc462fc4417016a58ad69705f624f3e92679fb394ff4d5824c6b451588b4bf9161c3a7a6da0c9c743241c9eff9dabe3480fb42a6a3397f2b03bbda692c7c2c17c9c271e488cb80279a437d92a328456523424f85932e8d159fa997e305165427aec2de66c7ade06c5b6e2b4ac6730eab725d3bbf75b5f9be41874737025d96b95e3f2d4ee00a8b4399a035844feeae6a914ba6d1c7d9e4439c05fe460f030c9109d41ced158755cae8cc0e55eaf7081d6235543ae8dceba5a824e77664b493bbcb1824578298da8ee9c76e09841df37d1c6f8558817289cce559481ca1216587cfd6fb49bc832bd5b38286a769be18d2b02c9b90f11c726f9bcb8ec28ba5818e9a49072e276418469e96ebaa046d001d364e0fa0e93a7a626b2066ac70d6bfb3e77faa35dd0d439fa6e691da5bddee7f56fb170bb75a604f147c7689b2e10118daadd8dc5709d5efec2886185b716923de51a2d5e27208d5c82a18812309de47d593a8b815b492b2435a8ee5e446cf47e12f17ad59a7a3b4754571f526f02a3a547a352ad52011aed92cc437a8a1e4e4bf93073f479a70154de9379ba8df0686e55ce46050503d955e395ea4abf85e793f79e360eb2c7bf3cb5d6d39efb799a0d2e7f627e452557e508a450ba3aa3f1544cb6d2b634909fd12184cab29ef24dc5515501859e5c51315f74e37558a9a06cdb90e139a7e7cea2f7c920c7ae3b30bd8e98c55b90f59ab019c389f074b4dbeae5f54b4f8a73aff852b3ef80af522c12c790f88d7340aeee93d8ffbe643a5f7629f72925bbd6a0aaf89d16725c65f2c182d231d2392ab8f9d8a7c43f7319eae985650aee0fd3265830792ebd97b4779aecaff9097a5814cc69c8f7793e83e371ace91527c307df71b2b095bdfca63756128d553cc23f5cdf75388391bf654725b2b163189f2922a174e0575c2525ef20ac2ea4b169e706a5c43d4721117a432ed5cec640a8e0e3d81afdca31e4a3dcb95085077d2e771e624e5088ad2d477006afbb9a6660020d75b1efbb12b1ff6ea3a71399578047dcd2b21504e7da8d6e02d8e4a06592758434f98a500fc954df59ba7446f0dadda0f2d9bc8911f7b87af7f43a0182bf3c0ff45fed78cd1797ffcf7baacfc6f66c022b725cab5ab8bacc239f0842ea995707206781566035a927f6222a16b6e577c5669e0e339322b1496445c8d48ecaaa76b7f73984b24511d34d328e1f28e096db0cc5a1e60a04e4a9f8a6c6cf5eeda1db1b45f91311ead2f9c3532732f11b710fc045e3cc2a2e54dcaa7292237c261e9bffe0db23a2b6da4ebadd5598d6cfa7f74cc936ad3d4774a13b1707bb9fafad73921cbaa53d257ef95de0963c208cc3a62965db271587a6ca61459772bf1b7ebf286725bae0694b3633f26a76188f89f2edf2c8fbf06d61801cc670b370367d928f8e74dbe05417a1a1b4208080f1f05491e4cbdc30f7bf4269b44fd1a10a0704702a7b49cc5bacc639b9d42950a680cc9fe14c9f38fb64bfa5d6074e3f46d97848c604bcd6bcf8f9f5a8b8924024a4886a28f3b61f81002dc5b6ec2fd47cdbb866bf1908a7889873555ca8cdf5dc8aa0ceff34d26536622fa2542135caa5946c4b9fce6ccc50fade1907725839bb5e9274c24ed48cf162637570da17e3694fe63a2b2d64f0754bec2636de314812c23b8cf9c6c60c6d0dded4b41454b25af0479fd225f455fd7f51e1d9a35e88c9f42acc4557327134a4b05eaa46e7dc3a4e67e7c9c20a262aa052e8b2b0dddbec78067722935dd922f83fcf12517580882ed315d5b56150e49683ae7ad77929f14c24eb5a74a0383524f5431294c5053f3d66aeae64ef3dadb5fc67068cb0cf3b301b73c99f80fbe9d8a8bb9e55212af6937f671f263c673e3c6a2974f581667cf8e2effb4a7e769b35d33020c60a3ea11975b96357649a3093331b88110891f5ad87fd90c4c5c27a4090261ae4087e9c08e7de2b7a91298a4f4b790d6ef4637a35bc67d4d8cbaa9b6e5be4076cb0c0331f02837f62d58dbb921e49799612a4794d62720a7e38c2b89444b071c199dd3f9f4a2299a6554dbfcb082ae2570d4c06398472cba342678325ffffd32e89b2c7680e4328434e4a7c6fca23859bdc59fd0c9fdaa559bd6bda8d14df0492beff4030eb5e4c71e33fc26fc20a49e101726c6e9ecbb2242e8693b8fdcf6b4d59e2b19a83a4adb33f2bfeadb74ebf4b46cc530a73e321d5f87e0105b08e20b58cebf80bb2c0d4f42481a5ebfc0e4ec101cda5af59f5bbb9ca1333755bf654e0fd6cd426b4b7e33d9aed1bf170a92da90e01944c095d13149aad37daffc17872d58f6481723fca17c478d01251b107daf3c21e82e5b23254a4c1c2580571624d7f1f1fd8c111df48e1a668d3b09b3e7afa1c6ace09d8756b35ef24a9e0e8fb4970ca3d528585834f4c523067c594823ceb68d774bcbb281d621ea367615bb19fd66257d97182915d113202323eb9a6cc6788a3a0f4581b64132422759bd3d58295755049462db4f277723cec81ee14ac4cf10e70bbe54f4f1c2f458d3dc6b4b7697b96d206a69989318ee0b820bbf936019c23a666a3308c7a2a315aa80dbe61f310bad6ef0f715a11762589d144a2ce9ee3fe705e344a4add32e3cdc935448e7c910c0760e4e740ff1d0f9a0120da246a2ecaab62bcbaea5f69296c16025214876761a867f7c10eaafced82ea90c7a2b2b90de2cba9d5ec6a5da14b2eacd299b54b233d6449e0baeb2be7327a034332997cf2b27d2b52431a3f171c9bc349639cdd832f9b40baed82ff25af03a66b4b02384b1864a62de4e637c5518b591333b52b0df2e735b69c02156ef335b0912955a65a4a68a404d196f0bc10383ee42e8dda7deda419ae1a4ba1c5b898bc1a1d642f0a1f0409825d01fdbc0a6c2520582238fb58d6b76eaa9c0c8613170e6d30d0ac0f7648fe1849a0c2cc724437863f90bb1db6bed59e18753b0d8b0cb6cb32bfe126cb7e6172e59b42f1ecfd243b2df1748ec8703c32c9cde6ab147df01f370f6b16677b9447b51989137a0f88eaabc30804b04b098627a536cefbce3bbc0938d079b00dab0b2400a9ff3d9d64467d82fc1db8942a6afb6e0b7e48731f7d3885382a094a1a183cad7650f5efa0bd96e97f7c5ff310a8eb730c19300fe3fd1f8d8469db0af62a1903fb08110a242d18f7f054da18a6ba700d948edd1d1ab822301f5b7e369c09307988b98bae39c1b600abd695240c4155d14873aeed9969796172a50f77ca9ea42bfc6723ce2833a563a4fd53d5b21903622616aa752d0cf84945a2623ce6858e7355cfb30b6f2304390e2281218a2cdcc656751fd378d07d6842308ee99868b0872834b8992633ac61cc6db8cbff054612415dacdaf31f0d6b9ade7938280f19f2f2e9e458913497ea098106e5011ec6953a7d17c9dd0ddef92c08fbcd13f3ee29dab1fd278afb78e0aad4085f93d992785c39110bed32ef4a42493f4cb21a3a63a685c903bfd832f707e47f84bf1187f554abe7e92a9cc89efeae271d921c47a39079a122c48382b2457fdcb650ab3fbc19f698932267717dfd13fd54936039c2468aada181f5c8ccc37a013c8f795323ec07b047453b4b5840e97137e334b4e3e247bf44c7d033fe74cffbf58026bb9b0bcf5ccacab525a0a1308f377026861e9dc5f3a6ada650004a8d5de7a0991a35234ebb1f577849056bcd0f86e66ab142e45e72bb7245ea65ece765522ae8f5a72f24fd574aa6646680edca9957317fb120bc706d217861ce5bf33ece5a807317041845f97822fca82732c956a094e1bd1159aecc65932786d5957d6446b84d0d16be4c4db576e46d249c72ce6a0ec7f39b72c9e314341658d63fe3e39c59df794841a979d2a3e85751f096485bfb43c28ade4836b4a3853c959d173e71653d31652e11b895d4cdc5286359e306eb7dacbbbf493de498dd5fe93a4baf3f7cb7e950bdf6681b32c371dc97f70c92c001c524db5b6b5381abb3e84e28299a2eadcaf3f09e0c271bd20c32e995e75028f2857623697c7d54685bc4ab237a1193fc6002725849a2dd03f4c1a99f084b3ef43f738b42df05a7fa66eadc88d07d79394f3d1fabb44d25991c3da1401fb72a0fa132cfe73d3e4138c3bbae2ba73535e5eee06b16025683606316c7b926c07e946a2525d101477a929b352495de39a055274f54986d9d541d9f440f856b32de7cc0ef774d9700b715b5386cd7b152cd990ef72b8fa62f583458f48110bf864f69276c83f59bda446554813f511b45b584bbee389a93b7d183899d5fe76cd411fd48dc746bff76118ad3e24c9a3d6df7a254f442d708379b0bc6b8a49de0daab08ed109ce0c45d9bddc6fa8ba28b1d33d4bae64c2c3ecc37a461437d401b7c4fc204a99d67fd6d51ece5c70bb1c9177b8cc16958b66869be61b2614d3573b8e5a0d404bc35abf1d3e542cceb6867b43f090520987c278f0ffbcc4d6b899b0647b4906ee1258b2bf42571dab9c23431395daad0f15db71410051764d2d19cf37b09ffc7cd37f96d011b0ed6997bca699b3d1d9d345e55c54fe582c382cd57e5b83c474b27a2f8dae4030ccf71ebb26a4d02c09638211654f1c332aff666205ebfbf534b25b5eec99022dd82e7920ebf945b893f4b6298a97c65a313f6c9ad704fec825fbf1799406a5e522cb7b0b6885d3664aa32535d94ad347456694e0936e9beb8537b93ce808fc9a7f300f9875975d13e2e1b041859539a6135ae564903da280ca8b0d51519c7182f38aedc3486a3d545d4fa6efa01acbb62658591f74e579ae1c0be9588d09f3c881f544651e2e7a9d4ac562bd0aa0e2ff8a5ea65317479c183135ee261a3248587d503c62468d636e8a1093c0041a249618203833cbe46edfc6dcaa5ebae22250e8d01309c57895b4b038d220930d96302839b33dd29a5f1458511cd6e108da1e2c163cb9f411c6ae2b4b89d799a16089818fcd774a9145e4abd2840738e77222349fe3ccc6d173c60cf6efd73bccd7d2d040b052051533ba603ba934323e690e0882a2024ef09e0b01bcaa19601ab21b646a1c834c0227f0ead4e09872f8855eedc34947e958058bde075a128c6e843e6045105be4f1927b0bfae79cf48fa46f20eee85ac12ac8ae947baf0fc9313a7e426a3514a0bc64865aedefc33dafc23e8a6aa9b0ff199d07140636ad3c1bf48338bfce9325cec71128449ef504644a9b3a0bcff4d3422cd3b42ecd93799ff1e2e5170889292335af28d2ac518c1f2e73c6d23e4e5816e9434c3b17597bd90feb9ac358935bd6cf09921e3c42e4906db7750cc88da25e7e0144ad36af61aaf4a8a52bbef6ddc419926db25a9a1a708815e9fca4bba33177d4f50e9964e1920bac5a8c0b0529b73d594672febe98b76a043734d7a9bb08145f1d124fcf5c939fa170a484df7ecf044042a026ff88a877c18e6e7981e41303439b6526a6da9b2a5ffa49ba4e1ec977aaac2a59bb56cc23185603e661ca572fc67c8b6087adb8c85ee44e4f2cc2bf7c0ae37417e9eeaaa7deb35f9e8e8e94ae0df08b7bdf35c4319cc39b6e3b735b9618bfd45e76f2a382c2ff680360be547cf2ac1d39555a3a4a3909483cf6793db5b8fc2b2454f520c18463f983f12856ecb3bd896463bc06f3b2cfad318ed23ad9b9837f5ed26ccbad8fdf6e0a849e7570e4a7bae77f47ecf1d6ce59f96b9398610a1c942fb11d254eabadee8b9a54cbf95ffb6faa8fe6fc3fef7c5caffa24096aa97d48852c9edd93a0f25ce223753a4cd6740ede5675a78a2c8bf90275ba2b57861889e64e02c4bb111705d4a8c7964a048d29718674f7fce2d28d52e3bb2c74753830b673d5864d87616001984a76ff2d67ad20d7c513b0d83f274d0f3a9a1e67faf89a1cd3946db7ec0cd4cfaf8e04c073218201e2607f826363624f1c5b16e9669ea85fa5c75e2218b4207067d24dae38fa31e0216440ca2ac5aab018f74a75f9371d0d04bba4b0467ec52527f93757712db79285e8a073a5c7e4a6841252b849c77f6b1fa8b5a83a39ad7884ff6a678cf040f273c9e711f48930f8ca1fcfc12bd2c2c4cba80c07962aeb05a6e7b0f2b708ef118232404e260df27f8af9b7ed500ae2f5a317b4e58d5f3a0cbdc1810c354b890d78271aefc819607d0d2f680f2b5daee288340a9532f0038c9d2edbb4d92826b8d6fbf67e857980e2d1f437342cdaf4ebbc1a77ff806e46fbe1c688212d9e51bdfb0c5848dd881008551c5689215134b3695acb62fad257492beb6cb646f1adeefdee19066cc389f38dfba908f06b67c7d680aeb934c5a3f820c54ba461fb58bcbd14a773f0bb0573188da1cd03cc5feaaaaa6a8553eec5a1f661d96f99803e08685a914e92986dd2d43b5e50d20c609f8da083c429c8a9d662040fd8a1b9d769ffecb8e43766a71f15f4aff702a15c03c74bf2f8298be543fc8df656a2d2199e35cfc9b89c868f329921a93da8d65781ddb210a306ce12bd65c92b9679d2b433da1103b42009fb9cd7b06a12d79857c649667ab2a525bf571717ca6ead838f22bf4df9dcbf120a713c61a4f9e639cdd94a26951362d61ca111bb467fdb2b3923159881ecc4ecf2b69d16ba5b20a4e706f455f62210f2216b7e3846c91fe91d7b463b3d5205f84b98c53a945755f89042548862067fcd90158a30e269856c1732f6c1cdf42e401fbd5a6e5ec383d8584d575976145ca0ffe9505a2491431a42a8fc3f4083246fb4589d9846c67a579920bbf79e55d3fe3968044fdccc0cc5a7f66132e3c9cf29e5265dd074564bdbb78994f13fc4403d59bee0d873eca54187add0447ea9318686d111c7b40a2db9f6cf4674eb56622b88ad9aead1dcc61918d46c087f8d75aaf5caac6a12da79d578cb47058edfdf9c851b304a88fe4a1f9c4ef71f399d36e730d6271f4e68dc537470cbc0ef7b926658a626d0cb2aaf9ec36d21755465ef1a4aab53c641b22fc23560962f757fe30263016bd5fb24cf77e7fefce022d5961ce68c3bc0caec3094d0b1f750a8b7288e9e5a5ea183fd9a5b346a40b11f98e17ce00527973ba00b8ec645c8d4d7c493a56aef670975e98c11923c0a21bc281523eb306f580b28d63c160a66fd1aaa56be32f1a2972a102b2e1cb38b4c9d6ed6489a40778a323d54ecaca4f333de6be10c61856cb6e801ac1d6a4bdb5bb6060ffaab9d66e26bdc3c22e6578499d74fc914e99939b8a01d7c7b283224b3ecfcde509ce270632b77887b7a4ca1afee7631c2f16894114ff6ccab2192eebdbed0ce50953def53e5fc6c2a7b8e1cb63c8477b0157f42251b611c1c26a9d1b3ccb67307876954a9526f71501be3ba7cc41ec8553d55bc54cea46e4cba4d3a8303da12550e9497ff42799203521c484765227f3d3b5d519ffb8b723cb7032a6236f46cc098d1dd89104e3af26946d1efa9b0abcacafb6eb5fed284acf0612ea0e2db60dc93842f12ddb9d2faa16275ad3e1b4710c923ba1da5e81096be009a7f990041b328465a8035168ecae23528f8d27729f0cd95b077c3eca9e530aa372c34ff5adecf07d7957746f2c95079d9dc72c73d8aab705b8faa352bda4bb41ed4be4b5379585eff252bd98208f64802e15659747435bb132bf30703fc66780cb35396e4e8631b3c9feb7481604d18fec168c2778d490229674391d85fad7439a1d886a6c48512420d7f02be417400e08c7fdc4f9525ad2d1acae2b1ef4e0291cd16cbda01b795b0c814ba2b4262b0868079f9d1086b5a3251bb3a1c70deb72779404f64b91f3bac1f53ead53c230e482fef270fbbafb17900d96d6c0a6557aa418fc8e698e815c63e4383e6ed9616259c274420f7d14006e9f4fa598431778aa01d1b697213b7156d16a3e4b01e8fc0c8b84b6dc886065121d776482cca79d8d404b202a84fd301ce8c7d24f9436be7629b014d2fbbe5487acc274904f560d3288be5173e9565c7dac064adef49f3622803a9c7fd2081f7140e8657685fea73c828b5fda450e0932a971c66666f32e207be20d6b51cedea4bc204c1342505d47dc99e045de90574e834174a5069279c86e011a04483fcd1d01b6e35b8795c90d2da764ecac8557a94eab68a7201fb10baeb752f93431eb4fd98fcf5c398178f34b9a41dbf4acc171a318890e35f4ab9a6c6cb9b034d464132d84aa3e64496fb36cb4170b12d74836fb78cd54c39b0879ade747453b68dc9fac2ae16da1884af625d1309718cba2087e497be870d6175116b54b7d16384ecf619c74f5601857e6b5d553a7827e81b428e5195687ece70c79356120e0ddc468167058da605c36965f034d35459207f4ebb744ce12c959ce6fe565ff02f091f8f5d2a290bbced46d17f5662ed1b123c8e8ab1440a323a33d58a7e959048a57e421d2cccffd6f9a5bb79a258e31d78dcabdc0c910be1dcab8c0abf05ce04fd0044cc22c6362c3014d04ec32b8678ff9c8a03fb6b0f1ec717e7fa0999795dd64e196426281f9a7855a63560e1984dedf0670904a5f394ba650037ec79fe0cc5f49696d6f9daed87d079ae40f244776c117f5ac8ab6aaec40647b88e16cdfd9eba664905aa19d647c6420b8287e5ab02e8fff2bd1fd90069b8c5d4b35410ca29c328e3bc1cd1f19fe10859d8d05be6b6be6b74eaa19c097358919a81a11f29c5c49428cd7e8bce2de39bf57dcd30709e3fa64d2ec5b911ae57e324586ce97b128761bc48c60100ecef426e6e489859c9619e15cab0c8c11ac75dfd8b9fd51f6d1b684130d0971e20c574962d18e07fe343a60f97da2f2c230a9ef44d8f7d71c5b75e1074174cc2849f28b5c6b414a87a3191fabff88bcbc722bfb57f042684e8e8075b12f5695e9d43056d6139607961f00dce1deb83137b800d5849ba8b4cc5697ef81e0d0456518a052a06c928b64133d77f418d4ec721d6c11fb704dc1f8e43a728fddb83a976b96bcb809aab7fc6657d754aebff302b13cf8282930b96d85a33eb5da90c12fd81c17f94cd7da5fc7768fe51cab48ba9a2d7c1af599a5e5a01ed02de3149d7513731da59cfd05736b6107e3d7d654af3d36713b6a8b778ad6d07770d0f1aee91d79a552073f9314851f5e4e8dd9da30d556bed5812649db5aa9e827caac38b8ec2ebc756af603c57d0332c92a68dadc40f22f0efd6f65f005369f406be33f7fc77c70acedcd2eaf68ccba820a6de529f2ca30af192c67465e441275c562e3094d137a6637ac155d56507f031650b24a01cf72941f415b027eef3b6fbe765b55cb5485848bbdb5ea14428d21a9bf213f30fa97ef907d48806f9d40ebd5c6c3e45cc83099b79f1845b4c3bc27a071247914d3dd55ee7110ca3b9551b64b8d68072f40d0e565e45985a392ef053540394d06656ac22b8a7d4bd95683952bcb82bf848acfa247e240694f585bf41f4b36e9a408c9b3a8673ac84dbc4b31a32be6ef372346ac11621c648c713ea77386b0100f4113717f1c8a47c6aa8790758c37cc55a9974a67a952bcea9a355d4cb645888e2e5e3f835675d672d8de343cb2388ca3450f71b9179ae5920ba4c63f4a14b4dc35f56338e2411945ffa3070c565d8da14529a418073f031ec31a33783952563829c6fe28360e89ed50addb804680600fc0b7962159b8b84b20bf02a840341e48eb84bcf0908faac55f36aecdb189bb6902f564b837d45ac3e66a10de829923c8d9d0801173e93bc683272f32afa023e2edae90d74d46892dc7ab705c74bc32520327e564d176bef5fa41c75aa07db0907bc9bad5dfb72cddb6106f7967e26ae966ac18421294778f792720bc72fcc7f5f6b104991db39cc498217e6e66062ef9457448a320d02c91799298e78cd2f07f5134f3fc4cab34391b69a29b13b891ff5977ac3ab3712524442ace78473bf738721ed054a39747388b27515e163980d3ca2337ff8d80e7aae047b5fdcaea22f4850fbdd8b51f1dd91e6a2943d2efad73e815df6c9d7eecc2cd78ab2ef0a10ce04184c26b3c618ee1c720a27a083e50ac3b70d0d372282f43eabcffe5ccf0e0b8d74136c4cb7b32d208636cee47e2b21bf3ef7231006e7027329274921147cc10c546f2ea7e1000dbd09b9366ba27655d81c10eae7ec7e6625ab94c3f59dff515c31abb620f5fa30a74f7007654e19f84e124493bfa61bbaff8c20f0851a12f86462ed09ecc0127042cc2a850b68de31f07cec06033873ca431dda192eca34192d9a6763a1fb81dbe889db2df2b66c0c8809ac076c0ae14eec7a956d9b2ef08413b680e1334cd334c38200292a2641a0984dd6dd50488dbc52ca79c5d4811822afcd6644163118b382bb68424875385d31355fabe7322bb250cabecbcf4bdc7b082dd572e37482bf73d38ce35b465f2f9c593e7907db18b5b531c065c8278016843cdfb4651c88b7f34802396a956e9fb393933fbf90a51ab70ddf6fe6084b60a291a9d72173ea56eda5782f685b38118ea9520fdddcf15204baf4cb5cf40c986690caf7cfb8552869b487596ae4b1a8f0fa7e9c64fc00373c3d53f767be1b3621f326313136435a495916b4975786bd7728e54d6ada63e4ab7faa3bd697f956fecbb0a46c15fcd646360b2a4b7d3459291d6653180f9a5be40966debf739dfd44e1fd3f13b62ff145998dbfd86888b2989e6ed83e1a1824bf7b3e1e622e1d8e7ccf8a15fe8c9a4b0865a5b4ef7956dbeed46c24b2b848e8d41735bb79a1f3251d5a51d1d805f2e32cba581d1c5e2d290adcd22963b308ef5578c387e1932404c041554e7b07fb39daa87bd8ebcab0b7e33a83c6ad685cd3be9f88ec63de41fe0a10924cab233c555e193c148327dab12e1f101f6f36b998e033a8eb44d5ee40469695b44ae1b9e083ee395654449b9d22938478e1325eefe09bbe6bcb583bc8dca22302d83c4fe94d409c74c40f992c31c20aff3d29bb38a29f7580b4b7e14c3f23b4f7359269a5bcc5b66abe1376852a4fe745552633fbe5528e12c457cbf36c76f3ad06983ebc5faeae2c4055a5e7e248c15e8bbb6c6bd2a6a6dd9d5c4a8492b4caec2a181e5e9a820576be3b67c01cc205a98b99728b47a2fe6f29051993180307ce74b82a75615fe1fc95435e9c8d5cc59d64168ccd884d7971b73a0a3562059a51b2776e10f054399a4b20598c1d63b5426665bda8531b6a928e07dc646acbf551eda02aba548ac57a159035bb5795ab8a1e261dbd7aa0d948405e85f915a1e6b452b5fe6b877112f562c727e68986e355378a0f2b3b79e433387798fbf876f557c2513e22da6b328539ab96a18829503f13f6692bef234b0db9f26aa4ce3ed1bd46a95306b88b99e3585ec8d9eae842d1d88eb6263defa7a5be95657a6ec0ca991fe7f5f75463ef8199c979b31202ee26b3d97b8ac48a244c47295427d6182baf6c9fdd5af65c4499e989e0cb706c660be25b39d4a46cdfe6745dfc62b309ba149379bf96cbaf231e339a400b5aa23194813bd866f53d51c450fb80a1be8dbd21d342997483e256a9ea1ef5a2a084821f55c54d7899b0963de90c3d9285ee189ac176f841643e49538d73e8050977dff4a907d3ed7e369dcdd0c6b80877b50dcc8d45db181b952af1f188db61d8e80fb834509cb24e063732ae5895d4e5c8ec51dbcdd8d637be2fb941d0646506786c012dfe46a87f1c54d393a3fdd5a13e72571654aa717ebe6089eee5b5e1eddc88cfa2ecf278170c4c2ef9b0b1f93c17d0cd787692d0744e884320307bb88956fd0f570e7c7e89dacb1f6949c5793079d132cdf208fa6060cbf590d6c6b8769e26554def2b16b977c0b9722b661c8052fb301bfbc23bf24aa98d6a34e607d1847da540dc19049e7096ddc0d7f048e443f77abe54f03db3309fb113d490cb90102b7e72990bd1b158ab0fd7b19c12a1df4eaefa1eab50be3eacded46b3dc329931e858ee1cfed6d97a735294afb593e9701a5e68fbab9a15f6be377248f1d06fdf52b99509471a0b20544d3694e93a80ffb31a75dbfe17d6351dabe2f18f9ea4f02b137d69b5554eb6e0d03aaaff981c304470c3d2e00febeaa8901a3e9fc7ce83df4c3d132f6960ad3e1c405933a97291b910eafdf2ad98c321afb030ceaf2a91c10353b6e200db02acafdcdebe3333c8289a3e697b9a582341cdacf8701cf2828e52adbc8f28b6f246fb06b658cf65c0a4cd52549aec37ace86a32c549a48cccc6dd4e4f280d67daf14d6f0bcfe6761a756a76b510c1a6acc9b9731f1764385cda3692ae28ceed942bcacf7cc3034e69d6ccff000a94829d9eec826cfc9bc72f41e9fc4e6d503307f5cb21b44562c7d63b1b116b886ac610e9915a8a8024760734804e597c32b8b0affbb62320d345cf621bf93a59acde7a8002bad845f258ad6c517afe6602f1e3f14de77034ce615ea0bc3678aabb25f52042bd7e5d070e78df059706613bbd6821217903aee0781e9a26fa601dca94d4fc5283957bdc8a8f5e521d1b849313112e32bd3d10c3c939d09a0c8cdbd6e74e47d9deeca9f3417a7440ac0b41d50f9f69bcf1e534090417c8cf7671973b429b04d05dd365b8c3afc8f7b6e37c603c947b7c455b5e95ff717cb76afbc4c8b92dfd27ff8dfdd35bdff4069c03a65b87e1e34580441cc3ca817a35c1072937ced0cb250d01688a24f0d2c1dae89d95ccde2a1d50d0e285c098033c5e58bae2e488b7fef49b7330c36f36e9883f7e3b7f862e10532723282607c5390b58ca95a4a724d1e3cd3d8e8e10cbdf3a6362b336a942bec741739dcad846875e3453835d4d577cd7adb04c5010ccec134af653a52df3695d6e250d61cf27f4c8b5d567b1120d2754549c99252b9f7135e9c1d46eb6c15ca8ee1aeb1da82afda5dc5d46da89c7e26ee0964ff940f7750f5be54b5a4bae8d12220d84bc3c4b4e2422cecfd6b1f2ac283e23c3d63318124ccda6e5cb9bc2ce86b8156c26fa7a5eb606450141d28ea0fc5139d2b05160a3ceb72dd6afc8ca7553d5561819fdf53fe25f10e53d537d2a00001fc8bdd83de42b40f3baed4b6f6637979f211bd6068eb40926ae359d01c99846cc3cc1624f023542eb60e6c8e99d87f3b637f765b962073e6526f7485a362301e9cab2d49bb6d92c1d460b17b5daf295b949a7efe63767cd6ce17be3b24786aa64ab11bee91bbafeb4eb5f9be4d62c0b5c772c34c515c44c9ed8d306f7045e68a906e2f0f27f10d0e75f9c3e176a0829aecc66ed684b2fdc8137c0c0d0437ae0d6aa1fb0b94fb87fa675a637e595fffef9289677e67b14f0023e8dd8fce4ed8a324de0f80cadecf3464de99dcc2720d6666969108d1075c26bfdd7292f515d9c231dd7dbcfe22496214917e63a8a2c87daa96911cc9f480d6fb558822cb382c890eb6e8f417b537fe35efc774a46a6e665d149728c6fa879d113bca63222973e22f78f8598935271272ae17a8f91f2dfcf49b534c4fcc5e202827787b1b7b29117ab2d231f5def6a29186145ea851e64a7683ceefb2b41350073f1fe9164023c493dfbca9301694def8b2c3066e8f043b28a75c84b5447f8cbee41a527be77de59137e24f77d4940824be4cd540f8bbd44956a252d051f459eb22d529508c197207555f7c37726dd35308f2780d7d6fc2610cb19cab265f9af4dbdafd7d42de28ba03d997064541e9e179560bbcfa84876d6d23e7c0ca21364e5d32dc72a37a870e004435aa114539b94dbcafcfa78ccd2a6707fc6ca22172339493d43364050f49c9f246734f360171e910226d11cfed221dcf5de1c537dd06ab15e5749668b953498b558317de186753ef867dd58c9bf1fef5151ea4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
