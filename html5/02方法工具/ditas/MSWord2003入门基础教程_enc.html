<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3c005051f4cbf4338a52b0bbedc55ee9ce9104bce8cd62bc8942e4a9d0de4ad79dc03b920b1d3e151c1cd2b04c68c1ecf02f6f3b0044725f7865e3451880192ad7be0c345d414d46b61a724885e665b242a46987261f9145b02357b99e0059a5fdc88bfdf04aead18eaa5035344c548877060d83561f3fd077606c0784cc15fda6b058ab8e1f3a810f8de5461db80544146dd65eef45992f36d0f5adc7d6529500a2d58440c28b557b5d8c7b535fe28069761fa38bfb122191ab659ca04b76c5943020148f6e7d740e0f47bc53beb9029eca5cb652898da457b430d5033735c8729799b9d5a714fcec20420d300914886f7c5a04c3c09fcc93ea399abe24647bf24979df44d63102ff7bd1af04dbbf78a7d15260af2c13c37da3e581cc465b2d8f8599b7e0a11f4acc874e3115090169e95d9bc12c9cc31af4e14a2417fdba04f64451375c2eabf28226a4f4522db4b341231121087113be908d27ea5e4080c9bd68034c6a63c1cd88198935490355900ea120fc23e1b759f5e8f19b949a59d9aef23d619c54d1e16f3713eb965b319c41c238aec79202cc305bb30af79def027290f954eef6c64f36cfa7a3c84ed07d15b395788493c45044410b65d2d32f7484a8ed7bcb1a009d3a6454df88851847508db4d444a11fd46010d9ea0e0ef390a3a3afa7c5b97fe8301e96d07a8839371a086fb784928b4c7896a8a265fcb07b14e5ede3ec939d9de9128f9a4772b389b88b9ac29ce4dda3d5bf5819f8f68c599c93193869f243f73cc13eb18e56dca40ddf7260ded47719e0acf2a6ed7d1ab08fad50f9b2fbb2376ee021ab5225fbd410dbc4383c8e24575a09ca2275a10b4551dc3f19ef63f62083b37603673ff1f20204605c1f5ccb5abf20318bc8e137650f7f000352620ed672900f8a91d1d5219d3b30bd91eada12c09dadb040c5597ad6c177cf99cfbc5df2b68bc638245fd60f1d6578692ddf8be6813efcceb21d82c7a6be8a5c9e05479b48193503ece5ee8c81dc99c152c8fa267e73f2d445e975274e935374b9f1e226bb61dda1844e2c28a332f49767d110b04f4846efc55c9f5ca957ee094e093e6161802dac8d7b1388d97b382e184ff65aa46b363e3d101a69d4015619c1b68a9e5c68deb9fcf6cdd07a52529089b010a5cfeb3b7e811fac4e60120a3abef560dd14b940dea47a44a8ae2c4258107e8b5e399e2556b52f0ed427a409eab11b9e5bf20bdf948bffc1d76ab701728f75244607d7a9ae1d5ad8fb20ee9447348811b8245a455ef2e14868ce60785e62598ba7515cdeed29a5800aab7ff6883b4565c93b0cc54d883f058c447bafeb9ea76cde302116826157d20211b4938fc650067dbae2dd6c2db59ed17dbfb904b41de639263a86807bdcdb87a3c55d469d433d7678c96ff04572948b2e19825d4bea99f520cd6aca81741f8a5d5ca26765e23e458bb614cdfc4734146ecb371a27ab6cc959160ab7ff134c07742f34e2fcf33b0f3638985f6b262acdd28e102bc2a9d39f0c60e8f805f2c15d9bad4cc4b53a927bbfc1a7d001fdf057271438d08cba6fc8798a01573f28cafa18be5971178399f68c325affedb1436c823fc0d67be5e62a96e969a8a975eeff2f67b32a1c1a77f844256587c24b62bc1ccfcc8116ab7c2bf22e5f9e29dc4672e17d9b9c16f40ec46fb86c2ebe3a613645fbfb0921009e6475e651cb2fbdf144481d32a7675576c5850723bdad760dbcbdfc4d7c1c0f97ed4f2abf365f853e110aea81658ad6df45232be9179a3e9cf849b7dbd979c50180b4f0339b679e102892c1279f066eab12d00303fbb25384b8e492cdc589d04d0a35c5e696adf7dc590d60127c58f5ac35e524aa3d23ec88fe1892afca66667c21efa4e53bcf249bd1d7d6a84115e85e281567ab2800f32897133558be636effc4176898bbd310a6fd1ff5f4d38481e7ecbf983a21b3ffbde2287ec2b0c7114c8ab2d7d50b599f2ef9bdfde31b234da2a8b036a145e01bc03c90ab2749ddc61c6fcb4ef8775cb2cd03b45f30329ba15980d60488a9dd8cd8a93c7f94035ef1a649f1fdf0bae8ba4775b6b717ac8a22d5b7f575b8b72da14ce8e87c61f8ffd453d2616599505f73d54118c25a19cfd68b52f5c94a6527bece9db2e693286368d03fdfab329e5886ae9d319c1855fa09a61058a71ec24e84ce3a80d8caf4b092b847fe529f2b9403a1701ab49bf2cb6eb4134a00447f8d3afd7216e606ba1558583f8534181d22a455f9e57b6dfb1effb0b33a43aee9982ad868a8eefa4ba6e09e645959d86541a2da703040555c1ac10c605804a6dd3f711241ad775f8e0941b73956c90c6540a6588476624973663fcc4c7581f09e5d2f2bf8257bbeb3a0a041d870a393ed503a5a242b42f310c247179635ffa3cb043b8cdeaf83fd655cda530df96d01d7aae2bb142d63308816193adff2ef6f0c83856c35e93bf7ec6fe784943b3c2103df6001ce829bad3780a100981f028f2d6fe49d2bed32d10db873a422ea073cb051d9a985d01322127ff646c4c25598edb420d8bd2a76d12b104d36570909aefa17482a75f7f81fc686eaaf9adf9aa47808605d83c5bb97fa98fe143ba3b504910738229da3b3e7036f35b8e786f7caf5b440f9fecf97f994b3e0893c7e6098ddc9d92d43c3c8eefab139113488896cf5984e4f5a290ffaafde50f57b2ff0802fe44a8cc850d9f38c5c3d41c4c1176ce4d5fc9ac5c5cfd3740e03e7626ef1b44e84971c1b816ff1b206d192405c6dc703fa40ea5f88e6c8bd168cd3c5c3289ced36b2130c7fa32b7585158d59857c07439d16af9b78a18b3de89d99d1a1646340cce88707c77cfb4bd2981709f54c2d26298cb991b2bfdd1f7c17ccaa76ea5d89c6072bbe1498f201d5f6e48aca647907d8df5b748252e1e5620a2babf877de068fc68e647319df6897ee3625d1c891b0f4ba0759927681e14000b4c26163745ee15b85d81857dc452de124da4e7959af1118f774c664815b8dd08f50c231f68cbeaf418ba3f5427034289f407216aa5b106c45afbc16f471ee5a1f5096ff2f030b675d0ad51995732d50513d1bb16e2640714bf9b8d9db22e547c9f86eb32eab5eb2b263e394bebb188baf7cdc7c9814cc6b2b39a8511bb981ad2830d210d20054fcc93cdd0fdad74dd8b1b6408bbf10e972a648ef575eb938fce7051a5eebd2db9e95e22c45732e3bfa8df465416a13328d7c97cc46eb7c48bac229c936ea9b7c0139696fa3229f02ba2fa96836fd410f0f6548c9159662101c2a1e1a3db9143df13ee91b910f038b9bd8657090702baa1afdc1f9d5db2cfb43cc0b8697d62ffd86f6e2fd266e7fbdfb541db456e910b0dae5e7d0179a9a25cd0028c0ecb7b1967e284260b28e15ebedc9ca1c692492529fd6b421688fccd6000b9fd6b296a0eddb2b036f868a3fe91e0017743ac1a2260658f0103f5bb9b85e1725e7a442650570a13d83087cbdb79b11b17437b28ee1f70fa68a5a7c49a77da56b57dd507d66faa0eb870c1c1d2626af51ae71170c4828d561288bb5f273c3ac413e3c1a477b99713a0bd439576bf4055814cbd35eaf2fc54879053011e825e5b8a07605eb3bcebd2ed9e9a0d0cd1baa5017ae849ecfb4e4023dd58530537aca96ee6dce6724b78c826264afbfa6962621ffd929c352b4e41f071614c05d538eab723e51b1e57ec3c8867faaf52c8412f1677711da5ef5316e8a93b3e49ec1d38e458b316ade94e3711bb3552b5f36d9289fb5dd6117b61f03b75820acaebe4f463c37656955836cd016c6c52ef309bf700e0a9b522a041270013fb97b655a16adb1a38b7dc1b722491f0eae99407349f96a0532c76e3baf14967f3fe77e6d05031c7a3461488d761fa138b66c709628f03ddbe6f90b158afa604cd88f03ea81752c41c1ae1804cf05d5396cabae2ab37a2b628c8ad2cad63faf7a70f87a0af2ef1a8b706a16760767aebc514a34674d727a06d991ac84f02a78916f84e5d78fdf250c5ef3273b74948820a8f1cb0f2dc52e461ef28a64d893ff9ed1f3fa5c2bd4fa3f0775bc764abfc3c7502b091130574bda954ee7ee82c9585e8801c7104807c8a82164f9c40090fa398a3624b52ff2340f42114a5b2026105acf52206ad95284dfe5c8c358c8c1848c6706872c694117405c11240c68e8ae77b9aec76d8e0c718bbe8b5ac1487fc8f77bccc66724dd01be8c76ff54e6a8912a758ccc94bd9a1077ba01d66f2a37bb1439cea898ba912ff3c8aaec97c5004b205f1dba1ac010fddae7135df09d5c3143e1bbf8698ac3dacc288685c2cdd63e57772566d59664ddbb65babfbbdb0acded6f28220eafe54cca96b798619031a615bdb96012e9bd4d60b0c6d011d09f7343ec9589d80efbde2c65d39389472bd88de072a6626de9076172f616eac615b0dcfdf6cdf656121d76e092872ef20afbe2bcb90899546a10fb74107d3258498c225a60bbf6fc84404c09ff4942f96c96d4d52577007e7157ded42474c3f60400bd6b8a4ebb76161fdfc856daa47a809a14c326a8a2c54a8a35ff478f8ac7ca9b249f636aaf8303377963480b8d566467bfbe26d5bc1e52ce3561bd3bbbdc7fe2f0d5f9ce02298d8f3dd941c513878dc9780a82672e27ec41edecaa63ba539335794a8a540b759171732d7d673bcda91cd9c36a0f978039f3b1a49bdf9db2229bc3df781f6b8de0c8b907982c2d33aada0b569fff6b3273592b6bf0938dd96f19657e22c3a055ea692e9343a7caf0312e74aca971cbc8daae292da588a08edd3390a621585b931397b94a49260748293e480d9237501ba2949256108f235d79712b76539dc544ff2d6a84718d08b82f3b31c0c6653aac1a7b62aa16d47382899477acdf25bf769b53f9df010781d1de273774ce0535bc853920b796f418d02187f85fb2ea2891b665f51f74850570901bb49938a2e6c699eae55be90d62c4fb60ad3c585973a0b1445ab3f8d5f4efa6ed39f5a6a9e17049fb907f7681209d6e23230dc05fbc41a7770ffd6ca2835aa5daa4f7b3020f7ffd4aa39b7c0518dfc0c7ecd25628e1beb87ab00e0f8b74c1cac6844a637bb0c17dba1ae5c48261e6cd7ef22fe8b3616356e7176f7b2d316a9038467a14d68681287c0177ae145acb2646f421390dea5bd68492f631fbc3e5a385cee33c75f0c69e55ea1a9508f8dddda4e3d85843b1bcb52f58f9ec922cadac6d421d8a25f8833627c4141a64bdb2f0754513db4b998b07e832f326ea3915901da89aef66f24c8c1cac57306cedfcc2a9abdee98e41c52df3928e83722c94bb40373d6f4b6b8713970ac258cd35ee20846a80c70d727ab14bcab912249d733dc0d6087de86bf2e4e6f7e95a4462dd27f9c9b79e95f79ebd7c6d4c80cc79547f2a2c2a1eed460c07a3de8f8ad3af0343d8b4f9df75839a1738d4d3d1571b4e235c5e57ff893d0ddd55a05cc867470f07d041d4e3aea2e4488fae8384b0b0b2acf7374da720bd258bd784d20c76137a9850adff2d5851dab300a35df209bd95dd37e800ef48977a75c377328834ccce40f0f3f1755fcefecfa261598cc814c09758871687ac65c7558cec94d1ab75a5bc4a2bcb1accc5257282bb357b85f8165198fac267d38e8830db98c798d98018b4de632e694528511c76d7d09fc9acf62d9ed470506f5c0d5663cebc6ad21c7580f69dac65f352b502991ff65fc32da7665afc60ad6b42255d96eea87177453e62d7ec7593507ff86f08fb26c6815924eb91bfbca5deb2f90f9fa2775fd3aa014009eca6b43e5d206e27f4b76a22e4095664aad77a07854da2a87b6d7eea08b1732f19d227bf3b06fb8bc622d014ce0d0a618319551750054933dd6e0f53dd2152e55e94d7a56322d60533d3f396799f053a6664335c59f35a657bd602b7ec5b76fb4e198bcc30dfe1e23fec176c57fc51ed9ba1d3d2c5de34f53c38f7f7b956a012f8cb9a5810302fd9b9eb65f3527f1d81df0df0bf0663e342ba39fe78ea7a7215bae9de615b391758de34cd4a98b509c9c177dd74aa05da264c4a57bebadd1507180c06deaeb3998d6dbe3e9c92c76ddccfbfba2e2d5bb24a2feb62394a150eb5e47a1ed170c37251f2fcb4602ae8de37706a38832cd61467f7b84b542961ccbc70c38da35262670b5e861d3ba5da0b5954122a0f4464f3ae6c7efc727c631e99bfe57f4f82b43149b1165151256d5dd6ccc2b191ac5106489b86137e4646593d25894b48d7fe4b9abd579265ab403a213d0c59fb16f3525b5393a33b33eba22ab186e351ccce0719cff8c795ef26da3b438ec309971572d0e6d1ae4a9678ea54933c096e434a0d0c39eb7dba08a36f7f0ee2996e7c9afb0f8f52b8f4d6d816d47d3e6c3e47c2a7249003acd70e98e99188f72b0073f2d6f7ca917cc47a77ed7dcd4c7ac3dee0ca8bbdf718c9864da93c59489f593b357602b76ff59529a920c7e1e6ffc5114d43e54df859d9577d979b383fa512fabd6ac11b210f6b5665c0edc017371966a700b930ef8daa84b7a2ba38b62107cace98854f939254bbcd97c7bf165aee1f3346a4f75fbd861f9537ba48c6ebfa760c4aa72fc03ec5dff53e70f0d8186dec938d00d9eedccac016a0ed9836575fb8671e527acf1d9b8b873959924e0d2e21e6c9a586b89f75fc17ee58854e97615b52105741123c3a21e40ae300d10e1fe7ef5ef9e3239dacb9beafa76d2abe6ac23a42968223b3f377d4384a056f19a5a8e7c891a96554701c6ccb1ea05cf0ce5d3fbbbf2505027e7cb31dea92727af4617832dcb5421bc8ae05d55b7ddcb96736df14cdb6421026bdca66ba4904b3a19aba3d56840a502c147951b3c8e1a6230ccc92f0fbf4de507ecc4e207437aa5f1780954b9cc698ebb29fd84ba3d6126fbf55553c7cd402af10c5bea2ec7c4c521563560dcd295a06a9424012245d19ccb05dde6a52303ce6b1fb6a9943bdcfe3398c529df60c8294d0b1316d1dec09b8ee44d416fedb1eb5ee8a122c485281e9dcac722ccd67340ee8cc5815eab3ec8d66cd8b635d371401862fdf7fef063304b30c04ef1b759acfa5ea42edf06fe8855806c8470f71ec253f308e855667326412d9b4482683f7978314389d9c04209a580ead32b4b71474180bfd3632641d05fa1de978979af4077acad428c257006dea30a1a4d8573d5e606337b6146ca131c8eee422f6d51f6c231e8337a11dd1b528e282642cb6e56d0a57f74d790bbe9bd40b1224c16042071bc48ca698e185e21acc6de431397afddbdfe22c4a064f677aec351e12d316dc95cd31aa64e8d8a1c237f1f4ae0a99d7352d6ff7bb26a41ede0fc7b23a2291a5c513f71368bdb63e7e6aea930215cebb6beada1b6fdc2065fe9aed22e65e67d35a5b8e9da8e29a54b2846f49e7f47fe6d9383242da9465a5d110dcdd7b72200b5ec587a58b9b7da1b7741f8d45c27505be3f5743cc98e66702b4195ef73b35ecbbf2293638d747e68fdeaf165f650e4ae1db55e93b52f841e8763a1b7be1e3517e52ade9d7ace3fe0850ed68c83ff32729006d8f931f8153c24246709b312d49afaa4c790c93cc8f2bf822c26c93dd4fd2acae74247b7936de925e71fd19ad1cb437d9b5792c9d238b74ab14061b09046f9daa3945337808f5390f1a7cf39c126816aad72073367a28f25fa9a1a89575f0d1d85f6535968d47b4ae954d5ff9ed28d0a9981cda87223870c6b6eecf6c2f131619dd341d67668c1319cf9c0a4134622e0bb1f4e930cf93426c4d3e1bae2b3a670ee42172dc756cea903242500a4b63d124967caf2d38d5320d041f7821252c29b584233b6cd68c6b63a6bd66425da40a2832cdd17561621da80961c47c9559daac1add52485b2e8e838125fa5008a8fe7644f20b40e7f37b6c8c56b0c476a10a98cf6959444e33be6c9b84f7e130835c76a020b410cdd4acd1a573f44e8b5e947c69d5e1838aa364cbfa141e6479556fc3a31fa6e0dce6f6f499d1c2a6bf571b4e3750641b4d01dc46ce8b9dea12ab294e41a03f9bc9e7f26f7c4023c0c2ead87e3f806c3da63b8ed5e85e097e59e1dfcbed34158ba01342f51e0522aa5c3e40d1a378471406e0aa4df0dff4db126d7ac3aebc2f72bd936ffe2938996d284714110685a1b1ecf7efaedbf8ef7017666bd96606639f5a13861cad68946e84ad8fd8d30a66129fe49eef82f6facbf83eaaa9045510df9b39e304d0d5588b88f54cc5152accbbe003b2e41ceb9651638cce72cdb0653b8935fa4194f3cb75f9c824d4c4c249b48ea25055d10532499cfca82d84a5b649e34ec4065d74d1b82f7c714cf30401febfbeaf01bbcc10bc64e1645cd49e64a24a74d012a3e2a4d6fbbe82a9c257e2ab4219da87968455cfef9453e9696db42df13a5625ab049b356a531445949ffa91238f0c43fae434d9fdd0d15270df979ac38d595e4c5d1668217ba6f75aa7cd661a436d9da65b503ecffa45adf2da1f7267edc78963abb8c914d58dbeefab59886c3bcd667edf1e5d4128e1e65e8304d058d9db99b30320cc44fe4b680eb6cac0f50e590b4c6ccf3415f416311465a162079767317b4a341bd123d3f8dd3ae2007840c26fad7bb63d85045993e9e1209b4d47d583927d679d969cf78fe54a491c432d4edf1d946b749aa3857398bb792aab6f36eeac3afdda0e14a906655b7cc0bf7c3534ffa97b141dcf1342f325bb84ff0361211d236c52f9173bc8cb4b8f19fdab9b6c41f849ab2af48cae9835a704f2b017d02ef5ced607ff1588aa65f513cc777b7f21eafce7784c086a35c20b09cc89d025606fc347127aed7bef1bb994836e3753914eb5383b5c2f08950230c5721ba9e9a662a4f42ebfe757ba2a983c65073374d541d342447198209ee62e0282d4c6c4911b0d72a9559947ae5b6dcfc6621ff1e69e072ff86971ebf69a4b5b0c41fcc968202d6041ac417e266b405264e64501974590c4ada0d9e23ea36dafdaf89a70bab4c85c57a468cfcde0106a23e007b6b81c52367b0713af57f2bb4a27644f5c820437ef63e06391355e4a38031671920d56c80679d48bb02767dedb572e27545ddeb10d613ac752d41f05fa6dad731f1567b94bfc50e61b57af59ace36facef661adcd9551003201a0848c9898aa3afeddd8e88e7f2ea3f48613261c27b45fb5d9ff36d0d11359b8e8d65f41a015f5b021c58c7b0fd96a5abdbb2f7f9b0fed3dd18a3969bf38cb1a15ba7539321d886a024f872069fb04a98770e4d40b8335d78c71d6355abd5ab7345b525bbdc1c60d9edf3800cc850e4a72bbb92e798882f5a8584a8dda4122657822b824649c2680fc98ebfc8b03abda2b5be304b9c77ae328bb06d12797bd296e46ad6b1b63a800be77c17dac03f62323e27d451d352ec306bbd37d6785be751e2f89e37df7b9b76abe047c13560055d0edb0c4262e91fa93423aca29b1de39bf7a3737bc1bb77ab3b1fce5fb6f949b92478e3163535bfa3f795301721551c6e148b31c42b52b08fb65490bde4341800822e6210371e790c0258da1b7fd6d21beff87ab3c8ca0d71e4449c335348e466afd5c92de3577a9449be3f6189113f025d5b87ecd155fdf0ebb2d1e4c33df776db89d7b2088879004ab27c20e3385f607e761ae830edd4557da6f7d9db4497215ef73ea12bc55c849a46fa8d84add4a5a5afc544c1c083ec3c7b9a08edc0fd2066a62d7766470b6301de3acabc93935d59dba079ae57cf6579296664c0d2f31338697f99372f185f9191974e7c7cda4b4d533e3905617690ec0d17a6051b05682e4f4a178ebaf19fd22b30ba30ef98cbf52b535b3defe1407e8be5eb8623fcffac595669236e80efb812a28d4d92cc36d419f448cf39a104196acc9b37686aa955e3e7b0cfd464f583bf682577eab44d1705fb23bf4f1ece4e32c4c91b0c9986da845d1de1aba2cdceaae75a60735c056c1187f0368e66effa98c5ad7907710f672ec06dc0bf469a533bad9ca76d01e29d17917b8e68eae89d9dc92f09383e43b29fa388aa9e4cd3981092064b8fa0f217062990a5c101d53331733f3bba10a08776a8edf6be134b069c1fb69b5e77a999b55919ed59d579b9165ace3812a6e611dd3738a02aa1e1dcd0a3ee83fbab79f121e1e848dff43bae915c9eb3096cf20048778770e1b4fd9e733b850e94b69ac4590f90b1e69c735cb6cab92cd6f703e9e8ce9828b08d23e236eeb9aa1789245eb879d2fbc76117a0c121a1a5ac0e47f8dfcd66a213da6e2b0a495d74b0c6ed56335324c9bd672bb37d4574f24b2f89c2ad6ad695d6a4f66b681295d81908a56b974735f79a3d904b9410e7c377bbe3440c4ba6669abf2cf6ff5f3510065eae0a77b84fe6ba2a3ce7be091ab8c62e40f3c4136e7865b7a3ca72973fbf555f3ac6379671e6b5bac5ff03c8c98672311174366ae43574f0d05e212422cd9199d689a6268b76b4fd240b562647c3db24a93f0b4a0aabd316c9c33792542afa8520c8bf2dfd9680e2ca96f044d156f2c083fc13fa118ec6c944cd703a65a649f865b858df3699a5c6127ad0d4d352b47b42026039de25b3ec85d66fd1d429175dea54498aedad9dcd46c05d9d7e6aa135b21406b4344b2e57a36151a23addd52e86eda87d9be0f11edbec39aecfb2194d9e6d04d1a78b5f77791b48f1ac138be50ede8f02672396bd35244e205b80677760cd7392d0d40c186047626b315446523f2712b463c8be8135d24c0170783375c4c214f2a47c7ea3dff2e9b54792b42fff1f2281707b391dd9f1d86f55110bb6f011fc9f962f73f1015ecbabfd7ea1e909b740e225130321b242665449a69b16ea2d478a4f54b523ff15433f59805ad23c24738ea964e17d76379c060c9ba493cd6008dce3695bef7e8867cdf5f5c036c3c7885631bead10883f4b8e820e5b9f02999831b530fb94c12f35654b59f62c97aff674587a6bb14ad7c9df05c8baf35cf255d851328a9ba3f9c13bdf91df1338fd42a56ec1165c7c9c8fd063fa3804793476aee178edca22080a4e7955caacc23ba2257e2751f49ebea2f4cb456c30f9c4d6137f086bd9a53bd00ebea5081ef5a7ab3f8ed3047878caa64fea3578ca2283969368f01e7b9f1bb1d7d7e090c313bf731d9b5cb4e7c2f602b9a264adc4cc09bb15db7d0f5da562659bf13783d8ef73031698b405b8baeafb7eb017cccac5fbbee1a9080abc6ea559b8c59f1781d87d8c37eb097943a85fc7681ce07a7a4c8561341d1d533b16a821216d448cce39938572c06d2c8eed78cbf67d338b2cb0c5cd48e917d7306bafce0ed08b257a928c056dc1e31385c46915480a3e0afb3351697d9a5ce37ff059e90cbf75279e3558eada35d6660177efb4276ff2af9ed5e1b1392eb467bbead7c9e1a346870255a843376c59f05038dfc03bbcc6e3cd0fef15ed8f11e3347e3f4ce9603592011a77218e88cb0b78310c17982c172d077830a3679e08c1b9c35eee5fd631f69bd0959cbc795673cf902bf10be0fa1a919e0b02eeb512e834f18ba8cf3617010a5db415ed5335ec6d7e754e9d4340f77caa564adb6be78f0e7d4439f3bd1e04465d6a9284f8ef0444b0863a48020b494b323cc71ee3c5180aa32483ce76e980f96324e420242c0ee5c814a2003a7111fd2d640615d92ed08ec97bce413e4a0840482a815b9835631e0bc212014743663c401c1f9eec3a3dde23d63baef1072fe58f47a65c06b4f6e46e4c3e2ae7dfdf915787934e23d05e509054f98403c9257d0c07c264a1a0adef9409ef0ead6d366e774e584498d95abb76af6574bd520f76da5c742b360fe7bce877030e0e4bd47c5654a451df907c6249bf976ccf5d917c32a9e8509ceb87d4559e67d5ae4a996c1e222b84a7c7286e88be6e216686a40fe5b8cc1ae71f2388fcf1d6770acac005fa9b06f2307207a865357a322a1b3d7c28aeebc4b643e5db1629b1999797bb9eb7a5cf1a9064c8e3f88a4aa555fc4b90aea16371474c3ddefa6a57c43cd78993f8c900a0334735b90a674b61f0fb085b720a3356c6149d196b2a88195e58759f92af69919c26b74324c13d6bece9479d9f23d83ca63811529a2f337d89f7d88fa942f32464f99c1c805778f289bb5ac452f9de3cd471fc090e5c5bca7246a962804334f30e09d26d5ee188f27705a5d02f8d425edc0cd91d64e45822c9bb07572d455f996060ce6849e58a41f6335314c92add1157bfec1f12397ea7f95250500e1647d405723c31240fb088988df23022a70b7d53c6f3b0ddfa936436dcf0f097ee3446c8b97bfd9a476c1b0339a56acc46e150c445ab76c4515791b9d30599f94bd43f2f022efc0bcdc4b9752ca7dd583209ac2f210032a43e1542ea1b48fbda3fce6311ea064c0132aa0bfdf11578eede98080a819433d6e1b74ebe19b60a0c1910f92eacde7507ad7087e2c588acf16ff9a8696ad7879e80f2d967da12b07191d87f51294ce96dfd55febf9cffe2014b6673fe9146b25438afb7715fc53d2f8993b769c35536d557ca9680d8f8d26f5d655c7468a82c9a3d75b6e3d1d6b03818c606e17bd591bdbf8f72bf053b63c478e610d968d51f9af3564c578cd0f6cc39be059326329fa1f582207cf16e520cd1057261af16343449e80d625407ac3615c80194fd70428ab579ee9789cbcd1316d2554b0f1d7f582e70e99dd4b6e3986f8552c6276027969fe2dda397647068132c0bb4bf4f073872c63d787695e286a0a9bfacf83850448a582717e763327a7353bfd311f229e47aa99ebb6b8918c063fa04a9adac073605971b429ed7ba6b1fcba631cc7400718c1097a98ec7dc7c22125c785c9cd12c2feada4dd1e1285b2bdd1d2d1fc9780956b1ee8df21e818175528ed110f70dc68c0f5f2fcaa98a34c7930419516b4cff8914557b4fb5366689a27aff5b6b558a4debfa1148b721da91ceb06825a91de65331e1b2acd6c643b34904690de71f0e6516165be5cda905aee52a7d271ba760e945af20b235e373449eb6a1f7991dd51da47b828235fc0c07fde1ab3e02c063f202e34e245db50c2ff2def61e9af16852fc86a41d7ce23e02fb4a0a02e49a3ddc2899a49b5ba4d035ae05ca0cc8597f1467f2585c76b8eea1e633c23bf9e6b32988b7ba5eb768cd09ced881b6ece58033a7a0bfb4fa3e9331ec1e7121abcc1d1bc2d76dcf9e4ede98a2f475dbed27a6bc08455d067ea861b6f3ddc8b637257efc2e6a06c89f6c685a9be9294e4871914de3795357ac4c706c37a440c6e34bb080b8ea33ade25e477fff4e48a9ba771b93198e1a3981e2c1267713c4b7ad9b38d427b4ececa73ea647753243261d7cd2ef2ae246c8d717c0a559ca12e38be13d1c0264d6111e59ed9868ae784b3c052b28edb49660d34b2a5bb59a61e5851d00135f2a2a3365731b7f7e1f84518c7ec17abe536bd2a3ff4cb96c98a2f9c9f2678e28d5bd959f091d095bcd86d75eb2c87f784908cc59ca8f1b00463487c987f724d87ff123b67350e7cb21426b479955c8de397fda106ea52067c88f09d3f533ef17422193703dd41d9c88a0adb05472fdcc055975a47cfd064706405a1f21a79498a85b750ca94885fb9ec0f9b37b5e5ec8e2c04051fb806b22b3a7fe8e97883b659888cc660087344c5f570c920c8390710b27b0789750b751c32abe85fde4326fa7ebe546cac6744646345a48a2d871f7281ae435c29f88d6bea61aa1827bad667b2f867541a1282facfa406a6845de9a57fd6b4b20a2a82d1e4a9b1b80e3c89d17ff107bfd01fbc1bfbc8fa539a34ceeb77984bd9a271ca086fe322ff57bc07a21bbf717aa084de2c8b2c8d3c6478a1f5d6159b42675da0a32bfb598ccfa30a60efef90940658e926a94f1bdc28a77e90667030636a89b19476ad9df3528ca9759fa5513f8940f4d004c2875736f363f00c739a4397401beb30af7568fa246d10a279ae5ed509b84604b4bff47ec627f190f6f0193db7bee97da0430f1c18a075d96a27d63f498c4b8b620409072dba6afce8a9cde80297aa28fd6cc74ebe218f1c00ff8cd69b141b6b8a7803a6b8825d1024fd2a313518f412f9ccfea1c9bd7c98ef4e1c6740ed3ad4a4f7e527a1f8edb3d5c469ca7576b0e62344f9dfad88bfdd8842368e0ebd9ed53e1d099bbe623c8ec240c1f8dd4bbde46a4ca34d756a5f0eb9dbfac455b163ad9fb831ae656df41fece6c688dbdf7bff0bb01f537468cc77410b80fc9659043fdb798f690ba61fbfb1dd515cea48ce10d2881c4c67fd02c03c3b47032857f8cf727a5a5826baf9dd83a8aa249d6eec6043bc9e8db3c0e0e44b1f8289ac292ace9ff8db86af885ea96ca07c22c1ac9c0cf916b3c1ac5ab032791f089b1fa2b15088a36107a3fd2e50e73c68f4b498372f7eb7e17ca4211e19a5d92d27afdeb1eb0360ec8bc2beca67f3fb2da6395f4850e1d53574954d1b30792c8174f71bab273e47d9ff57572f3e53105ecf64c8ecf60ceab043f0f34752d6b54dee19532193b8f75e7d424d4c0312d98be2f9a51a04268b9521297131f7d49e0edf3bea6e80f9d27b5fd37ce3462dc4915a85305fdc45eb5ffb23a10f316d04894f445789e78a9865b90a54b886e3dc086af6fa5312767875083e06c821555b627f7f5b49127490e72726daab5f8caa4033a610e96b9460355bdb5900b5917076f0c6cf2a286f3bd6327322a674e42f8dbc4b3e826fd803a413d7040a264596fe3d09d64bd0e98151d41b6a693dedcba062d1a365fd6034783fd54a30898f52292c533f8c676a631bdd84ffb895d1addacb86f9ca0b1e1d30f4ac6ab476c0017c5e4239f4765d17cee030a01209796faff79719d387b15f5e59f663b778fabfdf132658431ebd9108441bd583b758381b60ba25d1c3565fb9d078bb8b0cc33ba0cf5fddc3a36db3b5e7cc75567385f8d4b20f8082195cdf34e018a54b30b5347a60a4db1cddd241144d2dd6889f77aaf35e092ec839b6f3b19899ab5c47921b0b807658007663dbf874a4ed6ed701e5672243f48bff5f9d18774cc020253403ca9b39d42d4d71fb4e5e49be3701f3976d08a0e6ccd18ffc1ba181c6f2212bba87fedf9df8db7aa348e663fa9ede9be71628e7790d80243be5f41f77758719462716ecfb265729783ab15cf6e83fb0b2e8815f76f1261e5d4898315fd7d34242677501d4bbd1fc01492b3ce706f2ceb13a44863561d309936901f1fcef2eba7e09329aaeca6d8d05a3ac0afdcf46707cad5331eb40d3e9c6c761ecfe18fcbb1dd5eff3861c86cea9d623b066766e0f6293daa38df3214f0f3a5eb04e40fceebe91127482ccc5f089922bbe8aeb82cdd4dd3c3c0a0a87eece4a86ffd19750e2c1c2d4a95ad694186bff43059a5201d33e06562685f2c62112e25ecf067f645f4845716cac0fe09c00ed471b012b2d00dd4c21af855bc257c3d2f9a97ebb5c418e044b7242791e74d5dadf9dda7177f165d1dcb7c4e32c2a1eccd4d8623a025d22a76ea03c70e35fe1389cc9c8ad8319bcf6f9ff0b1d7b1bea2f3a6bf023ad65e44422a7b3b78d98bd832d4305ec543d275e007f0cad0d8607e2a4134e19deea3d7756b27328a799ce3c9ae8d9bde66833253bdf87882073e46a713a0009e4c068999b6fb8d6718d08b5c591784a00be3d21171e19bdd2683e58af306ac36f96fd578a091253ca433870aec21670d3027670d38a5e9e7a524f350ed3d776457d150d517e8e777b6368b32a51071a47ea5e73f0900c0fdb3a5ea95a90c99ae91e176cc8295cdf913525dd7ea08d663dcfa7ba41215eefc99dc029e1c7786b4c667cf1a87dcda434ebdf11dac786542d01852d1ce4bf6b91bc779fbe92e506ba370e9a27711e8c52c7fa25dd8750ee850f1ca158a1555517b809c36e1a94f5208dcda07626a255f58cf0067450f4bd1e4a7da4427558a5b1d45a69f74018814ca499100084014ee5e51e608133ea1c03871be0c50b658005bc63651f68f4be3091925cce07ab3515329de89bd62b5970b206a02621a50f53c0f2a4f24056305d5cddcc31014c6fda3493bf06c7c50c997bbd905de81f4cd851070c87f37c15bae0b67740a4ce32729b4d02c755dcbf0f263c3402c057c69be04136b833255b54dbc4f886f45928ab4fe6f3afadc95948305096915f89048dc3ea1568b1303319c8e5db66c892831b1eb2d809ffb8d05f9b9f24c948dadb52c02de0cec1451d9fbbb65ef1eb68e4160b06a8a3575536518323e6fb37027fab8f4176f48c95c8bdc2cb748cf04f5885c8e8e6bc8f8c56ca54a46b4afe831520f8d4abad59fe0c9888cb3eb2000eb7d12ddc2b601b88ae0d626bd0af6fe22dbb3bf976c202638bd5456f0dbf71c4637d46e27e91e61ae6e0863727c655a768943473212686495ec3ed09e5414c724a48af48cd100f1459d2a3bd4b675753971331f74eb189b8d37f30f4983f3087413b13cd3f8a49a72d5fa128402218d017f45a4b2edda6b40bfb7aca8b848a6b4b00b3f67d9250f7643a32be4fa7bc007493e0a4f791acfc4ba319acd4db4f57de3cf74cfc44c05c1db82c6143b4d098de33a876c0b42ceeea66b5cdaac2bb6ae1533bb242a65a7d7f70e984732f693a40f94b9abaef158bfdc4023b9a95f35c63de033309db5adec6b60c1a337b4323ce0a9b9938e9dae42624554b0a46ea9396eba2c1f263141513280094021d558066d3b266d172e84d0b57aafc6044cc957fc04cf78f9f48550df1b99854166b0fafbfa96e1122a8fecc4ab2c2d394d0fafbce57e4146b87b774983d3d4a1046494728283929ac0559e92f3e73736387aeef0c9cea0e49eb325e46e111d1d2450d02b8975d81ea4f54c3af6a7350be5a78ad0e9c0986d1bdf3b627d4904420018a9ad68c56a39c5326c36e335595243b7c0d1ba6025fd0faaf43da6215a583c47e0d0876d1e34caf13c1cccbd108d3730b6c70fe1cf53f3856ffab2916261a8970560e842c31137ff5297d5e5eeed20bc9ecf135fba7bb5d0e785362c3c5ba81210951dbdb15f2a709a4e21e36f7560641a9283449185a1f4ffdbb02ecd3d9a5220b66216760ed4d64c84222583922eb022c5e1fb6b838774c6524a211355a1f602b071d15f8f8c3dfe867b4c80292206da17e6846b5ed7f4d10337b2ee3e08ee98ae40af201df66b3abceb391f9b244af4615447393cda20618a2bab70c74822347f139ba3b0d1c197257945f31b629cb7d67e38655c6474c6e32d5f4a664d0c8d434cbdc2c0ecd9dc478dfe612d7bde524930396427d4eaee88ffff71d2d49ecf58f4b1a89d2875e0f831b1d1405176ebf41d12a975243d63c1109442a4f85e3cf393c618133302812607e274fb8016b12ae287eaf188abaee2f58371227d210a72b58d0bcd172f2d8d8b8051b4aad385d26cccfccc26a43dceed761d925bf296fad43ea992162810eb3e689583a137d2ce305d38c34949c284b3778e02a10566f5bf915bf80fff1dfaa13c100f56facaa0c3601d2c6522887d3942b1c149eb3aec8fee4ecdd8c6080951d31f55902c8b8dbd34d95d2c3d3e975929dbc8f2cf351ccb15647f4660834e6383f384a400aef8d6921e07c629ea04e8bb87ed98612edd4119cd1dbd1b1ea173137d602e96d189172c21fdb5000a1db0b7d0bf43861f69f7d0b997c85857a7aecff071c154cd18278687770bce753438714b4c77d96be8b42ce538fe9c7caf8deaf7aea942fa2a6e963814facc765b7095e9f906d3d8f1ec50390c529ea5b6e5009e7001cce5be902a1fad6cf354565ca03a45ae9eebdb4cb2104195311559b73d2d8f391cb8fd88e9dc3de82a1cbd9929f0ddb72182f6d92367fb675084370a92aaaa5ac60571587e841b593680d06e9942e9a3bb44436c65f7d685bb24f00192f4d6482b2fab64f8074694988c7b66ae847870a6a72be00f9010017c2f6f8f967487d5766f089ccbf88c81e78e92f8366de74536de4f9fee17ab1d90de533b1ac2cd20b4fe5e7b9fd79694350374725342c049189ecc03829b987fd48a343776d3337f2eff01b04e9c456107c5de525bf507759b9605b5ac4379bf98de758fdb2aae1714c9824fac051d9a5260a4477063fd190768d8f300faa79d6d83dcb08af2155c129115f477f2b7a69389550732dfebc070cf2c268edac10352eec7f4bb72ee94bf7c3ecdab3eac5479d89c910c1b49479ec60d33fa3bd710aa152b1c5f4cf351f9787db42468ec2b475f4dd2d28a5e3ee6e5e55edc27c1c8cd277e5f95e12c474f91d93a1a2b0eddc022f86c78df","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
