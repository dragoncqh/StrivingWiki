<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3afe761893c6e7f0a48ecd2433f4341f21c5a0cb8a1b85f9cb0ae7fc929906f8b7ca4528d12d6d7bad266ad8d863d1a2151f4e3f520e2249b4d4a4e5546f34c257909d5b76cf215339c08037295c7862671c425f61bfe66884c12803b97e7e95f3bb75101e26e02396a6e6390470c026a97813f8f094213f470af60852ec5e206c4131e323bf357ec758461fa86b6d28807820aa77af81ee1791072c25656d1a79cb5cce7e5db2ad3e834c32767398eaac5e46742a5346906388cc682421ea796b7172519d200a7d7348897207e0ec27bf462e7e40940f7d8bfe64b0c9c13e39c5e307d5a3da0a967a330c3ea3313eadb31c969d511017b6a336f2af37ae7cc1738d71aa6d3a03678b286223c5f312181e8d0222f1fdc5084254e2f28b6cdca9ce25fa242830bc34d48bdee92815ac57823dd93e793a383516f2dbad347c067d243a0d38ba2c36a4aab53568710d984b109a81ec10cb0b64ce5be39561b34af243ff744a101ba62580fc9f0d91b58e6f26124e034f7046a4ef09b9f6632b1a2e945eda8c627d099d654cd401cc991cda553749d6fc5d950dfb958ac6af23f0582d582bac9b1ea8e3377944dcdc5a8e27f63b6bf3daf01837a82a377c7e28c9fe88df209c3ee34751029df038917263dab8495e977bbb7eea0b9b0f4bd25bece5e0ef87896c851f238ffee782ab505b010f623b7fa21a0d6f804ee5f226d70bdcc7a470b9a0ebd36bbd4ea887bb094b20c76cb0f7ab1c0ed574cd24fbd3c584f80f8d07bf87842faef0ad6c607595f27b2a94a0edef8b0c7792a299323400d4ca3a9c66bf05e5d7731314d524d368e9def4a46a2eb6d3ce0830af5d804e479c1dadd374d830f82ef47817ae45ab6db0f12cc0e880d0b3ee4d91c01e643736cd1ccac5671973240bd111c57f7f3d0beb5e2074cfbbda5da566fd7fefac817a07c7dd7aba6aa3af9f811553d7ac9da2d7e17b48fffef30372a6fb761c3206cd343e14b3a021141c269af40423cd0a742a3c0fe63a54aec91016509df9369ebc689220ce62721e64fde147135e4c8c1bbdcd2133f2b6e21bee34571642c1da6a3aad81711bebdc7e36426f76e0f090a6c8c80633d21ce77e664839dafb7b235a48a45d5e3cd41a7690e111aeb758bd13cac0b8cc1fe8c5234c0f8e9991ddaeb3d0cbcf0d4b29b40f5bc48e0b55deaf5cc04e4a64238a6400e45537d91de62774aa683a020ace6715d91e1aa4a6ae3a121906f90b2846dee98f949b3375654f6d4683ac7947041236508683a21aaa38148a15761103fdbf5dca5d0d4fd2d94f18a578e1ed4feb7ccce1175703bff105e1a4b9a38f1ba6de7f891b26cea9481c4691cffd9d78b185baf6625f0caa50cd720017fd2546cb8a65a00c30b1cd970c2f76cc596b7281d61f091383057f77d58e2cf5b07ca651dc9bbd50c756f2518c9b00d755b3e61b9e71e8e192e392ca84b7d0450afd81d03c167f68c63f203dcbf43cab25ed69e0fe85e6460b58c26e8b0dddc3900a295dfcd0480879fc561d3ce0ccafb8a56b54622e901219901ac1f04ed3cb2224f8ef0cf82ae361672f677bfd2f3854be2c565c5d70e0ee69db7dd621fd253505d01ff6965d54e2652ecaf18387b5a26b1de100af8623dbe5cd55d4680ed9a06e4d16b8d6ec33c866a747f047a5b457cbffadf8cbd1dc6747e688350354c024d13970e8d1f6ab359c0dd917c9abf38afc0f21e3c4c1b57af79bab35dcd603a33674e72f61ce5747ed3c2674203aa6e192a8fd9613b68255f9616e349a3f0d4eccfd191f3883b138501770f72e636fda73469fb57c53fed6f0ffff73b6a3de6736e88d3db5330c29c5b6e869a4fdb518fddbbf47260b40e72eeffe103e1b6d2f71032cb76a5c0071a003258f66f61f4472ea9b42761255648e15dcc40334dc984e32c5524a25bb6696931b3677f808b3b0488fe6981588291bce90cd7601b3be61dafe56f6a5b6f987c7a707855a75f5764826f3b6408ca2479c894d5348b2681554a1fef0c04537bc5bc82dfebfa36d7c9a095161956f83eba191a57a27519e85ffbb1a1aa09594e9d618e6ad7f19b021ecdb97e56cea889955bd47b621510f8f7b75b6535852084c8449fc86bab289b1931d27a383d62a1fde43fed5272c89852f908cf8e591ea1a79c979ed444f4e705b516a8a43524951bdb9e3e9d4e323bb950707a8646d15d068bb8f25d9ecda2185670f4711b7e8b28be6a68306521e7f387355216b68fd4a333af08d80796ba4138612512b15c43c3d67b27c91af056309daf9e3ee5a9a20bc5578c9ab1209fb90c12e3c60f29ed0f20d79c425e191b2bf80b9423db01538e362384c6fc5ff1e84ca19a81a9a7214afbe526f415dd1842ef868cba83d81c28eedf91b0914093930355ce69bbac0f33f6905a73c6ef2765dea09225d6f11900651cb89ad1560ebfe2fa23756d2880ee7bdaeb78883bdda83651961368336498befbaebaf826080df7f471a6114be226d51ceda36d683f3005e597de6bd5b8be05cf8dbe2d2e29f4999728479a8a0ff565d76da518539e08c0f143d86713f1e4bffd4083e01599766ded721813b229bc172c630fb811b24599eb882da2f2c981334be1f70d5bb2056c2b1d5467b8ca9a93ef56d6fa86ab532e13d39398b963ac902c7414950f80d3d651598286fb1e97b64a84d2894a3b289cee33cfe5d58a93261d2869f7dec327cce7e36329b3b27da5aebb8f81851b9adc9f3609e8cbbc52739c4b0c6cf348d3c202674790c2c387b8b43b48772bfdb76d982a921cfa1f9d0fc7597b21c2ef905a8207a98b70ebcb22af8318dd624013937126d1ecf153cd04985f4d6d10d1f7ef44fef717807c7983ef5c3e9d717773c302f81eebd8c71bdc1cd1fb0a558a98698e2053fd9b7664a0cb6b2adb9744176633c0dcece0e11f9d747bfb7180d92b1fcc2c274b0b390641d0a837e5db2136282031cac108369684a1ba25490289af8e51ce9a13613bf998876c78392ed3defec454d5b20a92a5d0c8020801e70073dd3b46291d5d2150a6114486050dacd51f7900e5c25a51a03a04c8fde288f4ee73524fb7ffb7994e10725da1df1f26490c51bee08202c8d170933f406e4a71421ceffe16f34513be85f8f437f71555f9894929d5732f78d52c9ea9d189e54081c8450d9f134ac7510c5722a3d85de21a4d2da108f88f09ac74a2f51c8b2688440e246931d67ece49b0faa5504082746055278781ef4f6a68ef0da03ab92c1a6ad87fb3e945092d7e001079f9f420ef0b006838702588bcfb0a41d3cce62d0d7e5edf67dfac8e305cfa2290ffdaeb7fd947ddd381375428399ef955bb946ee26151a4328b35a8a464a2da2becda45bdf780982c1e565123f177fc785758b91bb767593e60fcd19d3f79645eb8e99a58a5cf4d8a2153f58a8ba3a04766c18a2e34ea03b8fbfa32a5aaa9d9fc05d0e304f8f237e4c97cee19e95d6dd1f8a7ebded764da4f92443000e31f3bcd8b6a47f8d25dafff82ec8a806ce6be2697bee5cdf98cfe9a40fb03619a4a1c1f8246d0858ffffe1871edb8a350e2aa28e8e08733b7aa3a4e2c189fcef7774053ffcc766f1a42363b3edfd4aa9f4e09c140d601e0e20915e70aace7e7ea31e9017d8653247970488deac63f1c7982c7fd8aac5662dcc3ae3c6f55fd64c3c33a784941e1c36a8de9bf62f82aae7b6664ba1211083978c9d097ed09dd19a13eb0281c2024188cb016435627176c6b825f9d07bb8d7b4f58a9bf226d2f19debb77c496aeec259dc2ae0456e48121c81a33c5e5ae4b282cd6e4de80c4aa86ce4850dffa9c3877816ba154059fa9f4d3c2952ceed1b7057e155009dce532e0c65fb2ec390217297c43288fa5fa85dfb770d716352d1a8c2b06240ed00a5226677639b36a95e6ac0cb7bdec9a8c2e3f34057012838e8fd54fbca5db6568d746630bbdce0027cfe8ad12a45733fa9ff9253a6520cf456a77cbcc8dbe4ee35bc4717e6fad1d89031c865f45b85b944a9256c1a80261aafd0378257bb3b8cb823ee04c7f95981032716938cb41f1884b873dfa7af1b5e559569121b6450fca86f407fd8e279b59d0038e7ee805dba4ed3faa025d37648d33d40be18b78781242d69e6af5557ce4621e8d11e112272a2f5a2db6735447cef3332985b441929d884554efeb3d82ae8751a3f777ee41d36d79cd5a3827154d294d67dbfc337d6ee26e7bb924c0a62d4e72ae93b2f6500d93a5b05bc9eaeb3dd24960165ce04cdb086e2a670f8d0c4c27e4be8d8b7a29f14908b76b6811b130fa1d29560bc4f15e4903d172b51b2f4d6b794119c4936c646eebf44e2c8723502f3b5e78eabd5d273524bec98cfedcf11c452bd65f333c2d057b9863c1163e87a62513e618d292700fd4bf3f53e3b75630bc77ea55e79702d9258f2f6075aaa6cafc23abaee52d502a28a748200df0220e0e076e120ccd7f6d3cb9752539250b68ba4f1da8b254828966b10080bd1abc5e52647939e86353106c0ed14e16ddee0f555c6825f562350327caba91d966c6f52ae17a686d736d6bde69f8938b635d4ac91215658d5346886b998f51d5ec04d3e466905da8713957c30975ee8af26b4a950b28789454ef4539a6abe8e20d17ea143c6aa7f8c3b99a4a6195c971ac6104208ffc56ff61f4816d21b03454062772de73253be54926d99a9a6bcd41ba1393b31fb4651e09966b62bc314e5e7abedb918588dfc2ddd947994d991ab24dd9a5ea755da57cd0d783bdab52100741a8d707b53156b6123a163e34aefa1fdaa1d880cbadf17ce586de8336a819d33fb81e0c3a6f84831d98d1fd9984bc7d77d2bff6083926f34ce76e77fa9cd80a1a6f6bafad66eaf71cb3df9ae7317c2d0a4bb2703cb2de19ec466bba487db0dc07e8a957a359a009ddc669f97d054694441fad1a56f15b35ecbb57d90c6b91f41a2cfe5eeb88c7dab644331338fb3718ab608cf4e6f56160326d039aec455191e8583db70fb0ac03b9862e04114a2b54bffea3525f0c8adac310ca31a0aa8ed1db20f69aaa15806507aa72deff10e9caf81539ecf5524ad5986bf509f7df064514f89271e962f297f3e4ead7503ffc98f75c3da055acc12c7b0ebb52edb3fcaf8dd483176334b0e2f7973879be3f7858d0f8ff138ee4ec3dc68c889db365805d4fabb0f16ac9254a158f41bb9aa525f9e571f443de3baed7808bf7799a59b725cbe4a2f7ec41cf618a0782d6c334480de3592d3867a85378c8880be64b17cb9383f5c9677e14aee726195ff23c31d27331ddd33701337efe3931c3c64d2c620e5bbdb3ab7699af17843d2363d5300bdf3f6cb05cb4a870ee6202b2bfc63c10ccfd6e8682df8a14ca87c69fcb87abcf030f61a6a5b57d72e5aca7001a7a85c43b160ca1846d9294d4d0e73e1a2a6366613b5e4be32ec76f6b3569b37e55419277ca68f14f7d10964581b48cb1fe5bedf8580d56e1178337da9b65eccd24ee73fdff82f4b0ecac8dda8a89998173402aa0d971721dc472f4cbf6d8ad5a02a342adc9062b6d6dc8d1e1f6afd697c477e5eb46090da2d8738944b9830c76d900542203a67216784639420cddb5892d79f032847dee3b9382fd045a5e2a96f8e4d59bc7d8c73c21715bc19c845efc0092861bcda16d8de16ffa8b9dd49d9a2bfa85dada0d54311cca9c4b6fd0537308ccf8b0a3a6ed7affb2a49d66bf71d783dff0e4e0533a9f651819de9b266189a9236e44b2b5326ded8520bc5d52fc84faf34131f2cdd3e8e592c16b3c5cca9c497c607bc7989e7fd09ee8d9d5d47e39bc68cb8e092997ad17a36bd75b301537e7f5cad37eb7d8f1abb9ea6220a1d0d48a7d07ad7622c2d75ea7e630c0a54a91925315a25a0af4986480d5f9dda02503d38c22780b7b848a44450cdcc289c923221512a731521d5b3cd9319fea249419cb043feea284fd7f24b4bcc41e074f8cdc35461e3e432f5779a92ea6e3855ecfc341468067a3be60afe31aa8c9b78057301fb770e59c04b7f2de691d5d5813a09d8ad9739fd9dd4f19e3dda86fd639e185c7c484b1d75032cd4c89b9e9e5c0b453e966ea67fdba167fb64406e2943dcb29fc5226a71aec998f54cbd9ebfa79fae5f049dcca91363e201dfc5359e2b3502988efc31fe0e1439e5796bd32eb9ea7eee04184a9896314ab9ce55fd68a73117f1687af9a2ed3d464e184d1ede64bc2e97fc06c64b81c0db21bafc95d57b8f9e18051786560bd0ccbd1e4b0cd283db1338f767d8d848f4162adc01327acffdd36a5857642f9cb5aca5772bada00330b76a06e38d8489162e9f09530c7a8a7af2e8d21d77ab69e094f79105fb42350dc33657bba2d40ff29d65d081f5e64d73454e5578d64984cf37b0bb5a118d945567f00b3439a9dd7a2843d9c90dfb9febe2fe8e2c7484a5863d20365bc9f84f6d5c7ee68056c0fff131da402752fa15b82ee389657f56505e594e2d488a7aa0fa3cd6e3f27b4c7553c624f5f25a2d1efe46f485673e1519804386516a8b44f06dfb67e681471e4b3e29216214d1cf7c98a76adc6916c99f298d6c17bbfd8f180eb42640fbe04898ce2e58f0390cba5a2442ee0a30668c334fe7bb04d8a2410031c3bd0ce5eff6380852fcc5573ec89539919c644c761ee83d53f1866c21f900b6f0797ad5bebaac63ee4b215eccd43b5fd32eb15f7bcc935075a031bf951a19001c4ef23d720bf5a8c595e097f214fb004b7d015cd75f44e87ada01d848084cc14cf44ef133ae443165078f8b5a5699c9b50929c9c08a14fb1e1542042ea08255e6c58bbd6ceb471355e92c33d9c5fa1e15506d4b7274e6b83b4c4f4080cfa6dc7fdd184fbcdbed1b03e40ffe35044b5f2afbaa6cd86e404f2f50d9c3d5f70bcc767b149fb8b2366fcebf74d48149b656737d22c964e02bb18c741049326356daf4acfeb982c99a8b3e1c8c9cd3d7f0bb8ee8d1bae5bf78ffba2c88a6a61a5e2ac8b8d4885df6fd7c182df41414ebe71df0edccb085d35831ed76d8e153662f9125da94c83c69aa85d218cf5854fa5f9a957f85cca5d91d822b398d70af3243ddeae6f7f71243fe965fe522fb6102618a9ded836ff50d1f3929ed4d46a8d36ade93336c454c384a2902a75a33463c83475caf332bc9dc7d664c87a8e365e8076e46b58788f5709defd6444dd8ed6483be8f7e512f8a112864aa061acc9096ed1467c9a4ed28593ed1baee1d711990b0a82aa1d8c0db59b9db15f55bb25806031ea8b3c9ae3198e5959d1d0056948e5e8a9b86015d3605b3af8bffce747b504a9eb7487bb7e6f6aba8215d7276faabcbd89482343428564c03d611af6e4582a2d7ea8d9afa47e6742c78b0ff80e514e70a8d1e2a76d5c7fafa1e904491380f028fe22977d30f46ab3804001dadd4bdbc7f23b7fb2a7542004a7bc4f0bf914645e06e3b4f94fd9fa4a188e0f6c831acb8708d17397a98acd8723f392db6e91eb5e7bdda27e7e40efa63cfe65c8143d2e3aaf2f52bbcade41f1b12de5d78ab3fb97362592b392d250773b765f2d0069e28fca24d8a9b77a8b7cc70d98c9c4039bdb3487304ca88ea7ee36225d1e7226510b00ec33dbffd00705d4fb624b5381264e0994d9e573dc2e82f70327518b8940fdde5b3120d911223014dabbb7975609f5bee1797c0356dc9dc90a3c81552a8406b4d9f1711a9ef07acb35f541922299751b4140e148fced0df73c72326d12bf4e80bcb85ee20df60e551f697226d3171b329e6bfca4416e7fe532387440d81da891d11d3e64e5b9b144fc8568e3b70fcb6f7193f53515144f9087a6a7d52e2c739c6185c1b9331b57b7fa377ed02b1b72104f87c5168ece26868805c71a942ffb9922e7400b0227d5fe78090c57bb75ee2178d5abe8704d4a4a68536cc80edd520366214f6f9d38b6b7fc8e066968db5e2746c526f5f4db3de88a2b6a94da711bcfb13ebd7c09e45e588833c483135a9451fd80fce568ccf6e32ef26e4021baac19e4bb25859be1c113eaf6ede5ba3e8fb4634a939c87c2d547c5eb58d6bf37d33231ebf90426720b435fdaccdbe77f91ee40eb6dbbbe74789ab5b9ce9915d08d48562c20e50bac955109c55836bcd02678b73422b5db06d1971214552b0d86cb97b3e2cc3e088911b34af221dbf4a58361953aeace3bde3c39d787a83b8a3cd614017d6c36e7997a0f3be20a9785264e58373f748221f3de8ba084b4ff619140d5c6d792fc9a88674ec94d3f8f6f32d053be68811415e468589e8efef0ab3e6d48695fc9fae8e35a4feb50d685c0ea77666869cf08238c89573de656b7d55f3f670658fbe250739d8b19b7014e3cd623c7d7ff22c42eeb6038e4187ce5256e0a96571dcf3c4997339203912569a775a6efe72ab34d868fe14b195d7a6d72c965e4f4a152185669ce6cf86608698f46dab6ab2b71e25b5fee3481118888342a07a4d8030c26472976e4c879efb1673fc60814f90d34f4389760cc40a66b1da4f81ffe2d5c593b349083cfc7d3b096b49a98847cb3a0f12a276b8dc087e307df626b46ecbe379475f7c90cd881302f810e51061e5c9f7171470717420113a960038220dd711c72ba55924760f7102903214d87b8ce45e012800f7bc6a34453a80f743ace9cab2025e23a7ebbb853dd6e43011381fb4371987396d0ee3fcef3f96e2f87dd97b2e8cdbad1915f683e49dbad4f096d03219be024b7f3c3ee2a1823949a328674fecae75e6cf1c687acabd81d7ff6eb987b7f768445ba24d229412c05ed3ed0228bb9da7dfeff7dd3477c1e22deec1a8a80e20971da904fbf9f1546b9c91b0d59e3abcce803532d3ed0fb3f3f5b2828db452758da4ed56119062036556cdd33091a7817cba8c3e76b4737a29b91f4a6faf4d0f81ccaeffe3e3834a352154e99269548d346c04bdee7b1c7b85103f86193a84d7638de22ca2e02d4859a7967811546225349380adaa0dc3abee4883569edf44a6a357aa98fd8d98d20ef867aecd153a8a8dfdb7916f4250427928bb47107a4d8c81dafb10569ac9aeb567aa6a4c9fcb0f68f6730929809a7a1af8e66d9313362591d1dee750ddb392c369dbdfd8dbd6e0059fd95039d5925906d8ec3cfea5a2f61900eb5969334b8e1f08ffaed05dfd2d02c3212aa5dccb13327a7ef74adbace5f19ff217a4b3073258dcabb5d508ae81be714637559fea2a6494dcd9999ee8b24489836a6d26af48f7783e2b98616b628d76424c0105c6ea6eeb33a26e269972716d86ff7001520a29c938fcb78d2e5b8db7c7992b683c3abe4f196fd49e6b4f9296ecf722ec25304a8925675dba290ddf8c0d67624485006e77dea3a8434f2bc6a4ff63a1ac1fd5c329d78643db739d517ce89c80a7bb293ac684b156e45e944926584c95bfa8d1d42dbb66b4a7266ea3a72c62d3444a78e75441b3d0a6c6b9320bc43d8b1837e581a04ede6dc6e18110d97800c231b9b82baffee4e20186645d6990f9c646e1557a918894a732fb9568dd53e06126ff6c19cefff221dcaa127e8c027c8b876535a7d5ee04fc6bdb0e707cf1f6a9743e39474169ec82bc198bd35ad5c72a986e8011db3ef943b06ed3b13dd7255404856884a61ec4bcfc4e712818632d353e41638188a52b88d3c515a674c55edfb60f6d2528800d87db21cb925e2602b408419a6918d8fcc98f40cdd6b738b365bf24ebecc9e698178a1ff6a0353124bce976d208f67ae77c01bb022b82736734033fc3b7a4325a979985ee13386acd2e71476fb4a8da409ccb8c96ed987599d80cefd4df903abcd70ea77b45e7949fe457679bfea4100eef6f6284d254de9e8969ae9889713e5092754e30c433fb75929833545638df0bc7c10b6b452b9dc753bc9b77985b6fb3f2bfc9fb802fdc1fb88012ea7b5a2be7dc6431d6c98a35d676cae466a8aa14c1d602aa25bf1cfbe6addd855da20ecc996564e8075a981567946c732ae85bf771ab1c0680c68a788b0b9a5cb1475eb7ff9382b4e2b2450111b186c8870ecf7e41000ddc27368a3e4c97f86f1120a4aa0a958278fb5d79ca63ab706f8bedd98cc3fa4fca475fce17ff2cfb31fcae546828b37df463ef039ef8657d21980150a9e97ce773ee009d393a7146f0facaa3f582b74d729fdc8ed49736281efcace758499b18e418f793fd64053a387435ded88dcf725dacff5c9036b875a59a086394325aa4b27983847d2fdabc87af9b98d73effd322714c5eb376ae10b2078cbde26f5e762aa33d5d38cae85657d5dc4e2c77532c10b200d9201deced7aa430211ad1406846a6254022e46ee78ce84a3f72120cf667c885502b651d86a733a9f820221076bc83c7b9e29634a7e886c2cebd4d8b648dd4fc3da3b9696c5f65c53fef8a289bbcd5681dae099424037304c8940c28c8d42c403497d7e76742e55b29aa84cf6a3d85747bb34ce0ef2ccc0f4faa280cfb55cb234ec565dcdca992aac605fda1cdc85457ab418b8d80ac0f5177883489d482d661ec6187645f0daf21b8a8075ca67b9843a47f13a18f33af7c7e3f95389f029afc420f17839d03dddbd2ebc950780001b11e82bdaf55cd8fbce4a7b2a7f8b9e35add9773187b56a736b605bc0733707d99ba0ef4a5cce92189f5273b95af415c72ce7eca6df1d6edd2434647d61c44d3bea40022bdff9acf5590d0e69d67e617f307a2771ae6481f07ee80623a41b2851b2f36973f1571b271a4384763bcd3d2d1e6a58f31199f8afa6a634b3ac9f91f2b44efd4f7bee0f51a59563ed6fa4e3a39bf7f7e5ab61c833c91581501c4702b0d58e6483f017d46bfe6e49d902f30093861a57b109ed5ce149e449bbf451ee240dee686f409d9e5a2ba5b47d783c8908a1026ad5ef776a1167d9ee77a83f5d04ee0bde0f3518de7ccc4dfacd317b4e1651b3c299398c137f88d89c502d373c23a67623c3f745b29daf8f2f7d0b89348d688c6052f06f182bc8fafadd625cb7a0f9a1c6b6af5a187c1baca00e610d6d99b2c14e5e72875e728f47708e3f6a7b27629acde4e9092d0f8beaeaae2fcf158811c94d77adedabee798eebb111c125b36a94d81dc6681e96ea67e3633d4329a563ea4db8827811d4198d85bb563da8e2ba0918bd997dd6a05b9198629aaab3e51fd59ccc9e6b20a508bf0fbba2601cbdb63295a12a28e07dc683778d5744e0292f6c927ec849c5220827b1e3961733b5a9b0393baba875ecf45b884490b5d080633c49bf60b3efcd8ba5e1e4657892e35c5d5ca3c5ddea0da64e55921d976c47a788ec29ff3f913683145ecd2d9dbddec7d05e751314107490909fe1c1daf0be4e9e7423e36035e788a6965c14a59d811bd71387908b5b6cc74f51d6afea02c3f89135f67dfc4749629100101785f9a165aeb6d048c52e21b5aac2134a6792669a067877329d78c80b7d9dcf42fb47cc74cd785c03e5046a868d68fc8e8de1cc0169810fe9ae4c9a84b1a716f361d939f9dc33f5c60a5aaccfd9b8d4918a487d54f8ab3bbd81fa072bfbf5cb6dc803dd82350b372f6a259616755a4243deead1ba4f5e98458247e9dcf8d3279a2bdbfa99398b40d1ba693f9532b284c14ef6142c59cc2641e00525a3108a079dbe26c752ab627f816d4f932746cbf0a3cab2124165b3165d9303231cb5791b7dd488b6f4bc8e558c2f716ee6663a0bfa77ea0e09508e522628d7aa4fb4d2a020051f565140e39577392fd77909c767060243dc0c6c4d0953e6ed826f03751b0258ff8d072e41fc41f1299a53dd1aa0849ed69a758e0bc8dc50fac847b84d9eddeb04988878dda668d370c211352b03d0f6a6eea8b3639888fde5d53dea5a98903e8b36f7623506bdda6216c766fe613d1888c57d1a6eff2604d268de4ca7c630728dfc97f7865c90d0ef97a1634e0c25b52e60ad7c51a2f47edb06a0b5b177e558792f21b122b84ab8617774617d2c98feb925943691a1e80ce2fc3d509abf26926e8312f5bba23e08a3d437f5d4a373f6eb4c4eaf2be5605def362270ab03f2736f42b62793e5e9b7f24e90258b780e76ef05bae868e1e4d869e881c6b28fb6e3bb40298177cca080fb732e363cd8da603a5ce082a5dab0b0a8340607c31d6da283e00c2bb30b259ff7d1247d73898e95eeec6e18c928c97ca1e114a57c757c1d7010cb25e28ed1ed83389776917f5d53f03e1b5f8a79d400bafe1f2416be5cb4e449360918fe6f08a3e3b85d2b0feb04899259d55897d4dbacc7af1c03923bd9b1bd95833ffdcd6d86e164b8f2537db0e5cf4d5b076e53d167c01a5f298b319d0fbacf54bb05e80fffddee672771cfbac7c8f0f5b9e8d34a814f8af7bfd2c59b1b682560e213426789e6baa46102ba9d5781f194d20910d57965e5bed993f1d3a56c94d11c14229df808c95c9145d7ed358e263d94ac99d9712cbe433b80393e5099b0600de710b463cac5cd51eafe7ce10a2f12802e072ded6fa07d57794ca621f0b140d81f068aa40cbace2019645332adca37370ee890abf58721dba2905f66397db58391b88815ad0759f3a5a9b37e84941ee93baf843f08d0c764ae058c44c71a7fd0207b788ed185834f6cee97672be8a228835344c56cc924664a1237eb82204769270abdf21ce38fbd9f7d7f193ce98f7af9cc1cc61ac58ac8d5f14f05ab38493844c892f6c3e5f2586b803a8b2cd8d1ff0025bfa51033a258bc0bf9f671e43a215d0bf88813055d5e8b6898dd68c8c501e9802ea7ce00cdf12160351d3b76029abdf1d592dd1a29590a31861ba38b2032a2ded32ad56441571bf6f3640975866c4a563734f2adf439602448fc449d7c3d84852f2d1cc6b4dec79121fbd516639896bc2d76eca987dd9f4fef6988e2fb907ddb38d2283af8707be171cc53cf2f1b78de8b75a13894a45695860ebb30ed255adee8be20907f2ddae654124f00a9af27a5c475341aa1c1415ca3c173d7ba2a93befc1fd494544e0403aaee3d16cad115a96d22762b4cfd9e35a62f74c5bdd307eb68fa5fabb04d26eee21cb91c638594dca26642aee265be5451dc429a0d7b65fdb6daee9fba0e0d727551a42662c949c983bc5e82c925f233a125d93ffa8ac9675c9fc199d1b570c0d902666d6a731ccf56ffebd3ac57a9cfc3a3c62a177c07be096a96aac678de19e9dfdcd71e2ea82a0ab4eac96e88498f34c3ac9192c6f12583330020053249836fbfeedc8600b445cdae4f62227b58a74ec7c231e07049ca9314a9568dd1ba57ead422e3758259837bf57579f64bf65ecc316f96e12498b27f08c80f48495e83818a51fd414342098cd32b0a8eb819b52b9d08bddcc5d3b14c8aa88461323c5fdf01f873863e2e115a49fe4a3ba5fc7a2219e14a342c072b2992c709ae7e40d42039c822dec6027a15ae2e7aa44a5ed2389e9a0e200ad9903de9495d649513fb78e462589834328e6bf310b99a28b4270b519f9bd768bc75074039058eee6784bc91aaa20afddbe6a56a7716caa703a35ef5275ec559de67cf0b01450993bdc52bcc689edc22be12f46a87db1f1435050cf237592e21a6190821c8afc70f7ce46eb1e6639a02f6eb9baefa33d59c7eecdb5596bce4cb1ab495088cf8a7699e5d50187dc7b89da42a8f628a4f4ad462a06dd246f0a5a2bb5410dd6344d368287942d0abb09bef888049530f9834c104f5b32cd952c36401068e0a43444dafba158bf6c472bc5e76130d41745dba988f367b9429ab53e94dcfdfc91ebab6925e876218def1bef56bb9093c9ad11516554abf9c659f4451f65861cc92aa555f45fcd472d35700fd03ad747cd5b360418d2e8f16c391335d29c57248c5a4c3526b6e63487e047b163afcc4abacb918c66969bcff4fd5646495961d9d98b19791e8d02f41fe34691dbeca763d472e74bb2770e27467cd03fc23dbab6520312e57c68b71dc48afb0ab408a3c8c9b14e0634a615a7158039d13cc29f8725ba4373c3b359601c7de926b73b62016ababadf56472a7ae47cf21fcfbe047bad49d8a220e3dd30a932723026d7fabed060b2c910d08dc0a21fdb65fa1d7438b9bd51959e0869358ef8f690478427114aed3ad163350f215d7f79f73ee7cd3b5488ff4e2fa1e89a3cbffb57ea2fed78bb4a62e8b8003e6946818afa09c5512ec57bea73333c636813134e9595da58b4c138f0925de716bcf45c302b6d5c1c53df8b279efb79365e9dfd92afb238d32cdc6488c1081df63ade06a7ff8f58db3c6ec9197f363379834f892031fb82dcd3fa20dc368f24a94840c0cd20f4b5c04d0d1df8a2cb6fc8f43e851cc57c0b26f4a9e5c66476a4893e39721126acf17a5d549ae62f2ca7f0556f5713079a8334ab362f4a883ec053ba980ed162009dcb13cd16dc6bf37c8d7c1384b651a711091af0d9c7566a42b7b37edbcbd0d5fa3899f83d8d212f78a14027e4867f2dbc318f2e9d92b582a8c809ac928552cbd0e8bf7dbc843bfc7f6210e3211d9b488717163c432f0cdc0ddd8145a02e3b994542b5c809ff1680cc31174161acca94a248c7be76e14619149e68df044f6e109c8edaec8f9a5b7488b7cea9b156c3b15d16f99cb2b05bff7387e822bb833395d1703a76e00d4e59138b3dded9733bbd381ed6727fbfb40bdb339baac0a59ad6a7f3ba5a563c4cdf2609a767bffe5772b45c982d712dced18b1b36bcf8ec9b94ff4b89d96f000c06e0556fd29314d484d939acf8aeb8a05321ebeae578a35a3191b401b40bbb1a631a0c31a3ba2009990de54423fc71ebefa12df968399e164f224d14cc6dc773e7428d7291cb323bd122c30c76b494a8aca8882f3b5c13ad7542c238d260c71e8f52972f433b7674f904adf86bfed7ec62e5fcdb58385387ec473cd4d57f3fe3592350caf3152a9655cad0b1671a84ceed53f044761333444500c45da7d35fb82e7ed792c1919c79dbf86dadf37846d9a537f28b06cb2a47c7940b827f9b0cfed7cb52a392ce14e73cd837fbb4a506b2c53825f525c4d4887b34d16c85daaa3ec4273e1465b7626bc48dbce12aeb43f2e032fecf28c00922051986bd461bb6abb7fabf2af85b4aa22894beaf853fff147a988a31e7fb3d3fc20ea71e6662cd79465f32ba9fec95b59c26fe73c1cc3b250d1e8ae94c0ddb8fff831a43e8e9e7d94fad7450eaf0234e4ab982ce3398261e4890abfd9b2c048b1fe9fa67bd31f59936c5fe11d3f1f89c8d7a069c9e512eddcebe4e90023662e3d5d8e005aa9ee8c09ae5489bbd72d7018e05558ddbce6512ff1568b95033d1c0cbf292e31c989b33085376c749ab0668559c01061d51a29ee395c88d941508d26856763ebdb6c14e77e1422feac5c8ecf01471bcf476f81fc946981de43479fd813509646a9a117505c06df6378ac31ab28fbfe801df9575fc877ef34b8c90375835717947c6c0b49e8885fdfc152dbb47a44bfdc248bdab762bdfdab1891ac97a2dbca53a44bc3824cf4485b0c3acd191548f980a580124f049a7ba7d5dbc59d0d005fcb62ad8199f0f36955ec46ace250913bc3ddeed816774c514961f9ab6c1a5fe8884f0bf028892ce3838a5c90a1ded90a460995cb321e5bcf1fb9bab4e78f9a2042fae0d620048e7ac3323176cb98831465c6abed5bdb8ac09fe2e777bb19cde64768cb3d4b2ebc85fa8b7ebbfc393c9d693e7b8bda4f6e9b02e1ad9bdd1a63e3bcd3fad8091f75e11daa8c318a5d65a4d421a7d0a1e738cff8d414a3b5b75d83f7486b219d40b112fd34b6f814b35f55ee1977d552f549e0ba58f87cbac70c014bfbc3934a3ba88d72834962be29d6694ca9b46f2d83fa60f63f99e18fda615b5e130001895469d85db87f053d9e44705194648c4b34af6aa61937ba86c4494c2359fba65608e0e54e14528afbc6b4f180cdd8d42516343e17bb7c0a6f2f998aea5d776339a2ccd62b41a39a2a89bcd8435555df03a8a0407b5bd179ba990163fcf8d5c73922c746e9943277b002794e1b0aa74f091fcb7e507524c39120ca2718e486a249e86e160c9f9defd24650cfcd36dff46a241d19c93a434cd495f25ec6330c197b10b1c42596f28c4710cdaac9809039a9c3762e7ffc65eb69f7425aec29847573a0f932e3af25a1d4e7c26f416a0d3cf88398c5fb50828ec30f22b895ff228f03d1fbf91f979d8ebd704c7a6f85475e039ab6f6b9ee566fb7209bf6a3d0068f578c87d880a4ae62a18689d27a4ee867b1084743ddf6dc0083b78ef8ec87cc7654c36b38ec3ad94b31189ffb54deecea3a6a77773838b69d67ed387f2fe72e5741d8df5642b37876bff7d76be8a010f1fa8183fb7ac9c9f3764a480f099a72b4f187f83e356f7f89858df513e315ead692b3b8c3ae9b2c98ad99c6f4748012414f483bd4a977d7b34ae5c093e61cd257f9848ed583929fd4ea4f9461daaf99ec0d097f99fc6002187c0052694a268453fff52dca66e2e3f3c18cf20b267cfd2b5a7e156c1ec4fbbc67465699dd28d58133f5c4aedd86f0ab7a8e2fd37ec57050e69efda20d48a9add6f60ed9ba878815b7950923175fd8b7c92fb40e58124e84ee9b741932d8789061d87338145e9a33c2cb7944dacc97e414d0ff98fa3b8cadf4266cc89a8b9235e39ed9135f52d1ead8d1ba57eed8ff64d7da99271c3015db74b65b06de574c777ea470726f4bb08b3bde5f3769631117e4f0309e75c1554bd769b235ba5aa5be40e5b458dacde19dd5c24fb05eae3358848fdb2361a294d0472f46516ffef555e5ff5fea0d3056c7f334fff2d083b55f9b53eb70237b05f6ba56102344ffeb147dacd377c160649c4d451d152d153aab5e817f59dad96b016c1381c3ebdf40944c52953173c5d96b741987dca6e376db6b96270cab78461772d1a015273a2891adbb8721543d3f523036c6e3319a3f7bcd2565a3d70e7d839c32ab85b677d0058494964d22a068d3054b8c6dce0752d9a31b65962e71ab45d94992d285b10e2200b02bc6e41dc1e1877283a0336918444594b19b88d947ce47b1e338317d1d10575e852aae8e49f328a322245e7408ff2eafde408ac9b4187bcb7341117e3b28969844b37d142b79f0809ecc40fd59e6137a108329f1846c4ae0bfeaa502c7e75a25b883fc03b5399542690c061e41e6cc23a18ede953b3a84b55b4d2104a8e7d541c03eb5cc53bf043ebe9dbe8a0410a584b6c0745280c7892d71ff094a3911d2f3155c5e6b093b862dcb1a45f869d52285165c8c43413e0498e83bcfc4516269bb5302e1c686fb0b18413d06df1ae58a3a8a6b7c28e08611b2af98796636850a9c6348b90fba1c2ac804b2cf618db552b3f5a8b432fd91247a36e23a7db43b57faed6e0101b892478873c1e35b47a8284178291e2140d8da21b6f236b7bb1249ed0d57d06f8d4fc9871a6060ab25da77e5422571b09e70fdfe35030edeb1fc6be87cb1aec78dfb22e8b030b5a09b1faf470ad4def966153f68eece07fd213c1ece10403774915b62ef40f406471472340400027b7e6b9827191fb2e668d252dbe8cf74768f7ed0ae65f104a4dc6b19bc91a52ca85f87ed57186c6d1a6896114271e70c4862307b5b63f60b483dcc9c3d4bee38064849c93b43331132771144bf9724e24771cd8f35c1fbadc38218b4204e8e4ae1a53a7bde1e9d8df0a6536160dd7b0986886dec48e9ffcc0f08f58a247cd5cec90781829047301e2dc7b5d095647b7ba85d6a78b5a42e1925bdf3def8a4fab5be536dbd6c2bdf455fb7f973d9ff45fb2b75a6eef8d2ac9ff49a9fd6abc90563121fede37e67bfba3b0af5ec0184b841fe5670032b5694d9a41587e0b34d1d3aa465261f0ed94ad067a9bd68e5ad5d1fa2ea2e86c73dfbd9f2a67c41110df40b3424e606873fc23baa0805aa248122500600be141070daf3ebf771110b775c11e556f12b04fa43e81d2c8562b9cafece372ab1d3a67354d2b3f23a15dd9111f9b49ac895f6dff3da30a3276d58c80e2712770c04e75abbea84c7bc424f16eebcc796abbd77f3258be71831a35d3bbe57ac90b86e9c52f9bc2b0f1d4b7d2823c219b27ce0a5f6b6bd4f75a990f94b3a79f481293bb1496f936ade77ff1ba6eacaaa5911f0344d1cf74be8ca130e2f847364fe56b041bce949ad054d5cb8dbbfeb8fd18fc935f5fab53527749fb75b270f2b238101e6fc7ba0ced2638f26314d0b67f0694a1afcc47245207a5c41d587b2fcb534799d932b131e3f87f3fe64c85fe0973b9f1712fe7a0a681a1a5e74b32398e278b270d51c5e57a1a82eddcf9d087e3ace7d63b1edb1e2f9651f30f53f5837e81ec75b8c67b06e850efcc668a2a2a75b1acddc841023b5ff781ba85489ae95962f8dea9d3124458cae1b66df2e9fd1389758e7829678793a92e5fd9992bf16a3e665828fc3e537d7cbd5b4fc03eb66b2f48748880a71330aa1ef41b22cb69754dcbf2d8c1333f035cf3ff0803acd9b2b869d3fb29a595697f5308e6d950535dda8ad744cebe2c2b0127c84ca40b59f7328f8af9480b4de97568c292c62fe85c2b40504f5caa213efaff8ec3d23e6094a6006a20454e32007e00bdfc0458d154a12a0422d0880f7757588938889b7cd40d3d6cba738e4bf4bb9f6ecd37a8a54eb33491c91fb2032b9e81db253b87dfd1a143471078439d91710311c9a6d71aa3630f814844a45c33707d44ecaad8af6967b986ae10f94cc347dbdb007a1ee221323b81e65d4fff288588e8b92d0d6864c1421746caf0b74984c9efa9f8bfa7bd77abd0497984b641376c84b16d4b448ad2e9c5e660900815023dea57d8b50bc567a4e110cc237dd7d34259582f2ef56f32976c2acf1b95e016f5da0e6a8634cc4813b700087517068d652c42335886ea63d3ccd8eef24cbea8fb130375c51f4192444bb154316917c0d689a8770f81900b719f7a2b9526a75c987079b22db0757e63bd5e76731694ef7c2b74fe88827f11a800e11076804033a8311e60e24767f0cc3fb1ffbd4308bc4d2843f11b83859f4253f74b0d52ffe5f95e1fc519e76fd08da4211f149ac0c4e00f36b07dc1d9ac5371b055882da0087c5c6adae00d984fa952fb0cbd38d61553e71b7210c8e09c14b2c419e652f9ee92bd8c2ab01f59bd8b7c5ea608f9657b740f933ab7f62bdd2b99fc8949b0066dce615b785688d86aaaea7018c7ff55b8f924677354024c8054e04638bd4b9f027a8ea02906d17c58938742bc2e25f813f0daca620c200ae9bf01c942228f259ff15eaf0f8d8bdc41bd586ae2e7245762e0a7a2f5f5b38f5fdbc9e8e46518b2835d40330a4c8b397818058a3da85fd5eb20b5fca05579c21bb099162e5ea42525935d1db1066889e7aa51229ff907ca51069986c4640931b5142ce9eff3003cc9834d2837bbb12ce3afd944565e5b322092958ea3f58e2c047e11e1d281b8d03306e23a8e4feadf5a1dd5857dea6d756d","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
