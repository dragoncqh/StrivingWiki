<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"36fcb62a157c7ee63d718819027f9e1abb9f5c779101c2f8a7478163db69de7eccbbd1e2b4aa021b03e69b48982a5c709ad51a3ac39a20454fa312de2eb8512ac5476d4eda0b9dced9739a022746cffdf172f2b32bc578a9768b12d495de3e6e9cadc464b2cd92a62f7b8c399fd45c78f24495babe9343e591457a6d5b43395bbcf028492e1fb127b3dae9aff00d076961b5fb8e482509a16f87f2e6c7e02cbfc89e84149087a907ea632955888327066f5f431083009584c67ece40c38b426b9ef3272e970bb3648431773f8a59d2a648df4ba73c8f35f6f9149a9039cc0f4d5c18a2cf23ca181b17b4b5a15e03100bf2ab50434ac4047f2f221d5c303183a70e3b2e266f518d07c21414a52257f809bfad4ea4957361de8c758371c112755f692a64810777639a0cf3078878966cd2993882a0949ec2b845976ad4087a5d234059ddf73e0c4e94b42fcc8c8e6290e3c420d4ad48fbbec91ee62860d1b610d88cdfc085290cd61bd102d666cc3c9a17e88879132d1e6531782c41e6669420731bf6bb6f31b64dd23e3379d5a6a9dc4694ba890701472f6a50130771a76be0718aaddfb49d3e3ff1b7db31fdcecc3d12ee5411d580124fc82a70763f9cb5c9c3e67848e2d33624ad23517f95f81a5f13d3424c4fdec91a06e4e580c45245504fb405f35d2bd34a6dbb756a89486e71f1e78c7bd28bbbe5682919acaaa021f829532261a40682cc757a1b0a30a77f71a5214747869dc867b6bfec86bc3f8d5d657282f421ede8b31811969fc08963e4b78bd57c7027b5b3cd7b2559c8a69e20f87a7c6cb832bfc63ad07ca184e2dd73b1b51eb76eaefa5e1bc08dddc61495673531f9c6b6729128bed70cc830fd2a69179b95f87a311e8892ccacfdd2371410f90ae51cd484e1b40494249550813c7bcce84dc7fc40faa855aa801a65f6eca85c99a67d47d79e2953031441896f57b692c2fdef0ea485df6a1aad10f5651ec8c0aa3ebc44c19b0dc6ac6dad5d7d91faa8392558e25c6d5d807019973158f4988a28393c8024508f733d85623315115245ba86c4e166c0cbb37dba0c6a657078dd835be4a3c0f69a69c240e52183538157d57afd448c9373871e7aa66507a9ed31c5a931befeffc589c3939159033db31a73542f0bd350b5941aca558a9810c9edc7d651b66206b7af5b9d4ef538f762abeb6d3717c1c0f661deff407e036a29cef92536820f77d67a5f8b0f2140e60c0f569db62a38e28d7b90d492a4d9933066914ab0c3c9032817d72a971afbf5c28abb9070c5b63e7140af359769678714568063246ac612474979f8790cdd4100d314a51c78f3ba2892f20e7e91ee30f0d34478b2ecd93068c39ef2d3486497da6746eed6950017948b3ea4e4a9d0b64fe61a5aaa98e12351d7b1ba74b3311be562b726d6f9f66f31f67b54af2d3da1e885b8fce4c5003b55c686afdefe9c67941c4f1c82cb7ebc762f19f9af16b90d2a9d2341cf924afaa918438db1a2d749c0e25be0c7a325ffa257ecd26075cbfee3959b14e13a75212bc6cf581cf9e38a815b30ffe6862a3554e829cd5ff5c7dffc23f52a499421ba87146021c99e070ae20f29d01beb4099e6cac0b74608b03ad2c2ca0eae42dd4d1736c397143c79bef94631bb3825c2b139da4ac7ab6738de1c196237227141b06890b0efcc2734e3343c51e9b61594415aea85b7e0a1e6285439877f024f19864a95e5dbb4e9765da89103fddf12a3f9e1fbb94d9e1164e7a641e3f56f81524421a6bcf9373db2da64e28d2c843bfae3ac27a120e18f1dca9ca1d4c1c7e6e75ec161b8176929bd19a12b7e43c59cdd3fc1db41def175f6ff278cbaa3177d509df1bb88c41c421a4205b5773a29d158894c9703654a12b4aa1b2b2744668c74cded0ad120b0419024ee8088a77faf2c83c8fecd108dbfd17fc1967e5690a75bcb2a3f5bd356d5447b14c5fd4f74f2311654eb1fca91bb15d443cf8153ca84a74012bfb7526f150e16e38b70ba4871784b2e86b1e4cd41e1c7568c3b908de5251c7839d9ed36a6cc3ca4a2a6b93808477dc921820360c23578b3eec011a5c5575586b44ba2bed3cf8f4d1acfe1f30450f618efde72c5d8637c2414a0f493bed8e4e854cf75da82f2a96c8043835733d8d9a1d1b421683b860f6a7cbeb40d90f297adea08afcac902b386038b611c9b53025e573bf69d000fff032d9089b0c3ee20d25108a70ce9ea503c2925fa672d9c3076043eb11bc11af4fee35738db72c14e4d120cff2e3358a1d1ee76fe8a20f9a101306b3026a0749155a6523903119f7371db1661ea1cf1b39772a63b50414ff3db73596b8810847251fea2ff1f3192f7837b20b6175274de477723d4dabe5d03466c1686be558bfec7543137ad98670f6c1c3a52cb131711f6a9e3ad4bfba5d6d04626167d97f2fe2896643e8472b4b12012016eb14fecc7599d01453d05b4af89889ecd320112d592ae6ce32367c84c8e738e13becc603b81e31fbbb16c0b34f3b486c90a803844b392aa879e6c73ad3aebffddd13fbfd657fdd690af03750ac2860350dd52f3ff9a42a810df721da678aefc4ad6138bae7525824397c23fb31c790d8ec0f99caa3bf47c1786af61303e7aacde3332557f36343b435a0569795f64e8f0afb3be425dddbd120b8d846af2aca3e94c7a981c07751403fd4fe5ea0779ae3c42d95b385fa7c9c95fae1373939a6a67cb58550f194a2b43f7ba0f5f91b1b6319d1999198131e688e47f285c3084f2e566e0dfd68fad5b2dd0c97c12ce0461815dfe511dd95ec1079b30fe78c9095214cea1337cdff931a2e9b8c772962cdb1f157c9e4cbd3b59ed9bc24ff76d87d14c029fcce6f9c1d4ba41f4620bd9c1bf2309dce775bbdf33d49232a9e18bdad10b1b04455fe2c99caeca5751da8eeb009c767b3d6478a04cdbff8918a9757fa18b1fc5712a78c15607d3c47eab5dcebe2a181731667d7c09df64685bced63ba798f80e5cb2bfc4f6fa8e4ba0d4c3fa55bee07764b2ed1c5264702299b26bdfe713f3635ba24c2506d35336c31c7267485d3b1110fc051da27c5c2804a02ae50d3404afb3351d0c8a93430293c76a9cf4fc65f379ee941b14b27395a2cfb306451632971ca1c2abb8bfb31929eb8e0410e222b78e44748c4097b6e39154e93936832002a3ffa632878ad8a5881a10c2864bfd5002aac9a1c2d5f027c5d34300001205e1d2a690b23b6450b873e44a9eeebe8f25a9e91a3dac3ee30f1d7756e9c15025923f01a3cadeb44a382385aba8a6acbd45f47dea754a075693f767a775af8227c3206a0b48df61d4fcf74dfb9677dc67423b69f3db97a21638411938a108c83019292cefc1a6228e746da76a146304ad37fcde7903f4087b5e4e504582d4a4af3ef8903c0edd963641be73f52f6a8e5fcf26134891149ab0ccf1f7988d586e83ab856729ab64172c3e0de6e35d984088484e4c7b8985100c4c307dd207d8c82d8466032f626e93fb561fec388ef2d72342de332b7c130474d8dd474f9a69e6f1531585694a87670cbd54d2649269a4872c4dd6cad51ab83fd836f9abad4535548aa0382a6eb82ea5c7c2938c74f1e2203572ae01b0b10754beda93869dee7fce6ab2d47ded1459628b2d057f14a6ea5c819649fab18a2a572591fca21a9a6b80b9157d2770ca36e2a2941abe4d06159ee28f5dd90decb4ddcffc63cdb2264e7db848c1bd5f9b786e59a9a5d3fb4c5100c5888133c875479d253fa6960df6bf58a73d878b9bb98a2510c07bb725f0ee5b78aa6fb628776f1b1fe7a8c4a13bcd9184866a0ac3ac982aeaf1f12bb0892ab12e352ac1fb707e8c9b4aa7b5990722af52b95f0e9916f523fc84aa13c795e8a136481d86fe146330fc6e4236e4ce98971ec18e94fe50998e95c59f5500c3a6a63cfc31349c17862752af472686405e2187beedab38e50fc5e12df0a3f0fee38eca7ba94374955d1dd7cda06ba27c5d64e24f92d6713fad5d6173f132c41672ecdaffb933f58c69583754b0ccb36f6c08743b45bd9c2bbbf780490a722533e92252d965462622a9f60d38854d07c562af1b4e30d3cd206bba904e02e630a731fd1c6e2ca6eae4adb0790c6a8777949e56dffcfdc1e62ccca1b6a903363c55dccaf580aac323c16f6b5dfd2132616320cd0f9522fe8cf910290cb7baae95c6e0f4d39340f2ae34904d9a3bb0745d32682a9ed3117281545f34938f51eb7e316fffc78208382b943d14ee9b5fa8eb58f9a3bf2e09f0fe9d4496bb380f6b20d6d91b48eef571b7a34bedaf1c9da685858d7f5be37781516565d1bb3bd31eda3e3aa1c629469545652027f0d2a03b8bcff9361f9ccb9ff3f32b04bfce9244ff6d16d5c8dad2a7d1a96b8f2b9e033a7b97e05dfcfbfc8b49c35de535754f22ef9016830e345a720223c6efc8d2fe79f3a37432cc7e90312e5901481bc9195edf3d60657bf79df13f3f110fb66c951cc587d93640bcdeec072a41309fb0e0422ba1c6fb8d1951367d2cb6a41bde8fdd98605f7eeeec730d278724849163e56768ed3c18126d28d00d71990e6dd53f6de0e59672601da9b263f26bd8bc78c226c2af10fd7d4aeef79723700890e68524f498ca97ec101cfe0daa21fb50935fedd0d06b728499e122606503307a79a1cdf1022037a950a58c8816ccfdfe8412749dd0e5b4f195db7806eb28e35faba08fb8ef40bf1dd9a3d985c25e0135bcad3e10ab4f854a58662dd4e7f61274f0b7a3ba5cce581008870aac362b27d0592902662a46ec9b59351cfcd14b55a75a63a604f58de939edc24c480c3c5b895932f3da181b672d86c95679af8854e81a685c88525bab5466d3c6bdaa7d487847f0b207129971580f607947a4678570d037dc68e4e62783b07f20fafd6bc95f471e0fad8ce63d1c4216bd8ae5d3322483530659c8e211762c1462cabe4a48baaeb812b0401602a406ba03d6268b0a8b98b4ff2287f85c057ccf9f7b6160d3964df72ec09cb74b9c07f7e2c4915bf93d221b615322dd66cf0c422909410739f1bec5ec26612e67d44eeddb02ddb7740a820dae656041b3e343b6ff6eb53e892126d922e13277a8bbb94d9550d963e0bfbc46e35f19089ad3f110bc350fd2d2f5d01ca2cb8b0a85fd7de592796d7831cb3b3853c85c965309bd2937055b157be451469df9f4ab7532481772daa109d7e422ba8d4e850971b58d308e3471679bcc38f0f3bd0d89dd465bffddcb1c5207da35c49ed0c0dff9965508e7b1b7d1e6d3d53d56fda26c9e3b5f334db0cc03a62d09c4823757c93e468bf95f8631bac18733a697c928c9659402130c086d328436a3c1ade735797fd49881f7398bfa51cdb207acba4422fc7efccc832db7a5b5a29a0375859abc05c19f409ffa28caad10450ad4c302cb7e23f0200963af6a44c556d3717fba128fbc6ee15c74321f0af86c078a44f67a5ee2d3607146a1fb2f1d8caa36d746192f427136613b2db2d041149bad658770f7e94870ff27f16d94bcf53911eb41e4cc31009178a5269fe47b10cf35cd40e1feb3cff05cebd773c5f803d9aa80e40c2bcb6abfb06b3a26cd81c640970e53df5c836b3d1b00272cc376090d6a9a01b3e3310f689c4ff702e3c427b04ef659f1f53cb10b06696ba35ef9daa29b67edd9d8de3608da855cd88416576de400110fc48cdabe64b0a9659b79c1641d023be3fdb4b3b1338379d24ad614fc7ce4fd9d7b7928758ec2197dbdbe137ac5edb03ce8bd475607018f1259b6d8af7f88d6aa03d1e64c820cbec334c4bb3056bfd0fa987e0ab31f6616aabbb73ee41e93ee708a56e57b932226aaa94a3b11f4ceac6d30e19547c4bcfbd7899d14d8333992d63110eeb57f8a239dc1780a6a97f7f7432ac26aeddb4646d3b9aa1c7547f2074c1d3423620c17d299ab2625efa9d865f5881405500db984dbd2d802a05aba2a73d4e9773056c01c0dac0fd4a156177e3d9a27cd978fc2dfd5fbd3e170da14e3b297f4ea451eec78ec480b696ff31eea53c6e96f53c42cea1b86ae5796f2bacaa8446b6a23df24b7733571da6e72ede4d41b859469aab0f3edaca92f61604de0fac86af422aed9f76b8197aacb7b03ba4f5735059388b6667d25f2825cc448afd845166b946642abfc262d32bc951877130825751498e6eda64ef1e20153b59259d95103b8dd264c2d89086c22e01be2d963563b54ff998ec3f20949f3a980dcfc82d8526424dcdabb4c0e4019b9749a365bdf6b33ca0680adbbc6e5ff4e0b2d2bc83cb50049aac9803e7d716b0205992ee9c322cb51a703be1a38a5a624c393919b5bb83e7de359673493c11d0d68bf263286f10db2d239564c68d3e8a1c382f711d8aa23b98c4991450c250563f6a493f6c24986ba2bc205a02a03f0fce40c9977cbb4800388fed57eb007e9b44c8083941448241b41cbfbfbce517c648c96f41b560827113d84de8f470e2abf8015ed44991d897b7e1b9b25fc3f64efbe19bf7923c0d29dbb262b67d3dfe47373760039c12896bc29417191f0d4f98bc4d2bff579f01712c8607e051c089a0a78cc0fec4e769ac5727320d792650f5c21c0f53a43dce967e6b9c31aa6b2cdb112c9eb3e9f06b587c037ac6442075164960f7c98775c3607320d44fc6ffab1ee36d298a679cf626cc5e0aaf444e889ff0a88333fd2426725b8db7442086a5aec3de577b3506822d0d6ef71f7bcd01e39f21d7a60d86666a2bdd8f25fe278b52866fb6a20e86c151cef42b21ed9fde42521d09b58e389e47b00979bde10a2a43b2c5af36d586f372f7686eaece5cc0e3734043746d15f4af4b61828816a42139bb4b149373bb9d10db52cec57229d809946abcab39290fedc73859286ed0d118dd2f2c53eab563fc04ba9fe0cddbdfb5a9bc03a2137400b1970027f49150e86ec8585d84e262996311729e8af8602d9841e3b5e87a95b22c7e5018259d7a671352e647691855c18e1930e81044e184bc3097e9a227d4871f47552e8c87081a8477d110c7c60c93b937f04cac9207232ab2ba53d5ee68f435f3878c049849633b70738e5a32a9dd87ff9f00816d3cb35dda8bb0c2bff03effefe289fce4148a7c13de2e2d9107a011fc36ae1a7aabf92ff7ccdb8492ee8bda4998e2ace988f575bb0c0cfdd7037b825384580a7d178acbc757463dde2b6bdf719f0ec09eb2ad4a14994a1bc410a9c7c4fd419a1cef719de061cf2fdc7213454be4fb77330f52a5bb07d1b26616ab5e987f138abac68d173fb32dca8d21c1fbbd375a82ccd9a25d3e67e8da5b517231c567ca4ffd693fc6b53077a795f1db35ea7fd5e18e57f527a5899cfa368f424943f1544a84370a6fd05596d6c9f6bb2490a0af3b9ad51afa17be46c04443db2c110e8046fb6698d749197bacd5c1f75de296d6795ea11fff3943b34d376f3071efb7899c04724b0a14efe14b16e6c6e920a37f7997cc48ee42a621faa7c81f16b1e414557d3831d03fa0f4c5efe21a3a97e4d98eaef359cd573dcfbbc7bd7e59dc9adef6d02da7a5760df5d074b5494f07db803522e9094dc445b7d96509c1617e994a61a04c77e91bdcfc501c571f0174c5745ae63fb348fc505f48054ac69cca62fb0fc8579bcdf81713b54922501a4be9879ef4c1e584365910bafbaebaf7c669da23868eb7a275f01af1302ea404830409faff1749f8765773bd3faaf07e9e134919d83c76859d78aa230ab2deefbc7e09e32f2db9458290462fc831705370a356340660ca884675c95d8d038580782b7ad341bb822ebbca286766c466a44bb8c295a619a2e4424345d42584ea620bc7636090034551b3694a7aff1580d5146f63b0d85b93a9dc4ed3a42542e5298de909b7fcde176aa0ab46a9a7495b336af2cc172f8cfdea02c70585fd5455ad167bf4869bab1e8956c5fa8b995624fff6be57cbcace9d4d901bf23f8f2e01be1cdf30fb677cc2f2d5f21a3c18337a29b966d4ae4cbf8f64f10204f109600153c15764bfa97d819a04c33b31157fdb2ae1846761c2a1460aff426926082d2f2bfffe3c615e64a052b51fa166def49f1996a2b8181c456cbc743aaa6815a24063dfa513cd0b74d494f0f0ef93eaab84f535ed8604d0eee5fd69c3a116282159ee3ed769dd1f9234418c34ae9515b8adabcd682c3138ee71da9a8ac0c56044b86abfaca93e002784a33de4c17608ac285fff0c97ae050495ea162f769e786ad273b08e850143d5102acdd79a9b127f5974db5581c8dcac6cb9e8c16d935beabf1a21e91057a74571adfd00f775b36c9843375436e63511f0f10379c513d26b90bc72efb7dec28f4a20bf54dbaa7398809471984de4ddee2966df5395d5e50b5abf7a32c8f568ed1477b44ea2ced2b70c34772c75f38245f0ec95a3bfd627aaf11644598ba8f001e10e9fc4e19a1836426bfb961e4434b4eb97181627e386746ac7b546b17d40551df2284a9d62b35227775263212d95d3a73759db0ec6911de2bef7daff80122b283cc97f632828a1ccd6d4b83cd61506c27eb384c4953b1ebd2b345fbcdd16c1e22ff20e6d701bc303072bba63b8704e3b9570695ae3fd47fb614d5cf961be75b541323fd4b86da4e228764647a79dd14362e39a4620b949e22af364532db3e0c9028cdea4b0ba36eec7f5f1e047672636ff05b53c5ba9ad4e1e5c12e32932606f9793a5598afcff0aa42de858212afbc6e28f3ec89422a0df260ac00be2fa88f43cb7e8b51277ed9c6e671b24d2160e5d737233ff4967e411c91628d91546984daf0887d3c252aea99b763ff9cfa623e5141708b1ad5d196c6dcd9315d595039d77673a9dc466f8169d5acce91c2c597883eb2b7b5a3dc4100aefbda889f85ed456b3c31545bbdc2eae414344858f02b84a3728da4a263b8114d232375a2b9f6307570c41c8c7e50530ad84436d67baf9db39cb2c9ca74c26910482d3b9dfa5e788b36cc1d28e85768ef044033faada66b7d13a531169fd81cbe8510daa64ada41ac6f3f07180cccfe1e4be7f79e5edc7620ed69036c9bbca1d5aa4aa9cf6f87de1885d8c820f12254a21280d37edb08d8468f00cb5296c834ae5d980032718775ac9f3719153796f7a9b4b0900e55426ba4b560b9a9668fb6451d2f64da986f7cebd2fd9fb8c67ff5350808b6da4062a16a4fd611ee550f37c522aeb0be21f88521229ff57305391e055bb9351cc5ae6e1aac102c9c9587409eaadd07f6a33aeba05fa3062ed86dbf37fb8eaf38d1ce704a090adac8e2678350bfd81c20b222985f2fbd560777dab092c0cbbec5dd75f7cf3eb88ee328982d37ac1d3f87a6840fb41e24eb9248d494d3738812885a632d8c118f14a47a74d837ccfe11aa70371d60cce173d632903a4f765c00dcc535a61332e8fbb87003145450efb63a5f95de47b8a75023467cfc19c8efbada298d312dc0c6d8bd1b82e69e6ba1a50176c99afa8828b3d32ab4bfcd6348f0a541302adbcbd8e6c9812f5138823387b09f65efb57e8378a9a2ed3fa98b48c9b1e6a9655fb66fa2dbd38f99c76a24ad441a1600e3e664509b558e4b53112763b369d1ebc3703d52b15d744bb2174286cb1e57b4654dd84449ba02c04f8c16c076203cb30efdc184de469bf5462925ed87d4ed9f96ef8f5aa5d77640ee17d9f74de59027a77ab796ea7a808e321b0cb9072eec93992aaa914c645813e01b0def32e8174fb5ffa503a94f7d7b40d19477482e02d80981199582192e8648bb47b01c1fa588081fd79579dc9227005ad2d4f99178dbec0969c32757162f7b44e5aedcccbafa526fc49f82c0f474c971626d4200a655c5bcb4227894044093ccf50344bfde33fb4baec3304d4a4c882f29ac1c422a1a133a4aa046130b7ce4496dbda2ca01e771d9d399bf2acffa74759c667358748f9900a918cd6e34df883960e49a477ae3564f14ff57f4f7844392c55a2d94e36f1f0923754f8beb40da7a2b9a67fe1cd5d9a0722d1723b50c512e6ed17ee82defa5ad1f9c62890ff4554f1834c9b14ce40e5cca4df95bf8b809e20bf844b60454ba749cab67d22b436be1e2a2f52fcb44bec9a43a5c3b8360ce33b5a8bc12cb5065d113481eb4796de318e1a7b52efa7d9da11997127464af26c7196d98c1da29654a57a5668a5538c7b69f3713130ee94f832fdcb20c77f8c81c7e0e8f63a52762c1f45a5a28ae4f560865c986440330170cb8c849099ba79ec0ed50f7a5cb91e90a8d2f4994a00ad910cde8ca6644dbb9ddd7433488179de750e5de3c9e9dd9d15a3fabe3d6cf278d91713b41b96b12c41c3cdf8eb1216f0c01f6c433cec2fa26fb92bc4c19992508697b30b96db9e9cd038dd731642b892780fcd17ea6a6a30adbaa5ea6f1bebc3992b0caf58ffa24d767e084cbf10f589b30e2c8dfebedd3e348be5681d0f3f435d3a39d129e24d48eee1134e4aa8d3e1f519dbf9c0be97e5e3713090587ce08247d5b3d9fa02d5bcd4733886721d97a15ecc0d16d3e08dda6dcda8c4a1339bccf6f1ceda6392e23143ab464e63e7adeefd7674591486b597e3fe3eda87981207da9655e80dcc4be7ef56923402330ec6e331a15f2dd91ed148e5a5d973507997c6ddc1a8207adfdfd7924a7506cb6546aaacaea4982cb25e3c109eb6b964cd56c70bd6e4ceabe15e7ab415b349f26437a56ecc07a87f2725adcdda1b2071b8b233673970c3142c267d471481c1c7cabc017a124fc51102799d9a45b70beae32c3bcc7eb3ab83af939fb736a154ccadc2fdf0aa2c357de760ece87da9fa35189ca3588c0e53b4f4ef13b8ed78f2b1207d56ccea719125731f28cc163a629e469c6bb2255d0757897abe6a4df402350813d73fdf25913fcca860db60d788169df07ffbf55de269fce17a810ed4eb66dc47604c558a3f093a8c86fa8c3fa0cc90d8adbe361f4e7e8cda6fae4df6d16df388f67fa703c2a55af8ebd54b9190b711e9740132054bbbf1258bf7fc26457edbb12629b44b12d69688989b6e7a378755b78741d2dba16b837c5d77f62a6f8494dcfcdd8524790524b53a6b5a09b1864ebaa525d9c89e11f65627fa434d0ac4a4b99e8481c1d3693c49a6b0d8b6628acea6ab73e97a9f3ca14769a97fb47b39e412d4d796e80e6178c74de3d126656af1b5ea29f8b60612b530302232b5dc839a62f45989c6ed83dc24179697daf6721db83a3425d0f793aca955246d91036539e1536e5527ea5e35e8259cd551b8860dd30e973fa05c92888e4d32c57beca58003bab0ab9adaa478b2804c4bafc56dc0814b9232bc7b7de330265c17c04429357ea9049748b5e61bc41e31549cbbc27c069d3e1e915492c8544b5137fc26e75bd318be22fdabd825c4d7de1dad5f3a22f3503ca94bf22a0f21aa281763943117370f9e5f24dc3ecfdfbd4980c2ee05f91682bc5294dcea4d8aaa082212132891cd4bd513a33cf3612995b3bd235e86bfbfcca4d0fd4afb8785e24bf99f359d57edee90726397a8af3c583db3468bbeb6e0d0558fc3c8aaaf3cbdf196deb8514d07e15148b2b321b8ca778a5c897ff2f0c71ef41ebb5c81d01aa2ea1be9b1402da6964fb3c9c874727035a53a61a9713fa1b6aa8aefe3cc418ef71cf536594fc99ac182a2db0fe2bae31850b25d9e0be0279b628fd2599b9e63dcc8b00af4f140d58ff97496d84f69c728a2b0be3eb1c155b5b106ec68648a9a376fc751723a462a24f046c76bcf1e861f44cb79f1b7ed532847f56f326036285c4ac8e0f204198ed4a9befb8fda033f1a4b3a349a5eee602a17bb765affa374da9709064491e29211a6618869fd6883861115cb18e567b17e69fb24f031eb857e2b4f7758b23bb1c85feeba77a58d85d6e37d10c8b885e63024954290ffcab877e3a9e228c9fa1e2c09e7a08563d37f9f3bd50c27b542b090c6bfbb041d61a6d294030492f21a0beba66f4801b59f08dcb37df04e84782bdfb247de6b7b1b708c843a31bde666d0b654284aa85b7e1a2bf7fa8d00a5302496cdb0e1b8227f5373eb4e3e54b3042b84aa31c3a74926c7f87a45edbb469d18af00344a71eeacb45d4af2dd3ac555d748d9303cbd4511de294e9c2d8494f3d1d9e55547d01c5291671b1c59cf4b0b51216cc5d882c48988063861fa67c85898963c9ed43f3b5557da556669528f9084a29d49a7e1562e8a04a8c4732549d69fe77dc07534148074dd2e63b4afd4294d02bed9de4803c58f52b173aee2db1f4c892c22a1869c5228778348e3a77953d99bac6e4e643c4a1adca1e82bc1fc521b44e527f89d012864c28f73cb7b44b276bb05cc308bfdbc253dd6655a15ec4a808b5df63b526f2f87124f8cc5315ba53b3eb17d5249ce4795bf732ed69951828a59bc5e0ad3cc84c6204d4b29245f007281f435e56dbe7a8b489ff9702a14cbcb1b74b23c3f0bfebcdb811bb29910e711bfea96012b6f435abbdd6328caec04a8a704dfbe3f153c7c1738711a120cffcc2e84b61e4ee5ce846d3fa9ff123d9333dc8758342a825111e99c1b472ab9bfdb21ed67ab89fe4e1bea47ab7929cd69bdbb5c62e721fa10f331dcd568dbe2651ab502dfbfae120577a75df174135d76eb92edcaf7136fc3c79bd7738768a7a03ccee92b86352afd27415dcfa840b225c3c471b5e6765eb48807f4dd820041266d92be0c8299c221f819f15458c6b256060e910f618b1cb7aca5aae3201dc4e2fd93e538caf435a530fa4ae640919a0b96aad91e5f991d5511c4699228bee1b60e043dc062a1e405be94ba97e4ef2553bc4f2b88a10da6b61cbd31f7ed40a071094b1e79d6546409a1086f60e41c271c100c1fa1e2ba931d0a42f41bbb71649e0435f1dd88de7f236b81023f0b0639d1d01bb38df048c2cd68f5c226acc5d380f2fd792ac2cdc0204784c0b0ff32d15bb17b83dba52c4b8a2932f4b21dc9b3349a58e6f0ac631a0389049d047f976cdf744458e21c8ca1a83119a491cc3eb1ed6b04e39f9f32a5c7e5caf7b93f91f209b60588546ea171cb8ede8462710a843163b49e4a2c3439a71b46014b7ab7799d77eb9d12f2899e1cbafe6f932906117046cc5a2726937d07168179260c76dc4fdbe26e0b772355728c7bbe51876959d8398cb856316873bde7b0f2c4d98af9cd2a52ee11241e30f616f893e006735a19f803f7cd5e0acf2922c1fdad088793112cc450db8799c10b44b419d8ccbf91302e097b0d46cf7506040974426b24d6f1186faa26cec2e735dd94ce3e2e5f694ef12a5cb748d3efd73498a691642eba8b2d982b93f759288ee8ede259675e7e646ff159e4fc89147c760b8279bf30d6206063b4048f3adc6969434dddd71a5d73e68f887e27d84c2e8342565103b09ca862b238051928b61ec7e128dce0b1d35193fb863e0faf811c6892089e00b6be6dfc3760ee0454d440739353529677ca4c22318d4cc3e06eb84adb11a1941d575da9c8cc917f68a4061201d233fb9af83584a6551d24366235109fefbd0f8b78dc9767614bef79835f3622e78b72ef5d0d6d6b5d4f3c75e09a304b67769627c97c2aea92121f41f49de50848f2b0fb6023eb39eeb6f9c0e9ccf65be9a51d1f48749fb9d5ce6904593cede5020f046c0a84aa4316f6227e24090ff50c6834fc216550e3f34cd458bd7eedfc3309d2fb691c714eb1bea5a99cb350cc94a91a55439e1eaff40413bc31bdabbc8e4395d2cc4de81f918ac50eff3e9c83eed83b5691f3113908a7b84571a22c1b9dcecffe6fd942595a78ca2ec5e734579165f94daf9b93af8b3e560a52c62537824325be063d3f1c883a66c4926e2ddc23b372e1374ac0f58d8de19507d00ee09aa17c8b0ea9cadd3de011abca454ffc3204da99fc644fcb32d7389db1fc2d77512baa3765691d325ac7e351193c12730d4e5f59342c976c38b941465cf301078661a812851d2af45fe30e0a832926adafc9705b29db420eae29dad74cc7529f9752ca0d852bb1c9932ede74902ec04e85cbb2ac3e923e31550ed9050bc872efaa0ffff94fa540dad5c1e828399adb35a3a8378bab48acba70f15d1be835b0f7750ce342dd1a6221108eaa44b178986f5ec096d7b2775796e035dcc97a85a8b92323c29662b53f12620e63ca3b29d41f9f35856c82c8961ad9d797213b5f9d039408b8a66ea15067dc2c0224e1800adaeafddc1a7328e61f2999e6f45645dc3535f90b67cf3dda2554aa072c9c567f6e29fe84c4cc06a40eb5e617be58597d234ea6ca10fb202383eabd7a12864d716fcbb9db6399749c7ba18fd60f524bc0fdb1116fe2ea640df06b1ec1ea03c0d8b577b2383b579b6ec091a049a637b28115526d7cb3959518b4ff233307712b7994e5b2ad63cea5db96a545bd9a26fdad80abaa31d12b5278c34f7d1a9918bbe9c8ffbdb3dc898e1cdd40842206ff3d82468b94c0a344fb1a060f94854697ee09797de3a95592b83d8303517d7afd447cc0d43da1ad68bd8b6d065a81087db990cd9213c3627cba49ee3d06078fdc05f0f2034acb21a6e870615cf13e519b3ca13d2c02373e9d61790768e971d8069a22abc490b57e821393fa924087ba6752246220b5296c34abb8f8e84cd918bc2836a2cd4ea2707a14795ea88afcbadac346a657fbcb850afe3e76e22dc667c34798ddba077eec0a2ee768cd0ac65f10503fa7edbe2bc158a4e035f418c7a893abd40900d3b50e6aec66980e5d1e1ffb83edf8920e8c6e7c72aa3b7d0b530fc7cf07e1dc3c9354d8d14b014cf2d8b8edc7172dcd37f891520784a372570d1ec84400bcae148e5cd043b63c3dcccf48b3b0f1b3c62c7440ee34201097b83ace32737c9589700600cf137e709f265602a8c4656ca28cb89e5f9d27751705fcef114976518c74a6c7e80f830e7cacd5a13cdb421b6a5f4e68853cb106b459fbdadfc4620f84716bb0114d26bcd662c97acbb0e675023621dbef67413f347841fd78a45648188984176744fd5650b742bf8dffbb609c560b3931435c4d8040b55313221b13994b0d26c5617e1a1f3ea726b8e0939a5d558a39da9a7c5973a1e1cb90645e7507911df669663e2e793edb640a1898bffa24c31688b6bea693f20df790945a3c1936a89522ed0865332f17b638fe73395756481bae462b3c1a587ffc6b59906d06a850a4dabcba806607c92a4319b857c4cd656067f6d56d1c3e12fc3fdd117d1e21c4942399d4c4fb395a7ac160f53e426196bab8521e4ed6d7c15da11f10b7fd5520f9500edae85ad624586d8ff6ba0bfdd5b31605d988bb73e8f22401780d9c792b691261161af832da383590d149b6897243aa57776a3fa29f22ef930373441e2fc69a653781255ac17101cbf8d31a12ecb16287765b69b448770bee73fbd401da756b2e9d8ed29bcb8e614a24dd29cdeead3e1bf1df12601bf0b3c1d25cb2847a79364e2322c7c7156b7ac7675fbb22d33bc624e903fd70738a071acc1dce9ab2da3fa063b03b801022b9ab14729c0bba730ab4470e84b5fff1a02f7ee3c0693e0b99b99f35262354b3c018121896bd32cd89f05d053cda9ac90e4832690cd4c7bfe968d8d30090a5fe0dbace1aeb9973c7d6909b2c7679b19432d2dfbdb5ea62c7c98fae669e9ee7d34a937f9ff72a1ce63e5895272b50655d0f2d71810bf0a66f221069c7a358e483ac8d96e55001b69a9c7a544246226943969294aac522a96796cc0f2750c1a94b8739a772df68acd402a624c5ec4be87b2a598786cb23f1c15842573455d1f31232705b6a2a72bf3dfd4063df3458940c1181edaf4945b8b99ffb7551519a6fbc63e3a44d01d1ab1d1d08de9730b8af367317f3083026c920a1f66e89cd103c188b212570e2a9a51436dfb7a8bbb397aed6a8def4c10b9087ed8cda2704b3f5d675e71388f3ce423cd58eab9c5292c2dbd97a434bd691b044f749af95d53097b6d2a89d0965644fa276be38c93435748516f2bfb479bcca17fab1e5d2222e3278f80db306324f5281f42b930b7cc808c29cc97048030d518a4127bc8682c4f3ea36a073c35f1510feb2ed01718a4634cf5e0846805c19cf790f737a993ff82baac09db56ed297afeaa6bb07ade1de85d57562e6839828715461c178856d3136993866db0f6c2febba31353fec3d9cd8493a219cdfa7ec6bbc43bcdb098a722b104ef47e3cd55fc7e7ce325d3f3f70d73de279011bd482114aacff095b27b72d88434f4853b1e37b255aeba8d23c72831f4f0fcb3221affe65861bf98744801f27f14b65510f38f899e2d75841e9810fce4c63deda3387fe53609dc523c8f4a18f298534c0e9406f170c8b76eab0ce169132feca3361a4d006c2c7b6cf64270cd391ec2e34dd74a604bff5152ef6c3dde235ffa4f18f739a7511bd6f7e43ba0cf2d0778cb237db081223a1d9b9d70f53559f05546127e3509b34f404b8b45b66a0023c29b464654b763fff136a0388abde0f294790f6f40e0cdbdff8cdcf4e7e70a1fd99a5f74716cef919fa591f79d4bb1bfdd1b2f16cb966f12ced0cfa4355f39ab6391346effe8372d868a25ffbe879d59a7d983d47099ac54c41e06be75ed180b020f3d483f5506c6e2d6cddfe13b8a03fd62d0e33a99c08a80d3b83d2c10ca8a233058e9500c4313fa767c0c062ddaa6c0539c63dc3ace32569d7f2ce20de824ddf65b0e4dd0a3c584882af7d51709f316ea2c47418e7eb2b69c4fc0aad6a209c06a5a8a487a0d1fe83c65c6374e3937c5e97b6241f5c483bef6207d38183619dbdce537dda6a3953b059a93525b6348a1cde452302c55adcd5a1e03d02b8fcc37da3db344115ef0dcddf3e0ae74c5127824f3416b273679a09c28b746ab6fb6fa218f5ce82b8b81318fea9cc6de8bdc7bb76e44db55ca15900dd076dd845b33ad9a0719d77437665fed021afd44cb9356828ca1e5b8f7ba5e9cd5a4f60f00c1dc1d295f90743d23e8e16996ff2cc1840e3ca484635245273bac13b1602cd849b9b0db1dc644e50f25512f0e45a18aa3e18368f570e228c7d4ff5078be67441cca53242169ac890f3c1b46743ca95d5271269c21cae4e28c332f38c6a07b1fca67295373658a4ae859247310be4038f3650b6083da849a66f6cfa0bf5ca20adba5136647c8683d2635a80aaeb5f5f57054f256822bda2920fea2b8d99a103d49e4920b883cd50659bd2f2d485bfc8374b87959da170ec86a22ac41762ade198d84374e5ca21aea50ba82cc4dfce0c47609c15d0f6a65b42f5df78cee6d862c285eb5acf02cf81cf875ba9d01fb3a60bb7747e6cd85f310367579b4cf200149f3b20a2c5c7a83d30f8efe87d8e029b51741b9a976ffb704d676085584ad873961665f75af9ecf4ac097c52e030334522f53dad9c1de9637d4280bb4cd0c8f961bdedb849ffe26fbd546555a2d58a9380674dfff1b8a2d7e1c7fa2da285b6bdaffe82fc635c88fd953e07d3ac3cda25d13971db3fd6d2f32a38963f3465e5bcc33ed36d70e507d723dc562ca0abed176887a82555897989ff1ee446873fb22b0e95d785bb2290173a6b364944497697899c685d24fe29cb5f886f3d89c0d4bc7144f4540c8d5f418820660e9b01265b1a3b9fb635c02be832f082d840d047597cc29edac7100d290c90be1e02763d77134b0df5f5a0b266fbcea8f433fd4942fc9458beaccce927e50c0ab751fccd3567fb4cc066f01e43b00d6cbf93178ec8d8bbeb4c80cff64018768abddcea9c99549d2e9f87d4db53efb32a9ee521365cc49413d04e8a93baedff651c0aeb3a3b1326a28a5d12e91225be7b024d37e03c40a08bec2bcf00b127246758e6fe97f47e7f356f3055f5a1ac635f3775bdf21694fd401d0017730b8f8d745fa906b9850ab2b636e020fa5843ed294d30e7f6ca086d1201a13550beee92d5cd58b248ad39086aca462efee7e286a1ff272912951470df07ad70be377c5e35d06f16b09c58b35759ad6b3b9ae66b77b36d9a36f7018a14c12089e365a925faaf6a31261cbbdddf17a8db76cf8eb1dfb494c988fb7a9481e08358874a3e754656dc37f6e530524eb58c0b3e3fe19100789bbef9fe78d1b0ebea3393158f458d4929566b29109a1dba543a0ed01de644179","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
