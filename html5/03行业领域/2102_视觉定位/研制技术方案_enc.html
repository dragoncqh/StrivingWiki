<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fd9b3bea37bde444ca164a94463f32bbdb19ae83bef46ef8b26ee4256aed2e9ac2211db29833d47b220a94ba00aa3a04d6def8696d30e5f4b5b22691853e7c8d85f0ed5324bc7b9bd553211dc6ed1face38b22a806e00cd21f822d5522dfec0afffd0545bcb1e13741f6a9ac1e35bbbfa41e29cc8938cdde92637bcfb699eb6fc9749b1f0917bb1ad4e54d5b282ae0bcd1e7ceae9c974c276c302c4fa19e2bb5f147a510817fddde64b8f26598374721bf831a65d88b0587511066854bd3f96760a9772a7432512590b65a753034575b391dac31f427476bae305d52f171651918948bb72ff28e230ed9e0a598c7ab64c6967ee64f09e0b83fedaa5bbe65151ba4139552d2ade8ae37a9be512d1db14fc572e22911e5b7088ba52977e6fd50c9bbb3160a330aecb017a811ebbacf61e8cfc2835e250b7ad06f4d9ae6c16c8101fc3d99e51a533d72a82241bcccdf58a55b7e851db5c36db4b57d4a451b9f63479f2176ce33970b6e01fea68a29b3c93ab81802de930d674a199b50214d49c238574402b909936b166033dc3427dd13b42073da654e6d0119a3b603a9cf718450b79fababdec2eae37f615dae2f92114956c1b90e46e1b3fc646dd29ce3cf0a6a6a92d2918459544569109bc4b425721fa94070ae3310e81874b698a207fb68251d4befb34350459ea3c2a90bffbceaad5438aac7a2a779cd4d6041e5f3619641fffc63f76939fc81be158ae8df3d4a8a64a144625f93beebb63726cca851bca003593e1b30334bc8bfc0052658b50b663e8ec8175b0d921af0cd24a381c196ff343e56ac41d51ac9a2f193217fd98a240f2c42fc2ace13248c4ae39742eee0ac6786b73a7c7ab633efca475f1acdf60cd97696a5a24e97258b0c3f7901308bd5616a59ef9d639d49cff69a2b9962dc6a9571c10d5c0943e7ef1f1e485c0c0b55c94b0a37da2074548ace98c625912e5e69281d218e524acc8da4e966ba54e7b89f4f2dcf1ec1c806f727137331cfa0d4889a60e234b4b7c16b265af97b21402db445f74a9ffbc608415fbbff54067e9e915c39b872df5c495547209b752f72c4b5ef093fe9bb9274cb755a006f51a3629f186a4ccd805c53f28f130a64b38375522348e19301a5ec32dc68999358d467b85e605d139c92470ca3362e9b2973c08812f10325718b5dafdabd5ce450eef2d8ac96becacc04c86c8bb48f57397e551ef7fa678bb6d77aa4ed4342570e39a0f70a8fd42a23d61198efb11fe78e091e0a97801b8f8c081bf29f7d9c52cf06c9caa36e0f9150f5c954aae07803d2b833db439f8ff6acaeb24c866606073b4f61faad4b0a8e4e1c3b5ace6179d2bb9c60f39c3c9a1961dc00105172e686ec5e4a1a72c99abbdfa3955a20dbf4e3398f83694ea8ba81b0a6896f6687d65cca10bb43d2647e653c9cd41429aa9b8a74667687c0c0ccb1c5791fe0f6a1d396ce735f3b0ac1414c17e73750bb68becce016bca0e244c3917a6151d6e155fa71ea0bad7878a7df8d4e762549d99927d157a9ab24ec12a2e35280bf934c11d134eabbd6022fec1ea57957642968398fbb2614ea6deb14acd4f329dee739f6653b436eaa16c4226919f9ed4a338d219fdda3cf0bdf161b4c97d42ee03ac94061b8f4731e5b161f7d51def2d8e4ab8eaa086676eafd51aabedd9d38efa5d17d15faba0e07fb00001642b8659f88a55ad3ef5ac1062fb7d4c9809c7f4946b80197fd6b80cf2376c91a2a590054dfec193bf1abf4d1972ac9ab7dc0bbc6eacf591ad655703b496c993ce3cc15d069bbfb31bdcf4573753d09259b5806dc8922eea313ada33deca959cce456ff59b839920efae84b2ef187a6750cb52c40bf79eeebae1b539165e181164a900ca6203a883cf795d24af607cd3c7905df7113f324bf4326f83ca8fcc3f25d91907e9050eb971c60a5e480d626818f41a3eecbaa824578293772952f5a547d75f3f14e52539047fa179ef93628491e83a5fed6dfd7a224c32815d190b5d81c20ff451d9b199b75b523a939d00a5041504de2ebeeac277dd470e3e64ee67a203ceccc7e7dae5bdfe884d836aa9e809e8b26a7f359c49d71cd90b588ebf4e71c0398ff0ba351b43e2cf660ec32f9fdd590fcc6bee8b8d2055421fe5dfa4acf05fb2e81be16cf54cad2a97459b451a7de664d05869f08ae54d8b2960c4e3a789a8ce6e1984c366d5ceb57c3288a49380bced9c3b4938592c814126aa567c999524ce7c67e024d50a153a22e111b9d98764264d9721aec9f53bca4de5d8f56ec2ae27d14bdbca277b86d718b9318072c5c127695025acca47f53920df8b38965a512555d6a1e35b55798915cad5e94027b357c4dd205611821543464cabfefbbd3a0a83b62798bcfd414d96caa13f20d7db5c92a6df7304ff0d3724b98f8c7d3c64039e1c948897a9503ac3f22df0e496bc09bccdc30142df16ddd0b86ffa8a20b464a3f6a80ee04a51179993d94f0bb94fab779b3bfda4a34e1b49ca38b799340ff989cc9d870ab560439771bdc392a6f4835231e62d2facea227ea43ada4ba8c72a5446005c69dbd312cb06211f82f576038ff9a93f42392089c031f12323753b8fbc894e01c30c1b7748d73cd30da13f3399b22000a9caceec0f4145ebd96997762e9805e2a267c79c7b82cefe78fdf09a9ecc441e69b638a97723ac5ef141d24c81de211eaf788ae1895ff513a78dda0af4966f83743f5add784222191aa50e89ed8e810ed2dc01f40673613ef1b681899404de7262de55ee2c6586c96c562bdf4e7cd19b6cfa549a982ac9bdc4fde012a5ba0d164ce35ed1d0d269eed0fad35d4987d3358cad758a2ec73c9174d47b6daaea7706d00421b76c838164c746b23cee2395fdd7107598290c2939c555c016debcfbce1fdd0013edffb70dab511536101acd577c23fbbaec58f863edbdc6522efd4ca1e8693d76182fa27b42ae3c27f331cfe289b44138886f77b767bb49a25d13514e94d304faeebfd419a02b658bc8284db2f13478c2c02994e5a05caf564dbf84b36e2484a82eb10bfaf30fd854840a5bf61836ec644e1792d893fca5e1a0fbe5d3046180655e71f5f1a61b72a9941bcb990f266d6b96b231086b47d48d71d9ed3d97188e2ad5a17df2080e8feebbf52748a08c557524eb1b29e9caacdcb10f51d50d8544e558f88a4eebbf8866bb2cfa041b236d0fc98b56718a343008292388dd3c4f3a1880517831c39efb1c31186f63204a6a8b25a00cd320972318b0cdda0af718f484b7a8f9f7146289b6f21f1cd913ef322b5387c4eb1efcb335f6a7002a7eb54a9abcc0b67eb8580e735b08d88e741d3311d5e51b73ec8ff973a3e5f293c740e5713fd82de7ee7da2c1540011a4fb9de8942873f2cc6f5a44357a701488b65da635ad43bf68c924c4b8bd3c9a10d4d2c27629443329f17dc16de052fd8ba71b210c478b459ef477137c6e1c96ec0712ec9433699f4e3e6e1d03fbea5b0b39c58ba1b1702417d67a28b42fc692ee8b929685ae3c13e606576434c6621cbd44e26e845f1be6fc0dcaa2bc929d43c543fbb567342374b8f195f576470ea7d9321ce01714d5ade16272eda3d1a51fa7387fb7904ddeeed7ea1428163c69e03ef6570205a96e658b745e89e5c31ee1dbe1c739887088481b9405f06b980989017a4a46b6d958d60631bc09f794291676353ec11ea605a8838b39a35f4b256bf1ff8bcabb07515f4d3a3cb05fd73022840176965b0b2e461f0c86ca16998c2c9fae711dc52624e12044ba683e602feef63157fb5137631d8e721ff3dce10b45acb3f42f5ca857fe2c757b062fc0469be2dfc9914a422b4b6fcd93679b88d1316949d9dce4ca037ddb98bb5d672a8758a4db7e8899676f05514936a459c9470269b1327728cf2ac4c7621284bfa1930bf275ed3e96f4e2aedbce6e8d0bd908ffec6d10ea58b6be3736ec0aa635b7de678aa4db26e72cb7456c1e6867eed829dd520795d8a60a408734628bcff9bb70f651a1a90a1ba614944fa24145e6079de7302542b2d5ccda774fc8becfbfda8874094a471149e84076b455e0259949b2faaa50f1d2e8eb8634722ce4cfd1859ae28b86e8c20ee7ee4e2e29041f5209bdedb251e4510d463502b88aadcaa63a028a20b2a3c0fbb4f019655bd99a9326374849b2e3ec7fa73cc088d09d6f73eb4c5822014affe2adc4a5d8eda543cb89f22ba53af321eb431efbcf6af832fc2512812b17e923a8d7f3bfb3ec034f558da76a44ed1e23e3567cfc39d24f0313e11e87c38485b4f474ece3b4bb7d28e86191d43fd9c825ecfe472b68d8550ff1d69839f79fe4e004c102613cdc20d282b103a75bf307bfc93b795e75312c3167542a9312e800c80632da855884ca96de4265e41cc540938e2d0b5de9ede89bdcd203a03f15f4c0b7a8bf4b89c6d745759d3b691c86aa21a2091385af3ebba6877b6b985d20dbe1c632774145018d0a1d9d171470703f2b65e3986e30b77c589f607ff5253cf0b84cff03e31dee9567b27843403d5e046a34c6293d2c388906069c3495d63e165eec6019e0f187596eac48769d3b6acbab4dd98f18a63e000c3cb945b735cbd85715f3f54e30e562cd7d964c0b36e0b3fba5ddac1c386e142ddbd7446862e5655942a0e098b991da30581c25b8439e77295c3a5bd23bf36b33dbf21803e6c075bf794eee1aeaa3c480c3340899d1e50df689d1d5f7460f0947c2ff71e72145c76f53f83d8dc8fdfc85b4ccabf82f21a923c1608ec22b138803273ecb2636a066f2b6be1b34fdb067ed3831712ca55457a1fe27513fce8fcbb71295cc6596ec6ba0e3f711da9e4a1fe662b4fbc57df8681f93916361d7114c88e870aa3390d74da29800a00e902ccfe7608dc97e79fc9dd76e93127c3b20390f871f390abd0e5f38d5200cd47ddafe47cad20f369bb2bca31d1e8813b6ecd594a8292bff12fad93ffbce3fefdcfc03f62ebcba7de259d1d0956a1a39827bdabd103f64ffb39a8be105855d2fcee8fb69f669c0d2592e32662d1ad4ba028fa4bad207ee8bb6322c0c34bbbb5c28facaa405cd66deef780d017e4d0e76065c7fcc9c2345b595d44425eb47b605559c52d02f1d9ea81af5aa5715fb0313ce6accfd1ea46c45a0678e931c4c330a5c270002b8c65fa04e57649020c7416876ed3757317a9b679b5c629802f033f12c541163e2f15d3d3c2e8d8f7e4aeb5810a7f13b4615d5364fe37410fb5f1b1157f0d48fd86f37145e14e0480c5b7657c41eb5e80c32261a500b2f55b6c7d658760f5bdfe9485affc57b88f91ed38f8ef6ac5f74f2b86bb8cc98764390ec9c469fdf45e005af0b66aecb47f998f6dc3c066495b4bc1e901812b6c68f5f66202cae11574507f60ac689b287037fe99c9b8e5a752d8327b2f6ee300a5cf77e15a1f0f2434e8078116de08cbd35db5206e884995c17204984225dde23d3080026e1c452241dc94bdfe1392b5e9aed7b8d9a0a1af47e0dce02662325dee2b49bde66cb3e2bf0d2dadbcdf173eb2fc9cde063fff00fa201fbb8d6054ad05d929450be4c9a01cb19ed9f65f864aed015e1df3723f8a6551b012b65280d28fb6bec8ee0cb44d30d42062c1f76203819b244531f3f0b7e7c3fc9bebe77c3fd0f6f9b4b93b9fd8525fd7379b951b8149c363a8eabed4bab9481d18ecf4fb2cc675b7561b22ea48a111d041ef2966e32b73174b4f4558c83479856104004251b7ea6a33bb40a476cfd5d64108a7d20cd4ee37e753351d4de53f4183b707b7fcff11ccb86110e17d70f18d35e22ef67d1bb57003d32f677c9e63827acbb29340e918e77073de814f470cb2d24d820b59f641bcd5ec3aefc831a33b6d7cbf912ab440ff59c22eb43e6ea9b189311be19f63788be6f8248adceaf8f5a06d332b28bc3e59f995bae2f1c75e12fc8a9dd3cc7903bf4df73bdedcf85878eb5a583c3613091ff366641028396a1d9a89b0722db5a12a26a141c8436ba3788987c2ad216af201f4e593fc395f9408945e56511ef6746326ab5aa7cf23f4792827188ac073fad53ed22c623455f4c87f5ba8bcfe602557fe05198261d8272022dfb7e83742356496e485fad0961bec54decddb33d87e475c4872f0a99824707085569546582261f80783f3bbfe5403085407cecb368ec1630e86bfcd1a821553e2aa210946314664589c6ae0ff4339e1da975d5b1451150cb632fddd2d4850c6b431db54a385be5b9199c7178ca3e86da09de6e7955eb2896cd7b895d15ade7958deb21fc7c9f65d7bb06e0dfc384dcf05322b84906a674eba2d395c804a3e7871a81963bddb671392323a61d43fe2d15b1f5895d4ce72e1516f0bfcbc577a5dc5e836d2b72153b913620076cf8f6505e3dfbad3efe7c9763385ccf64730da10cd7c393f527ad02d6575c801e460c2a962601021b97cd11f0015508b5b0efec9497434ca32c7e73c990270b9624dffacdf4a08ffa9d34d9a4dfd96a22f0a5384a1ed616555d3533a05b9b60455ca369dce8733289c2d01cc34e9ec6f302b7f03b4bf60317e5ff34262cda02ac2479410b6e17184cfeac387b4fd9184e9141c7ae19a3cb6c70fc08105c290dd2aa75a983fc88a25ab7ddc3969092b3195ed6628891be9e2c187ba880378f8ea3c70e3ef7653cbbb04cf5fab9215bd78e42c580a8022cdd7ba5ca0d769cb1ad870e6b957aeab16bf3054cb8ddfc17fa49e67dc380d6497e0d66b660cf7cfcc16e5a505655ce2b5b1ee16463f369ef2d67028303e81dd5993edc7d05372497b46a8d4206a31698aa91142aeb59e995b61abad25ac2bcd90675ff9c2d5f8d2f256b80de087e4b8fc2109069357ed31b8a675473ab925e11838c1301cea938b3071ea12d5634b72b90fe42570f62ff44580b8acd8dd7b835f90b28cd1df05c6d40dd8026b9231912da9c410a909fac4a09eee5cda08a1d72136e5449d7f22fe23382f0e14173df1ad08509b4964283ca99b4be9bb7790772ffd69e5fd6ed90939e050029a62f89e2b372ee53f267c7c43a6c5ae788db84e122027a9589f59d200a98309ef796942011637f118419e2b5e2de6fdd3a452f3764856fe571d18d663e688173e916e844811370463fc47a0587e30d67f0ecf29014d47dd775c3409716aab47a92a95db53aef07cb2e902a999e7598d51886185f91165cdb9e0bfec9c81df384e3b8c6fece9558241d8b5405028fe2ca740b9d0993ec8bb0fa662d27561887bcb2bb51b794f570542d45a7708df170a4b8e2d4fa6f1d38370ed69303634399a9ce11114ab2800a8cfd1be346e9885a48550f64d9e4cf0e0e24875e5632aa307b0e882167c8cda33f389397089e6bea7df30a72d1ba395357a8fa39faced589f6ee191269088a5f97d40d44fe009e2d9fa204def536ab56310f43d4e8c1ddf4727f48895a9960d45062c59cf522dbbd28279db4cd60b9238060a1c4fe60f9173ff935d99902e66e12688d892f2c4ebfce12ef2189c31fbd476a6729e154381e7c8f3aecf45a4d2e0807f851215b979e435574fcfcce1a4229d8e1e006e9eff7be1645c4fd17f291c0a7f8d699d9215e8e81cf25714116a5da5fb6cb4d2c56c24a367264e660670252f06183d1088eb2d78b3986385ca9afe9db106bfeca486d7ba4480599e71066224707877b4b2938d238ea7b858048dfb51b9d1041108f3bfd4a7b375c066da9d7e9264bcadf6a15738b67a72f0082db0ef5a124f20677a1207cffbde15362612c0c1a6bbab2e6d671713c0f98ee6b95d93f6ae21801ed5f5c2fc6a3d8797fe1668f487a2fd7f2c9e19de870d5835b7d5ff528dd9e1de089416d9a0ed674f85c8ea4a3d11cce7cdded2940459af9db150218304806c5806336d43ce9b83c55e15d32abb6d826e06021489732f9a78e41fad3770beaa3036f0f2975a66b52b437b506f0daa66822ac85e3cb1be42e19bab62d3dee66d787f5fee7c5dc1c7f7b934be10f5f755854654a576dcaa6939aff485c5ba18418e395273713948b1724160f37249cd58ecf185b6b9335e84e716a594d19a0738ca558ff71ef105151ff0a0c7208cd032f3f89df601cfc3c26e22e8496e42002921a650f05b70bd486dfe04911713a78d678fe7988616765afcf3111d9299eb507e04ac9741a8795332d83cb09bceefb8cc6961eb79af5c1790ecdd01dcce49bdea8e259a653adb6494741fd2d2e5ee54c8e0e220c6f6bf091add525ba9954ff78ad4b6254b6ddd2b26942cb9ec2f9aa63e27c132e27b8844ef31a0f9f588c81c0ea994a6c1752e742a4f3d69d1393bf0f6d094230a489c5568b085ac3ee45046dcab811ba7a5bb49f81e60b2124d69adf3b5dca0800ba5f7076f93147544bedda99f964e265916bf5723c58671028916a459dc301c78c6df3c01f60fb86948fb363de6275804ab8c9490991012accdcdfe54c37c407bffb471c9a8d15952b4515f4e7b0ba521760fc5e376b4382abb5696a954cc6798bb1bb9d903e99a22697d58de96c34359fedde6711f136124ae039faa45a776e1b28c847850ab526ee50fbce7f65f6eda1951e6ab423568ac488ecd1dddde8723a1f951ec090862b1a8fd7c255aa148cb01a9b6251e7f19884dd85661a4ae024507ffbba1ad96a6a7694bb02b8d26a4d1852d8fda9fb947fb2e9bd5296ac12db78ad9b5f97d9328b462fb212bec8bc36783a680b8aebab2bc7a99c945b26258785904fa947bdf895d41a30ac8b240d1ae9facea2a39f913433f2e94016279c86bf613e0a5906aef93d6da85c81aca5c770a7025404fa820e90cf30c725c3f3796bea7fd3ecb139584fa8dd67d0652b80f3ad2a10d4bb4e7961723c8ce11d5048f3da76334fe2509ce8f82d974bdf05772437d7ada99a1106a356fb81daaad14fd364b18f45247381e491bd7b69c072992036599a6cfd3635aeb4738f7b3fd39e302f31a424c151f32bdd60f48b22d224196d68a4b919469c8c36bac35e0b814011e053ba5d08a3315e47769bbccab2b47097989c981bdcf6b5101d1f3f8221f0fa237ac389b4bfcc3f2af81863db66cea43b6c24d08993b4baf2cf3b3f926c8ae3200ea508402691c7033a5af3843776154a47aed6d6802e80179e8a453d5cae1eb94c6620f8b7b69b9b770be33896128f84a0adc3e66c149f82531e875ba1fdcce80c9187625ec45fbe54b74fd3c1366ae1a21c0e02dd0e33f46363e193addbcd4304c1ca75fd04da285095d5a8c23cfca3fb89ed6c1a09bcfe1b5eb8b123f556b8891edde7ca72c3f752d070651717fdb5ef776e0189fe9cdcb5f9cb7b4ad2f0a7afbc0f6776c2519f689b9642a1841a5c046b3cc046b427b5cb203e680030d352313053b3a957f71e59ddad62fb7af21913d7865d35b83e7a5ada22b0435e3a9612c9f3f1116a4ff64d3ffbaefd992a875b60eb0935c0c8bc88bd76812356aa700afa077779592d0f7b7e8d10eb2fb5564c2bb5b6d1444a536d706e11deebdfb44f8bf9b73e142a24b5f2f86f58b5ce1891580a4aa979e52bcddb01ae90093fa379a387d5c23ccf7e96c5954624df45708a61ca3dac472685747741f8005a24132aceaa66839aa90c42071557e9e17e16833dddc4efc3bb8b22514f0fb38c70e798ad803c5b4871f7b747c71ed0350169186f6558c4a598b2205597e67021df03dc46f6a6ecb56dcef4de22dc60ee488157a7e91984223f0ba86753061f70486a2618fa9ea49ced5b8e38e32b8fe11f42ab85d2ff756e15a7d9cf86c214144c539fd54e361fd88f2551e1520181b0dc7c31c3fb69e8e7793caac8c844dcec82d506d0711a3bd4ed9f95e57ee7264c2343a2da4e021527ea492f3e0554e774d900c5cbcbfbf1493d5cd15cbd67539fcabfc45960dd4dffe9f1d6f73864a71399c876a68755fa3ce8afb1c85b85ef329f85b7193a16fcce3e0456f4735b94630708b4c9f2816c14a6bc8b65b0a582fafe3c7322472c4715f34ba5e67e681fd0d67de5a976d7800b0335883b19b0e05d9c78b39655360197997467a41c1e8f58d874b9eb2130e13453df6ad5c76b74488043922e28c42659d3dafb5d67918592af5d4367dbc6d97a12bd76715af3326cede1d3d85d5c344d870354a64ccb4999012fec97264da3a5c59392f61ca473d48cf07fa85c120f64ca1fcf29610f424da62203f901803d447e625f16481f13e63165a78b7fe3bf3ba4c90a20eef5a2ef03b217632e68f87c1c54dcc8dc668f5873368761afa8706af5f626bb459f35c8111155f9ef0fbfa948f605a85a56b66b03d560c9fc3ae4cbf0caf2c7400f1b0e8dc0fec9e58dd6089926ade8ef8f1fa7a0f89e94c9fb4521e5c251a9b81f61e666ae3845e0e7e672c316191803a26800f9e439dbf7d6b38057157ac21168a5a43a23506e17beb05b9fb123dd44d6472ae65ebf443ed9e4274eff649b24490730aadab573dcef6651d6181303a43f4326c4c9b0960a5b526c11596f2d30bd2d654ac215795f095cdc2fd538ea46b6ea494a35ad321a8fea76445397247419a779a0b06ac0b62c405685789de8ec30e84525631cb327a828d7e6ad9ff2d0a2c005a50fc49a956181808bf2832bc038cd87d40c21e9b2afd4830d772e3f78e857d51ce57f8f55238091e423e2483772bd4f37ed3064d48882e7230cec48f8099e21a078de54e81c87a721a69ff7928b1f41c637addfe9f791839aac289bddc7f43099d55dad53ea065e4425d3273af62574d5022ea237938ee2bdc212d4ccf62e81a6ed9dc1a629ba82bcd0bc391ac016f9562e2fcff78ae3425a15dcf692e08e99df59ebdc145fd51df56fcd4e6ed2b0d48f626b5996f261c917977f40007a29197fcf55eb24bc295bc32246c68d097bca8307c81779622c438d3040ad870bb8040a34cefd92d7fae149a90f7126cc5672824bccc07db13a1849b68fe1c0f279b07997e02f0011401a2d31905cc2c18728eb92ccbe835716efd726b6583c8a0305efc69c357437b5799a31fdf8bc39c72642fc2f303238c278ed97f8fe40349a92535fe801973633405f395a18c1a5a5229421f05dd71c86bef971c9aa6e6aace22aedd6a0f53e89dbe0235313f5ad7ce9cd5fc6d723627e473acda083fee6d736f0c9cd6a11793cf17a20f04f5ce19edf53b620a124dcc04162169d4172efaf8ce2a1ad3b048078b9666f4883d7080baf4320a695e6f8d758fa3e3604baf9f4ba2c676f94b4e70dfe391c25d428433ceb7bd9db7b0e40157c7a7d71a9b6f9ce1265342417994e7c3f054938e78e4359d62d96629d16879e9137263ee759f5308a2a614afbb523a4d3cb2c29246b92d807048a5cdb6d2ed401507d03a483595fa5e70b2abaab8c8e5352f035674dc2dffb693c9aff490e10f0b8dbe8ea908223e7d72740ce6f68aca739d3be52586a524f85449d4a1e2c97d2d73a02ecb5bc57ff119ecb996151d27758abedaef5ced57b76a2f635063569f83a9e286f350d807d889b82f69c950c5e31f9ee204dfe1f139a276ca2161457b6f018bf13d48340f1cab9dad34774b113dd18df4fdf36db44327666ed35d8201e649fe4db1cb52781a21e027a7d3bbfbc21a4aff08fd0e59ead6a9c22d8836dc4307123ccfb7c5c37d3dbfd11253c0185e1b9a56b30d6e27eca11e75772528ba7e1a5001105195d0101efb6cac093c531b18a49e89449c3857d1aa140394c776da82bb80bcc9822f49042b2c4cade49966ee0131a9db77652e705278247d463b6139a748e50b1377f0267fb505b95b717a0b615cf1ed047d63c0b87ff67339ca0dd4830c9315f096c65ece2177d2db07d6c1431d866563ec0d1b0c7b67e7a2a76e325739994c27ea2a69f44628e92bc7ce837a3176e68b617e811abeeddb0c594b4f2c6129fafcca66a919683664e7ea6e027ad107ba4e18136051a9c86041197827ebe48d77fe715d2c07cf601dbfff02b34fd3c4e4d4d802cc4bc4d9a063cd0f412df9b2be22cbc1ac98d00d7939e6c362fab2906a6678575a173213594935245c5e60af18f1c50339f9c501734d4c20775f7f4788d11bfc94ce808f8a4788eea7d7792220ce25ec4d81ac7ad536d81cf55e77eb3ff1c44f88f0e7d88e7a9d2ec59ca8e9391f7ddd07ef26e7963eceaa7f46d235cd86fe2e3e4ca31d8979f2bf189fc9df90d1e9712797ee45156598d30662e2ee9398206479c161972686fcee201c2cd03810d31084f2cfc9bda4feaed1079f1045f3dfffac028fe4af189876e87b3611a39b0a320013cfbcc84d0fa39f7f95b16f8acef5491d638cb043f0031b17e5b3b1605c0a8d2587ffe2404825d3a056617e2dfd36bf6427a3b61e60240fa7fa3f2261b4e1f07991309d023397943c56274a1c7a790e4d22ca1cef9fa1156543b6267468a2ec375111a59c2f85fac4dd1c4fd658814e60902f39b286b0ac15e56a493b2c8bd2d968f84c4c496c7ec9942f50297d4c4f7821c703302863ba25276c781f5ea7fd0b3d30d6129888567f0e2c82b1760bd19e05381eb85d8989f327ff3bf8171d96a0a9618ce007196230adbca09950d195a1b5d46f2c2ae1d47f09145a03a6a78e9ab587fdd6d2331f780b4b68d4e4f71ad80bb66b1cc714a272c734517050349091429b02dfd2d8c1a95f98b7d78e3f5039c84bef177c245abc747e5a4d0de22b066b268ff9cf035d9276729bbc70c2151dc0309e5b42f06d11d66b0756d9b784a743823c6e10a2dc30b046fb81e30e81f618a699cc9c2835fc92fa8d0eb7fa0b639b87548489a4c9e2e6320d3eddc04e7d6db24a8d256418e0e28410c38df98b448b4f5fd049691abd8450d2440ea59570be8b63df1b120d3224412a3cbfe5f7da2bd181a3ef35ef5b4e290808cbe40826f481ef4437e3877dd042644b9093dbb144966f6ea1719ae03182163639b9f9bb4e84f403e5019849584ec0dcd8fb340d3aedb0ddb40e9e4bff2ad7df98f693ad2818e8674e6e840574b90136f0b806215b23d9e9ba94d60edfabbbbb1fb826a26407c9942605bc0403c013e893c02c8a3190e9423d7f0a03a336bf0a3865bdca6a596ad6f7f5f8e63c5fcc837d91242b8ee2c57aa480a233cdd99a2ea2cdfda90f6eb3004bcf49eced11a057f0c3487c47707a1d82206d8307270a3a90eedfe26cb5532116d2e13f095ad3ed314a5509e96cc41777bb2e0954ef022c3ed45a1deb70f583ade758e68b0fb1c31d6b4ae958d38b7e777eebe2913e8e3243267d69f8d9c5a411702c21357ca877f4c39dd06187aeaf728bce77b64407252ea84c4a8a10c14ec45f50ce134a73361e20ad990e89a92c24603a518b6342b2e0076d1b6a73027d7b489e29a5949fce6716fd58e373a83259c4a9942f3fa72e0645519ab35520f6dc836e0d0387a46d2d039ac3ba11e2818a3b0a869b86badacb97e924ad71b905fb5aede2f4ddc295de57b6b6d9062bfbdef1943543052e38ad2913ecd3369118ae140aa36a37458bbe335ff033e17c821fc76baf570822a81149a7428b7050be53973efd5a51c6c69d99bb3d4b9c9029d201b169e046d4b7cf99bce6b36df41114b0c8489ca46b196e6a35fd808ee8800f10d2d8276422cc5d570daae97f9a0dbece6d93b9bc4c0abc789c2612efa3e6f3d9d6666a7a8837981ab3752cbad563d6a63644a8e52fe157462c756873f19c8178ce771e0db48d42fa0adc972bcbc86bc3a7b5a56ac1bcdaead41d56323c9bc1bedd1cab0cfc902d2b1089fcf90fa695c0c11a3b2c6f33e1aefb50a1a2612bd53a2f0fbc81956b0b2d6c0a9f5a35670b0bfd750946aca52a5cb7dd6e62ea2c215d3bc66826dce2b79b5f4faf794c90e3bffa4ee9042514a1886343d9e8a5ab333fe00438f2df8d5aaab62a292abe80295cd6a9ba70791c455decf6d898490c5e1337a0bdc52b590b33bc9c09f106439e54024eba83c6bcf0c6e45dd03058b689593d03a92c3f8fdb117699669694a7043fe688b61d90d2273fbb9eb9f67ef7890f8dd1ae62ecf66250c0f893e666855a560df7aac2eddf476231e2c490cfc1a4ca7cf8c2ca58fe50315dc8bf167606fd73bc34bb1dd1b72660a3beed1255c87b95ac4a637c414f24b890e98189dac0197dcc8e5a88fe030e879e4c586fa2fbe9625675eb54f8959e8c495661b2f8b90d4811bf91f6ba1579f2ec508850f7b9d1b6f99d55383d5d0d3c2f4d0949e6ac275ec5dc4458656fc248bcce17ef96ac87969ad2810fe349bc864db9cfc63a48a79aca3469d0b1d284afd7a3f2fcf8dcdaf10485b75406df9240eab41180e0a4f478e38820f5ed292ec4be97aa1d0f928bc1effa739ffc41d9f6e1b1dbb3f4729e262c987d038d510046e8d77b40180ebe4bfdf821a693d78340186bda8f2c078593422cac2b23611b4a9da770e837ea20983b2d4198132818755eb8d549c46b628e4aeb02ff5d33c79b7cda1b93c25d11b4ec7dacdeecce3fb52e6d84eedc9ea6565a200bf2b86710919364b1b501dd3b7cf5d426a16a6419f341a2e8bf2fcbe2966d27a33cddb8be8847c4fc77aad752d477eb4be1e87790f88545c51640e68322f498a93c8b0fe78376fdb4f0fb5f2b8a61853c8ad7021e0da78591f8b591fbb084f070d155e886f76cc678f749afe7a3e3362724b63fbc6b2c29ba037c7fe37ff966dd1e37767e12f6aff27c943d393b1155adbca72a37c49bcd5d1de679ca2c7dd94ef7f1e4b2be3ab1625bf4db80eb3fd42e8575466bca482e497588caa83e836c38fb684cd266118e176eb03b5627d380505dbf528e5ec7ac9d51dd963eceea42f5c626b9d791a9f5e6bf584d2e935f9acd9a25cd1afeb979770a6ce26a628369b027fed7911a88659d9162dec85262037911fac1ee9395545fa3bb6faf1c8d89e920ac25ef6e379236093548b2b224480fe5f7c6bcec808cbe586163dc83646c0960165d98f812b6997ba5db27696a9167d2b3cd65ea0d892dc982317888f6f47e3cbf97e8e52b2891daf77e66548230bf7a4c279cbdb9bccb56077866275f4ebf7be09e8fc1a7e5f067cb6f728d2236104b80c6c40718728a1cb752e0640e28a9554849ae808eb1158deeaae3fb98b082ec826cf8d57b08fc7233a8f16ecd76e302ee94cfa42ad40c9c2ca680a69eb47b7b0e6a737c0bbab03f9ce3e9c3bf0cef3291f1230ae870cf1098207bdce644c8fa018d56b90bc1e6615dcc5ffc208ae947b64cd7b487378525d4d2928fd08d2eea1e0f25d75e98e22359cef84f99ff97143b791135b39298a95553fb2420c83010143b9f722f8908a26f09888c0317dc17f4c8b0559b3d38806913a4a9f8d8b3f0e4bb9b746f08f212bce296b96cb897528b35dd1c4e85d007514fa761726518e508797694dfe56187ea317026f0413efe97757680b0d3f7b6b393afbc70076ac7526f2debb12ecfba8127cd7de5d0fc6f71e1e297e9927a6b9b1dc5d535e6a654f7ebc1c3b93c543e889b1ac72a2c1936523d4a71722ab89115a50005c039a6b43c27cd27530ad0c33e0629d582dea22d7315c584250c913c03763efc2fee50020a514e639ace3f7020814853da2d30f95e651ec704a7675ade0346a899360a9841c1b1aac8ec2e5b9db9f562700fae841accf8952cd1868f52fd264f2e43c33979730b16dabfeb8e682bf5b2238a70bef1df0f34dd74a796a91a76ce2d7499db61866f07b7e8b1f8991ce5c93750980ed5bc130a748f4a2ae14fd4440da7e824d7ab92b62bd02ffa04c89342bf130ad94e3610f806b2bf5684a09b63f9372f6aaf0aafe7d3ad66636daf6cfc7b80f88648f1e5a08c92da08e343bf94dd12eab14e8d7d5eff329854999eed79c3e7eeb764d18f37c0c14bced57fed458bda742954ca5e2143695ff1b79dc65660fff930c6f3e6d74697063e666570bc63c9abd69fe72a5fe466797fee0c5d8fa6472951c2b4af713a12ea2425ea41703cb6b70d4572d3ca314e5939951a651ff179cfa7acfa20f2182093256cd6ff2d3fdb8f14f9cdf59e0d32519ca810e78ab4b0c1229f30759f7e980282eaa3d37c55ec8319a43cbad88738d844dd2995d9d4f9147a7a4ab21b2552a416bca9da19d2ea0140e572a8dea3af58ae2b3805a5d632b1b3d1a72c3528671189b9d8d14b68242da6912e2f17a1f4adf04afe6478f3c0e93f388169e6ba4675ff075edc912df4d94fd2b828a1d83f316f2af9b40d232c3fb78d4a5b051eab709bcde22da7ce8f430b4c0a4704176fdcf78861e7198ff1c991a2dff2574f1c6f1a7948b9718bf9d2878463c718c8b211b2b0fef900cdbbfd3d93057e95125e6b433a5bdc2b826a7cadb22bfc5312fb35a5dd8d5662892be65d9d053502e78e9fef98e51090183ef2f4eaa14230adb8dbba8cbbd31a3b691552de6d3af46609d95b3572698f9544e8a9db86de8ab7e0c993be8b19393365e74e137ba124e4a6473568c4f0d6592be1209d6c519f8a8c31f95eb97bdedb0f9dfa0198951c2aed0f6ce05ce59c497aa97b8397d515e2781183ea11ccc067d968322a552c25360fd714616aff03e4de4514ad64d6a3c80b76e9619f9d17f324683de703d7b70fdc343e2553035be8e024344865ff44784574ea6a0806bc52b50393faf98237cca32bde3c2bdcb85a45058b33a6ae36a9df772ca43be43a41d3e152210c8dd7ff8949321d77499be1449c732b2545a400c53a8e7fe2789e3d23a46134957ffb6fb4f4c8af7c010992a43b04f73b2487576a3896c715c3319e6ad4e8f8161476ec81d0a62d5c5d71e63f1394b72c61cb4c58d439a91842d7a6c47dd2714ca1d73505993b128406c3cb55ea50fcd904dd3b45b08001d445bf3e159a0183a66ee7b1992bbedcda71adc79a936788526c489a65d7d40e280a8d33e6d4507003027f8ad15220e784386ecb107be9c146d9b8fd1669773766200963cfcbfa8790bdd18c8f8e1fbfe8185043b0111d0b778cee5a4e10a671d1b809fe7074f9bfa758bb7405c606a50732098fbc528803b586835642f0229be497019b3b5da610c2e011b06119d928fd0735caa4e3bbf3d88b9a3833d194aa3ed06f5f0fd2b91d1a17335035db38670ed52c04913f9b2aa4b301d0b1b6d0dd33cb26878c16e751a1af1c45abfbabb03ffcda9537e3e10c2ea61053d1db3f76cc2426ff5489d40284510b9f783a4dc23e7cd11623a50f2b5b5150038769caead518e52ed313505ffb767ff559be86fa99f0e378ab292b30befeff66ca13ad3e1d5bc599085ce77fb77ef4bbca69c941519eb2f620e0932b42918788ad8c714848588d4f6e449396578b9b8341ca31a85c617e62558ae0ea73215b75d9f8bcfffbe2037ab76c5223d1189f0adb7675e8774512b90bda554469b372aa3156ad1f4cb347337874c75030ab79fdfa7e17adbf4c81f43b8e173b112a0c177dcdfd2e796ee95507dd9e6be0557f2239b263de94d25b78e00e2e6934606dcf6fc13522767cea9650dd2dd94b6f51141e524ca6b76c7c3555f311eb1ecf28e7695c2358fd86ead9507bbfb68ecbb5a3abb7d15cd330aad381a88e560a193a35695ed41a81c6fbbf148140df331a76b8fe3dbdc94c6fcc259e476a4ef1ef3ee19fbd451230c7c3fdfe4603a8e564718110af5e5c1d55816ed02267608ba826a40bd70176f839065c6b72d1994ce338dbbd46ae35942845df1666fe45ff7fda0136597b80f71acc54bea33385fd326fa90d7dbb1a50c0288d91121f6ede7411d703537e9dd2077e895ba4f8809fb5cee29ee1983fbaea4451222734dd9e5692badbf85e980746d4f8bd5ac52fd18afe7f457940d818e03218bbd8b1ed9797fda4a6beca6bb578cce7eaf74bb5b2438add4b6229a169325fe4ea7e93c664f8a497e7c805aaa9574f23aff6eb49bc41703193b18c32d6144dd7ce9886b9c402a8de145e4cc83722ccc8b2a4474df4447ec4340cd097d6f8e8d822536fc5e8ffa303dabd7af05a1dddb3c2721e307f03b60c946e5561cef34793e91a7a20918936e6db71ebe1df5be23ce8f6ee7a9f84ec34cb4c0ce7e87bac71244166887e1a1b772e634cd186b2c36363e83c7b1d81498a3e4060928c2906f42bd0d748e9b0cf633900484ea1c82575d191b57026b86f35ff43956c91f6c553215e3b609f4237fae5aa8e6ccf9d2697121ba09cc59bad41d69617d88bafcb5cb0a0ab2c3a9d991b16bf759b43a1d8dc432dbffbb5d572e6553590441fb39aa0e31be2a02ac9f6db27bf806e8b3c971ab81877fc0cf321742ee9928b29c4315b07c6069cbc7e0406b1be1f332914febcc404fabad24c656b0ab66fea05ea0f786baadb804fd00b374cdc9f08818e968d80dedc92eb87cb28bbee8359ba04b5710c1faf4152b0bf97ab17f940903262df4870d6177169019761318cef8ddf2e2735d0888911d7aba36f1588ff14bcbd1150d443e55fd62a2f3d05c65606e1c43a185ec242c3518d31d66df9cfe7ec728c4fc9642a59d139c62341adb9ba41b84c2c3fa3164228fe80db89f92ddd3a21d70883cf23fc71dfc9216ac2a6293adaa2725488f8f77f586ac6f8dd055c0e69627cb90fa222d47955ab74915fca57978b5ac247434c2844461c0a994094c489ba476265b17e9770c605cef2a3c93524c71edbd7b7bc26838b0e8ce9815f7665b25cc03474c3bddb8fd8f5581d6f36b0d524a6b26a4b1e5343c93b3ae38314d4991cd1f89fff1dc613535dd77db3c009057bb2a6456a7c231725126855e44261171237edcaafb7b2f4747750fc1373eba2c4dd883960b36d479bbd062b4db52a015cddbbb4acc241c2bf7ff8185b58644618e99a2b01f7505a3ff474bbd68e434b55ff6fdb45614d6e79b8de2522a8012d703ebfbb7eb7ac37c4a91a11e622bb9bf42134c13adc782da697b193d324306a2c5dc209b5d9e8989e958f9e015e011066959484925a0c63acfa4ceb0c92a77921b1daa3e2b905f1d80d89cd5566eb3883a511d80f3d2248b35151f1f16e909d0580407c1938709a128bc7519d21a4ec0e42b98be6a9656ed2af0ba333f1afe3e57b692891fa5f2dde24eba2b9b94d71a22d96c4c4f5b82bc48bad8dc0ebacb011e24dbf1617059d2b54b53953ae728b222405306bc3183b34100c282942a0774107fc1c0447fd00656a4a02ee0df91e007b463551f4b22cc617943eb5fa3e44f90237ca862611ff75fec0052d1cefe60c07b0e8557566ce2739f95583ad06532a85b8efb0595f87896814a06bcff309333a62395ab21ec6f2024cf9b55991072c0b24aac788b06142fcddf6b34ea672a231723149b21a5f2e2eb45a15928322fe93b12ab855bfc9a6cefd884ddca473201487314e33cd3b7df8888a667e1d53de91f6ef52eb1eaa9b5e9bb1ea0560015fba49caeec9beca5eb952df67796e8846b84444d0cd44e6de51b6b4f82514a41621896bd06cfd11f0006bf0e9725b7a42503c30d5d74a8ffb954fc9c1ab93ebd02eda774fd5bbb835ffaaf96592ba22d72b7dc802a82cda9a3392db2d9733f6a4b5c4e976f375a25410ea5834185680e2851635e6a90547f45504e6076b97890793f7a8ab1f19ca6f10a051fe116d188b17b35f611136fac7e0e657d37f51dad1aebf1ab4be5632a850e4308b0427c60a87e0292ceefb18abec05407c9f0303589eb64d22c1bdeba0119c9061aefc0ea7da44891867f533a666a6cb08641303164963b15246bd16a567e8bbbd4d02c38d8f5f0f1c757311b09e8b6e4ae986b687d2c7ce247929af14baf6c4d1c52714bd92ff448a6f45db2e6cde17e3121b61aed4674ef42e4d0472b7998540aa1eb3b998c2be49d7351fdb11742a1271c07f8c6863388a09a8e883a68b180261bd08edc090435363eae9b1454f5267295b3c291ab4ac2663b9867d72511913e653bb3e8ec6d5dcc82a34cf9db774bbd4407c8b8f4e5cd9fdac491f4ca2a7e136ea305b3d78760544d9eb816437755de74be9cfc7d8d198cf5017d69c221e33a680807723d784e1ccc7b8aca5f99161b2315b3a9846b7ebccf2470f95c282987bea3b591e96cb2cbe8f4bfe7df5b8545f7570c6a300b9381e7c95129ce13b4b47faf2c614488fb955a175153377a4ba3acc4fc58b18c14a2efb645a39293b91ba3efaf15aca4a32bd2576d2d9ec913b5861cd6b55d3956063d9e8a662b26517d7aa65b7b27b2239baed1a0477635215ab67f91ae9844fb75af36fb48aa4232c0a7934738274a90b71ae3f3e56048163aacf7942c471069d2058cc269c78fbb4599d1cde1793b126f57719bfda0967954ebd744cf5b2dc2337662cf68e4c6a036742533894309d7e7471e8044d90ef14ad1ff8a075413ad41a3b55357417a27cc93a76ba847a662da7c97c5f4cf2c645f36fe7fc87e58e62e773626f587db324a3ba71c6e2ebd7af49573dae4a06cd4d7305a85d78ffe6b317da8629d56d900523c547ede3f70e18070ecb8331b8e14773244f5950c55b97e4e9c535a3feeef4624de7afc776a4ae2e94542bbb22e7f6a4a20ba8d2da3fa021e00c9c749106bbc50b2d2a9881035e1fab32db875c7453cbd241e5fed9554b4bc589043faf99610201aaa47d73b41e65f0083da8398ea8dde284bb9819b8104aa76eee66dca639c5ec93ecf0b6d318b4f31353826c740d6cdef79f71b7d75430fdca25db415cc000c40dd2dcdec994b5285dbccf5b8c63f10671b95056fb3db213db81c31567d940d73f45b943bb98ca372d64f67b6c04ee79d9559ae5ee73a46340669fc9bbbd860d7351134322a070dae2896d680c0c3b2d98cd294dbc8b84f5cfc5601b9acd497f46683df23f7ac560d7b15bf0992258be3a95ebf80f068c8e835d4c97b7a2d4e38a6f757bacb39bea245d17914356e58c1b1baacd15f689d1cafdccd98deea0c896867065a86678ee5322c7a3e8e86f5e3b4c6e082cd8456b899091ccc43d20da606db35acf64cedbcb45ae006a167b1400bff5f0115f3b837386d4a45f5dcbde697808361eb6061ef411e79f287e242a227a493180d4fa785067e8adf23f17d0644d13d07c1fe9df2e689834ac3756bd963c4fdbebb1b40dc2779907a76f1f9ba6bcf5689283aa90176096ec8a4de565f25545801c967bcd4c8575c8831218ef8705e2f37409c5bccbb05b9a8f8b302a0925eea71cc34b319a01005d228ee48ac67ee60408c3023d2cfaf7e0c3706f972a22224fa9439e905bc1e9436d38ca1430c3f22861e57e4a00cdc0b054685f0f5d118a8bc27f2f017cea65c983d9a3a33a04adc6e57a77f6de1b8d08bb5a17b4f34b1d540a6dfd27595a7f3e846336beb6278f360a2d5d752d14a03bb10eca1d28cfb7ec7b6631fef8ea57393565ebf6f1cc5aa26727a965cd35e4332f339d3cc276c1edbc33bb0462d3119463db6417b3b9c45d089362cb0a068efdf791a5d3000eac2b8eed564cde29b77b2ccc1d089115d689f85a0af1663805d78161377b050e6b1217177fc97a7bb4a2c8b76f117be44c86a937c3b39a6c71b5106c4eb9c07202c1c2212be8a93970b324b9f009203f1b2ff0a4d2a2c61970eb551f9d89936f3e6c2894f3cf6dd22d0b296533c043682fb7697cb26d82716996cad22824ed39d3a270bcde94fe3334ee0489fec4623f90bd3e744faa47845235b6df4f2d2918a30247f2be1e75b677f29d2ded4c50d5e1fdc3f6d76417c6ad673de2a9062f2afc029fd0e021778bf7d232c95719b6161f126fb6cb833aa9310197cb33dfa5ca9c1c16f3219300343372c6ce2794a265e19bd6004593e9ac03736892bb2f7ce68f01d20512a29663149ddb4b50dbf9207bb4ab1507f448910815ecbe8b4f171e5d845df4d0e371239795251af2c1fe9093543b5913868d4b662e5d2b61e00988ca777da1b9d5696a92a6e772614232ccf535701e0254ba69ccb6029db42e9fc314a20e72ca12a0bf7b4aa83241f9f684a6a8a29e36766468f0d1cb2a72943e18a6687aed9c64cc4acc9e27ead894cb15e00e199bc1c3cf142d788c0797c93035b09bb77152b7086441430f63795239011f631103227c915399a9449b0350312a4d7f09b29f399aa2cfce23a5cea5e48a46d1d769f0f661541f788136df39ef44cf5e6993a7382fce199b28016297e78a30ed578ab86b515578a211e10f81bfec3d83e0e337e9d92db2477a15772320abe1d8b0ab5af5418c84c79e74fd09c497b4c3daa681540dd3128dbc601649ed9d407955fb09c6e6ce5b8e94d703b8449224992facf30d0794db967f4f03cc9dbceda5052736b69452794f35dae8bda4e2639487bf04ed60821a34859d5a1260c70804f80b972e3022b5b44a0c3181baa362a4313008336fcca0ec1750153768a7dd39acb2c9ac65e2551d01c98fdaf2ce19ee8e06691b9e7c967f9f784ff0cf10bfb9528dd7f508c5e94bda26d2ed3fa42a8d2e4760e8934b009296caa531eeb6601d4b3fcdcc5462d11b3d31b5bf7aa9c6aaf70ccbf4f4dd428a0e805ebb824a62af2bf4b62bacc4754132232bf72c820c547d4d3ef3d8bbf2ade16765d80781473c64ff96b9c398402f0fd0d71db8c6aa659767093f8b715475ae3ca0ba3c5771c09100a84a2b57635e1d3161","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
