<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dad3cca587f39d34089b3c4f9db9750f5e9c4dcd794b18e1d13a5c17d764e4e822d02a8b038e31de66c51ffb479af8338a50fe976925f8a0460c8920097752861f9a07f7b4c86dbcc8ff08ab1bb4a07e8d58a68fed76ca41f79b9d1991fb75cde16019f89fa03996797de6ccf9218c4d1921f5fe1674c8bd9b3bc2342e630c633e1ee2640b396672ad78932d6b64cef3d1a521e095d87e83a80c0f9b0e226ff98848573a6a13b382a4b9f2673f1f44e5956afed529f01f71e5ea10c3fb64693a7df2b194c437ede0f76918bfe3152ef625e49d1a33c773f7fadf6e89fb2579205290ddea90cd95f85265363cf7c2b555ad1d96d348ae938dfdbe98ad698f9e798d87638c710dabb7ac918963eddea27f44178c97337ecacca5ed728a72267c0d69cd5bbef8e64e69a0018af42430cc4915b0ae1bd7af4433f6d7c6fc19fc1d566002dc34e8dd92cbfa57a8b7069878efa760d1a647b8ae76a178745fbb1d6c69b706fe50769e8257c99a737a61b99ed50450ad81db5459ac4a6c3b93fbc763e40d20c6117bee3acc579fd920a6f1c2a0f5035791800b5a4699bc8dccada49f2837185c93afeb999f2743c64b4c0be12063e25dd2cb0528ec2a222f39db2227d8038655f8085de8213cf1d62264f855861e0e7beab6deacb982517aceb97adf26112027c7cf9f1ff093191b6a2d14914787627b6985bda368385662391bcb9b0035418b28e4f57174c4768dc5914610ba548f990f2132fc7c60d2b3769b1dfaac02837f38430b757f4e764b17e979778f0e0955e94c429f47ce96c11152da75bc5c68697ea799af65a7b05ba4df69310da55319b3d16a389d46fd8e242e578cdebbda307c1b8b797e5de082ae10a0ce09b4f5dc04234530e31311a3e5bd5b6f1e8e84f88454e974b57349cb8536698ff8dc4668edcedc473a3318f827698a561711163dd6269cb703503b32fbbc279cdc528ea207d395747890fede8bc3d60461e9be301bbf5187d4c0cb0adab2dc6c927ebac228f1ae71c33f32e72ed2f60772cc866368b11d3b40006b8bddeb79c053c7f057a3ee1f011056d24c2c4ecaee9a17608bfea0682e893b59891942f85a5cc37dc65661a5d7e9dc95efe3595bb99c5fe7bc7146a0c7eb2e6d4178fef7e82c5154b73172aa16e52ae85e9d6f1d85cf6c0f99c6b199a19930f6b286a616f93ebbc976e4c33e3e05439a0bc2f66be399756ad3463789987c8332a1984d928e5ab0a0aebb90008064b715b2190131037ef608db455e8e3af73c7fccaff6a2f3c9a0c6a2d2d6b50a0a70214f54371ffb9640ec6a75059391d45fc829c176b4854ea3c8990dcf8b5b521819d518ba87fe92836ed53b622b715bbec26d19d15e1a2acda2fb3d16233bf096e7e5e9eccdb0ce5b15389daec5ac89f50371e2201bcb043cb33e3be4215afd247c91e3217af99784e31f46812373e830f51821dd3f5afc04744201925fe534b020edc360f1e4ff2f71117ab6ca43682c851bd2dc731972d3ac0bb7085615d63ca68183d3cad3f8e85c9b00c7caacdc88e35b689e0258ff442deaee180105804d8037ccdca56bb4c9cd44fa2ad34768af58891d59e1fe8f3ffb2ab3a1b2e4ec57c5e9124c01842735c77d8862efa5b125721db4603fe23acf9d3adf5261d3f2652a01c6df7df4a28273ebe740f406dc9867a89c36db1be03755edae8b4e594a5df208d7dc2377fdb970fdda0b21ed676165b073c6645c45a94489478f5a767a8bb0450b5158a9f379fa5fdaab24e2d4c50728323d1c0e6a850a4569b7432c2d7a34b803ae6002ff2a6045453078bdadc9c03cf9ace2ed838f0363049cf3feb2e2570691886b3499c699d8ac23494fb054336f1bf2b01ac30a907ddb7a881bcc25f426da61c96b3a5ac4ee0a587517a29792775a4c199b08cb6e97b42ab325804876eda35d458abf08af76e9cd94df5e355995d11deef6769a5992585274981414dd740341460d61b977ad93859afe8e2700d5babebf7184b0a02aba25dff1456a1919ce4458502143fbcd88c7a5cdc3ad353cc30c3774610d11147318ea0dd4fa9332d68b2abfa8ab176a19995f02d436f39445160ae3a586bddfc9c26f6752f90ec7f1f31af38f5231d3b173c01b81e0f9f48a4c2df05c4cc90f204f2e55cbc786e08b460b882a4118d75de6675f33420f6146d21a5bcef9364dd1d73c767ba93c1629b45a70a11592764ebfcb38c2cdbc049b1f896d9a8673c737ac526dd8675f36a4ac6a19af95eb3b67f3911ab4929fdf4f8ff476c3ced195c71086c6df666a8b2e47d9c0be46c04acc2c802ebfa8ab55ef789f693df660f22c911c88bc92bc147064f5e6d67538c09410876112980f3d82385f7f5d9c93a172e43ea95e24992fea49df91d852a9ddd033607df03118760749f88bfbe18522115567d7b2aa13bbf4d2f4b717b649cd48f265496f2b34c2124f130d7d53152d814d1eb8b58400b74983cedbddff2e48a8374895296b63e97e3a7397d1704cdb96c4675afb2edb02a237bcea28dfc4a57e69a971f74ada2ea80f1edc8e6ab08b2c42c699185438623dc2a48a6eb57d874d7f048d1aaa179a05478144159d341a5764d0813500e6fac4870962cafef34ce10baf3067e6eb6b961cbf8b4e63ca4026dcfe48734fdc22273e5bdb272d63f825cc03bc89d2912f8a9cdaee2ad4f75489dac64062ee32fcb12f2e1554cef468e421bbce2f1c055825eee56d0f1c9476fec083696756aa6ad05c452b9a90f83a687a9909342c7a6b1a6397856cd7a1ca873a107ebfa07655aee02538f11327cfeb980b0c772ae3fa57b0fe1148b78bdc9287511bbda23bfa6b1a439d67cbd56bce1ab21e9392e9d33d0e693348089a87bf568081cd4a84791649d94847830b3cdfe693b9c9fae1fb71155ee82e369ab0b27b0640fbd7b35a364a92631b26530227861e9b58829a7975f9b4977b3d9dec18a960fb7c62f665f627e30ea2220ae7a9224d1900729298475cf89628bf24138172002d94313cf963c5da964c5b3c5ff2d6f8ae2fbcd864152f924f4c94de9a38bdc13c1bc45021e622b34ef0d7970fdc0593c0cc1cade9017bca1428b2e782a771b47fd7d19178d38e5c6a25522f53e439e64ac36e85246c844db174f05d19244f6f125261017d91c41bbb5307ce70149e9d285a1f407878489d100c588dd895e282b13d296ce47ba59f15120c95971696d3e99dcdd0690b4f987f000cfedcab2fa46a907f77945cb2b2f02257f540183dcf4d7c218b613ebc1776410d8f254d12deda3fe01b647151a5e6fdbcaa8f3331cd2f4988b5e75bfc4aa5386e4a6bd4ae39e10c99badaa86d67882ded060459546e11d45763e76c2699f2bfd43d6c5adb3dbd4f466385de5bee37cc1b5684864d85929aed9fcabe3e102696d51caead80c0b094a4bc664536544abba5a4084a7e531457a2e4cb8ddb20999e0ea845f81b3f49f7975a20c8dc940f9c2368fb4aeef56dcae73a6369e899894d7f98b393337b16db3e6830ba8054c4988da6899eed869baf61e276451bfbdf688ca3b2d6d8d531e6b3fbf0156d6e7a88c891f47a6664fdbb008b0029c7b08ae9a587722fa3716acd5238113706a328b63ea5e776ef02bccc6f9db4f7e6f13b4de678e5a361d1cc0e792e5dc4f2adda07771792843d331477c5043f63c0de7abac135510d5caeb425b98b2be27e7eb8faa898d3d0f57e4b8ebb42db87861e315d0ea5412ceb6f5c3e632b4e1ee0ac16dfb8d752998ee1e68263bda5d7df9f360aa06738ea7b78c3a32c6ee33bf05973e20e6415a5be7c5eb6fe484f30d0a8d7e04dca975000434eb44b71c4444f73fdf8b534e542896dda4b97e113f68b8132f0d2f6f834fcad49e2a952bc1e8f2a9e383a2fc99db8d72088e6851d8d63440400ec3fd64e5b3fe11c0c6dfb5365ae178659327edebbe6c899968b9939c74517566a5fc75dbf25dbd866be9c4d9919efdea4b32648d7194beb683f48d47342c429d9230c7e5f5b1b8ca7d536c6cea0f154855cb854600089e00da051e313201f9365d8e8289acea428130e1bf520830793e94c24d2645faa320f47f6b06f64203bff1a0e9cd2785d041aad11b1397c91a7922d828385b2bf6f6ee520b3f7409b5a90cf1415e0a6cbc22217ee3d3d51457f2dc646e70c46c8ab24054eb31d63257b10ae3746cb45226bd897bf6d6049f02e669257f511c718e653657c7f849cba85fb4e1c60abaebb6fd603539cd1704c44316ec7c69fe02a7937df1bcebe6a96ade20424c974c69d5f377094839f1c74cdfd234d999a8ce6ee645ac31c2c324a22fcc37e55fca9bb6e9339f70a11507700f4c23bdc8afadbd5144c9d5fe1e4d177931690585fa6ae0e767badd2dd666e0895a8785c3f84f9ee76ea323a7a6c3910e4cbf77c20937c02a3216441c34084c79a1b22fafef42ebe49e56a303a81d8d0330e2e05554080b47754300e981649b9994ee55e5a29cdc6cbde3ea23531d378f05242624e6a4b54f3e5b92fa8b62d58e421508114da913f0b3fc10d85ae216bab7cc59775ce0967a03fea785e200692d833859d9d482039c6541f21b7929614f203189f0e66eaae5dfc963cdbb2aabef6ff19039e5cce6467e9aeed211ba602b4d20c147ba1ea194c6bec1ea753a2e35ceaca9742cf366a72544fe5525bad6ddeac820987100759f4d6378956613e08c32fdd66995db8213f1d6b90b8cef847ef5fba5bad377aff9601183793ba9a765b1ba426a51aad7ed8cd9a1a3a64a4442414b57a49d8689d4f1b64381f0fd685fd0c891391bbcffb5502c045df34d1afc850e0d239615c470de7b921af0c5b837c7ddfbb8b0c2b620003ad548892a98026ba91162693c17516d647a766ccb917314cbdaca71a9f3fccc36ed46e64c5072dd03e9449e0f07811746b8d1b500fe9dc191b2ee174ca0335953218d4d0e04878a6c76d562827366238a8a88fd3a5cb3b30ed55e28216d401dcf3e293d28e2960de22856079004fb75247d80fc3add36d2810e65bb61c904b9ebe722ade4621b78951cf17a98835ad5554ff74435506c767660013fcfc66b7b1b705ed2c9338d118c39796597fc5b2368e43a3bc08ed75c30b9320945a4ed68cf1526aabc3e2eea322416391aaa73ddb3c06b29a95a93fe32ed4574072e4cbb1fff5dbfc41738712eb8a3928a1b3acc73d4e43c2a79181439d92d49d3b2805a790c33d676c2c056fee9ac69ffe6b129ad6141b8a1f308b596e647ebad89d08f09d7025977527498670fd6d0bfa6564948b6680876f24f8b32b9b2062524a06d7ff1ae6259f66232af2fe462d422a8d1b23dff7f19e43206a34740f927c0494d3ad03aec5a4678e97f09b8045f00afb87d0b06fdc45fea1ef3dde6aafab06415673d846e7e82a26898999f8114897ce1a43f868da1431eac4c050be353301105452b5ced20f0dd6217fd6dd8cbf9d926ce08821e9d60ac4ece453b3c047bc531ef5e010305264ee02a728868b1e3c5c2388cc8253cd9370f6e5310f9b0fe43a0e873a12e5c75de4753a2bf9e9d7f252e210dd9f42ccce530c8c5477275b90766d97a0caf814cf8ad0488d681de3b344878736deab2b412438e5c5bb85f7732b1ecc56c7d4a2db6b1889674a19e1ee54ba16d4ccdd17dffda8f6f092fc1d2f053472e690ec8c55d8e00e491dc9aa5d27d9d3c09870647d0c8ee06f587ff015f67b1a688715eec55bb7eaabbf45500e4ad0d39c6ab326a1ee9ffcdfc760f93137ee93816b942441cbea332f47c4cf1846873a5160bb11a3f4e94efc5e081240c4bf575fa9c2160fb5354772713d39b63da481d7a8871d6ac1817afc7c1cbded7e789ad79b1f86ac8151df250280a4f5d9013888d29cdfedae4a024fab168dccf989ff40fdb1dbe29fe7f04c401f390cb91d5902343a2e36843d64472318c95ccda314d56951d3e9c1822a12e1a7f3212ad568edf714f8b842790cc85557c49c2b6cc6b9871bad4a558a783fbb949fccbd820da62a5281e8486817dc4a171a47f7510c3ccb391896322e441889136eb06855ed2cb3a22f06cba6e0bde297ec8d6a03ac625e7ff19fdf1a4d7766c73292a2ac5cabbdcba45fd9f6253f33d51a24ff804fea5bdfcfb6a846eb9d2cde5c5e768a7dea9fa1ae348e8b93838f3d3561a74a2c8f976786b00937665569f626aca643216eb1ff9edcbac70228e475a3675e9dee825f9b3163d1eb53b031f8ac4e661c308a9c9e98cef77e66837102bcabe34c5f0762f28132a8f15a24268a2edbafe3c8065438120fcd1690897d05f1090a5a0b6393ce79e187b9f6c7910d26123dca54adf78d6c59a65a03d581d699bea6e3e41853b47e46d2514271eb818c1cffec9063a01d7784e902b9d7a607461bdb1e53f97abf24a29c95496ef9d206fb23044d0749a8975967eee0256339bc35b211e3de6c2226228a50505dac1ff09770b6b16b5bb50eecfefd2effa67685db63aac5b72639a990ae8988d8858145f949f731a0ac40c3c27c62ccc60fad19a47625c82580aa3ee6889bc5714198d8f7520abfe5ac5dad7624ee02ed917159af874f0a72e6d731fc6fb29540d374cbc5ce2f98e77fb6737c6415304095edf49bf5af0dfcaff9e05b062a2db073e74f1555b6886638ec4af564844f8d27d5c1eae2c0a5c6a4daf44ed7740ce1016490dc7e543fc685d8ab65f966d6b658616bcf5354928175b2be30ae485596d93d0c9b93e12468ab78afb0659b7d8e7e70b27437c135db73dd66d82dbf5c79bdd032edad7cb8ab071f59af64c60601a684d461d2345479433478c5ea8ac9b41f46e7530d07bcf66f440976a55fb7b1d49732d0965df9a4bca2c63dc9fd07044b919c8492d7ef3dd13d18983e24c03e20e191595da1c1180d5d8d3d2d532749e7ff358c8199b2e4cf69588d259f5963fae819815cb258f62aa02be33cfc29873d681c08ae60a3660d038836ba7c457e827bbdf4be271da5dc862f488ebb51305078a9fb83608da24f89de86e7925e5fc6725e253e867d10c0d0ca9dec8be6d71b60c6eccd03dd0aecadcba0af3565441d51cd30c11f87b108b795bdfbed884da1d9d0809b3b4c037ce56469e2fce6f9295eb8410c328fd5f9ca7d1501695061daa5197c0ddafa2bcd1569c795cc0745fad15d1c092c2cea8a7c066cd18d728a4306ee45468ac1f28a56bd3ca0933bc2a34095b7bc4e3e756833a29998ca3387c7b22acd3d042fd2964fe1be50b499c4c5b29ac4cc84bc801c658cd2f9b769c7d95254c1e8554708a4d686215f0745cce7f901130bd268b881c42dc689be3662e2ea7c8ab00ca2298739ccd37cfeb02dddeb867936ff2bf50ea51716fac8c9aa51d5e4d238b62d3e391bd8fd8fd60ff222eeb46fa22f06f8b0515a89ed364c7f5bd263aec76763ada0fa73e183f737a4d8d22388cae837b595399e085223739a70b7353f2a8fd964ce57caf5e79d47ddd5bc454c1f794e454fadb25f8b54da783ae99e66762bd752388e3eba1707001bbcf9a9fb6010a75fef3c27c0156465cf6295c6cd3bbdaa7f1f0c589264c02e133f27193c88aa29bcfb084bad4f31b478dbcea2cc6f82d352154d9905e46f04f03c6cd5969f02cbf381707972fab17b34bbe78c9fb6b2da7f997b5ea4f30ed3d43bd06e03175ff084907da81fdb57a435eda0975164fcce6efba73df53793c551bb6a53c1a1eb11f8e42504c542322893d2dc66917e17b30918b8fae3971e6dfc8fd1e811f304ba37e08952f315e819f8e37f4ab6bc96ad027d04dadbfbb6592503c50be8c209e0a8ba657d780ca6a359cb4fc1a9f0ca55bde9b726a08960f59942453f66fda08d3948a980b28cbdcbbfe93b9a9fc1633bbb14b9f5ccfd3c96faeec64f543ff43b8f168f9e492da6e9e8887308ec846d2fcc941ca3206c48cafa7a0b6be3a345ef616d9ea6ae52fea3d56907274f44f85f4ad6eb33b6a1b0810b8b4c4474c703f5c336b8bffa75f7dd04c1585690b1108b409088a60185ecacb58b12e8a49dd34876c3a68d957fc7b565632b6b94940ba074dfcab73f080e1dd046ef5c34488078e3c91e070dd306d834c4aa2bb4ec1806429d0cbbb358388f16b163354a81afebfc7e29652e5c21a111a52fdfec7b20fc4223765426a1167fa3a6445b92aa4e8ccf2de0ed96ac6edc1468fc328f34833a236021be849d1aff8d6c45638048d1365adcaa86fe0c3dbcc4c6438f1be34285a2c0ce12b8b521f793979c3a4323c8572fe30cb44e344c9d359a1773a436f4ebf8375629904d40d1141c1c532b4c2d14f699b140d4c0917cba73471dd75814ca3f8e71a7e73107f2c87a240aca3e2bcda5ea6e5d2196ac11190e8aff99e098fce72d95b71f424517623544ffea9980d648451c852b4d3215000e2664dd5bf3a9c0e7e2493753b8dd340de63bbea6d2518f3fc5f086961a80ea69df85b483d045fde9676a4231d306463f15afbd5dac97d7dcba4431d7965638525b4b48c360fd55d1ac021de159dbb1266ea7b9e56210e84e29f076a0adb6dcf972b440fecc4f089ef7644b9f76d46ceaac0c14a1a88b625849d97899f2622351a5f664e3268def707c7237d98d39556f38b330bd514dfc41492de02cb4b6756ac32fa018e54c34a2457e52e9cae94e4c90c6c4bd0b8565e596b94816122e7b8c2c783fd22df17bd717aacab3050a803169591740993a91b1cd79c904743295df8b8944c3b1640f8ad4a8328fd91b04189611a2afa54ecfc2f99924b364a6e2055176552c51283ee5b0c336222439ef7226ffbd034a216caf14d842bcabf1dd0a26d5e61410760826af2ee180f8be510ca196e27bc54ccbd3cfd88298ccbefaba7403cfec990f88fc5f03380d0b3e1b7cf65764015b3063a046c97da6c637c29babf285f49a7352918240899e0aaf0206088babc3da6cf39cbacc20b6c02fc89c0173db95b08c35759740d646076a88b228ba6b2df37c678a1222b14da05d839c49b9a7491f43ae78a5f46a12501afa83c8cdcd9fa4530be0ea212a1183a19af239bb22ab7a01ab71f2da3a01534563d7248aec5b8dd8f7648c7185b47a2ed705e75165bcbbd1bf81447b7b497df3f914aeec287e908699cbc1a0dce00c429cd191881f21ae9c1d1d71da6bf116c6574b1dcd5aa8bed96fbb364f872e3ea8c86f25fdd0fc9d6e2931fa11c9005f86e3480b039bfe30a0d3a0f9f17b41106708cc4d514a4c25866d2d3bdca6524461f4e7640fd87122f56ca645c25ec689e33076525e453d57f2eb4e0c81481c72797bc5e797d7e130cb758a4dc0dec6bf1938d1bf9ba14de67b97dd2e5c28278ff4a300c4d30a2704df93bf2903637ed0ecd1bb49aaf864f6758c9ee7f4cb107b1599762d9095b968978c4586775c44812ac56ff23c31f402d9d254857007debf46d80dd1dff39a494f96b74285b411fe47e5c06284e5942fefd548c115bfa8ee000b60a3a1822be5148b4c9a1bbd15ae2063316266aee5eaae47fcc17a14931519ba037c9d51dfe39c5826dc8535b3909b15df114cdae5819df3cef3c94bbb7a2c716d8839f457741f008273ea3db9cd16da86323717c13e410ad44c268ae2d6ee7543e6d598455a2d27ed7a93c10e0b5beefe81dcadbbf3d6a11835d64daf5eccd4075e681417ab48aeb8f7a7f22d96e9a178f9501e56e362b07f5cf85a4f5d6910197bff067328f0bea13090969f9f0dd4bdc527175e8e1ebc5375a36c1806fb0704482b0ab5e969e3c09e5de9998038efcf68b96c0d3ba0f21411e4d000d60a0aaea167e795df40facbe0dc138bcb54a99eeb62ec8aac6f291c8a24223a6f71ec58f3e3b2c314917fc7262fe4a8da7e75a0c37bcb70e798c7e060b6e566e13062a66d32a9d7c27c9655ac1bbf3c63e3ab939fe490b172f4ba030e49369d240d4da3f5c48af7cb5b0b11f5e0c8a59059f247688525afe14108b719405d47caf5b64cde3b154b1af4784476f480016163316d0dbc0326f170371d723283ad49c18d79e52135282c3b6ff1f9de95786ca53f49c8a45173a87983d9f7fb616cc7eae963c8d087845184a2946c802510030ff9fbe138cf2ee54460fd63025da34f540e79790dd3aa664ce2f12a8c2740c024f221f59fe84d148dc734617caba6bb871da18ae76583fc0e0614d6d1f08fa1ea31599115317a5e20322ddb08481b64865c3515c074fbf84d7249f7667eba45e79eaec449530367c5bf703d7cbd9dcd1a38da918297c01397fd08fb5e363f6418942c14c871e49186b92457e42cfe24a46148fcbc00f2afadb34f6cf41304f1481e52bf8d7c0fbb48868b1cf778be4514ee044c497bc665f795c3201769d97180a86b59ecb1da2bbcb33690b9d18773a90c23b1622ed700d376b3090965beb82828580bbd2a6bf585c5155024919d16e4ffb7053b17f36eb010dcc2d78e72489240cc862f721d670c600089fd627b63dead4fced6ddc3eca3ed2aedd29beafb894f6fde0c464061230ff0c86a512feccd5abfd23086439532354197886f6e7961f116446aff86fba957ee4de96f933fdee072a512414685d19b956abfb4b7eb2d8990392fb39a22f365e24a75efe8b01b1f2db05da1cc9f2d939747c66ea7bddb8960e023496187d91006b291a9f1c3e429f99f7a0065011e4a44d61c58e0382121819521fcfc8aee2543a71868be956ac6d2072c3cc14b68033dfc9d639c553e27f50f6c43257842be165e010581d320dcacae32b455fb1a0b61b0b2a2df3dc82a3a95e55f44edee1c652602162feea0171a9183518bfc885807e35c4ec2e9c81b1c258ac950857f949ab5324fbf9ccb53053f4d608bc36e07c6852615f08dbf9d833cefb3c849add5de20d21ca96221bcf3cda8a1acfb159afdc2ecbf9973addc8614e38d04bbfc1884aa0001cecde103ecc8ae133d3fc6864bf7a43fdb0073865b718d9c7ea760662692eb5b79ce599f656257567d879d4556c9eee1f93aacf298ed81eec39799d356d53313e4328d458fab54cfee74c34c92a8b4f1bda6b7a314d30759d2845e3f71c3dfeaaa46a591278f9795610a3b9dc753337de7986543f552c0ab997c9ae779ea18f8eb2b18ebc8fdd403334ad4015c64452fa138e9730a49b40b79bba66f09fd30b11a72e83839cb5cb4934a20b5af731487f91f49b9695ab8003455fdde3928dc326ab1f2c947000e3a8eddefd4fc552f414066adb3b1724e60949c33c4b53c665a679b878abe42600e344728d4e03372683817e1cdd022c04ef26a4d1092f04750e0da7bd14affebb1b9433542ead980af5cb17e3c6094f6cd976cdf328ef7fe73b0c281e69b564ceedade8ca878380093d737568af87d93a945007d08950b64c6d605abfa24ba1e3132b5a41f57ec6ff7cfb34928bda331da06bb429a9c2169d79146cec24e9f7f07cd6200e0a7513072555d407e7d52fe6eb9cacfb43709a269f5241b2802e9fc4b9384c2021e956351a75a6df63e0c48ab9faefcc54ba50d1bd41c669b45e34f26b4287a62449e40c659669c938d678570890f61561a8a3c03cd7a9f3c0e4045276cbffc417aa2af0a12754da11d1010abfbf986c18dc649f4c712d3b88aed4d7a7afd04f44afb3f8559e07d1dd802e8af58bed3a99c74a81c7f5106711ff2a726de440d210b12d3b448768df876c46c578e4ee6411d1b9bb9f43082b309c08a925595acdcd201509820d333b4d89329618a56174f243ca8b69f8e31cce6af55c3ee238ffe80bea44b896709833dd77a67425958eb8566e1575a47ba0c94ffef1a9fb098ab49c399e3b9140e0eb10a441a6fe1b6aca12f7e8e03762ffbcd2d78002f326bd2a39a8f840b4c2dfcb622ba9dc62f3d1ae8b6872b21a192698c28e8710440ce60809bd5164e1b670eaa6186febfce9b2420143277d23cd7cbbd6a2763f91858f4aa90035783e6eb85af6aa0ea3a3a5e225d732a568d7126e34c107d6ca371d9fa9a2ea5a5c59d976fb5ffadc56a4f4ebbca726f37162fdfdf46999dece69708192751b87f8a074438d43a5da035fb828ff1f70ba4bb2d41c8ca8b96793d33c4e809abe180a31294897c7d9140a20e2bbaf5e18d19918e4b0e988407dc69e7a1f8ba935a4c509557be8db22c2db7337794a8d80254360c311857bb4038e4754d4a121b1da0573310495468df7d4613523b61de1b0cba129cd580fe020078b9c5e6b35902075e0439966a04b9cc42a9fce80d07bd645ff54ec4d44d84ff16ccf893479dd16eda9338187e7b70edf8baf9d55a30dda34bfd51e1e3039be74a61518f95dd2b5c645f59167b70a403790019155d3a637db0c3ab760a02c83e9770e45776c9cc520badef342f3295859e50bb005f85b0f837561e981902a8680ac56406dfd69a4469955876eb69aba7720cfe81263c53a54eb2792a5d2a18b6a8ba453aff15a5a2c176b6a0b01590f52f0e38fd8cf90d863123a8a98f91dadcb1608722c87fe81289cd4523559d56a5d554e3cd13fb0b67bdedd013726f6384220fef312927e4d80083d1a9808bb65192e0ba1b51f5998cad26d47c5e2f9db44ab8e15803e23669d4856eb36e21c79d5b9b043865e3f12d95df73ee04b29b6945cadacb17dee8ba2e520fffb85f94e42ecc08faf9cc4d907412dcfce2f5b6a0a7e28e53b23b8d7496d836d95ff8199e44ca806eba53fca4587a31088542818e048fda1d1581864f5ae582829499b8255f184a72cb97bd91adb442afc9561a267b692035349c6e1dd95c9c5047e9e3af848330ac449ed533cfcafd12bc87dbce72be7072c449a56ac35a396e763e8a671a9b12babe184c5cecad7b58ccca4d03ad3db59f60bea6112d69127b7f1f6c268ab7e985eafc426e608fa3db62b945f8f8003ecaf669ade63049ae69bfabff77d3c85db780d8ac124e55b115de37397b0b70314d9bcf4ae4e68d43b7ad320b74fd260d46115ae3b406d927fded3a899f5f75ca2dcf146a3343f6d73408ad62ced5c42a241119d4aa7ccaaabf6cc99ea59242ea18f7f6e580e5cc118dd4332ef25f9fbadb18ffd875e526d5a2fd576a432fdd4b0afeaa7c99c6cc9c24599a1bd88d284b4e1b55b3d2fec417e3252351c01ad3f58fb392ca55ae03c10ed9ef090b4e59cacbde767ee745f99ed6768512bff0d81c71c1d2ce3d367949ab060b8f339d971e240fa599d2843be407023741628a9a42f52595e5055b7a6a5c1498f4d9542b9bd4046142d449ad205ba26d78741845aba899ecdaf81b10a899d47b46b53b5825a183f2190266864678b63b120fb7880ba327111dfde15c073476b5ab3cd06a51f5f1540c5eed426a7e694341e076bd414c02b8a5c9e2500e4539fee3b201db1de1ee47579e5850c991d7aecb6a591a838b0655ba2d319188c382b05ecafa0c2a9f48222ec01ec3b787a53b666b37a11597464cc66d238131296fd0ef17fa5e0e1409254fedcc69bc4e3a2c199caa2f6c8cdbe6841b97983f6051a399c8432917f8ab5a02ac81e4b42159fdda58a7937b05d63cbd0bca3705d9cf48ebedfbce2ec21092ade9ec92d251fbb09c9a9d48511b23ca9245859c6a6b04b8bd9bc47b28b7ea31b1d7f04adec4a59b370f70daac8c7d6b75df242599ae6ef295928b006d9d35961e07fcb1e58cc15e58dad6fbcf92ff73348d1c70e9c5715747c8b7cebebdf5311fe86d3832789c98b74d35fb4afec80de0d190e1f3f3068635f8255c772e0a37fa495a74ce87948573d445acdbe1d706748602455329558c4bc7ab0cdd2565c44624d0265066f8d58a14374c2c106121b7d18ba0d3a84941d1539b4c48612450f1290df872bf6ee33bf7f3d4129da966b785dfbde909cebcedee2499a98ed3df1a840f62397edf4643a498cad97e49241fb299b52020ba1f0557a529a4bff962a76948e4f5fc820fd710c5eb830f9724d37f8f1b42f615693413af8884803f8b7de25767bee6a4283182526790b8bb86c71000cddf1f624111e066827d667ac4531c5dd0cca0563ae91fcdceb73989796eb5117213d3b57a483a10153fbab9a24028bc4764a8b35d71d917661ee6060fdabf5745e19c3e59b0c2cba89c69bcb30f90c4cf3d9c0d01fd036ee97c72ff0fd75c98647656b32d14ffebe509f715cfb38d426b8f5035d8271eb4783f8c6e37003a1e56bf34f0959d9dbc3fd7ab307e7c5dc206016e331c976cf0ba315b35e96ed27320acda273f5c45d416d8abe053b73512782e12810a603291204eeb56e337304de11ca0042b51dbb194a088ac9729fdbda814adb6fe1045be818e75f0757b8b012f7ba6b56c8a4ad66182730a047e802d95e8eb684dcac65268f254608e2f9eddd6d531da88337a6068a2d92cdfa0feb5c36e5ee6a74467da506902275d054d6fbde26412ae4aa5b009e713fd0f4c012f66710f962f2b9f1564a5afb2391e4fea60e4bebe2d7ad5e226ee9f8476cb0f4bc4000c75031d52550c2586f68a88e5106e939e3e9500927b5b49a2416a8487cd237d9a95b4e4ba3de57dd58691fbccd90eb2c140f27df5a32ec1168f657fd269082151e5f49da9958e3968411ed3b69ed6a55752b7d32d169c17be77ca5e319a209066a2f7261d0e0799f8ba5e5eff67dfa6b487d56125350f66ee9e19225f914b486ba385bc47e620fa618fccf85039617940fe6c4125bc35032960a949866502acb547e83b928d6844aaeae612f2072039ec2756c5dc4e377ebbeafde30d0e120af93e1c353526e25c85a3a8a3ea97f5ee4ac793cf4458fb53065d5de5a649b331bf57d0cc280c8ed7caf3de9753456de8008767ea6ebc23a16803e7a0a59e73d3502ed8bada2c43c437e292e50958eb877e5b276de1d882e28bdcd33491823d7fe987b18929b34212d8ebbaa558157d3b6ed8ba7ef1f492d0378f9db190db5ab1a907e39c3f3a1b00f81f832fabdef5482190deecad7f480b0e84b5fb23c450c216eeea1bfa8895e46a91975dccac7daf3710b5d0420c7d678c9cb0c4261628c25397c8c3b5cebe04242b00945c80c9bdf56bdad784690e03259d20955a7e07380f1ec42bc54c89fc9517deb3c8a256cfd9d283b479cd526f15fafca52f72ffc790a2de70cdffc6bc21a7512b381ed812f59f0e51f329a80139990fc12b96e1b41da0d9eb3fcba2bc7b2ccba75030994d1af2d6b5795f25b1ef95abf33f660f5922a147519e904e0362925b42ac8933bc2e09e897bfffa2a5687a1993d4a45093c0e03f029dc2079725c5827efb196837fbba475b3d4b1801df5d4c310df607b60429e69acd86afc2fc333ea43bcdb4bee80d4f0cb5b887ea5c058149f4751d4273215e3d33c428b88937ff53bec54552b7f9b7b920baae78baa1d09682ea02ee3f8e0034aac5019cde341db7caf7d1b279eeb26359b04ef735c26e640f72a22b1a7c65691f21d8c09992379d313d2a8287ddc7382438bd09832cef476b0dcd1cd1b50299b125e65ffe0e352f3279627e579d072ccea06c0a7e3792d4025a4632028070f17afb856130bf448f459dd5fa3db1833a97ceea483bdae897f83bec8db3f68c07bc17d16c02697e4abc645f3b11feb2f366aedff889c78c33444113f7a1425d123d8902193c54b4e8e7309857fa00c8c6e602efb1ff30079e6e59505c793f45716731d429f8d65e750192812ba88c936727f47db99866de1a74ff77ade3ddd80fd115775240f72c8d556aab1d5632986c07a5e8ac1b535521a60086b1bcdc832dd37486b69486ac0f3523c3cfefb4a38547e5a3d4204b7d27b21fa1dc15ca29e7a338bb329e3fef2a6e2fbac99e797fc19c666280b379961d575280a55b197cb63fa1623077efebc4ea1fe9f6b55cc93c5562c99f272e8ea31a55d18df423c302252c38ccbb8930df8dbd1368bdc29eeb9dce2e627bb49937b4097f9ee04a821ef0765360349ff08063389d7cb832dd96a8f7703f033898a786d09518be66f8646af33f973c2e23ce9a7fdc0aaaf6461a30d7e001f734de29ab0edec883e2cf4f27df7216a16b7cc60722faa552d0dc666eb2177784845c2ec723d3cea48daa7133055019416463e36a8971b3b9048967266d81ed9948419444009bf03ef0a838573d40a79b3c6f9a6ea68346a51cb29b994acc1c0d548a6939709f058ad05f6d76e7abd04b76bf071a6caf0decb7ece22c6f5c2415c48aa1abb0150833fbddaeec53d23b008233679e7ee50ea7eb8e20e9d65017b494c581e0ceb681d1091eaf8a394506e3a9dee7443fa8c7083b4f5d36ea86cf4113124ad6bc3a5b5091a8e6e3ff5257b9389eb37d39dd1afc480b64439062ca8f1f25a45c99abe64ff11cae7adec0008a28965097bf440df32737b1d71c0a48c5d1afbefa824fdfe0f2bf0114cbf8ed427767a9555da7e8aba5886e30d699c5c0aae60049c56c316504cf1b40802c294c92cd5721c893ba03ec6751b57145b63f266e5d3ac9ff43fb4564b89ec4ff31150a42da2d4013d1f09365437aeca327fc4edc8d3888babd72395773ab2e9a79d746dd6a2372123b81cb16aa07c1b139d4c6803fe607d140745f8ec622aa15eb3a27bcfc09d2b7d07a54be0e06a19d1ce2958e31258ab0f964e154cd9efd076b209289c4ebe0fc348c14b5e07d93bd92392bbb10aa55f39d2a60f2dcbf911a206262fa32ca96de548df9476da0f310b8e1f173bc8998d1cddadcf26ee32df42c285e7f1a0ac3a8204d39c010611ec169750de3bd76c2a1cfdf176b65cdc14562b9c3782a4c0e1c6f0ea9d5c5702f803e042578062b1c1ee235d85400504b6fc2aaacd1be69813433e3bd0b4c49ead6cbbb766f9b2ad5fce8c03159f049d5f19e14d890f46612bbe1993b19f36096384ebead3eedaaeceb9ba4059b3d9bfbd1607a9f424e0b7c293c1f6f48d05c3ff7d77a1f47002b3e0e5f36dfa4d2b7e8dff0cb7a98e4676b5d5d2e966e7854ee21b2c1591ba993169ecdea65fe51b20beb904173d3337130f707ee170796cbb4a29be8ba9df25eb8daa9fc322bec9bd62d3ce85eab226f249a8d243519ad260a7935a1dc574c4445ccaff5f31c6b1fc348cb5c44142b6480274bb7beb401bc6c80211f04f9a673374cc0622809bff8fdb996c802d1e78dee58e6dae168f47ff1368d54cfc36b09f78f5e4a269218ff065697729517dfe7517d92ba2ae7be4a6b48ac169f9aed9fba2eafe09ffe3a228647cc35f90fba449aeaab9a4aabb10be76937c5e46a482ebaf7b6716bc58b7b7a21d0466f6d5c931d14f143ad6f56a81e2901335995e2f9564a25c236a0759daa1714e8e594cac51f8d840d361715bcc0e86361f9102f63f029665b37000140975d390cbbdf688f7e582c0681a6a84273f28294b7ae18d7e33b0389845624779dcdfe0175c3d5e00707d9ff0073767cd0e9627ba159cf08d1e3b01c3f2fa64c850e7c27bb8d2c1a4aa326f880ee6d70d79c8694f8c3fc20f94911a16b79d9df6f205891dfb386e0e3a0531bd1c48bdadc6a130584dbf486588df3d513f8186283adb19c2ce027cf9ecf51131aadbe2f0ca88780157001c54ac72a48f73d0f0b653fbc07c9d0d74e9dd7a70ed47f876daf13af83ee7ffc48f7df4f4e21e285c48b52089e377fb57b2477ea0a1a3462c83e99fb94bdf995f8c34db23918626e86b63c6c5aaa9ce4db3b9ac8fb3047de7eeda13b883b38f5e0200629bf7316fad92287adfd98702582a5242635a03107729e6c926dba081b61ef07fdaa1e71a15e90cba1f2d8124fcf78a6e1768193768df8dd14635b10934b84a793c02e72da502bd1e9349d347f9e03d9cc1883264411a3e9936202e05d79ace87bf77cf0f6f027dcaa84546092dca6d1b71a49dcc6bc530032e3712baeecfc43d10035f9a36b7b59c6e434feab2e7c9255fcbfbb51343cfebb6a51824ddf924720ac2a011ba5245bfcd3afc03470b18418b8c4cb7ac2b86f17157fb0df16e4a54163808f97a8d58cdb5f3e4eb390adc4991ad2feaaad9f8cedc0343b2192646a3e2ba00e67bf85c9a89eb67404d0cd31c45be8a0d36e59342abd9f366683a733013641213d99f852ac4e1744d4d3fa59a20c489128c1fe4d1faef0210b08fa8d109cbd6049bb4bfbec4b41fe61f11502aa4281e2f20d794e535d0519000a26e0dc92cf6472fc267c080a616d119f8715bcf60d8ad260481f26621b4b8ecea4545249e26ae01337d8bd5fcf5a65b4b5fb095bb778734ed289866ee74b624b25613dc6b535d1d25100d50b181ef9b2c87b3173ae37ad1f070799f9154da4f5f21939c411483f0cf8400a0d86d771f85bf0632ecfa7b5e8b80a3bc7bd31392eda7429f9b3809f66df5f3e30b5f1dabc28436a264fc136ea72fd469612cd84d7f12b121838d5e01045ed493ff3156fae51e057c469850c4a618eb041247c191b32a00dea9b5a056a58591af8c4b2b427e3e27c3035ae73051e936cb5144c5a9b9ebfde5b22cbafa7aa75a42981f66a0fbc6d7a8349b0d87ae91120d7e29f349ee4e02732b065cb7e5d3b206e581d3c42046de9fef312dc7ca1d93428a6361bf66d6bf5d53fb2a9da8e73e86f3c8466bcdbd7bdfdf1f845c1f51b748220beeaf1454977a58d63ec1555c97d45ee8d59b3d8a23315e4523a9e2d6f542007efcabc050c8e6018c456ad72dee0b6c3ba06a64e0194f6a6139e1f5a9236268e2aed7f3c6b715b28be3689e220eb7b6e955a7e04efc51e35f0572ab622134788b04b090b66faa03e76f28045aa3ae5c843a7037e5a228d8b601f2079ed9ab45da35492a900c22945da58cceb83a67d927c0ac2868c967b921bab6738227c8926eb8946695f203bd523962b13312cd0856c1731e8fcdd84324c4675b0b033a67f20ea6326d23ba088e30889e232e192bf8e80aa3a27f4f2c1c976d09e6a63e6a75752648dfed6f6f5ab591ec0096bae6e05d86fc5419f7d584f67d5b7d94a3a17c67f194b31f4af72e66196623fb4200e512185ae1da8b6e5631f6b4887cd716c304aced11f891af9d3102292f48124900f0ab5db9f476bd563eee198f0df6e497aa37e24a2cc9ecc4663520b628b6e133172279538a50e023a419eddaca486d063994f8fd91e08f1a0f0102590159d49e3b042b3a418c74971e45aef31e22ab7c24673f1162174e6ee576ecd2dca7912d6271c4578c12d3a97d581040fdbba5d37544630b956ae216f681d7a5d84c700be0d64dc6da5deddc640a0edc2b0ecce12b044b958b0d4bb87e18e0bf5e8843b209f1b0567e0dbeca38971547d176fec451cfcf7ce8c062f79f79d4f6edceb5f2e0bfbd5fd4331c44435bb7fecd1472977f80bece192a01ef226739a77220fdb3cf275fd8f01b247bb2bd5f250d914de1762d059dd3afb525b123d90f76089d03f04413f11335648c835bdbfd2e71a561248e98f82ffedf034c81f0c045b6201e163791751a954ebd8213b1c9f7eb1b835d069b5a8f7e3ee24756ebb3fa50ceb8989bb7b46bdc75aee5d7b6e1b7d0e0fbc58ac74bd2d52fc8324fc0bbbd54b967a4b34137740a49d3151ff456d171c1daa933c1b33063c7a75c0983624e98026120b75b4569f579cdb0ab0cc37713420778baaa616edd8e4574408bea01855518c2eadb59a84e3ee9e2dee6aabd06b59d81aad641c8b55c48fb4cc4602fa420388f82ded6ef10d735de27f42428d822af43889898bd715a5c6a1db5fa6272bf5c5773692060c671e073525dd09bea1a2277901012c67aed688a76b5533818e9bf212bfb90b22a27983112a41f827b871f3e3e0633c2b7a7fa20d98a17ed1caf324a9fbadb4d5f57bd5b37bf149e01ea888814906afa6fe443f33fb8c54b4969f650ce1428d813599b7c0a3bd42e8a20f096e387481e23290cbbe1d7ee3ebc7593703631fabb0ce899941cb2c7a661999c098f0ca04fbcd9d14876963c182a2f6dcee8afde89b507a25f22cb6ddf1b0c53b1ef21226a280684b74edaf1fdfee6acffd2af5085ddefe25928851a0684f4c40a84c29fa1f8f7d82e96c64f29e1ce5dd8871c174c9ae9e44dc922f859fdee05eb5c28dd084451c29a955dfb365fe0d0875fbe69c49c9593480ecbf4cef22a821ab3359fc7222eca03dfd9541f4060fc8edb19893c49a9c88c6f5aa223498251a8fe8c9194b408c45c413a66c6e0cf4eac1d71845ff25631421f19dbdfaa9395f796a50eff714d197976234bf14d95959d737","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3b65e88fb4aad2a4dfb95b4861d2091a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
