<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e5fb202a0282ef3fe0d56a7d60f52d3c508c92a4e05383aaf76f53e830344bd04ca11607f39e169d0f5d7932606bbdb09bdb4963182799c1c38bdd92fc05b1000ef383de0f71b59fb0c30d94681ef6b500508cc6475cdbf226ffeb318b53c99331eec8674289a5fb2d3f34f54f606163275d5c9405307e08415daa63f1f17f96247ae05252a4c20a927b794012e9fac52fc528eba265096627d99a6b44620b38d21abdf5f4a2da69559cdc4f44b7289103a344359beeaad5f3a3c64fd2422c8d72e14e48dd76248b8a5459b0b9719743eb739f91a08900c9ff3a847b8894615bd212f3cf77374105a35fb01600b191a5c8d8cda532d4a0c00fd4a2263c9b66490fa181d87a9d7e7da6ef3b83e144199ec050b31009593c62c2329415b5cdd6628e6ebdd77819aa91dcaf9d2e9c296753cd8fba9308143204268bd753f007fda3937dbd23a90e8baf201656e64cbf0471fb1d34e8b36a0677c83e5d6dcd95b69313a2e510c7ff638684a4fc85cebf625e91e82f2238a24412e2168534ae49c7db9df70214563f139788098e89a12c5c96b2ea21b95697cf030bf3645611d2f51fbc353231f9908853b4405efcbded56a6e30e7285e55c9eb0e304623377e2771f93d6661f7a279198b2107f9a0b8c839524d5bfdcdb9b047bbaab35f670402dbf3269315e8ae0ecaaf05e10a9b8c61353f9c1a8e9fc968c426945968e5237f91184ea4f6359a2c0ce66ee055a91be57162af46161d40b87e9ea48a68330a1bce95806f54243d3f42a095c6c2b963f395c994f54fe3b0d55136649b98729d2d1d68f001a0856dca8eefa939f037c88affebab191f3bdadff8006201e76a42b1af1286d0d0a517312bf57c616d5debf0a6ca74594ec10e518e881fded4aff49230381781b8e43ac5ab3c53cf757321f570075b3a6772c742a4b8bee72e5b798db4dff5ac3f7b6ec4d32ac7b1f54ac82903171f922da0a0601e7ded382ecf6b2f26fc1780686a58e693ef8e65dcd0987afee84527ddf2f0709f5073a77d3d98655786b1eae576e7e59fa91c2e2de6be8c0c7405df1fb5261187188f521d3f7cada8b6f4f901a3202bdaeeeb5d51be635f032e8c04fe6dae992287337bb77ff70ce17a4e9858020759953e936e92e6009274e0045df75b135363deb83f5eddd81aca7425af426038db87d3828bb2e84b28a2a85d69e715eeba1967463504a79b33cc74bb42dbf29201203d71228e5525e23f0611c95c4581f22a4d4a7af14e4be0c19d8b348b720c0f2469b5f9e6f820ae584eca01890d91638485dc21eeda2711dc3c19b417ac79359375ab222bc46595e6a05c20aa7634c35199b42e30c873dc42ae58b199a254c97b796856896086e906b373533ae3911d10ea29f753d125a947ffd6b784ddde4697a296b64aad058b720f3934f92c37062f44e8e4f7853627bbb9709653b8a6d787e5b216dd657fc51161aeb052385c15c0dcac68aa0fffeefeddd86a08c26d981a2f1f0e8b206da431c5b97fc5917b51aa237d1d72002f8aca009ac3cfdf5d18dbadb7b23e7474a87e52e3d02a2b22325bbe827082f7122be1766ccb6bccdf6dcac3f9c6fe89f16aff9b5313007d88431fb5e0fb0520109dc7feac772025de3d728c812617ddacbc8478bdad85d08bdf4dc04b726be4b215389dabeb9aecbd0bbb9359f50465d2c7b2c574dc1eaba6a0030ee0b10bc4a5a8378e6bc771e364799e87f037bed29264408962a88669c3176afdb856af0fa5b2998bebcc942550e8f3a66d9eb04789b05bcfa1d627ffc6588ddfa188167fa9930dcfc0e12d5fe877619d398074e98280f67bd3c1e48019d22691caa2ed7a8ef68b8311cc4ef0c2a9bd28167a0ab1e68dffd4b5b0c05ecba769b2e9f9b5d1967629705b09b548a51f4d250f7ec820fa0d74d7a46750d6e102f9317e7f2125775b88f9a569682f46e006ff3ab0daecf8c50a5894a437833d5cd33febf6a0606d46b8e8c5bc268235850f03c5337a177d25be425d47f067863c7775cda6674f15abe13cd258bcc165ff7958261e1e5aa1ee22a6680ceca80948c05d6c8e06d97ad45a8a059a2aa0d9f5974e7c99fce2203a7df78323384f4c8b4109f9c22e41cd8c53d7d627b3580069b275b815cb66ac17b9746ce166d37b107b4973c06c4b6269e8b395345889e5ad3dc136f6293bb56c2c036512bafefa6ea8cb4a05001d97f959817544809d3884b87b0ed81fb8f60a1fd827307521093b053ed86f108975fda914c90483e5334505e8337fb952e45a0e862308a7c3637011df691f5f862e307a668d719bff0714c3f2bf7ea12cca33c54b4dcc47f4d80ca2dae5011b64b347940aab8c70ac7cc812859b90d10e096de29accd8aeafec5c6edcfd95ced8db93eb2337861731674fd29944367d9167ec81af56640169d00cebf40b5bc4186eeee60a74b1bd8bd7b88179b90527f3eda0406b7019cafb7dfdafd3598f865160bf81b5e313dcb381b2fcb5baec24d0655f04b094f223cca25bd36d1e4b837edd6c8605f55bc91cbcaca338e12887e06b4bd4d7cc667dcc4a7e09460c432dc1bf3726ac8fb70ba00cdb4f1942e35d21ee7d8fc39d761dbf7114260043a113aedce273013767afdf0cc4dc3f55b3c4efb5ccbbfa87a4479db5ad4b8ad9e6fc052860f14a038fbe1cc9be9483cc11430107ac555e6ee3a5278d0aef9403fb6958aec38befac0537911d2c4e605e33ded0c8aca8a835c35a3cf0b95106b9f843ef6cd116785a241f36d90486d1c2cbb573bd74a451aa0c51bdc315dd4989b8cc6131eef008b2bf06beeaf0f26a6a7aef4bf842135b0930cb61108d8993ccd55c33416b450010d6b420caefac8e1518a536eacc8dc6e45f5d2197241e2ee20d03b3dbbdb8d9e4742202338641ba7bde7464d409a861b74676ac94c7b62a1a98def63925378e52cf73102dd4346799201a820706156d68d4121806ebce36c0817578bec6c2d6bf8f487830f8309a40efe07417f6570824e4a9966140668471466ae258bf8c4e2a7d837bfa149ec63f9f7bc6403c762f15d15dba5a944f01dc0f0fe4ae645a0a5d08ee6acc08eaa3aac0217faad40084b9bd67674f925389d99f209ae5f0bf304d6f2281e466d45814f6fd19ac44a6374ef6e475748ba71c83afad2455f3f8e8c70aa4c706ce6677cadd1ca4a1115c77efedcdc115e4278a525142a1579f9871e11a4870bab6d549ac156c6a5a9b7e996a2236409b3dcf6d9f2ec6c46f1b640c0a12d58da0991149b88d031af93cf04e9d33c52c327b78dbdb93ae19854d6f4443db375a1ea1ad9ecf3b21f98fac7b5283d9819dbff22220f408a308baf8a9a9127fc97223647c513c5e451272c76b975e4fef1218fad1b9181950964bacde4f4c989a1d2146e938f44c00ea73b108199728804839d5c190ffcaaef69a200cfc0914fae5738dbea0826f68aebcd6b6b8812a397c0b003147cd27100d78b8b58fe3f8aa0b919a99666b872bd0f2ccadce8b5be89264cf576b9854077b65cf67a3654879a9ed80939c83116a87df79c6c57667f2777b14bf63f2c9fdfbe36d933c45e9ed0e97481af365adb086d6796daf707737937baed8aad85c2967718145d81cde8774090e0d6599c2210f5f2686292b3c84c4e5fc1a63c0fcfdd7fe929361d7815a5689e174a946ea18a3d330eb4169b49dae8bcfa67dd87f99880c1eeb374139646094811d66c74250f68f255969aa57d65bb0e1b957f235b7a48503d92f29fea5782cbcfcec0fa5cc136e51b633b7994cf901b1861a1c1e189861f536d08779a08e1909b4773704e970f3775818b1405b985d81d2cffcc0ab419ba88f23ed7aac54d83e2f8565cfc3f41e4c02c3786647d520d88dab8130d6842aa10de620693da4e9b4ccde2b04f9a4854e918bc867517d4bbbff7d15cef6c07d1f4193f61699a6f84279058e8155f0786c54b8b5f9134930d347c8c7415d427b1484c4a102e15b90521c8cc63bbdb7c6db9865a2b8ec03c8b959465c6842dd4c1b22c2584260cdf422f1b06ae3ec45dd69cd6a3441e0abaa8948ddccfc62f2aedd82f57c368c136425e6d49cf9e8d5c76402690dff72b95075e8584d4a3782a29ceb749de0533e4272f1d58ec181de3aef3dac46c5bf6d50cd42b8d75535cbae5e8fc48c2d1698d509610c7fb9164079a2c5e66eda36c144dae4b57d3087a043649d71cf4b9cbaa8b029cbb2db5d34810a7f822263c74fed2a3ba32428f9e036c6f2e0642d9816678d16bf04b22877d1a6d326ed287105b5dfa947c206fe6a8317e7f31a80a2bba1c9f6237673c60ed36cc6d4b44ab530ca12764eb715bcece68da1cd03b8d464d9e3ec6d5e22a59a7c814b684dfe97a20019a59d7861dc80cecf840847bcf5ca431987185a00b27c31eefc6e445766ab102b5c4c5f6eee92294e26bfad5f7914ebc6208ee428db35b0a539c5dfac616427d0e7c179acaf78ab9adce38f1d153747fe6a613a9928e2a0223af991688ac8cd33154f6a60feefbba77062bd7b32f62a97c73cf61bcc477ecfe5559cc73ecc02ba725bd0e846f1ca2620617d9ff9f37e9eccffcce50b8efd0df8fa6277fcfa9113f51e667b3cd63ae59897e47d03ac816045d4b5befde335ba0157e0a53ffbb232ad7791e045b79fa1eae0de8a0c4754a2cafe4e7acd2367d54ff112e1f460bdb6b7af734b7976e14f00083c1b7c7dd8b4635fa7cd4bdcfbafc5238a79da0b0274e94443a1868fbc1659566ba7f808fc2810af9169be9b61db10810e10d8a8ea1fed170de120221a24962e3ddc5b2009808752044d5d0cb84cc1c3a52991586b8a608a13e8268914f4c063dd7e5197d7fbe9c950b593cae5a56d268bc9361ebe1495155f3365f8aaf798a4ce3f5fc3f845a08754e15d517547566d4041d2cfb0a2440e60e7524190f5a769d8f9d5b2343a3c930e0a1e69caa86ade144426d5acf305f58302f4b4179bd35d36eff88fdad1199d88c3060693af5719593c6294825422d96a8189ea8cf858bd28a06110516631beb2675e3c4bdc11cf2941bb225bcf6a8725b4a41b88cef8fccb42b2c074ea5c63862656f55e5041053027099723fadd6462ce9fe7238902cd5f816ac8dbc844a572e9f6dc6642bf80198045d727221a9a2fc861a97f951c1160a0253ad03c8fc8d7fc978b63370363488e44f96d6d1012db898cb5ca381fc2381325f16ab2a363ae143e6624f5f4fc4eaac8a9b0adf3c78e1a1287407c690a514a16287803736af34a4153a5bffa77055a437403a87bbd838f09e517a22b62daacd833917b0c53d1801942ece7b4b2a4c34eea3a5429f63017fa9a3600e0bb7cbc903543a4f2c01d9d4c607e9c41d2b0dfd0863b79280532ae3749c3e54d87d8366653fedeacb48cfb0674c6aec71e0e56e4770cb7525480da8b5c40cb3a31a26bbf2578e3bf507d3a692f324c3a3d77268670d112f5e431774fd1c521a8bc5560c12bd53ce62d1d3bc3805a3288ec3bbcba544230b033cd41432c0a350cece906b52bbfadbca14e0ea1f506b4c24dddf1ff983934c47cebc17dfa0016aa7cc1714da23b9e841a02461cb5e9b6b3fa6ab66bc9e674bdea4a7cb0ed2c93cc7d4d1c07f8c40ca00463a1e980e758cb0045ccf178d518092d214412172d0b74d0949c5df845db757c3e5b2be457d178cabb74e859afcb2af3dfa6d1ab6a9f4fa53bedeb9eed77ba8df39a7db5b0b2c4617747e1f7422026447a05e98f791a167097709b20fd65d7e6a9a66355ce8704cd3683e9fe93bd7bb33d92fe0127cefbb186dbe40dde9a397061ecd27725db13d508f747abdad3284c2731bc08483bd3d7a7c3bd8a3b4a3b10a2519400a5e630003ee9ea192e617c1578e032832e760fcf6692f114c9eb7126fb143a1f99e5c35105c4124f8abe66837de701a1c1616369ed221de99b0d38f9f976f878ecb02ca7024fcd197216808cd754171f4f1f5b120375fb1bd8d2413f3cfd740998c2fb14fcb64ccbf5e58dc03d402f22a0730336446ec60d2a774649d70931ff6521e1eed1ebcb601a6ec85737e1e3f59a573327838b6d84c704c853a65cdc585050d537676518eecbb5e601506503eaac594dad6de5e9b9c0720aef5b2e4d40aa84846085a7ed679a1a600f477bb16b9f044b63022525488b03b4639f8efa2abe59316d35269d10291ce504ab2edffd97ec0a26a49121fa06101508f08cc34cf65cd07ef4300119feff96b69506dd4ca32a8054be85476102b13689ef17e23cc8d702574bc2bca49a09b8425d19cd6a5da907d8ab73e64fe062f256d2f0626c1c576a14fbd36d09c330533939e31525f3ee42017bfd102dfda79427f59dc73c3c0f6f0aa795008541ecfe9f123aa4b37db65ef7d9bc46f1fc5d99f33092d30c585dd33ced6117232b8795c4afee12b1d50fdbfb4a42567bba8e99a31ab3dd147c79917a06c3f20f1e8da0bfdbd88fa91fe3fe13681c3705c6c7450179265dc0b52fa6d754131605a7bc14552c2c930ed73d37e2ba15b961fdbac68f6d6b605148073241d1a9238ed58dd99ae617dc96b8505df263fcc459d09f28de567de0997529f8ced5b9d5c678919ec54ea00be1f33d2427df1d518f345af56bfd414d70ebf9f05b57899a69dfd088a2499e5e7be700fa3e456157a6daa1532fa7bc9dc4bf2a7deaaeec043693947bb4d68b63095a9c534938e27528fc1127f2a7cadbfe24f7a43c53007b84ee5b4b7cd8c726c1887b7b469be35c1d263efe5f7b38626b19f0ef0a94f191da1ae07c70f543003feefb0e6bdf64724f6d4712305708e12e1f47b90d2333cdc38dd4e0bd69f8878cd858db0597347bc4e90ea15bcef73db3e55bdee8ac6c9c80112792d8e2a22d9c550aec404c004f882931d2a1a48ae0aed89cc041112fce6bbd278520987a98b0745719645257e3ba22d86f7ac7b8c4e50d9ecb35c76c3009343a26e191931afb2a5e7b7cbb772e237f57686c68b2d9b67bf67da3ecee27171f9c89279472429c57536e5f23c66515da817e1ae6f5c4489bf05fc15d2ea70388b6ff234d82a34db82998b4a6dd5c85ac5c56351567c102d62a08a53fd860b51ee2fbdfd8fff7a93fafac74302c22bd950e419d87a6d9cf7ec9f0dcd0d97290c571233a9b894abc631a33a412ad992b0d514b81ae2e7acbfe2528702be31525f800cee3d4e5888fa059c3ded644deaa3482d2829ced9c70e801c581e5ae642668078847be466730f82a50908ab2f7f4336c98270c2a0f9f5f7f069414aa8c8d4e6154dda7e1ef23310caf7c2d936776088a979689cf4a1ef65924b790bb532c07c9daebb037b133b09e662ae2333474c7ae6c4479c02c7351c193e13c54d3742156d49bca98f6a11ce73b1f918e8d2642d09c38a42d6a7ca9a45b70d8e78b84eb1542344ff8b7f81c76b8820cdb992fec45402a83805845e148ce013ff8d79083e77b6d5e48622d7b9e4a392b8c087e19b560fa788d8bd4c2376638f1f5829d9c37d127a648b0a3d62fdc07cced2f43ee1a75289c5ce204479f3673e9a2e83567f590930fc6566350760d1e512f9d432ab50a631130300a53974eadd148f36303f706cfc3d8f1f4426f1b58d081e93b423020dc32ea23ffa250074d2debb32eaf72e6450979a26dc8b5c9806b73ef28ab2f176b875ed7ef07a69b768261c7b65ffa04546cf039a5e910468c3aa48148e06217a813b0334e7817ac3ad15b1d55417d88ff057e7025c3f628fcd9bbcdc37123cc82c65cb8c098ba4c4d00be20909c4f09181a10b4e8b77ce84474719c90e909461c0f366904b6dc45e5ef10882eafa28a186130b4c940d37039ea90ff4b03ed99edd861c89d6177df97cc658085b1c02daa8548dd1a8c6b349160bfef7e2c1d592678fcdb73ec21a544acc7f7213cac1d4a4052f06fb10cad4739f7bad37117aeb2a231eede57a7cd7a19c5541036d998d394f61669778cf36cfc5f2924f875010b236604af96292a029b7dcab01f94152732da0171d13a558d00135dfbe964c37938681b0cedaf69d6df657f9053960394bbb096b678de0088da35683682595d778d6aeba12dc6d5e11f87588aab0db76e910bc3a2dcc772a25183f831f9a40ba2bb6ec850ead0fb389f257dd0c95ef2e473d78cb0a32c0a394901ff0153dd57043e0da9976ea43bdf64f4443f14e91f8201fde11832240bb44d86569ac524e8274b36189ea15df12f2ec9e18fba2feb38c895ef33c7770dc85a810164d4278200ce9dbf7fbbc127825c5452342929064e802443399b920f9150d2b4283af0ec353540c44a257e6eec61a724f51b27e8df966abb6c63c7e461a28fee212455520eca0e86cfb3834ebc11f6d87a7a3b926dcbe38045c78424df276d6f35c97e0e58b99518bd45c02ef6b16018b3061b7d6d12fab5d2f7c487e10a98ee473033243193a2a7d7da3478f6ea6ec047ef522b47bdbee77034397581411c934e5f01c7ceff4c566760aef6932183d560b6b00bb4850d0b56efb6935af043132e0f5e5a15fecae45dd1917f53fe44da8e7c64ed36196c2a6f5edfb8be336052bbddaa33d77c0b306276404d6ecb9073df76a9256efd99e5f81207a9873c26dab1807e4222940db13818fcadccf7a0ee6cc3483a0ed19e8d0473d7303047ee1b8acca10f606739e09539995bce6d420be97355e1f905d16b77d059a3f59b124ae6cd2f6768a548e06e4292bdd1a9885827894ea17f2d097a29fb849cc9575c70678450dec9a8eb7f8aec9765ecb29d2e6b9d1fe3a0c19d7df8263e5def3f1bd9e93884d3a888824b1375e5f96f3621f791a836597a399a0d253e79adb794032797b6648b99e8265291c8885d2b88ced166202f2b8f68e7b9ea51fbe7b5927d6459a779411f87a9bef200bb5c92e2577cb365182ec1737213df3368e9dace32631fa1f6ab19ad1c6c0290ac4ae1bcc0c02de4563681a2bb5315aa53965b1cbbcca76f1ab1db76129f216317194bc15a3dbebf8be01d896fba127ce93bcce0ae830137ce715359e6e49ef6ca0fb21a1242ef706ec38e54337afe68e1aee6c66f55d42eea4e27eb679e177a5a63335768d7ebd0b0edeb78c37e9126968a081c4867d5ce827220235ba7a92ae26e41e1ce266c06cce1098f2f7081408895c06780c0356cfb6f62003a070d44f5f9584b9f0b72c84a358d2531e361b08f5baad586a4a0a1bba2078aa68f0e05fd146bf97dc1bbc90aa427255ee9fad46bd5db68f974548c57440a7d74dc514626a200c4d852b3cd8d7a64b63926a4629b8c263a4265efb575d10d40892d8f65fb8530f9b72fb1fb0e06b45d9ad971212887454ac89f00b4e401b3dd4ebcdd6c4e8691d6705918f01e9e7539d33d1db4328ac7e39eb4d84f1d1a91b726f2e41b76589f9032dd611541155d80b9f9588d8292983ed84bf34ca657e5173c7c0b0df2be2dd54402e2e69794938778f9c1d3f1b9ef3e4fb3910d6677c1cbfbdcaffea971127faf5254f9f6eee482883ceafded82bca17c3997d49396b43f3fa3bd38879f9c45dab8a66084ea43b8113b80c04e0dfd62a805db75432f2a38cb478dd9c3095d5d69c67276cc7b9cc977814d490eaf95cf5beb35296abd9d272187a5210a8961b95bfa4ab21c257c7dbab99927a16253a02583c11eeabe392a5f82a1da0816a7cae4dd18e1217d3864331aa7b38d15e8a5503924ee5f75eac0d14cda98c007596213d6f1eec5f74477229b2d3fda025355ba780b56fc07d20e9b6b989aea40da9e527a74f9e16f2d0e97786ecf65529bc191f8b052865f661ce742e0b76068b03f8187d657a24402ea890841ee8a0bc694c00f87fe186b9d6cf184a3c1001533bd0c783263bb23e3bfae569943cd42abecae3457d8cd4334c2aa6efba7e62648ccdce1a388bad65a073a894ba9f39920378796e0d8f4a1a23b66ff9a8810ec93a3f39e2e053b55c7344ec07141238dfa8463807118bb6492fa4da9be803d413e84c9775c84206c2b1074dd11b5fe78ddbaa8228ddc57603d7559baf70113bb9156fb74ab431588398432d6e83cd3ab94a1329779c94d8f83a5179622c5be80d975de19b211ae8ca228b6cade7c46228c6c927ce40a33bdd8947fa62490cd005f62a20840372c5247362851afc3bc3d4f7040605b9c7b5a562ef7ca4bd53d531b887c92aedd09f717fd828041b8ddeae57ef5bd6e2e42f5347e08c3d58a2e2504f7569d834a48da496ae8c2ecef9d694b9c3daeb7ab7b41a6b1d1522524c089deeabf49e3cb5d5decff0794788cfc22faa28453b6b030e34be59d66d3a7bc95edd9a7a52640946df26ea3af789cb1dfc0d8984be6827e427bd296fc8013860a55fa07c3acd8dfaf094b350c877f47dd64dd3b4add0e6ad87a5da1a515a1715f3fad459bd506db2f8098d9f73d8e61899595815d5d535b8a6bbbdbda096df74e0b9433d77c6192e0df316afa6cae11642321b495de5d13e9f5e5a0587a9721b6da4226e492dfd62079a439b3fb1d96c32af98d6fdb65c335911df0be8426fcf8b340244a52a74ba3b01efb9003f80e66228aa8be322ff18cf84f16ae6897d8afe7b379aa21b5849410637b73df43276d2399791e2128a58de775f4e78e80fb9cc9455c71bd05d1dea137f6fe5dfaf9979d008963f1f17098081149389451027aa1d80b51713ca825d0ebd04a5ae4de602f9794558c9a6b0b537d9ef650528fb5928fc28ef4464aa30394657a9f70677d448e3c223329e35b31c216bd936bc173b0d93adeff17722c8040a13e65900d1220b22ec19931704e1c5aec1a9b4318fbdd9ac9945af1344255f29fd7e380508eeae9f386e48832d9eaca5399b9879d9fb22b057195db555dd9d25d62101b9785fb6b465452f76a7375f894fb4c5bcfa96146162a48df6ed0b71082231364e0a3bb92edeaa14f74bcbbd8472a01cfdf0b7783ca623af8a510066fa5b9d935734a7511c9c677b62d81b817f8b79a30c1cfce6ccd0b28437a077dcc5bf12b084bea2047f272f1ffcdba1fcd65d98b9b26edf2c3a8014211a1f84789927589810784765b9ee7d00fd41f57ad8029a6dc7b75696e9580a882e6b70f1218e544d992f6a79c8f27da0f9c70e62944f6fb2a1f047860a0e3a8ee5d531e62c9e9373e1898ac85be86dcdd30b1b51fe404fc78fea8f9c8e11ee084f2bc47ce76e5757e1ba9c99f1460767c9754e664d47acd1e1ed90480af8385fb9527c097ec95bccc05819dffc3b78cee7a5d995b261fb8105be8d6315cf98c22a92cfbd445c60f9f70b4102d19a53c163601b4bc46f332a7d8b8b35664432458f9d482d55d5bcf9b38422da2f19046713ab5f0abc35dec4ff0efea21962cd449543c53c2ac41e4d6f399082f85e97ee13d2242c6142da5f809957879c0abdc083cacd62aa2219d09ec2c78c4cbbae4807baf1dd107db948beb11893989b1eae402753502fec0fa411ffb9b3a2f85ce04a0e489c1e996d788fb7af0256b27e3ff2b201f13d82f1de7488bdc8e04706850b6045a437fefcfc9071183f2c0ed522a6492ec788e0695e27e4808aaa341a35efe7f76227f3fcdb5b257b705276f95386f93b8cfac0dbc1010c3d66f6cf0b15edaac1cd8ff44efd59f4dcb9338e07d557b2dacbe7a021ca85d93c7dadc3a0b4ca7cc8660e6d7c50f357d80152883589951376c9add37bcd7f408effef6b6016a0064cf3ac20e483bb548f50d76d9bb8cb03c3ec2f28ab8ae6836fe4ec27aa032d16d8feb0587c9d95d6e7ace65a5f764043a16d5caa338283320585958c28d044ee7ecc675ed9ee2bd6a590713bc92d5788cde309ba7a605693762ed9f5055e9de7745632e9cecaf07d719032b313de5013fc25a456e3c2a43ab2666a94fe14b0a2b543f9fb2a99fe09b8fec864116da5062396e8a0a3e8dc454c6e63be9f1a107b0f1f8322f1a4ab2ee0b199520591655703689aa5508ca6154f4d462d468d1fad3c6ac3dbb4fcef6bfe72e2bf846efdb3c9e590c79379e833c71ba07dc70452c2fe1a979d071900fcedfbf3e6f2a4518632c8c8c78e88c59a37695403dc30e9726f03119e870d69d16228c353727481cb8802c618df197881c95c599178a0ad98ba37d9e367a723da9c9359c2914e80b201e84b4f52cc4484a69d1b6808f73fd9b2cd38d9b1e38f5920b44f4364b154747994aff7ac99100eed23c2bf83083ab3489386c3f5534f204df61477d53bd249355cffbebd2d523b0ff8d889335f15ff03286ca406d9262a01933043879ceb121000c8df56bd50211dad043f07c0446c5e1896111f737b520a3937b046b62f64c3d8f9190a51ce151991e74339075d715def26e62171cee587b9aa89f070628efab5fbe5e0e37bcee6f0682656bb717deb45ecb2b97e098d5b3ca67b302584ccefe39865ddd5cdf601ccb82489ddbb77499855e63558a75dd9e5793183093e5ff9c73c4d80f685edd0c62b302a5308cd4810f1fc20c559575ccf3f327cfdb13a4c5b2b95eceedcfe62d8e4e31163a39115caacf2ae2a545fa2f7a2438b007a6c0a72bbca24d48288cbe67e26cab19a8a65df42e12491a1bcd89010d4dbccd479c46cd9876a4d39029ed7c6720cc50dcb3a532e040e43758ae914d03659e433989b72a526613b653095003d84635884b787bd72ba0136d0c33069e66fd46f41c158af1c7f2dcf1d337c72b65742033e3d874dfa998bed9c945a4b37540f26601a7458b50d9ae41afff622b2e87f45bc3d053f8faea25dd73ea63ec03b375ac94256813f01a09af97066f17880cd94bb796578e675db3c8a8e8cc057a3800c74419627dc29a32069b123a2601a8c991fe8f918eab63b2318ef86e33ebfc316a3ba1be6f00c0a206f6e6b2c70671f56f2b1940aa5ea033c7ab79d26efec88fd0a31f88e4b2050375e5b33b455f8d6901a743e756268a267f743b349304a22ed25321592eb7e506fef490d93ba781e7dfb9e64945a0322c0592334d820c9f26a994882440de9117109a98ee6ef29a799057a650ecfb5253fb06a93d4ea1cec17717b1067cff290bea992088c6d882586b76976c0efb734b7f94a3cf7b234f6ebc46d458fee758b7fbdaa9b6e5026a7bf4126b32ae42630c5e2d66a58cb672900a410c6fba364381359c977c0d370e8817769888cd37458a3b1d01d45094260c5889448a9275a59fb96475ab0ec7aacb2d8a0138ef962b9cbf608321da1933a56695b1c0a4149977f08d354e397dab7bb360503d7c522f824cd854560acc8d466e95ebe0847b319557cb44a334f509ec0d3777dad5ddd57249cd17b99ac7370ca00c8a99070461c50e753a6af445deb703714daec73ca88612be20d803dc8825d85a3b56afab63ae5baedc6e71a247e27c0cfab29cb877cdf5df9f170974707ef70afbce23cddfb7706ae695cb9d6147bc4c5c895ac72279da5c3d884e65a6cfc106bf8e8ac5bfd2bccfcb0cb26407302ea01f5d762fe76b792fa2ad61eea4298a195f44aff9e725025e94834ae6bd94b3753c653ca8075ed4cd0bcf0ec62298cbb3a8cac9ceb2ca6b47ad61ccd35a9a4fdcfe6a8c78b6634e59054da15d68d6c9e22834a3cafa9037d5c6ef47c757f7e56a2a038810378c1a083f919261aa0cb44bd26c8c2f268a09e00642f95f825685a95750961c121ba1ef910cf1d2c99b82d7f71c431b44d508aa96da1a11305105606a92b9af15b26eb3f19c5253780c00671eef1e55521d34896ff07b69686a922b2fa3593598508aff3c7f4964d213d400fb1ce546b64f1d9e0cba4cb0e4bf65eb95dde130df33ea7c3f0805349b376110c054d3f4eff53f300a8d1ec80b3798f9be118ef89bf6ffb7955ac3cb9a63cd4ca53ba237140c3172915c0dadd2083ee87e2bc8be9ea505760e1a60486d9037d75521ac2f06076cf9437d5178abb0b5bbac135637f6d8260a513fabeec2126e23897c1d488aa5c7fe3c27d344758059d05c5d2f1f7651b0c691fba1bbe08f6bbe78ec8fc956abe208b4c5c4853f33afc2ccbd106d78b71dea70d5a646a88e9bd018e756d787a99b0a4bd163c8d2721dd81d6eb9ed9059f3eea557f5e18a6218a35a44ba916227d5240884e615222ee7a4fceee1182ef6e88caea3bd89b7bba19e7109716a392e8e1cb6b34e4dbc23f1fb1aeb72ea31fd6053b05e7cfca7de41cc5d3ee8be10cc33254b4ab6b472d24fbc24b7593369735b5201bbdaba40e494374eb16615f18cf5f49e8a79343e533d18db3fabc3ac5d482ebeb7b7f72d481b9d21eec812064cb053925f40252124d61837d76482f066b8ac74cd312d0835e6cd06d79e0fdc77e50528fd8d3787d80f5ed24fdfef732facbdf0db10292501cb0067fc2ad404c46a83cd0377f7a0afd63e208147b3abb15aead7f43adfc5481e4696fd618951a7a241095db3a9475698915393434aacc7bae4165ae84de01c38610888704620c403bba744a952f93abe6b6218fb06e6c9d5432b094fc125095bf32c27e5a9382858a3ade8162e85a39c1e4861f356fec8205695ec9c71c15eacd60d0cc7ff2487495905025da3b7bf6c199c3e36f5be7f8db935653dee77023f61c8a48c8910d4f8903a0c8345b1c08e8088a64d1765078113d4969929d271948118b320102170963717755069272c1a04b7486197a7da9e5d47207b66a2591c9771e7185fb649d23cd2ac73196c88bec9d5314ca8b62a7c17aeea29e608b083b3f8dacb9af1e045901e98f4f69cef1db6d5b8c9ed301a4e16282452c153ee459ae0543b0147d98fcf3e022b590f7376ec8d119df700d87a623aee6575c1325852b87391cbd38bcdd48a23bf69c348a3615a9e87fa9642297004519e52718ece60cc7dbb9a5fd173cff107a2d5fb482871145d6cbbec9b27d09fdeaa92f454f7807df84fe9e1d04ec9078667f6e74fb30b4fb1f3f24dc8f5f16d23eebb3d089e1de7160d6193c24d67edd27d1d122025f92c812b2963fa6bc274b674a8b4307e35147c9ce87a8caa707c8e7dcaaffc6256b00e67ecf59c79eda4b4e3eb1b67962561c66dcc8dbc5ee8b13d3800e77bf29b08a85cb213e02f189649e278d696df9b1d572f6b450f899d8b04476c561f4c0037deee7d2b1671844ebf35ccea4399d65d5d5c57aa2f129afed449a6cba36b2de25141712270aeda97c151210bb00e1f4b458d8fc8e3b29d2d8701912265b5e5857ec528922eb5d2fa077e618926290c04d6e97ea9527ec388eb690ca433168c9053e9935e3b37e4dfd5c936a64bd98abad0086a1ae6f2a3faba7fda056f6701a32f5a9f31facc1517f9e542cb012244e80cb5e721fbe47239e9a4f147bad24e548140c4d7d46ea1e0ed23b529fccd5afea6f2c2d11e79eed9b0efdda665a8d21b0497260865eccbd19abf08a5c1dd66c02d524e1ca6937407e2715ba14d2c359f2ea6bc07585ec55bf29aae566f380420bf11836fc8709d95837df5dcea8a465c6ec39884684fb25fc6dec9469f0786249cff735a184f36ff6c55238d12d9915cd3d44b738b356ca998cd7006fdcbcb93230788bcd5ad5d8168646546f013239f6f41ca1341c2b32fe83c9d294f6665785ad5be092c5c29f51d814fafb414120d56cf08f8876312fd53bcdeb4060dcbac738b951bc7144bb0624bb51a31055dd996cd8adf3d95fdaf8bf86ebb8c29e61770067af3d02b0acbecccb4574d7e6f864e332bf737495c70e5b337bee0315cc84f7cb70e8582d64f94d06c888cc1f031de40213866b2d9d2d7a7ba6571be7cbb453520f7bc36a0440677e57143faad7955fb1f010d0c5bd51021f203ac7f184ed33a4319eb3c658a0fda5c200b3c15e3aefe16de1bd893b7b5daff5dd105a7b29c80a3ae72145c95352ed8b3a0876ee6da0dc8e74201cac7940b948cf09734f67de446810d4109d08148d44a4ad3046a5e5c13494cd5f32f3c06c2f80dc954c97214bc696a1749b2d8aa731e34688237aa3e9f27025aedf6906a1c1644c37994e1e69b570e89b5e1a9187c3f570f05ee4ab9f37e7e9522fcc9d631d939105f7af4282365b87183bd85278c38e6835b53ef5ff5f640aff9961b997898947d28c1c73292eca7c257fe13009786385835cbbb1502db445c0805bb9f9d2c169c5c8ddcccc55b3b8a86c1e796908f031bd6622d07de5ac0374199987af7bf519b4309a2facf8932468a0a824045874089a4face7533d5a37d507261b81df790cd1f904ebd75a8e79e20fdb506fab4b1337dc5794d258b83c1f26d22167a052ac8aaf6e88eacf06f396c7aa361a8ca83aa960de479c6d5d3594027d39710ebb464e90a7a9281cd03a5f8baff683b390bcb12fb65f66c51b24d95ec9e2df928b825f197f3fe1b0e546e0c1956067f58363f4bff4bed6e45e63585e1c6b0e14db8bcc401ad14c02099a5789ccf25d94f2f445e91f88aa8e9e71a5bed0dc7dc4a0e608340596951eb78c0573406ae423a60de46c0674526b1ad235b9147063b9bce44b6dc01d35a609e893a2242bf8eaa0adf6d6e8043660ec67560c98a5b39dd7729535f521d74224e634d01314d2bd419bdb82da9e0743ae4430c469b0ccd81e86df9b3682928ee48f541a722072b00405c485638be55b23659d9bc1580bc39260051383c103acdc32597c46d174a8e7bd5c5f4453877bf2cb2e10d740ab9cf53d4d46e53a45b98e5f9e46334d337c1094393e5beec51e6a2d59662556027530b5fcdedafab618969ae56fc300f33d241162e4b1e5cb10df2ae17b886d8061b3555a7a50364ac01d3ce9df2c083b67d65dc421e601851a3b706e64d4e59dfd753f343bc1b856825b5b434eba156660394ca15efdd19f402fea5dd2d5d608151abb9020994923cc7f5dbbb1141ea7e892e70c386aa4b576fd1a343ebff3ed3b219c44b2e6bab57072ff14dfee2b969fd5b68ee95a6801395023c191b770a0076fd12b5c6daa1dad81c4c80d90109d7349d82e6fa6bd11070075c47058449bbd5ce4d56f4feede31f007d53de4d5f90b2c29e799670db3968ba8413441c4c4afe87d49906d87c6b5d70bfe53d41787edbe0b9c9a5cbd403cffa7f06646ee9fed521e1f96ec0e1d879c890154d2ef2366945b9005bf3c54af80a788dcbb094afd17cb98b44c0e6c510bb5f24207db40c3417f46cc7b997356291cb90d942b4f9d6919a35737b722e57f477ad82939cbefc37fe06a43dd48c7705422eaecc92cdf7536a914e5365230f16215324e187e5ee64d062a99efeae118d803ecd81e484e9b8b913a610dda876f4b8f03cbc3783e9e30d775efce3ade3039eab5ee3649f4cdc47de448fbd693d0c63237bfde8c7d141f43442cc7073cea3426d12c967ab70d03794afc8cf0f1accd6eba5c85850a7cf129167ed3baa372ad59b442a9120894fe30fdb9e3e8cc492e73bc1ef3100a3b623c3e971b77d9ebd8081b201ac2fc6e227090a9701b12439502318853cb2037dc59e2b6fe71383f4dff849a06e0213d25fe75f242abab914d8316283547af607ba3b3d8299546b5804b918a5983983187d7acfddc279009afb51eff634f3acc55949afe88a4d355b4353c793c53b19f526f8df9126d4c5f91aff80dd307251aed67e8eb903bc0290e2f77abb0b17cce54f4a607a158f8ec27165d21d6da3070628650698a7bc812ad31a07d162d82e8cf41fa87031877578a7cc758cba4eb72bbc9257496b1002b058ff2de396b40d0875b3d43dd7672264a2257c8836751f28da7622766f475386734b54b77d4dfd286f0490d23541533c648f9053a00e6bc34e7ce1dd6f9653cfb513aa64e1bad730ebe1be064729a984269b0abf4c0cbf04234099d1558f45366b302e3e179925c67379811910ef39971cc39c55e78878ca3c32e0ae752acf56bdd0a3f8baf8acb5fd5fb78a1e7d85bcecb506accdca55db3de38d0fb570641fb2e5da575c78bff232c054a9a1cab2883c6b09c3253bb53962f6e579712714b90c519d1d4215f552e490e9e3b5116f0c9f7ef882042f17b8a4d40a50b7d6a4eef770426649dd86cdb90957686c826e82814786c2a647fb47266a2b48adad2d32d7ed49d99e8ddeff9b918a35b89cb2a3498b4097d00a0a5f7f02611f0d325e4108c2a3e1001be0edb3c4841fe61f48d3103b789","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e51cb6d05ed027db058edc159e71b81e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
