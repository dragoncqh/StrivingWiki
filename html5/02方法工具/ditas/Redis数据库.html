<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="zh-cn"><head><meta charset="UTF-8"><meta name="copyright" content="(C) 版权 2024"><meta name="generator" content="DITA-OT"><meta name="description" content=""><title>Redis数据库</title><link rel="stylesheet" type="text/css" href="../../commonltr.css">
<link rel="stylesheet" type="text/css" href="../../common-extended.css"></head><body id="Redis数据库-C9C1503E"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Redis数据库</h1>


<div class="body conbody"><p class="shortdesc"></p>
<p class="p"></p>
<section class="section"><h2 class="title sectiontitle">简介</h2><p class="p">Redis是一个使用ANSI C编写的开源、支持网络、基于内存、可选持久性的键值对存储数据库。从2015年6月开始，Redis的开发由Redis
Labs赞助，而2013年5月至2015年6月期间，其开发由Pivotal赞助。[3]在2013年5月之前，其开发由VMware赞助。[4][5]根据月度排行网站DB-Engines.com的数据显示，Redis是最流行的键值对存储数据库。</p></section>
<section class="section"><h2 class="title sectiontitle">支持语言</h2><p class="p">许多语言都包含Redis支持，包括：[7]</p><p class="p">&nbsp;</p><p class="p">ActionScript</p><p class="p">C</p><p class="p">C++</p><p class="p">C#</p><p class="p">Clojure</p><p class="p">Common
Lisp</p><p class="p">Dart</p><p class="p">Erlang</p><p class="p">Go</p><p class="p">Haskell</p><p class="p">Haxe</p><p class="p">Io</p><p class="p">Java</p><p class="p">Fibjs</p><p class="p">Node.js</p><p class="p">Lua</p><p class="p">Objective-C</p><p class="p">Perl</p><p class="p">PHP</p><p class="p">Pure Data</p><p class="p">Python</p><p class="p">R[8]</p><p class="p">Ruby</p><p class="p">Scala</p><p class="p">Smalltalk</p><p class="p">Tcl</p></section>
<section class="section"></section>
<section class="section"><h2 class="title sectiontitle">Python简单示例</h2><p class="p"># coding:utf-8</p><p class="p">import redis</p><p class="p">&nbsp;</p><p class="p"># lredis-server保持开启状态 如果在客户端设置了密码 添加password=密码即可</p><p class="p">pool = redis.ConnectionPool(host='127.0.0.1', port=6379, db=0)</p><p class="p">r = redis.StrictRedis(connection_pool=pool)</p><p class="p"># 字符串</p><p class="p">r.set('test', 'aaa')</p><p class="p">print r.get('test')</p><p class="p"># 列表</p><p class="p">#
注意python、lrange两个range的范围</p><p class="p">x = 0</p><p class="p">for x in range(0, 11):</p><p class="p">&nbsp;&nbsp;&nbsp; r.lpush('list', x)</p><p class="p">&nbsp;&nbsp;&nbsp;
x = x + 1</p><p class="p">print r.lrange('list', '0', '10')</p><p class="p">&nbsp;</p><p class="p"># 雜湊</p><p class="p">dict_hash = {'name': 'tang', 'password': 'tang_passwd'}</p><p class="p">r.hmset('hash_test', dict_hash)</p><p class="p">print r.hgetall('hash_test')</p><p class="p">&nbsp;</p><p class="p"># 集合</p><p class="p">r.sadd('set_test', 'aaa', 'bbb')</p><p class="p">r.sadd('set_test', 'ccc')</p><p class="p">r.sadd('set_test', 'ddd')</p><p class="p">print
r.smembers('set_test')</p><p class="p">&nbsp;</p><p class="p"># 有序集</p><p class="p">r.zadd('zset_test',
'aaa', 1, 'bbb', 1)</p><p class="p">r.zadd('zset_test', 'ccc', 1)</p><p class="p">r.zadd('zset_test',
'ddd', 1)</p><p class="p">print r.zrange('zset_test', 0, 10)</p></section>
<section class="section"></section>
<section class="section"><h2 class="title sectiontitle">数据模型</h2><p class="p">Redis的外围由一个键、值映射的字典构成。与其他非关系型数据库主要不同在于：Redis中值的类型不仅限于字符串，还支持如下抽象数据类型：</p><p class="p">字符串列表</p><p class="p">无序不重复的字符串集合</p><p class="p">有序不重复的字符串集合</p><p class="p">键、值都为字符串的哈希表</p><p class="p">值的类型决定了值本身支持的操作。Redis支持不同无序、有序的列表，无序、有序的集合间的交集、并集等高级服务器端原子操作。</p><p class="p">&nbsp;</p><p class="p"></p><p class="p">Redis通常将全部的数据存储在内存中。2.4版本后可配置为使用虚拟内存，[9]一部分数据集存储在硬盘上，但这个特性废弃了。</p></section>
<section class="section"><h2 class="title sectiontitle">持久化</h2><p class="p">目前通过两种方式实现持久化：</p><p class="p">使用快照，一种半持久耐用模式。不时的将数据集以异步方式从内存以RDB格式写入硬盘。</p><p class="p">1.1版本开始使用更安全的AOF格式替代，一种只能追加的日志类型。将数据集修改操作记录起来。Redis能够在后台对只可追加的记录作修改来避免无限增长的日志。</p><p class="p"></p></section>
<section class="section"><h2 class="title sectiontitle">同步</h2><p class="p">Redis支持主从同步。数据可以从主服务器向任意数量的从服务器上同步，从服务器可以是关联其他从服务器的主服务器。这使得Redis可执行单层树复制。从盘可以有意无意的对数据进行写操作。由于完全实现了发布/订阅机制，使得从数据库在任何地方同步树时，可订阅一个频道并接收主服务器完整的消息发布记录。同步对读取操作的可扩展性和数据冗余很有帮助。[10]</p><p class="p">&nbsp;</p></section>
<section class="section"><h2 class="title sectiontitle">性能</h2><p class="p">当数据依赖不再需要，Redis这种基于内存的性质，与在执行一个事务时将每个变化都写入硬盘的数据库系统相比就显得执行效率非常高。[11]写与读操作速度没有明显差别。</p></section>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>父主题：</strong> <a class="link" href="%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91.html">数据库开发</a></div></div></nav></article></main></body></html>