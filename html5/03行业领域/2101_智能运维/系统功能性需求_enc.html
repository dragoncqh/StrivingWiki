<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6efbfe4d79a2c15c46cfe0768e87855e67584e16ac97895f0f8011a3bf080dd728b83a83c124852bf213bf21e404826451d991becb265caa34f06be46c831654f7a82e6e11aa545e213e0b7e5f447326130a31d31e364bd836379102f35dbac359ede1d2420bfb844230cbe77773a2fdbefd6b10dd5278a7822ecc5cd2a51785391f71c566d3b3572f93e5df806bc7abcadfdc7107b62f05a2771886f31d817d0d360b48459c1f869caf4902e4378aac6415704e5c2e2823ec6458398b803fd6661498601c5bec8689de499b722eda079c5d6ed654f50e1f213d3b83573fba2b8f0aa23af1646ad087617981bf8e2422e4c0143cbded0e241d7be0698ea9bf6edc7e8e937dbdf3e472af6a62e90ea62c076249575c95d2c036183c7c277ce5d839f707550452221c83f653d71d23b92b88053a844bfb4d83f9224523a76caaff1267b1cc100ee5b585d8025c75219a7ac6e474ba9e38b227ed2d69007a84024e3691d321cf2bce54eaab9de67305f6cb256afce1795e72a1fb862a3874e4423c420987f7937efc34beb77da9acae21ee812cf96f353212636ea1aefb60de8e90fda9bac9603d47151bde825c35db07945e561ad1a2fcdd056ee2e60d70be0078868efc5b946f9ee37feb0e3af6dcb4d6b4ef5ddf5e67a46b562bedd0586343c05b24050a4e60db1290fe0ed5e3616649a0c6c35f11f72d0a28f58e0bc333c9af24b0ae6681c8d3de3ce1cbd58b6a2400a8bf92109c9157068eebde9cd4d417cb392dde96d64d4573868171b833f8e6494d2c0d3ca8cf4b003cde158b078a78fda29583245e86862931532a8b614616d070d4221720096271091110f771deb0390bd66ecaeeeb7a60a46531a2372ca75f105796bd35b1216db9b337527553ecefcccedb6322667ab6341c2dec16cbcd7c2ab604ac09242544688ead4fef772d77361cf130bb1556ee4f76a9cf0a9c861a0c6fa4baba779563cc0dcd158ccd505535e6c9ef8438f00be2aa7269e2dd1376f8729ac7e5eed759a1e19753ebcef0803bfd28ed816dd23cd98fe8179230ea6201e83c50bfc10de4f30dd646a5a053d3fe34f1b04af22148844577b30f98eb13c3cd4486d05aa84800c754734394625b38b8ed90dc01d7c7ed7e5e1e7345582c95306acb90a98c4144dbe4c9198605a471c6c0177100a09dd63592a895a0693015191b8e0800626773b5f52273647dcf2df9a024297ab8fd9b928f9441653845fb0c403d960eb6269821b950ca6df82ca3ee96a537abcfbdb5deae477e7eb2c9d845acb61c709479021c7e1bea0e776cc19692f30f3697a7663fb0ac28baf6894e0734b8df1ad491e8e2a79da1a639572b9320a2b339363f65c3873e6f0afb229890bb20cda7f7c936f4688f288f5981a4cd475b263c9748946e1660f01f725bb984c06396aa4b16bf43ada68ca9d14ba36cb4c10709bd32688c67b47a24bb81cbb84e29a5a922e065657cf899bad4695b0369e2f8ff162e99a7320cc642d5f85e3f581a92098d0c56536e94bf2473f4d522fa99c4bd9780dc49affd5a3d01da14cae3a64a7e0b1ddd01c08d6ff42ebdba152393239530509fe7df89f96ed9919df3cc82042d89a5bf87d02f5b0a94914a55aaf3556b1e12e0d9c487ec9207c575fc6c47c25342943a2a926cd97ff474bcdbc34a2e3ee838f06a7346fdf1a4a05660522de098e956a045fb5c4b41459f3df786a5e483e932a1aaed29a1330abf11a3dcd664e1938c52b3b72e47fc53824b5e9a6ed7827a80aea82e2c39ed26d6f8b5ec1955967a05d7346dae6ae867de0e4f9ca680563af363bdce853bdbdb63b7dd5ddec6c558126fd7e5db43219ddf709a4ad78c9153a993d1977d0cf6f8489128226536407a22abe3ef78457123dc6a601c590c8a2c98553a0c29f4dc440a443a413ef15035d20f0fb330081c0187d07c2cbff828eadea937d2960ab83f88937a86752e569ae3a20bc1b383ff10053b58a54953d6854d533b9f3ff9c5aea8ec4e277c6a40437fa8fd0374b1a1c293b234f81dcdce4e701dc1d8140b0878e3f6b4eba945eaa7e8165d32513421ec5d338c45dfa6893da228af5aa8f944597cfdc7a123ecbda251411ad54100e76d22fde6f17e7b9a1f45592a26af50c661de3d2495598957543dc03efb233c052e08e1723636a586c7322e21e6606bef5df83be1a3a0ae88c9ca29c125e400a12937d8e5ddd298c0cd763786be903a6453154e106bdda5e04dfffcd93207e464d6907f98d61b42287eeaf0690c92cbde5cd7568b8b89cc2582e28a9c6aeca1158f9c68e19f1477ce94de6090a5eeca19f56e5546e1da69dbc66b7e40f5ae7d82a39c5c4e131955f9eb2349d0d228fa4e5e84907af1cae52e3f6b3da89f116e033f28b17c6b8cbb80bc159d3c0c93ffb602ceb42f1f556cda860155d43928d42891bf942dbaf7c3eae692463984266a08cb5d8c5ce94d7039b89f62482797acc020dcc5dc157d09d008ee98acaa12b20bf691b61330f17dbe576562cf6ff6066dff96166068faa193f19f4313bec29423d849c23a59641dff2480b5735462e35d9313bda7c4296fa296759ae38e3e9ee00d80c348ff3247b1a492bce00a40f575141852b5915f19a81c58728bbe83f7f8750bc3a0af37ae8bbf3ec201a53a823f122a2d28d69daa10b993c88dee5a9d018c51aaa4ce74ba33b17197d0dd3b717c80c3da3325e14e7415bc71c4f2e141979e32bb6f528053021b78d4696bcb203c66c6b1d1808aae0093b8e0bbb21c949ed4ce7e03dfcc9ac8243f37654126faea65ba50735da66a331bf7ad7e7c4108c05b859897bc3b11cabfa5bb20f54f1c711385c31d2b085a641de6539371d5101e21d6f68dfde6dc0b4642a0d7f915700fae18885478b57e26e4a82b0116ac8c6de608d8b6e819ac3900279f3a18db110f9006ee6960eb2907ac141d3e0bdb61f4e16505d294ed21c3443e73ae9d99d7fb261db87671732a81d30b219e224b75299cf36cf265cdd8eaa52d6d12475ea7774d8f7494620095cabe899987964b0aa65880b949468cbb089faf70667f9e64c2de74e080651737bd0d2a27548a0fa0cf9baa630d02bcfc8aa5a06e94f8b9919bf8ac182b855c438226a4e5a46de3b618056a0721953c34c8a029c9cfb165c2c4acdd3ba0546e4f03501478b458d523ebe3b9289befc24b2f9ee18ff5986fbca55750da326d8426cd37514f1ac9f9775d6c74d38479e44fb7c517bdc0d72afe00ba8cb4f14a7f205536d05f7bfcecb264af5968740edf634795a6186cc3015d43ab89544d0fce87f31368e3b53328a828af1fe3adac9276588f55296f51e9c0d6d057ab531c50b1f3538316b16aa604b2cbb8097de49865ef815d5c57ba849f799afcd8ffdd13cadba2cb1d27e9e7f06852f46e695936e1ce0ede60a6104519bcf63674a9536e7a46a158796a97fc9ba9550a8489977cddc26c029701fdc3319ffad1dd8da47aa217d4f9c882a8ddd1ee3c3e84136332ce06dee1325b94598a57bf4f6e01106e957660974ecd9bc68c50911561b9f0ca5dbadf94e69158de242ed0e9432aa468304424b8849816b07529a2655b145d291f1dc5f32589934f214c33e15364dce37cace6823f355284b21a875023426abda28cf6ebe2ad4f95f269d1224901cec56eb3f6a4078a8aa9cb923066d4d177bb73b32b9463e3ccda2bdd57bede289e3d60e73c6d1e0ea6a5680b3d97d61b49a3d43770f5a3ac51150c7224f61c8a07617846e29359b05cdc6e7758d5a97bac8935d214a40f4f86a6784fadb4015a2e6f373561bf05e8acf0e11eed11d82692560558809df98bf785c58dad301a6c9acedb698c92bfb33bf662c80adaedc6064a67aaac920ac89c779ef4a10d970b369d3f7a7861749208819aa467d1f942d07f7bbced812c0b0632417bc6bd59670848063941582cd81fc7564aeeb67c0ff2da40e3ab5b2e01db546e9bcab53e9ad3be45e7b412d90e0740f0af8035ba415054e8b5e8596073a0ae36d54b6962103a520eea9329608cae8e7c29cb3a7fe3d48d6efc42095fcd5b6933baba78e94d70f1b68f906ef69ca80b915227982a424a295cf6d12e2cbced75f39b61d5aedb4e8ea0226dea77594374d862e527b86c61ffcc738a46037b4b29400e42f5be1bd9959df1e50b6fa35ba35d63df951037999dc80a0984a909ce07f363585889abaf2690aedff5fc46119d211af4fbb2344d561e54814c6d232ab16799ad91bb0b6a9dca386efde0e2da59d3fe714e24ac09a810616fe08e4a035ddce72b333b6ddc9266cf065491472f8378037db947c376a68100eb1035e0c2f942419c27043518b442fe533969691ee743b5fcfb9cec9efe2ff25f6b38b39de0145ef3768db17b54be4699a4f11c1d527fa1b53f7dee4ec44e79cc7b01d7c7f75829e7e1a8fa236e5a8118f9c3ea8e8ebe09dd1f71948e4944a94a653118376f0d5fc5f96fb38c0175d91135bd9d7305c2444350e03628d4e409f9a36f613a45a0210482cb9bd66d4fc3612157f96e7dcc9499576c079475395f5db1f848022e1a6dd88472e3f77b834aa1b52157d2bec061708492da4c19251d4a57c48d764f2ea337b75855468e8c0cde65f5faba62f31fa3255c3f7bfa7fdf582a4cf305797c18a96e715fe2a69f56215b303f46d914273819fea52e8296ec4bf45a159f7f4c843cd6db64a65cfd720870f12ee9e68762ac50fd8ed9f99c719e042038b8a8533f0e3e76afaddc637b373b18ec00f8ca72397df667427d6c243498f91cae344b111761d49ee38dd5e1f1a2db8b499fee6da8049f940786eda0d206a5ace12e10bd7b3328f8bf87bade27a7401878b5adc5ce4ca77c5f52f471925f8faabea75029ff9e5cad6009071fa87c3e810a26a15bbab2c46270f913fd3d6b570637444ac2d1fdf0ed6e89531f015ebabc70e18a4d327b1e60df4e08a6558aec7d6dd3162ab5121f9ed9534bfec18ba594ac8fe3c0dee1b167cdb2b4d4cda7116052bdbabbf3921fa2ebbd89654fe605edb4e087c53279e71d97eba706bf7e025a048baa641f24f7ab6cfd5f807e685bf881beadb550cdb9a8ebc58c7c15a29a0ba9dd555840679175bc34d6dcaa29c4070547f9b3a06b2665a7449cbf1581664e4c2bfc4d0a52b967d51b3d201fe14feb0d00417025865303d3dc4b26ed0493bd4f15b5502ba222deff39fd06a5ec7ec8e71db83681bc36535cccdf20993188a9797ef0427e45fdbf18df794e513f0fc73ec35eae1014cf334f870de44c82d99c7f4e96590e9b10ad7115a4714bd5655613d3d67268541952f75d64e5e960581251f55ec4d70e584123d64d55eb8f712b63ef396e40b498360904574210fd912b2f3a0a4a5fa6b96985c9e8f1f25d703274ecf0378a82f50aa90106edb08cca70d030f92b704c0eab71ed74867497a64baf1e692f12cd57683ef29effa29f82da4d446d2e541e5271a0afa8399961f5df8428419d25218c663b026b35537f149259cb354a3568bb7df9769ed4cf4d3b49643333dd6feae0af62f3805ef47a6b17c85163602f441c77b144d914c7c81159239bd84b0484fcd684e244daba375e93fdf4378bcc01bae3781097d9b8214c942dc9c8a88884af84cfcad997ed937c9df075b4c9b3e084288a66553b01ff112214f864cb124ce252ffa8431c2798ddc8e30d335ed4a22cb0d4d6017c38591b77d0f1b1c6a4c02b6ec38aac8c7dee982dc11d7177c18a35177cedcba5d8a3d8260a78e029d911be23f3c38840f8b41a5b6223820158b62574227c0e16481aefd11301b9de2fb93274411be9d5b3576ed5a92df89a36cb44af26f2b3bc3b1e85bed0022ebccd654e2c8f923499fb9879e958e2b74b1ed8acf5bd0b10559e31ecb1e9769e111e1b6864f9b4bfdee92421e85fb73c36b2290fa58cef213eaf06e2d8a9198eb9a1c582a1871a8a19d71b36c766c8035216398d046e15951c6d6017cafc1cc07fdf4e291a524ead929205f588cc71775d06f203a0a45182613f3d208722ac508f020aa3f03ef1e9827c95fbde9958207cc2a7f219c7d1263d8f3474fc5b74dbc6ef15c370bd699b04689ebb03a82538b3e351ef56146b3246edf922d8e8182b8138665c1db2c6bf657fbbe1d09e3cc2fe7dbe8d380721a7b58edc2081a21c136531d8390db1a54f520c747c847b9de0ca5a7f0aed80979b7c1fbb621626d326d31fc17f4811d87fa96c2ad28b515095b9c6845353679b73ff78f4f42253452e6c164376d8e01333415d00066333679c7c11fe4458b2fe715ceb7acdfa91a5a79d8cd12b02632c9b7e8d349e5c3b50e8f534963241d0ba0744d6e219c17a8d3122e7d663e0fb38991d168883e1e103fdef4c853a859aab2d5a7409d42d7beefb31a4543bd928804a90fc62ca047aaed222fbf733000452d0af7ce7db557e8410436b2920d415edc0d119e04bfe8ccf03d09a6e3774fd02bf149b82f67a1915add50feee988b9de4a896e79a034b86d2b26a31e9ba814e12598840b15593cf1de1d2394e8d87bfe8c99237533ac62d85d6875bd39d8e8418fa290fd4889ec586d151354300b8036988544f40a983a9f88e2ef35887e6d5f869c4376c739f0a14c961e601cb4ab539b00f46836412e415f707455d05de7d790539251ca5b9d0b3804a1a744793521f0d22a5234d3683f43cfa41bf126d7ebd612b36542b55c09efab6ec4c5e2ff955171193a8a75b7a58dc1fbebc452ba9dcdcb3e77f1b68982e04d9d07903196cec973cb232ea480a8f75111968d1a338ab29ec2c4dad89e82f6981e41b4a04022351cf224f1eed5d6c97b0fe0e0a92fe92faa35027679e46abb0f34677f6e4d06c2be925fd730128f5e26cd0a4efa2ec0d2382b687accfd2378593039019b1f04681ecd9a353d8571079720253aa35000646548fa1a481d3bfe35b4f08d5e4712dacdad5913dae806776eaec7f3de122e995bb49e54dba75f8ac7bae8cc47eaba67b24154b91b49d3495ff261591ea971bf6278d995b812bc1c30115d12ae958768e7935a67349397f158772b8c85925100c931b4a8f8afc1b882eb1d2d75f7881752f7c852cfa70a81479bce0787474e603a6edbe722c30d988b2cbd2e803c5c153b8a34c40467f8b52f58d1bdaf3f88c602838fab445d603225f7011139309bc916e0d34b451f4797462ff137b6ac4b02cf93ab315f2c7b13ce2f0f68787af27b755ec96945200af6f43e7fbf5054bc9c7ca5b5ff71e70a004cd4dda2d941e4b1e42994b928364c18dcd509886c7e0478fb8ec9e95791653a1822ade653c7bd7b67094ba7796f089c94f11843a1cf3b2703e36ef69ebde284ca2cf3ecae6bccf16d943aa17be6b0ef1b1dbd9e9f24b76a0fc84a62d53c6f0b54032b145d76e92886c4c4a4762bbe9fc1c68dd9133a2ed1a51b92c3c98bb5b98fa3a427f8d3bb0ce2f39bf9af20e37b694b165052d29fcf1923f79028e0744c0272198aba573ce1706f611cf19e07fd724a670fba4c86e65b36828ea1d314f2fc9f5912f01cb87e4d9fa166a9c9ff0515ac511c203897b5b653f0f80431e836a8c5b5195e3aee0f0d1e210be630795f42e033ae1969f9932cd927c4c92b19d6ad32901cc79b0c1ce491f31e924587bbe2c631736b3d2983887b2ae6754dae3f2ec3b7cbf46df98fe6899de0e68b2ad525fa8e853c9a7c9f2be76b0b92e0b2e2cb6dbdaba2d3e4ff65f0f51530c8dd69e1e8203e5d0519f538eaea1020fafca85677ae51c7933f68474f9cbc259ba240f1e44a30bb5cf57ad0951715b2a57f45b45680e1d6622f981daadeb3e72faf5492dd4e72bc800ce79099710f426daf9e06b924ec5123a6e5ecbebe690d6d184a2935b405ecdae8dceedc11cc653342a0957751ebfa42b20e4e25234e6358e4d2676b67b508a48c9216e3dbaa17f3ada883030cd33ba9aa9673deacb4c87afb82fedbc17501c04ccdce26e78848000684567c7df63626136b1c7a067afb703cad68b29489d95bfd88080c5e686ccfb68b2298c5a4bdaca13991e206bee0d6457b82773c0f930ffcf049afd0ec811de7c26cd2395caddf31fc3cd9a4c5ca18fe78df66eb0af1b626355a748f3b9b7788b5ee5f3ecc35eb00a55151d575f495ea599637e542fc14860305c2cf78043755c0175916624919b082f3ac44e24ff518a3be6d1b8730a737cc0a98cdf826537752bd597dce122393f078d9b3a25255b0055632d2edc84f954e0f2e08fe9bb153d68e686953b5519d7410c5299e5b80184257df3f73ee5fdf23e7ee1a5985dbfeccf8875b2b8146e7e71d2f5ccec27cac09813f97cefe548b76b33aded1f445807b1022fd19d945fae19d8445fd5f4b745ef225b090a4b9ff28ab47a23213fa646db533d75158715eefc8ccf05c43018eb01c3f3f4dab12e1704d6896f2dd379ff9cf2d958a1b9802815d9b567efe87228de547fe2f27d458db4867fba16c4f9e755a2ab1ff1410dc839c966a94b30f5cc470cf3c715a4b3a193adf7fe24e860dded2b7cadbee2b1193a9e8795aad7dd64369f21724c02d73ea1ff52e80c8c78680aea95c873d894b510b0b0ef209c3dfc2fe70fee0be1caa24622c43c151f6c5202ab8d665ed411cff7babc36213c446e1af3930287430bde70fe5832e65c250fecebaa86fc2336addeba4cd0d8be6eeb3dcb3558a48bb1d5855ca41b796ba9f1e158ac9dbdfaf68c32aa7c5cfe77f9154ba3e398fca0713e72e2edfd07444e56eeb500ca88e4d8c49224c3839fc5436cc50d16474ec45b49f2f9ffa4a6bce7d44a90a46f72465f5b085f1a00364988fe829290c0322915d8175974c63abf9460ba15065dd5c2491f5951da5df46a80e4e9897762549fe56cac5cd6d0c543b779751ac8a40be52dc531402ed41a440b1b244ac8e7548b112fd9e415d0678f263882efe6bd8bb5d4fbec84cc9be2302f0959d7c02810b2a5da3663a63374c2fafc0f6c542f5ab9bf833f06e785c0232420dcb35a80db51eac8c1096850caa00affe1b246292c2b60ceb37c5e29e38f384bfbcfeace97c18cf6baaf035320ad806b1f372cac64340fafc32733a7da6cc81d2eb32d97512dea6ce650890d94a392d0f70396489f731eb91885f236f6ec08ff14fd836a5f2fc822ed60e0fbf1a5329b53a4f791dee30242e105cb3f5f1e2a799fe3d0bee85034154a05ca9b41ec84a5d77f0a95a50754336e082d32b2d67c7164319574742bce08bcef86f560c682ee380f7d04e73ba8274bc3e234d576ad4af4c69fc05f6fcf1ae2ea9ce99b8d7bcc8ed5f283665fe0fcee7f79e8ac93b1dc3e70b38d5ccb656dea7f760b4b3b9833ab9b7d7a239477a3f52ee0192a20e72e5fdb505601df0ba2f170713ec6c8eee7a7576ac07cf329a282a0ba6f75b15d75cc008f72f05f0739c9fcd2bf3a70cc497ddc809ca3c47b22d9b1db9e020202673f9a3c48cf9572b5a9efce7cbae95327e076dbab161c2f710e4325ec97ba62d5055bc656d7547460ae9e635cb0967e476cd87a1ff73c13046ab81e3cc2d1b8a95055b3163df15816ba2679dd8b0f6561420378a02e746bee346adf50759ea95868a8ff01baf7793382ee525f2674b8d42bb8ab509baf1e01b9d5cf7258ae78450d0d7957fd0768bd510e660837ae81c4ca9a9ad77c7848d48793ffdef408f13afd7923bc3197ea9dbca0650e63b3391e0f6ddbc5b710028e81d3484c78c4e54fdd099f8da385ae1691c2bdcdd5deb2b03e017d7b441f395de2082fb933bbd6c48756e0c57c1f6facd68cda95c73533691223fdbce4db4ff42a2e0167f52a2036946f2152c35fa584c191536da395c9463861b791a55f2f4834cbe31f9f3a5719ed5cd219bcff949e63a1f7f99d7a9c1b88b6befe4b988fd1ae4fc2928dbb16eb92dc6b2adb25ebbb1fc93d8b7cbdd9f0abbf0d740bd1174e93aff9e905dc6aabea8d6a6f0271fa2d1b046292bc40d8961180c96194cc1ce56c787dc87578f7041f27a9670e5b5365f745537b0bda2782fda9509e230e722b87fd9712f8ac8a1637ab937d2c77f1ea05dbd602f1afaa2b878cf3e2597fdf808b9191b4a861dbfc42c7278263b99100a6042895bc8da2e0471db2b7c3e4d2642e7fbc26529e177b2c2772b5dc6d439c9b6b24932802bdc5323d8fb57c8e1c926a6201fbbfc24906941ac3e42ae839e62691d6a6c0d7aea9de26e3b7108ba28a46fc3112d6c5fbc85853bb90b680c9307db1911201aa39bc8c94c48dbd5a1b802ad3469c9881ae062f75de881277b508dd6e82d198e1b44c5192febe8d5b942e1b770715c7ae690557f0024143f8c7d27bc426e36d0ad5b118b5bbd23eb056e6e2df4b77f919927c4a5f0e7c96ea55699531d399ae50cce29dabc2e81bcfacc2adf1a08071508e344ce9b2b0ba41d1aa67b56c1dd6ca518d1d0b0318a28d132305f08e28be2cbdcf1cb4cc2887071f98b579aeffeb208a941e86a1d0e998b944ec12f64d2f283404886d2f95ee75e24d109fcbb0a1f9d99261cc892bda76f2ed25cffed54172e0fda513ee81ae7e8a6d0770978b73a4cd3fac16c8fd299716f5fa6d7fb0bb3e37fc6dedd52fedbdc5b76c7493eabe8a6d2398a6d516cd8f38099fb9527a26a505b5d664b8abfdf8514c01de2013e849292dba2237eb35d10707aa8e0094c25474b2251a9ed8003de28d0e58fcdfca67be5ee46d86fa6a2198daffb544dbdf2ddb2fb40e8e393af60f2c7723a12814eb763c7831bf4315d6ecdf81adc7cebfdd6d4dff72138f1165f058be3a1e9478409b99b5c787b5bde61b8c7081ba60e46f3f328b4465b97384fb555a108e7e3f066bf24470e607697a3f98dc6ad114569d99097eb2253ca07d794b8f18d87d186cc0287a9b31408a9b48d05ff73384226954d61816ff399704b79606a09c3ab17e46678ecc83d043204ba1c2e8f906f3e4fce96c2d66706baaeb8a6474f5b07a6bd6b8a8047cc59f54ef717c29579a262ac3f9e4ec3e8888268167251c8e590a2b82c8eca2e149ed056d79d72cbb658009042d648639fb394f41fe5bab0ef12c0b1c2d1ea7faa1eabc20eca2318be08cd689801623f41b7b4d089a275c895e23c1fbbb0e76b3bb9326e7905918211d385dc59cce87bc4414bf85a24f2f942a7ea89474f9ab986f721d435d33b1e04d76f80dbcceb897206fcce42a7feaec36eea1525438eb5799b39c90887d40db696f06e88680388fec4b513873186ed35220d362114ca9f44985b76d14e1b2fa2a42be44478fba75d382c565d4079185f549bf2032b087236dacd89945b03af981a27d26c3989569793fa73c81089c7b2a5b3e13741cbf7a67a26235cfb75d00f051931802ee2b42928fc0440f14070a8fada17b35e4bac61cc1e3fa2f9ae05c97ffe9e6d07a451103543db15bd2eaa42e348766b355473864893c21000462cd49175aed8320b781fdb721074ca0ab2a81252a7194b1da707727a1f218aa4f5cb0d66809e1600a6049fcfa1698583ea98c1c5457c55ecdb57860e21848fbc4d2ec058cee3c89083e2d4d1f4d2a6481452af2ba046cd05901cb8c121822d85dc12112266c57404fc78b7f264486b7c36726f91c7f5f259773deb92c0d7a636ff8b3536e9424d699595c02412c1c997405255ac83c823808a8776ef80bbbba958a4e14ff3eb03d24ff8ef460baee1343624ea60ae9b40e19ae6fd38c87014c35a56ad1ea465910d54e6682e4d6cf27ae0960362b0e4229ff27f5fc40a6a0ede58e998053f3d4ac1a62b447002a31fa7d9bc1dfdbde3f5850fe629bf236a948ad249f018f5b5254b129496742b1e52810607f0752a79508bf8a8617aaaebc26b5c7ea45faef43e874320ff239c26461234e144cd82b53e200d5882ce36b22bdb6d26654119d7d506f648d23bdce62a37fb45258263d020a16cd76d88c736d6c357af1c864c6ad33a3dc60b6d5f4e4e3ae72ed0a3a6db0e90b59c4f877a86e7ac29a17d703960cdcfe7037550e191c110ab5992c133cea542ba244f254b67bb7b679ce666b8c9d77e1a390ed2c779b42f1414eff4322a9e2c1ffe72884fa8941f2ea606a71ebd8c48d8d558234a81302ddcb2f62b24f3024c0e50de516bfd24f1b05b47e5da93873ca0e91f91123bfc7534315ebc1762f44654a67e4a651f7f0db28d93aa0beb32d284397d4d3c50a0edf262b82b15a128f936977b7c8a5505fe2786f3b17ba7e8cb676d8f87fb12832d1677a1b68740b79cb2f628b5a4031f2ee4235047872811c355de58778104e45826631949c0efcd19f99702d89e6a14f96c0e89f0ceac45bec4f858bebb075597db4024e0ee65e74937e0d1ac6a23be6a5734c3e5bb925c3ae6f643542eca9661ee30f59d66d4e316bd5830baf00d33b28448478d83069962983f7d8e87d1e4350ee05670b7895847eab370e3642e969969d00991eb383fccac3b1087a02d4f2680a1d1ef506bb7c91253e3d22b959a2bfc070dce4fdfc431732e058859f0386a32d51ac8af63f42045dde5d436fbfdefa77a0ac492ba9f43359a1a35f70e8e459e0cdf6520c0ebfcb622bea1d1b2ddad5a094cc26b401d4057786585b4ea21396503bc768c7c77c28e088c7a1f556f828158ae5ed11e667e9f139c58391fc4ef3235d778feb75f68ce897739e4bccd5c7f5c2409935789041b1640776f747f4db957ca46cdc1ec0da4c0dd9f09e50a086609d674543b0ba419cc71bc3fbb8a856419f89401428467b71193e735c782786e10bc58f8944f5b23c703135e7b03e3038c5b4e7364bcdfa4d52a8ff7723d9911d183a846b68dadc3254a1cd2cbc03f68b73b45da2ee3bc76f683c8cd0340197fdab3478c3bfc77a461b566dfda3be885b4c81f026e5d60e370951659e888cf5eb3f2b083b0790e6cc4242fab9eda6e05bbe4561260e0a57b38d34673aeaccf1864f4d3e53987fe3d090d6d2a568b75f68fe999c556ac97095d811ca80326d9c150e60ac1f649a395a59ce97c4bd5aeab1ec5b1a36e6a9633388b5387b82a3a109b215c273cf6de96f5050901a6a047eab84fea644dbd2d8062c8135fc3310c35795d67743772d5161bfe305764deb284ae1abbd8d150f173312cadbfa4dcd566465be5655782398974ce651c8e0e1c2ab986d3313e856f1891172b2d7da370bf5694e36ceee7c24ebdcce592c1afd769220ee3523cf925dc30ee77587f59a721152568f0098bdec81c9b9bcd140867d239f0a7d1290395b5b81f4343bc908c81c2ec884122f10e4f4b26a4d17ec0a3aaeef6c6672e0fb530704c2673656b9c0db20eecf29b44e9a9303e3e93f274ecb244189cc0605ca47abebd8761121043d4fabe7e980a8e864381a352841b2a5d32ba06fc2b2b2aaa12136cd1415d7db74c37bfba639494c65c75ebaba5c35c9bac60310c076dc52ddae6e87944881196d81aa9bf25d481994a3a940d1b123cc5c8c37b4b5bd90f3dbbdec1c420cc39c955b77b63763798b5449260fee2145ed6452dc6c09411a601cba2a5310badb76d51f9273cc0b06bac3113ee70ea74fdc4d72c00378eec63dda44e52779ce22df3bb491b25d35e48b77af8df9fbbfe7635170d48e5a130096729a80a5c2b208e2e46b655ba937c9da1e4efee804cf7fe73ebf572ac46c19943251637a27809208c172f75fd33f39df3e6233b9b50f9f6ac3f22b27b2ceb74e373b82f782f360d81179be6fb5bccd739a99bfcaf0fc983736d3aa4b9361726082075a6815b8822d198dab0a4ecc9f08411ed9165bba9d368cc7fec9cbd8875cb643f8b8852a1b882e3583b375b5606a031e747a9492a75489027bcadb66abee439200d3577f56d7505c221d14aeae26b67158e476f540ea6b9b8fa989dd8c618d4670eb26dc279eaeaa37a0b952315c2573f6cd01219069f4db07d72269a7fcdea7a2b76964ba70f6735ea41e918304278dbb027d8580aa0f18ad77551c1b4b3e0ca51b7127deff121c184f1e0d68a2d46854243165dfb57175cdf54ec143e3f16057394615fc297fa78591b45d4e7955f85a5c426e3f3cb4f43c1b57734f8bbc34b626f7e25e952f814ac3dae4e7de753a8a4204966752d6dab8427da7d2fa9827c0315f90e46606e70d4379d391a85f07d842253f9716e695e58cdb5237d12b7bbb239246c743a37832cf71b0c9eff3fd730596261de54ff27e8317c1eed7e4940c04342ca02a1e90fb21c7d463b9c68ac83b42b2e733ad7e667c3b04d32687015ea43e4dcd3082b17b58889a4d352ccb26ce9326a6c3bb55bccef0a70ac8f4b904e452c22ec5fcebc9e133a9ca344155e996d5731076776bd33854fed442bca23775ff04c6ed4529434501e87dc95b7f6ebb9f4694154d7863eb275e5656bbb8b0b444f23a756e8be9e1bc6026f53b1e3448697a038f97339cd7ed21ef2448b282821ccc6aaf7b391def10dbb94112ef80dd007314366c9f8d75614eee2c55f5c8eb1dd3cf7b6db39cc32abb0929a5426931c4378ffeee91438e4df2cb917873f8704358b52ae9cf7a2580c14a5470911a24a5c342a675de8528f38c9a34eef8c6c6f6e9881b920f7ba908bbd279f09bc6d01c4278f8d906e8a333f221d823a693f2f1d3e3053c861288dabd783b608028d8e2bede4d56287d8537a26eef2c02651bd2d9ac7ea47ca38fc9fe33a6777d959e755d52660f40cc430cbf2ea79868cceb64d6784228af1de7c937c12666553afc4f52d60170e50b4a5865be1214144abedb1cbbfa3f4bfcf295c00eac05283bb1dd81206735e687f147e32a398e2be7679041db6163e94a59b54bd625fdb362ad724c3bc614ff360ab908a1ffd212ad6350e04f504270a70115b29ece119c78e82264e97d85b45a77d740f98fb2ef5ffc551ad8ef779b181634b2b19b33708650f41841349089d83c7e9d9d4607af6d5ecfb155775ab47cc2e34fb482807554ce57ba656f44a3d5e40b5d2075b60b916673f4d82411c69dd23a595da070405b8804daefcfe3322ada8b37b17bd0f106c40dbcc06b7c2b197633f087ecf4e04f1db7abc12d25ef9162c67460834ae22d0ca61be3bc48f8408c77bbf477438a0db797005638e375b0602a0cf8dcdce437dca33bec3e6831406637cc977c2c3a4de5abb7e3f2876723c9b81c748d3f613c1963139d9ff0124610495b4793e00e3ab1912d1e2bd2c325dbb34d59b9532dbe6f46d0932cc7de9c31569fab1b16311fcbec2c397a6a6737db2a826fafdf4f63bcda04d704bc9b410cd6225928f6d064d21de985b75d2e894318a1add5577a9624dd0c2593f99b89cdcffed26f91712c8e8efdf75f5541e97c41554d59ae11095da1e52fffcc850bd9e61a5381cf85acf19f8f410878c48750b11bf76f280f59d3302b1f531390c04b17ff71a408e6596614ea924500364d2ae93f6c58a38efc3cbebb05b7772abaa272aa8835d046af82a49e3940292e99857484be5996a3fd3cb0f72d505c7140b003f8fc652ee297ea3a1f5f96c07f30e4316881e54eea775ec9c9dd4698b0cc672ed694890e28639b6d229bcecf549f5e11a79fd003025e56787e79d326cab5c465dde9a3045521137e5683ba84b47bb5b22dd5b45d3312fbd656d5773e7bc45cbe699132ca4289f0adc20347d5ee13668023e12d53bc5db1083eccc44d2f842a107f06935485ee10a30c3eb6eff47c28889a964494a715ab1ef9f2567fb63c3bd66944459162ebd12d7fa2745604f2a8807e9e3ec791a114e9823c538ea939131a308708975f50a53c18136a84d50be8d6bab134ae18b85505e694930a0530f79d162f32e7c23e3527022adcada531010a55940db7f031c53435516e605866af6ea8a36f2f584a4d93be1bfc088a82c7f699746b08d3dd9c58685c6251fa3952210310ac621340978ace266f00b5c11bda43244db11b11d29059b10e7450fe9e5c8fa91939e8a5903c8ba5cb5dec9aed177377c7cd22d7d3811506a7479b0f7cd0e82320f336afbb944add9d01b2fa06f5195cee0e8d43f51290b00358d39735eaf5036cc7d3a38d8a9767952403a91910acd214ee693ea5e988c2bcf14559efda9e64b35699ae93c0af43740544c555ce5fa2c4fa64fc3b78f6dc5a85af9eb89cd5f78097266249647b2e9ed8efdd7676ef0fb7fdb23168a8b6503c69b4ac9c58fec190390976eb476b6ad80de9307121d29a18680d157ffe53c6b082993cc7b272da9383b9ab1eb644c6e32341442509fc17ffe535e49a39265072a8f0dd4b6427dba58b0cc216483ec872bdbb15af82a8d939331e007391f030799376ea850f66c6e831ea8cf432fa584e778235af3de747b08ef68bdbb6f1e55f2224073da67fb39ee9266ea1f8cf4b58936fbb1f58034f6fbe3ae5c7e5e30fb5f4a841a13c8239c79bfea812d13d52e814abade5d1b9105bb0381a419bc592612daa27d1ae9ee7d692c61ca4b05639e4614740f07d62e3396697763de63bc70b6b2c6228a334d4ef27b9c915dc67a9dc0134343832f46a83bdcfef4a17f1cae0093c43e705733f24138b468c5de8962f16a93ed76f57d067f4295634a7c9a014e70c06191650b8e5e76b2861c80b9f739188815cfeb9eda4f2d03236360e302d76286a4e0e4e4ded1237afd7cc2b76f9f2335e60a93a0c51f78d951d11aaa0437ccdc03c494e0c1bb1d08efdb37cf86a851c8e6ce123230adf3fe4566d31cbad86565c60a56f86e8eb5574153a9443723f8397305cfc3c6e5e29d3dd2a79c07e3ff3e6b53f2262847a6ab34639abace3a02b1ce6ed55488d3b55024ec103cc386089a7b91e0889ff9f1f32f3ad880b7e60a9093ebaf5ac61a95ccb142678d506e7550d29a31ce2af36e1ec8a822f67fcecdb580ca2e7b6c735349b31ad31d67f17f846902ba8c6579bc649771ce3b1ad2c65766be9b92f7c3ae7db535a61c7bf3344929ba20aa45e571d5adb429c8c8f62f01b927e67b06c28f09cbb93436c2ccd9561c5d8dfcebae0e74e6e51daeac4bdc4d11a046fd5230ededb6faf8f0e545e14476f9b2736bb05ae2e692172aed257b21da3a6db835485e898b0f2a3af3d3d13b542959d2d83a308309e348984f9e2d7fa984d7c7541ffe017919475803a0944934f075c4ca9f30496f68b20893bba524a68a532e55969d52baf9f06b8ff220b4dcd08cb13a5e206315f0b4f22038b3c4f669f8509e5c2a58c05cb539dadb506200c4dba468e8eeea66d051e2b0da672cfeb0c0318e2ac97ad612df75e3d8844f37db7879321794968960141271cdc41c43aa6267ce5edaa1299d421b9ae154fbc3b5de3e6cd090d8960b885fc94767e05a2f51cca2172d1281a7803f8fe2dfb6a69f6eb4dca2d124dbee5a7e2533b67002b05439433b1c8b7ce13838a4031ea7058cce091021b183bbfdd7eaf59ed25928638cece6ebfba5012a67f881f3010d9447dfd923834f931ed2e5c3e33386f05bea565eccf92c098969ed5803dde38cbb581b42e26626cb19992688c6fdb7e3df986962ef497fe3d9ed35f95995679630ce9895b86590b633aa43960c70ae7d86745c568a2c8c09ccf27e8d7d500945c24ea0d806273ad0a86834da5ef423c1b3b4f8ce0502eae13011f6e81e559425268ddc1f902a0a0691303ff19954feb636585816118b1c505edcf3ebeba1395e261171fcbded20533b603b322db187e0dc8269af7f494d10768483b3a168a141d44a7faeb365a62e2df7a6ecc8b4d24f30e186695df5cb7aa423e45726ba5c3ad4fcab07dfcc9d6031af339d5074957bc74a8e359b9805bb061f590e19046fcfbda8a0913f3a68d07dd5a9461f8e7d380847f6b2bd3f1e153936eea932942f82bb73aba930b411160e921fcef0376dcae305d83db2c4d0f8ff46822a97ed3361b8e27abf72cefde3750764f14883890a442b8c9716c85872f14a72d0a8a4f55bc898e9678be415c70ce14d870c9f9b3fcbfee66447596ec01803dfa710cdd3eb4a2fc298d65528fb0b20687d719f42fe03ebf45862692eabfdd2074c5efc06a2325dceaeec6a462da0f2c33afc7631fdf7e1f5c030fed2fef91cadb2922b3a8e11ff7cd53e0889f9620b68cf447403405fe599bdc4cc29befb65c0c07bbfe94ff1fd0e1f0ef93638c3140af4416abaeb7e5a1858ac05b04245acecf375c9a436521053259b347069295926e3540c590fcdd2e3ecf9d07ede6e0ae14502e6928a6818f604d105193c1d728e766bc286ff84c8eaa45eec3d12044701728c05b3ed94438a5a2917ad35ad71b5acab91e7d71a8647d18c969cf64ed3a1c15af0d84187444a0a184ee5f94eb16a549af5a5cd59ac817565a2f687df373c5ab2874c3e95fc336f155126b42117a9c8ae6ce29a3cb402d98d6cb602fc396fa2024ddeafbe1839ffbfff92dd688152b56e337dd0a1fb97387774488ce18278715aa5ef92a0afeab804b7b67971069e1a6d3375b311fad92620831da2ca77c7df68a08923cb80dafd3b67710579d58a2887317f63e757053f90f30c73585798e80eb98669ada4ddfd68e86fdb929a02d291ba5a01a7a5a570aa4a6deec42d88ad249c15f187d6bacd7da2b625feecb30face4be9d8cf0eacbfa2a892f2961e40dac53f2a34a472a6c916965164b34c2dfdb10578fbc312fe818e373da38ec8ab3587e86d464226c50a5c3a1844c89ba020297ed7500c749704356031042dfdc21ac9937444addd98496cdfc764512970dd8ee9f42db8f59ce029d76f712cdfe23a1969afd3b54e39b12c30ca5faf81bd37dee727ecfc9be1ae17b25d12ba88065e11c43db52bc5d3ab00d115d137d35435acac38514adf44eb6f17c78b6cb3e241c374b7d08a9642bfe120eaace88cce05c84de29504d93d67e461bd81b0d839df9511ac0c6be6dc30a73a6b15127503bbc1b2c2ea35ea8175b330e1e03c192624995cf7f3f844d736d804e953f557c6cff7aedf62a5f81e6750ea8cb028f04fc212f7d3f2a11c09a3da90a6c29bd01a641440f00bdd570cb7f4a24716f9ee33cae7d69d62528232fbf057a8112cdc02aff43eddbf230d3680d9382c60f7c1da61f65c070bf92b0f985e232f71025d27aadbbeceb280c2fa48ca32a8384a5edf50edfcd9a06cf4043a233e8a76c30ef2ed024d008123b4b7e722cb703a3eb3d6e5fc57715c13a545dc1cb18a375ae1f78374b07f9ffee9a1038381c97c7105a478064bfba1d8b8a4b178d42fb98d51853fcba823c0503439082ff5af0834573e3a50ce66956cea419febfbeeea070f504a92e4edc970bac7ad4cec91498d2d263342157c2ceb3b866462c747e82e0c98818337147ba9ce028fbadceecb606d2a9aba805f908dc8ca8e61ba9ac4a6fd7dc1306efb4491d5a0505d1bbfae17874bb62cead0206697cd2abe8a63ab621ed73124f1e73c53346f6c972714c7c3d074da9ee109af6b386597f4b0f93697611db65066bd12bf42f989c8abb15c84c2ea6f8cf32e5b5e4af87994264a4e6b6667383acbe6f82d2f400cb6edea0c03ebb7dda1ffd9a13ee423a14021675765782339d0ad5e98aaaf38bb4f6ef5015bcacf88e4ca427843750d17c343e84c94a92af3ec43a8a2c3b27afaa7375dec121306b3a0ab6e169142cdf4d436d83b5447b3bcab0809c466daf737560786374ea971122c6970551e215ecf502daef750756a89c9cb13cfd6a96d75f4a1dda7f4fbd4bcbb1201620f692e755a9f96757216c126e2a5a51e011dd76705632c1b2fa732b6b1985b470ec1951f2b6a552438cc2d752df5041702517eeabbb44ac7ba86c20f7d759cf4eafd5c35461193ebbfd8b02c955146304819a7e618682554162e11430c9898eb66f2b70fc5d87da3e45cb2f100c368fbdb15c631c43b0c3fc1d84822ae1393f4049d17d110ed6583a1adb201607b87af6b86f287a9df2863c946c4c9ce1573bea9cefd2da9285f2e8aad556d234c0b9a32f769c82f7adbf9869a86a0e2c130107e615a30265fb81e181c10924cd0d6ffbbfacb989e7328bcd3f3d0643e24bbc15f606793e721e4e436e8442eb5b78777ca93cce06ac9ffc264bcb91ba21ff7539b690b66b7cef5385a8c426b8b11c4c41f9673a95bb00558a8656f41c97b3a37bd54c6cc45f96f29da5febb3e3134cc12780c4cab0b2800fe47516c38a253306b3d208143e98927594c852a293861c90cbcefffcc287364d99f92367fa755f776d1010a9366bfe2dd1b019d0898955b4344592b930ef8aef313f61787f80b3ff2446837ee3ac9f3cb463b9126b1424de870155c16188ece07a7e94327e8243345e252c59fa7d69616b2ad46bb3a1906db2b1c4a1bb02145fe8295f85c58d981a22690941361e4d5988bbd8352ff88ea1306b9a0e2a797e144d15f7f4db8407d15bf1beaa7f20a57ec38f4145caa9e087b134de6a2ebce4306573a81e25409580087d2d5ea8799ae407480c73d7ad4f5d899ccee0f91c20cb96a3726a051ce9d9699ce35bff63ae795ed2fb7c65e7290d54cac33abe978c910b2ae11ff431e6936bd68c761467c9a86bd408a87f2a49d81970595c7c7c474adb24347133da455edbb99b6dfe0e627e8113cefb79f3b5ae4c21ab9b9937d2700c8c77b336819a10490593f88f14fce270589cc59f1887a967f2c1f6aa8506cd7357ee92bf95d587047101567a73b6ffa2e41a98325676a890cd53372e36e355b92e7d6816e85579196bc7958e15ab59f5c52d46d1a45e6a0e41aea29a141c6aeea4a64081060128f934aa81336851dfe6aabe42eb44650a647b57873201c50","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
