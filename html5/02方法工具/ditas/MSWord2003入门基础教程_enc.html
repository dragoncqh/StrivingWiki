<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e9493430f468a2144f7655ee54f7f89940ba75e9e8ed5469a1d0e02397b33c1b8c43e88689cc18e4fcc926966ea27207c065bed7b38d45c3e7a00bbf91fa6a9a650b69d32e00b9ea71bd39e9dd59b351cea56193063cc8c77b9e189d2dd3378e5c5e63390c136e496559c7e2759f208ad6e995b02b6e297cfe601a94cf78aab1d48a6d6e7ad526158b71d930810bde35cbfe3a75604b56726b04920abd37451158d33c97fbee1e408e0cafb78c22fb3674a476ad6f0792593339176456738c93d19c9cf1704d25f018c9a1c9401ca0d41c592893f27609c9157b2d3da43b055f3a88e7dc9a14303fe1c808e9cee901f4c3d945c391b5a42bc730c3ff12d3f50fc9e3b9e32496be57825638690d7b4afcc3fe446eaec2a9522cd4b4d64f72ae7bea5e4e1d85aca4104d3237ca333f2dbe02dc5ba465db49eaf77a33aca4e3e7c11716f8e3c5f9950486a9839912387e5377e60fba6a2844cc098bf9d1eb33db38e0f997df5ec7fe676ae8f48867c6bb40e56aeccf9b854b64e460e112d342da2670d38683caa86b09c887ed3536bd6469d4adfcc23b1e4a40ea3e897d71f0537238ffe0b41944909e951604aa09f3bd0955fd7c05bb46751ae8d139e98c9462366a318531f9cef794b97a1646c345905cc7b0bea0e11a1018d24943676916cd5c79e1561fad0b1e75c9f8b38ed66f179dc5d81731104f8e80f2daa175352b297dc792db4b848254ec2ffe615d98ed0bdae191a721d522fa0b08784b0c9ff34cfa335c5b37824c045e1ed04916d548bd0b109b03fae79793039aaf4a1d865d9d155964d506d8875879242e26f97798396e0aacb3dba0b29ba1473ec485b2b32c6cf0a7263c3be70a8b3172030eb7145c856a7b4b93f67f7fa56dad5c49b0d808d4ec507584646839fbf1aa63d45b637c5ffe01d1725f66e264db4a58c704cab563d1e1bcdb7dff4ef20acf2a0cb26e8ccc96f320eb6aabf35665820af00556768b8aaa06e73af8349aa7d6aaeb92defc9244b57d3b53fa57f1ed8fe14000ec425804797aa15925aff46bfdc02202b5693822d901b323f8e93909e115efb629bf0cee42bae740e755acae9a4b86550fb15bc098c0e2274b9af517fdb5e361ed50e8a952ca964924894b2da6cfbd17300d5fd0e771a2c29aad319e7bb97daf5e474fa421bd55ebd9fac4495f165145d5b12b45f89071fa7782c48eb7cd511c921f22584ea791c3258c2e591bc90f342d394e0c9a40ddefb27461ad6dd6ddba9538a86e7ec33abc388df8d467cbf1cb797adb78d1c792b69a98c504cf677c1f351d0e55be43884bfdda799873aaae1bbcf668e09a2a50da6805bfa2be75d0e9d54f44c79438be8f9de8b60122cc102f9ad7c513f92fec2847b8a59c144cad88ed9768975bb2d94941ce114237bb0a9de8a5e5662290e55d1fbfb37920e7ad0b2ee4016b9f32ab19ffe9d7ec2179645d091c9f8aba12a0ee6cdb1ff9dc3e7a1a842340101f432ffefbe972495d55ab038e47929ed3deab66fb2bd034f0971df12b0e38a135057d8fd864fee20fec961f748f12dab9465d4f48525879b790a80313704a3ca6a660666e12c365882304cb0d1f865f97776963678b20661bf1af447035d544517d4b80c2cca7d447cb7def3281f5c75d09b7bb877844e401cd3cf53e1a0ec6b910aaf2bb6a7f8755861846ccc732e0c032a535828dbed3eb6ad24e96134153ffef09ed77dce0087c4144c70ef6acba96d07b136bf8d1ba8ca4f1aa0b721066fb9909fda27244f010037754c42c4c5f5ba08a186fc2434aa23cbc3075ef660b8ff90ab5d4fc5782acc54cfc004ef0134af83acd73c9d353360d1c8aef520c8b1afe30f48395dce91c81238196464974f7090f595a3e352755f7b609cdeb90129b17866a0b8cb8557b5cb25e385c998e11c2f7a461d98d90e8154c4adbaffb22304dbf55071a79ef41c048d8e771e307b77f29e231e990af90a32c1e7c0c576eb0859addfc9b628c906473e8e501e462eb690f05cf311f3b4e1f70c05d99c706ef23c510967d25dbe4c433fdb400309ef64510e90a964ccb6618d152abc30c34efa808df774be3765ec02f7000fdff76821a2fb285cb6797072995b7786406c25e34ce0b248b7b9f3debeea48dfe091928d98d9e40d8d2b70637bf2b7f28853bc762fa7a892bb08613a6c707e8d0ab5b61f69ae75d5708979d8ddd0b5793ef1d4dedd804d2cb2bbe8a7a09c2b0f14426ba175cc51f7f95ca6056d0a9431144a75be51696c19cc7dbac06f40ffb763b4e246767a6a7c069783961c7a7e821bcadce4584892c45354d1c6e18b6595f9d977442eeb49c39df25334fb2dcdcb3c02c9b80b3d15b9d7182ca8656ac49bbb5ede1ff1b294958f234cc1f449f9dfea344ab929ce74f5c9ec569f0907e0873d74764933c5a0fe34e1e75844f67e9bc5a0cdca363b5ca77dab946c74c0eb9f7ca146f860e2fd8b6792d79bcb1f104beb5389b21d291b9e96a58fa8b244a01117df8405bf7d0b3adf64d6b3836699b86c40a33fc0a447ca8665567f4c25e84731b6949925741f1ee0e4f0d76fe862b56b1faa63e2886679a4b4ddff9426ebf6b4a58600cb281c44c4b72d1bda2846e90e02dc5686ece62c6fc014ba42fed8fc0fc038ea0acdab26ca6033bfdca25747fb8dafbed25e75a3e01a84e8ccb3badf40b1718af69b7041e8f7f547959978c184b9ff5e5817a69822342752c232876b692a1688d9d699c42fd1ed5933b1f080b221a47865b05b7c71af9f57b36a5f964660b099de753c4db55e853be42b59f944313d6b00ce87e990ef31f2c20b13b8c2f9b4d589599a491154d560af0bb127722cb18ffffa21cadcfc2ba47c52af92c773904cbf4d794e13799c665eb2623fe1c4826e167461f4731b1622fb43d1b479939b6316983c138eb07405a369425f753be8fe3e6df1f6cda6b1cc6fde7d29540026a829d5817f62ac863e118d9cca76225d5bf1f04e7757a91fe3c462d252f9f62d94211cd58a75e40cfe92eee981145f3987938c4f21b437c3886fdcd38636f2ac25e3e51d77b1d83f4eec0d75bfeb5e340db8b4f9da2713a34bf274af5e12d487085cc07fcd91a56838e497a16366409f4f88897ced561e141da4fbab9b3645144d136b912a8b80348dc95fc5ad9ad16505d06812034b893de0c99fdc72e57ee12b98629a3ffd84a82b2436f991582b6d0695864c49d8b47b7f3c1a78ffa83019eac2de87ba565af8d1482b4e761d7a71189294f8b873ad0f573cb7463be2cdccf22ec1bf9ddfcfd1be159fa6a51ac1f906f25005a365fc1e1331f08873121800c1903eaa1e6ae6d0ec1238867d491bd5bf4a2d57dcb2c18b66aa6b62cbf211ee80dca22437de2f03aef633e0c8fbe5a9dd8c1c0cfae6af495c761fdf23cc0043efd42ccb15555d271299c6f64d11f138e92c9839b769d2e41434545adfc510cc15e05e77d5544c9f886c076db29c71802b77c5eb22725e8da369276579cf471bda6caf9e3f9132f06d4face0fba13606694f0edb7024a0244f52ddb22db748cf7f2ee97ea1a0aba23ef56818f1a171aa3f1eb98f1ba4aba07065cf39dd9c183556273bcf1841a7569900b322f8e09ac8f6646876bb233547abea7fba76234ac967d62d03221cb40b2fefda9c754a44902bc167101e39d36205bd1d2a75c2b3c9c05cbada86b625ae227ec53f9cbff90d3eed3c26d12eac7ed3327fe39d5bac0b94b5023801b687d2ca0280932ab31cd3ee4d0b11cc9931f5035c67eaf1660f179b4767117e9fc3152e63534cc1a93279450cf9306d96e29de10c1b3ff443ca55e90e99d7c4ac7637e329e5a73751e8fdeb90a809937e05e40818213d844e484586107f0657cb1abbf81ab63a64d626b532cb6871c73d8221045de9a711faf1430ac78fb3a661d72926567f19ed3cddb2587b17d4e5f0900903704651a676caa01463187fd5519b7b8adb26ee32ee8fc21698a90265332c609c871411570d79c4e9bfb66842ecdb80caf5eb68d31598df459a284619b3cf6e855db218255d045fef6cc80a2767120df19dde88a809e2fd44a7d128dcd67b3df3dca66a30d4e989822ff26a87c0488d78564d1f09494aa3ed81fd37b8075a049b5057a78dc04394ac3c0dc043f28beba2c86ce3a7b15e137fc7b40306f026b60e4f4bdecb18cce60bc78bdf4727a12d36cb52f9aa39936759b01b90c2fd906139c8c0f0f2f1b56b7a584918db1b186202593060340be093792ba91e5bf71fed6d413f8050d77b0970546f31b0ba72b18a6a1de0750b19c87a82a0d71a3ea575494772c80b60eb5a6f40bd7d2348d2059ea106ea7c8c9365dec34312b9031ca2efa81407f5fa1271fd13e58514076b5da4ad7034ddea531fd322aee02c577d976851bf7bafb44eae98da84ea2237f72d00f7adee447087187efc424f3f692e6c24e3a79a7c391044d6910d623c3ba58084c7ce23939d059477887c8409665ea06890200ea8cc6894e583ddc63d1eb49a5ccceba755aee3997c74fba1c253e497e98caff87e81c5ed7a4c304056546d1faf1c6a07300d3eca11da1eebf4b487d99636789b8cec6ffdb1c4ae8df9821ba9bad4ab16821471ebfa7b64e1f7e911eb83da57291fd56cc5b4725c05e712e9a8b725c5b5ffb33c5132ef8b992fee21adafb8435dd4e3b6eab3be84842814cea1b4d73ef7d53dab93866ef2453805cb12b4f355d5fc030d5e4da7eb56f49c046fe94b13ff093ea663b64e6f432dedee24aa7f1569d72e56e21d3936f8808d95d34ecf6f4036c41200ac390c967f72ff30468c09593a0c6393327739f85436b7621e46c9fce1e43ddce47fa918d7fad44709d142856beb93e2c9ba60593103be0eadd1bbd7af22e5dfbed39ad1bbba5690211600a6ed8e507c14f57c00eb1a2032172b16f5139d70d88d83db8340ae51af993edb6282545e8de5511f5dabbd69ea3d1dc5d6cccd390b169209e4756cdccb2a9a683af47b19d0341fee5fce8c5c5424e0d0fe1735a359cec56de2fb2155d6c774cd271b32cf65ae6b6c7a504d4607f471c310fd2f8c6ebb80fc84fb51868ed4b74f321a74a71bb7a5ec255a2c303bc50723a8d673c3f1fde2e761563fbdbed8c0267f4f527f9c6b09dadb7e6f081f067bcacfb7d8a2617c9e91bedc9ebe2e92c46620527515e83f0da37f06d4a0b4d37cda666cfd40a5434b6b9534b5aa1e60eef037a72fdbe69e3228de4ffc0a6f10c8bce65ce87dfa59fd07bdadcd41e2be44cadf8083dbd3f20370f28e758ac4af0d9f40b13ebbbffdf78187d7f295b0d0678eb32a702158bff371013d5e471ca2f7853f24cbda117bcb3d0d4b328a196f9d057476f7a962455917cb9fb13469d8076d4425805f8fe9ac0e899253c3d66a9f46f45b85f29ba2caf4a1210adc712f0dec33abdb3bf8ee44c9d48128a9905021d09d792c609902e46f9fc87001c64b7110a190568445c2b8ab15e61fbe7df9063feffafffebb996c057633871fedacd66fbc4147ac7f02b1f1ce687639a24920746826fddc199d4d9ca7aab53b4d2eb551c80dff34610bd19b8a32ba1e977639f091cd59091a4baf79e43da55079f2df7d485202a3ce2954fd3256ed7bfbfbb56e34c2d874eb8719b07a7944b4aa6200d06f6924b1080ac8a7d2e2eac1f8dad737212e87935ae0c0c9dced970d63824fec478e0a59819bb9b6ee5847618556a16e07e8bbdace49cb159bd6d984835bac240e4e94fe36a9466b5264783fc1ffd1918d8549e2d3f20be22ef5879e53b248ddf3b8ee26f6916b94f99d47abc13017f62bad1f445bb47d5eab0bcc025a9d1df8fd8e88f51ee2bf9b9e4a083ceac1c75231950d4ad38508ae60ddfb52507772e085d790cfa0e93df51cc3643784181c86b7cb9092ea0c8bbf70735ff9046a90831e09a343dcc993e92a39b9ebecbdde33b28a79344dfabb5e315bb09a86e18e32bcc92720a118ea1898b734e4487dfce8d75ddc5362861a38b7c23765c27f2fbe16a6b2cdc2d208a4dbc34166ca9cfec1ec1fb3729eeaadacb176a03dff34da8f9ab05b79b4f8fba3dfaf0908fead5ac952ace10d3536dcf40126e94a135d5c7340172c0278c1e46d319e1b927325806a7ecb0dc4ff363b173d7ad3b74e051da387a64cdc3b047f514a95024237b869efd013a4353417e086cc725231ed8feb7fc31ea653b6e894898ca7bb66892d0dfbd1982ecfc483603385584472e6f5d6b3a9d50ab7c05df3ad0d3f736c76c8edd7b7a95a6ce0786b0334e844c459a81b45a30417210f3b528c32ab09366f3b50c87bdc5b1a8925bd41ad7829ba08e68bc37c25a2f7c6d838adefbb0bc923010433dd1e3213d2864a0f4ee241e10f900fd4d6e911c53e4e89f6011bceaa7b1fceef159331edacf7dfdc3d786e4b45af93127d8f3ba6988dd849cb6c3f7e913e6eec364e99fec956115cc4ac8da5b4ad6602a7b25e62bcedab3fe086bd1bcc48125b5e44f27e2999160dbbfcc7a1b6e86556a9c6c704857848f2eb178b3ddaa76fe9d3b66de0c5663592f76d4367f0bf9c2a6e20425bea16811b139eda27f77cdfd5a1eb59fbaa38505487abfcfd92906d45731812515ee83f2c3d0fdab3eb760d3484f4e83b16f4fda95d33b8dc0fd6f5ffcb9b521046cb6defde82eceb44d47d1a0e0d1c202448d5c042e294ea15738bec599d0e4841558d88d70d1f27f649edc4a738aead38df9277559cbac3684a985d7f45246d78b5caab73a6bd7ca599cdfc56838996173328bbb262a67aaf6c47c82195fda47fd34206dc9074c5d54390a199cd96491ebaa4cb8891207f2f9e66a4e1713ff8683d3e90813387d649e3d8374dbc9fc2cba59ed95bc25e2f7e01e97bbe14952dfdc2add5a2eef7b4c86649d787f20aaef31142305aae6808a59d89ab0f18aea9894ae2d8c767092c7061851a1445a0711ca70e506b0ef7c3e10e294e6fa5c72f59b6232b6a73fca74d65ab77e5a09e37eaa02685971a26092b5cbe50a8aa4998c18662bf17754c6ff4cf51312ff6ed1910bec9c09894122aaa9a7bc0914354f0556732d3bbf9f95bf54012979b08d3142489f545667767b030330d9168a08c33166770bd93ffe6939cb4fb04f4a688d454e2c6ba0a75eb0e52e7f6051905c315967855ea7240c680d3f0e1afc88a06bcfcb92a3dc1390dbedbfee1d8176ec1851a511e55ecb7cd578931ae7381a5f9c29b6da64cf2bbf921e6b44f642a8e39f085ad5e73ab5752b40d9df0c91833d100d4e3732e748c733a6297d0d6e5d093f2efb43ebea4d51c5887e2650dcacbc94402566392eb58800428379fed52c9e545499365b02c0f081fe1072f7e1452f3001862a940777ca933535290bd08710e95d574d1553e6a1ba5c8200afca952ab576090759a81ca6c402c45c94d582c8c52ca0229c87f1fa7a966c525f7f9df0116fd820f82e76a340dddc75dd7bd10dbabb20dce5342804f4e81542b4a736e4eb6fdcbddd92f25ac5bb41c82549a12266e8c88b02f0eb0d68f22eaa420026b08e5c4bfa02cd83e9708134ed068aa496c3a4a86a8652d4be78b68c0646afe66aac6c612c3232e8f185caa9034992f8ce58d758ad8a51052f9e641cce70f93a05e4ae7b57ece05472bc9697726e2b175d5fd3a47b9d4e2f474fd8d389af44148c53690b3c6af36b5135972b143d2618f0629b34a6d88dc62cc17f8f9bc6ed4f47ddfde7871627b3d3bc7dd98a4c77a848cbc07c71f57d2cf97779b6e99b4a8dea08a6d39316e06d62de79989a916fe2e7e14a125bbe4e5455d58d5424b5576548c184c04b337bdcd8aa7d7d729ff0c6249e5d533fdd0679e259b6703db84e2957933eca65ecb389492dab8ecab8f60d10cc15ed4a8be6c81d15e8cf1d3ebb3ed40904c009e29dc2080436fa70910d98365eb0a33794f164d068316d057d345f6005806e893b77bb3a57e812cc6c355cbde9d5ad66b62468b385517571aa21c45cf2a0340b1d3ce9e18ee5c1db3a35150745ddd5aece42d5b1e3d29841e9408269aedb4fd9a139d3ee35cf4ab9c009350a0f12f19f6adcde3660291b8e23a50bdf31482531d1ee2210ff061c52cc1a911dd4e8371703fda987e28292d42120473c25e130c74f36878b86709db658a4fed2f0bd5dd7fab9260f543d44e8d30fbda0edcfa024c148a958d619ae1ce30a1d7d856a0159c1524b3d133d3962a8c95b1e801313bf1172b80d25b37d6ee5208bca7c9a96194211d50ecee3ff43a4ad167a4080538658d33475ff5073b63830ac7f05242312c4f2c6a591ad6dfbee919707dec7129beb3982703ea9ba1ba4b59fbc5c791628c89822110e96c9d7181a426cf976a4d7bed241026ba398a95e2c362cc633cb2aa4e961ba58b6338f1bf3d22ae91ac69ecfd43b85f39584d754680014f69d9e01bca6ba2e75f8263cc68b4d58ded1253344ae7ac5024e77d920dffc9e3f921d7513b416dabb30cc0519053fe3c3115f933680cd23092c370f79d2da551431010e23d60df2da51333b39500eed05ac249c1c54a3f19862ecfd90bc11acc11c2e44e7d527fb14dca73f08e3790e39798f6d148ac6c6049fa66cd6e3b13c2d75b51d8c15ea3e7e38652467d11a7b46e2707e043978a320423ec6ea86f2fbe6e204d942b16491447a889259c479ab5b1434863c9a4127a6a3b2aeab82a23327f85485bdc621f92ebace5c88fa906d1ca6843d281002f8c19ea919c64964826bd554e9fd1f6cb16b34f30acb1645282bea2885f15e8b1ee017f1e490147f52097b42799213d9b4045a9fdd482d98797581d65df47f282847a62296f823a6a6019ca43ce6cef5f8e37cbea5591380169a8dcb2e54309990629f809973784578e63cb282e7c37d47d2540aee2e16d19cb4ae48fd49044b5f423297c3d2d07643fb0e822f86bf23f608508c23ab6a1ceb948ac0563737d2c028f02ecc5d591d058c4a448a6e3e8fa9ba9c913d5af10a9dd8a6dad06401cd8d0134ca76031c142f73dd14b825c34a309b009c396b16b9e79ef5883606ce5aa808ebb5222f20c103859df240bd6d21b6b945a8541cdc117835baef0d8f2b5865979368edde28cca1140ebb6ffbb78940784636ade916571a0464620540c5573b73743cd949b346eecf8eb700c75935f12d28e6fb4307823527b2eae2b4ae4ebae249ccae1e231a0560d545eabd35027dff48ada064d1d9a97a5fb4221480807e24f5638444eeca32b032502b0549f2cbe51917c0551e230519e2884aecca2d94b8b98b60be6d8179a74c1677c0bc0d2b0ae9511cebcd6b9157020ceef2a5fe2f4e25309cd73b0066756855e80dd4e79d990662d8ef42d63bcb54e221c2e9cc6066ddbd0c757eb57913cf926046386e21c180f699ed4d5e34af2a268180bfe4ad834b3e848f6567fa4c90f96c7e9992f156eeccc757f38be65c63ccf06201c631b6eee98ad9f11b34d0fd8074cf382fec817198de81489046014041916a44f783386878d2dd508eead935c51dcce5751ee1ae85a03b05ffe43b7eb64fc8cfe20d4c7d41fb86a17a10a8b65000897c2c041652258a11eb850089c3a33d3079ecd36e1a0a494bf7261c71ea32a87224df022f5d75297b173a2393f8eba5e1da0aa3848be1b2aae5a0867d3875bed054079eb07bb43d32b4fcf50ea832463e67036414844d354e3edecef77154edeccfa0e59a732f0b84c621717ec019f2eeab5be4e9325c30aee3ab09ae1d55fe57f143761310ceb0f1535d79178b327dc0a4e81b9bfd55897ecca38f09eb7c402bc854741ab5d14f847fef21c83af0ccbeb262e8f5f0bee11c4c7d9f450a044bef58104b3b3f7cff9dbea21bd3cc960571bd9a8de5d9b96f632091f0c8052705a7d6b62b36e9a3220a7a4b4b67901c0bcf94821b9c47762756f7bc6b5d9113508319334416a42b824872ebf7cdbbb74cf4a4143fcd2afdeb4eb4ff8984f5f6f496a1f319fe18bb492f7b0a63a559083ad67f32fb710f95186d7e8a55911bc73f729ce09535649dcd53a268072e8a84b9b5253631a17f08115ad6a8df5e4184717a01582b8c4a77493abe03e7e0e8e0f5936cbccb67409eac7d91cc286a2dae2e0240f95af28aee148147cdda159f984c44026b662bf8b068a29a25605b510570bbea025ccbc201b4212f976bea40f5e48863a65e164ed8e8233f07f9f1ffbcb74bc1d6d267c79326ba77edebe77c09c9c303868f345c633c657d253d33207cf26e27fc372e69f00160180e693bb151d9fb21060094b8268749e63dc0e3770cdc2164959f8f4609682367608e50e3f4a4d5a4124151a37f889b9f4d71f067adb9556bab5c67c8649b252519d503c97035403fb9e4095ee165a0d4220e19f1ac9aaf083dacbbfb90fdb94f5070ceff8e4e3050bfa96fdc3e2afa3c6bc3eac5eb3e7d35d8ef5d6f67f73641429cdf64f53a82bf21b5574776350cf84fcfc01aa026d6d314aeb1840590aff54cd05e75e4aed34be68d9617a299bc029c75dc116c39c08243dbf6596e6183116f482d63dd805452982f62127d4c510ddc9849e608defd72cdc0102540fa75d52f3e4fd5fcb2bc66e27c4049b099b2d2d6f12ed7cb9d71e9764ce09080fd4b3d4fec0b6188f57b08342fa510944e0010f39098c5636767fb05aaf098565b22d7213a50a07841c9a494bb9df524159438bd46039f4091417f0a8d1544609dfd6ab92904f1662eb8a3d871a23aeb12f550cf7a9aeea6969c9bee1e2992a72a158a39a23051b49fde98541ed1ea52b88aa7bc48d35da78870b1abe1edde203201725722de45dc46795440a9b11704bfc9f29f215c28d0a52ed4477b93283a1720d6dc87dda584beac8c1d2057f82d20bd7ed51fc24261e239c1e68b20fcf5a5b595803910716ab53159b6da37b2a2d2efd0601ef70ba938c4eac03f3d1fcc1f1785dc84629f76dcf25dfa1e764470917452d693ac39b684915473a9bd196071761df54f1dc5c8c542e54d22be09e82e89980b215b37f6af4c60d5e2c21baaf98307a70baee86ea3771594fdc308a20e52d168e858def4def7023f0e58305b0f921e14c87da36f9a6bd182e85ed0444ea12e513ece3dd8590955b28357767af093be0f8e2d2c25d1757d13752510159043d95e8d0c91662fff5e4f295bcaebe2db221f4080598562c5e3c6915d959ed7160987d84f1de732bfdfec62fd50301675d1ef4e6a750be732f29523ca4968f222eed64382f0037780e96f19096dace3c6ce767bcf15ad511fa88e859ae84fa2586e5c938971cdcd714b87064b99fb3e832cb8f2bd2dbe3ced721a338869d70b1f9a076fba06b1ddef3e70f2578fc16d83ecc84c8cc3d92b5a75493ceb2e3a8f817816095e109eda3e3f3c0671bfa2d0e3b8ee853aa20e8070c4622cb2983a1e4d4a62ad6b9253d6f085a2da15ceb60179305fbe86d50209204ceed9fbfbc2a63998ba0df2c955ce0ff30946d787c72388eace7a3ca72f598fac7cd662564cb2cf01bb95c2525030d1fc95bdc33f198ca71520913618ab3e6ef2529827ef4fb1e95df0670c7a271616ecdb22c2a07d82a594af17eac41775c053723ba022fb52611a227759bf77df834308b4b43c2f4f991d31d10c5547777c6eae4f3342026146415aa5706977d4d0173a587aeb97d589e88c9ee88fc08852a3bf9091cbe88decef262fe95f93da85f824c453d5e21922e41b6192f534cba48033499de7396b03f701e22e7ad413f88ef646757befbc6a841fafd162c436471fa58c1401b4f597fe8b45ab48b391eb6c0563247f6aae5485ae79860eaee2048e363e461f818efb586c183425b18e1e0f4a21dfacd12c22389f142799b738d2b126a3d2c47440c3f4f189d9abdbff3b23f3954c23d163bedd9d9d52e8aaf7921bc529c3dc410fb234272f2dd5aa16a3209813296adb25a34a79d48e61da9c9662b35a10b2f1ee7a58c1fdb5ffd76d51657eeef03e61ef3cfededc4557e77afafd469bde64fd406099443bc9fd94974255cd55689896e196eef6f8a6a89e11c00e3dc1c37b64bbbb9460fee8c111e9fae663027c13ddaa57ba9d4c560118a19b6fb4705a7b48d38917e6c9bc19fee9e7855585496e1203d35e7de1d40b736ea3e26582eecd8b9f09b779fb93d5f76e90bb9b796de9662a4e2d3268903a2854a790471e2e30da9e6ebad5655856e258ba96fb931be4acf58e3bd64b1f84862f3b5bf7cf9a16f43de565c810f8093aa6bb1537d3020ee636b3f5e7cdc1c60a72a0867f6f154033ca1e1f7e0fa2fb84899435cdb5f3000e7e6a47c60d9cf452b5633f2be09b8923bec23b1669a0acf23bc5df87f97f064e46bf23db9e263e14a6a1f5dcd3ae84ba446a4041e6c76151d7d8e58d889cddd01025720864ab95a7d1ede7260b9518bb0d9c1cfcfb3e08e4760ecf6f58974cea7e7a0a6b2e35cd0e1bfcdf3511868e7d4f54e21016dbb9012c901b1a30984faea6c4a5ef09cfdd183a75229b5220247dfb8b85888cfb68a1dd7772484f13b985a5ffe8564e4f052e7cfcd720204885ec202e5dac6d567e0daac0f552c02c3109fcd9c8b0d878a958a15bc11b0ce8f938392de1459fc075dbc797f1b834ac45e696554a99865688935e4fdfb661a2ad265bc1ef3cde2b04165bdedd02f64388700dba318189d4c2af81090991b89cd25c9ca9664faef7f7ac4b6fb02c22dbf1282dd8735c51e96a41942504bd30cb681d7beca0147a15592ce2d20cfdb45cebbee606feaa22da681db2f44fe75bd7ab5acff6061e9e26e682759b672b546b6be54e097a149df7b11855b58f633f504feac4c89ab0405fd8ec32e80d4a07a7f1745ecc4ff5405fa0937104424a3590ef4bcf860c3f80b4cf177b7eb549407e9655c01447081a174f17c4d96106e3e4dd4bf416a1a881795814c42a570c58d430bdf1140937cb7bad974ff1fc05767236e29cc6d4d726194d98bfbfa247856764fb59b2a38734b910fe6c270082e2af3ccfcd61e03fd2959c96b46718ffb1f5c13846d40274d7711d137525bfb909318a00c43e11b753033d54df0ca7517ec118f3518c8a88c1e4600c7df2c7f44a01afec8dccf63ff48c914442d90942c73af66e0b5870caf4c5f24d7296f165f6d64935b7838d4c97c6e7cd097974c2f9f6c4e51749f35c18c830053fd15d8701facb59dc34f156e7956e40826b8b99f93c30e50f6d5c57155a8824be13a1da457fa565589d4028a16263a012f3ff9eb3cc1ae6a4ac471086674284f56dcb4801438f3f0e18282f615b4bd750e938b73ea2d2412b8a1aef0347a8228499ccc91a55ac6def2e6733a0a2ce09bfb1a28ce92c8e868c777dd2d9ca777eb1892e230f340ae9468349cc4f65f233c17ee83e23f18dc44ba257ef4a14eab45ff6b2563d073879451fc3aacfaa1bc9db7551192c4f1e0db2fc1d959895519a6c5e721acec8a3b0fe21056bec5be3883c1019d511531755269056c108dd4758090abcdd32c03b22c264447835b46b02f68527588186f8e161bd0c84d791513c916366d12ac9b8562d7f3573600d0ef1bb9ac6c8d5f34a714e3b4c0d0b618a92803259e0d579b85265ce01b51059933975ed69684a2ddbeb9c53cf348ec250367412b21b119610d06fa9421fb145c990b4d507dc215c91eb40e06822ea47e9f8acc58336b94bd438eac139df0678f4a90b2255cbc5aae64b9e0e49405eee1863b874be452366696309022073d388a42464760281e09f0ac835f145393b2f1f875fd30e89e2e0cead89df91af716bc173020340d97206edd0b3890e4e77387947fb85a22f34a95ecb305a50956b80f1eeed0974d79b58fa773d77da9e56199af9aea1a663746df32f8270f89080230569cc8dc8245a483f50e1eafcf16a9d9468e09aabce4538095d660aeb58e420fdfe8d08853b89d051e0795aa656aa2612a9dc5b6aff22edf96d99dbb2950118a23bb14fb1125767a55d40c94dacb2f602490ad2a84dfc89f9b9712cc7b00e0172b54d88704d71b2f0f4f38fbd95d5a8da96c6c30accac4e15643662c7889b9f3a5819392a69515feabee3338626b1d2578c6d71c583aca354409745001c662f2a252d17f1ae93460b87d04f9d2450aec7199f01c8ebe77d488175a06fc2d4b312beb2e5eafa2a72c9a1aa41edf5812a6d77957b8b4f733cc06db409535e7bf7e3d308bdbf22afce74f642227b9c76eff3be45698f1c53b7587df4549ac91c0b3753cd005fa041917a91e38b82ac13f7b321c38aad88c78959362e06ef0fb3262844f1198cb8a35ea2f676617c9c8e1588c5e13b42cf11ff4d5e9ee88ea21797b8230dfd24ee3ec16b6c1eb7cd55569f99b51cd3f7e1a3835ebf35ab218863ce0b42826b1da1a5f8acef03eb7f518c0752d8bb01db10752a39f9569c34ae603f69ed3d56f18040a4a51835b60af2e186e338f61001ad9b7cb753f9aa1ea5bb9b28eb184a28306879e37ec1ec51fd5b080862a46d08518a7c8cfee1926192053c568ece287c81ffe1451d94932f0addd3faebe9ae2937ababe18021b854056cb7568031b18db24c4606e16e1d0e202d828a19739b8d79d25e448ab6171c4fc078946cc9128239f2fed609a1b5d74446e52283f65303a42f56cca00cff131db9ab57e8c74628ac3722f5a28db13670d0f08f522a9f5bc808a890b0d39bc55d57543b7ba9173c2c671658c7ecaec5717b0599566223ba9d77a5a477a0ad418b2aefa6b6c1a7215272a6decb23e338ad634985f076b6618de874ee6a084e3607b781418aa8974e735f8895a9f821311f3c9d6141fad2a6eaf349c2eaab02d0b2bf8fb11f75d2389a5dd4ba9ada53c129c7cdd6d256456828f104761b3cb526a0d207e529e615d32d63f4a18343618c52b728ed790b4c5021de2d7584eb8eefda303005975ee8efcb7f89b76144c31b75f52289356ca78c412db353dd44295dadb40b0aab3b6f7edb136e96a675ab6764d1c0da04f47a1697c9d7363c7313f12ee1afe74ed328b12297587a1a49dd8aabf276f6193ddece8ea4019c43ce95cf262786fb8c412600befe332e275a9bc7865c7c2e0d717273afe6a87394654ee2d6587bdbdb21cfa8820f1588eef7c9436e7d70770a1a446a9c434a05f8080a60fa9006e6bb0a4a70bc9653efe498bc4542e273f5002b3663d43eecbf78f2837351fd7029e5647b501d506d27a0d76f8064e26c91c2754aca2db34d77274dc6688b9fbf7758dd5c4ec4a70d5070c6033bed3219265741da1a38a6f32f883c6da8e3f5f830eeec02a771c8e8ac402381ba19d550e7b33afe1a0d33d1912fa6b1fbd0f15357b81ceca3d90243664d5b1ab6cdb00a88a12960370651996da11aba89b0a281fcaa4ff097aa86f6207078dfb59f8e3839846b28eefcc1452d89f8f6765e51a67981161801b7e8164113a42433536ac7afb0a6fcf6a4057de16900b5cd2f239743f8706183ee6642909a4e998dbab88816ab5bfc691b67dd11f9de20287fdb7f936a4e18806b590a55bbec105ac797874eb46366b51b4e71136c82fd6ae5c0338251ec416f7728292d084506d73e91bd27cea91ea3de98e1c69a86a79cfb96a9a3fe0dfa0e0e4d340ff4062a0baa7bb5987fec0609bf7e3135d492305692bc52348ea364862dcb222bc51fd31c4fb7706b306870422edbbf98ca0f5d8f97b7c0818a63825056aa46657be326bb9e0ae228ce70ff02394bc3d0d37068af2e42356cc9e19c6600f288773430326ce5c408afbd2f6dd9d548137cca92518d37372443d8b2f04876a2925544b7a4bef4d2dcc7814d5866df564a5d842650509b6cda7e33df5b28ec85066fd3a7de1ea225dcc0c78cc04b2a9329d0e5aa4076977d5de4811b636cc32af87c873bed6e5bdb2d79c0bee8462c3c7f031cf5feff5232fa886f5f340ed23d568a3a2abc5a3fdae5f65834699ce44ec90bb1abe649d8c79593810434ac53e85884cc45f0319c83578cfa46da9b15c9018de962875c06b26e1459870ef14f4aadacd114ffa05ae4f179679f6c3a264155109f28f93a314491fceb69f6dd6fad092313bd0b63cc02b99fe15c55e72058f3479520ba88ef7feccceed99df28f76c5338f5dc80c0501f960e77a10430a8e1310050469c49a8cf6efa29465694feeea0974d888041ddf775d48dd1fcc083b0d653f14ed10819f77c17f6fe8be6b12b12619ac0b2cb882c610b60b54b1f5e41978f40d7091c6aaaf0d7dd15a3b1d729dfd6d3f6a4d1bff8bd05878f85917537ac936ad435fe1d78cf02a163bf8b44ed20680561dcca5a660e135ef968e5a648cfae53650e10edcfff1f1e963f6f3e10596b56aa8f196546c31b13c4507b6f66e1b5d56209554df9dbf4e9b0d23b638ca1c8c969c331bfdb8d0ce075dac07c0318124ae65a4df3adbce17728ebf28d82f0a69d90ebb97e1fa6e244cd72485214bd18d7383f752428ef2dafd1cd592b81f6b7b96d2dc1ecc03aba4489947825f270328a7d6ed8d45d3c121ebc915adc2d5a233a2bc4ed753467392c579ba970471acc5087c07386004033713a89d6851ea88dc994867404f529de7ba398c2e278445fda7c5121722194eb9a1b77946a50e5b38c6f65e726ec2ee6890e8dd648cde933e72f6b8efd9d46a366dc2827df261d9c1ccc2b631dd5a971d7d96d21a2e8014bea5f6008bb3877df54f9593a593cfb20b46f78fdb9a28db4cd7ee3e2355a61654e4cbe15f2e5da05810091f3f197c69c9193a27643620e314b9625c589c242a77e935ad5feca11b84eb8969f5e382ccb69ddf617dea92588ce4cf6a8d07df74505ece8d26d7dc83b83c12e0acf8b09b7b3c0b21314fa9b8186014e95f699e5a49cd32b990bb05d2e9174d088c80b1900047a220ae1fec791e8ac1fb57092dcd616643eb4f103d484e32a29cedf62291c3cabc0104cd65e170a653fb257b1d242e8b1efb6920b45eb1c8bfc50c2dcb0d82f0ff036d3f298a04df9d213af139097e1b24cee23f9f3c716a3be2d3c9769bae3bd2443c9e5ebfd6fb68d6ef4bc205e1ec32f82ffd9aca8e28eb8f10a0fa25a79aff980a39c13fcee7dee6f315b3a4782252dd1c164532ef607070a419f5c48c188cc13de7f34c83b3ad71d35789f2f1d695c1bc470ea8f64218239bb28f416e2d8dfaa872e2ef6181d81c7353f7e14634cd9a30b0af56e7b6cb5a53c874d1e22a6f43a6b61563838491fa24bd9403e41b0c534b409730eae549d37024d86cf7a48350e479eacafea3059413f2d071782e01a34115d8558af7df8173313e5863843e6acfa546f7576b477fdc7e02f6ebdea3eace615c9e305fc4e33c4dd23b6380813afa9d9285fda9e7738efde80a12b3792eb3507a4d1254d7f1c0b7f59a0f1caa494aa15ea7f60e1623d5c77f9e841a2acad61faee00eb55ad1bbd9f57a40d8a8ad451a676df0bfd0eea83da5bcff189c11c2daa7521eae5a81e4d876505673e7c2d93892f99be8f951b9c5c53a222369f0b2714b3cb2209ba662c68c9bb048d1fb5fc9899ca72a1f7c593c9f79f59f41686ed660b7c42a7222c9058a9f127c56029e1c5c18e7532c5f07061492ebda6c0f0a2ff0500c386ff6b5803a1f58c2d5864a124b23f56f7f58b25faf48b7c0266530f42cffd3b396000c5feaa2268a4c0d5c7c8cc2b4cf0903173044b5d4f87c304735d9c90e1039cd7681147063f489314851f817d608c8a1d31c4822b63bdd7b72ea5b1baee9e63015302cfb7a177611d5e78b7ffc875f9662422d453c0e9a9213cbd21ef64232edd29eaa61e4aad4b0ec41f1b3e3bf5a709b48b1881b0c7f18829714d1b40ca9f1027dd2770ba244ad56d29c5a67c04df9cc72f443393f1f8bed87b8bb81a9856a19928adfcde8072f6f50e6002fc02e3f03a0a8b80c26873604ada0588a1668414595dc05da0224436abc1160dae330d1ec4a49758107094b069e285efa9a01c739845af5711f1c009264e272c067bb6325cbd7b8f5434c88039e0673af702425aed94d7bb2620cf7f813f73b9e976c51c7ba22412f07a2290af5f5c58f9a1e668b807d2a3c217321a4c43a059f694a8559754ac3f4015b71ae41bde309552a11aa734c236e9230c75e645da49340e277b3f106cb3f98d3f6431976226fa06542531dc971d62d9042c3aec0bbc32e5b6018efbfd38d6e28b82aac2f605d77c7f93fe65f316564d6864681567b97f7f93aabc7bfbe76d4f528120cf48a050fff83a3d7766709dd2072e8959845bd65fd78ebe6d7922e6176d55d68a36522f03e45991dd403eae3c8d4978a229a814655f29a985ba942c4b2d79c5d71","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
