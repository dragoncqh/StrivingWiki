<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="zh-cn"><head><meta charset="UTF-8"><meta name="copyright" content="(C) 版权 2024"><meta name="generator" content="DITA-OT"><meta name="description" content=""><title>Tcl/TK</title><link rel="stylesheet" type="text/css" href="../../commonltr.css">
<link rel="stylesheet" type="text/css" href="../../common-extended.css"></head><body id="TclTK-350740D1"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Tcl/TK</h1>


<div class="body conbody"><p class="shortdesc"></p>
<p class="p">概述</p>
<p class="p">'Tcl' (最早称为“工具命令语言””Tool Command Language”, 但是目前已经不是这个含义，不过我们仍然称呼它为TCL)是一种&nbsp;<a class="xref" href="http://www.deepcast.net/wiki/10010011001:%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80" target="_blank" rel="external noopener"><strong class="ph b">脚本语言</strong></a>。 由<a class="xref" href="http://www.deepcast.net/wiki/john_ousterhout" target="_blank" rel="external noopener"><strong class="ph b">John Ousterhout</strong></a>创建。 TCL很好学，功能很强大。TCL经常被用于&nbsp;<a class="xref" href="http://www.deepcast.net/wiki/%E5%BF%AB%E9%80%9F%E5%8E%9F%E5%9E%8B%E5%BC%80%E5%8F%91" target="_blank" rel="external noopener"><strong class="ph b">快速原型开发</strong></a>,脚本编程， GUI和测试等方面。TCL念作“踢叩” “tickle”.
Tcl的特性包括:</p>
<p class="p">任何东西都是一条命令，包括语法结构(for, if等)。</p>
<p class="p">任何事物都可以重新定义和重载。</p>
<p class="p">所有的数据类型都可以看作字符串。</p>
<p class="p">语法规则相当简单</p>
<p class="p">提供事件驱动给Socket和文件。基于时间或者用户定义的事件也可以。</p>
<p class="p">动态的域定义。</p>
<p class="p">很容易用C, C++,或者Java扩展。</p>
<p class="p">解释语言，代码能够动态的改变。</p>
<p class="p">完全的Unicode支持。</p>
<p class="p">平台无关。<a class="xref" href="http://www.deepcast.net/wiki/win32" target="_blank" rel="external noopener"><strong class="ph b">Win32</strong></a>,&nbsp;<a class="xref" href="http://www.deepcast.net/wiki/unix" target="_blank" rel="external noopener"><strong class="ph b">UNIX</strong></a>,&nbsp;<a class="xref" href="http://www.deepcast.net/wiki/mac" target="_blank" rel="external noopener"><strong class="ph b">Mac</strong></a>&nbsp;上都可以跑。</p>
<p class="p">和Windows的GUI紧密集成。&nbsp;<a class="xref" href="http://www.deepcast.net/wiki/tk" target="_blank" rel="external noopener"><strong class="ph b">Tk</strong></a></p>
<p class="p">代码紧凑，易于维护。</p>
<p class="p">TCL本身不提供面向对象的支持。但是语言本身很容易扩展到支持面向对象。许多C语言扩展都提供面向对象能力，包括XOTcl, Incr
Tcl 等。另外SNIT扩展本身就是用TCL写的。</p>
<p class="p">使用最广泛的TCL扩展是TK。 TK提供了各种OS平台下的图形用户界面GUI。连强大的Python语言都不单独提供自己的GUI，而是提供接口适配到TK上。
另一个流行的扩展包是Expect. Expect提供了通过终端自动执行命令的能力，例如(passwd, ftp, telnet等命令驱动的外壳).</p>
<p class="p">下面是TCL程序的例子： &lt;pre&gt; #!/bin/sh # next line restarts using tclsh
in path \ exec tclsh $0 ${1+“$@”}</p>
<p class="p"># echo server that can handle multiple # simultaneous connections.</p>
<p class="p">proc newConnection { sock addr port } {</p>
<p class="p"># client connections will be handled in    # line-buffered, non-blocking
mode    fconfigure $sock -blocking no -buffering line</p>
<p class="p"># call handleData when socket is readable    fileevent $sock readable
[ list handleData $sock ]</p>
<p class="p">}</p>
<p class="p">proc handleData { sock } {</p>
<p class="p">puts $sock [ gets $sock ]    if { [ eof $sock ] } {       close
$sock    }</p>
<p class="p">}</p>
<p class="p"># handle all connections to port given # as argument when server
was invoked # by calling newConnection set port [ lindex $argv 0 ]
socket -server newConnection $port</p>
<p class="p"># enter the event loop by waiting # on a dummy variable that is
otherwise # unused. vwait forever &lt;/pre&gt;</p>
<p class="p">另外一个TK的例子 (来自&nbsp;<a class="xref" href="http://mini.net/tcl/2563.html" target="_blank" rel="external noopener"><strong class="ph b">A simple
A/D clock</strong></a>) 它使用了定时器时间，3行就显示了一个时钟。</p>
<p class="p">&lt;pre&gt; proc every {ms body} {eval $body; after $ms [info level
0]} pack [label .clock -textvar time] every 1000 {set ::time [clock
format [clock sec] -format %H:%M:%S]} ;# RS &lt;/pre&gt; 解释：第一行定义了过程every，
每隔ms毫秒，就重新执行body代码。第二行创建了标签起内容由time变量决定。第3行中设置定时器，time变量从当前时间中每秒更新一次。</p>
<p class="p">外部连接</p>
<p class="p"><a class="xref" href="http://www.deepcast.net/wiki/tcl%E9%9B%86%E5%9B%A2" target="_blank" rel="external noopener">TCL</a>也是中国大陆一个家电品牌</p>
<p class="p"><a class="xref" href="http://www.tcl.tk/doc/" target="_blank" rel="external noopener">Tcl Documentation</a></p>
<p class="p"><a class="xref" href="http://www.tclchina.com/" target="_blank" rel="external noopener">Tcl语言中文网</a></p>
<p class="p"><a class="xref" href="http://www.tcl-tk.net/" target="_blank" rel="external noopener">Main Tcl developer site</a></p>
<p class="p"><a class="xref" href="http://www.activestate.com/Products/ActiveTcl/" target="_blank" rel="external noopener">ActiveState's Tcl distribution with extensions</a></p>
<p class="p"><a class="xref" href="http://www.purl.org/NET/Tcl-FAQ/" target="_blank" rel="external noopener">Tcl FAQ</a></p>
<p class="p"><a class="xref" href="http://mini.net/tcl/" target="_blank" rel="external noopener">Tcl'ers Wiki</a></p>
<p class="p"><a class="xref" href="http://www.neosoft.com/tcl/" target="_blank" rel="external noopener">Tcl Contributed Sources Archive</a></p>
<p class="p"><a class="xref" href="http://citeseer.org/cs?q=Tcl+Tk" target="_blank" rel="external noopener">Citations from CiteSeer</a></p>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>父主题：</strong> <a class="link" href="%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80.html">脚本语言</a></div></div></nav></article></main></body></html>