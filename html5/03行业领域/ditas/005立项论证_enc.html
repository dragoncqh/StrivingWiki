<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0e4c917dcc12320d6d1d02b8ef4972bacfbe8eca6aae136dd8f2a0987c43de20aa8ce3c4267787e9ca66b64a3443c7261a2193906c5659bc854a46185b2128f824b076b6f5e8db808dfbe2a0742873e1ad6846867ab244b092215d93cb911ef4cba1674e6b1b1b273262745bef79bee68b7de9b9c1ea886c25c0f97c96bc7f085372e0d33c0c042d0c1f7041a02d79b4ecce5e859d45148ed5b164798befe6fe1350b9152aa24e12e1fc4790fc9976373a3bf1044a3e0a1af051bb17035538c9303b2562352859e62c00730c22275d6e6d9b0e1cb8871fceee910135d28df49f08ec3b5dc7255ac037128550e655fa47084f8364d92b2c226308c3a7a400485dd285990fcddf0321f404bcbbf8f353c061c9070b93beec24fe026f5882b37c48da8c31612da2711aa608fc7e97593f3c23836b31eecf7774278d6c0659a21d3eaa21e78c9b14ebd2d640ab834e5afacf7c563f5e3b4868c4cccf63f5dea4c7618925ed5e43a1fe31078e697520a9f5cf5551762ed5a414ce11d1290a9ed700954f9073b9830a9b500896869486cdb7debde809fea3d4b0b2bdc4447116d89ee7b3c27a9b4eed061e61df51c81df43a9e7e188d8a660f2eec3ea160ffd2779b401e033f995887302f3175da7a2623d1376fe2391d05b6cd712996b8f3fffd910c911b806f5b1e062ac9d7a15e1c37fafa9e9c44d14667f011628ae71957d6325948c14d216a0dd02f6e32c0de2b7edb126a28976c2dfa1432ad6b195f74a1601e103a584a08edeab57936d558813bb6381ce8b12189dcbc351f50d4bf108952037063436f80c2c3da52d775da6f567a57bf4d8eae1eaf305bd4fa38aa0724e5f9f85358ef74aa0779568fcc76962c53af366583b3b22e772a33efcb18d4a78b9d9b0eda4a59f051f9a5404fa0854208a8a4f2d4f07700e92646458b99b911bcb9382eec15c279857c95618c602cca6bcd7818fcef45d22a6f66ebb69d912cc9a6389c2099d6f0d846f457be23e8e52160981a27f8fad4f0d4e615db5472e462f1bc57f3e43196f2347d9141d5c0c44a433bfc8b400e1779e9a79e0115755442e000e5f5fbf32fbb1e4c25dba0bd7c9104766d16ec40c17a025f5d0330eed2ee26c168a50a459fb66f2bf796c7254815ee1c7e9a22936825f63e39572ec4e8f3330c2fd67b9c040847dafd93580b747560f395a254331e81ff20b849bcfa5479f801168b03052809de0ea7a62e223f3704345ecd37368b9b2ae2388d915e8ae95547b7f935157fccbe7a10baf45bb57b7f7f91d04f595f17c2305a77522ef229a29ec5918cbd8d84b2dc93c942f9bb43a929d49a8b42ce0d0ef17290c9ca089c926539f6b86da699a37595c5b794b6e5453f0c3e79c709a8f5aaaba846ec6eb647f8bd2f0c6dcf3948725b0c3a845808695bf0d4d95e61efcdb6d5cd0449203538e06849844aa7d32cdcfa8840cb9075e53d249f4446b369794f44cf047f0c6d1de1da14b16785f657a6dc8edabd5062bd476464ea928189cac8fc14f50b49693bb0fb01b913aa4d47f7e8c28771aede304a4775334f124e69c9721135f0579f5e55d835397a33e35078d33cbef402a2ef795a3eff5ccd8ec4b030ab7c72a486db6a071797bb4d863397b31cbeeaf66dbf44caaf3466298cbce9fc732d13c2c65469784e2736fbdd96a1ee41668ecc0a0c08298d693eda54953dfdf1f8950989a3189c37f81e0cc713e0bdb325e5c42bd9c56b0c3eacd175aa8759aaabe47a48360054c0e963a23a474814315aef23868e711fcdd276c527176abd8bccd6aa8bcb39f744641508b50559cd3067f4b193d9353c89a58bf86df2381dba7b33be1dd3a3f00402b01fe42b151951258362641cd582bc8da0c8474201082fbff2e429ad803fc675dc0ffd6daa03cf2e1e22eabe5924259f635b4ab2ae27ab4197ed70568820a451422c838e8c1d68a8c8b9cfb96b53ef7a56f229a1b04bcb1b741587d6743794789a6f8b2fe44a783b2b00475133638317bdc163bf0e123076bf257c459140fc19b766ad2f53fbebfe70909029c3771abfbbce5730c90cb5edb0a9ad3c1dcae376a04d154b2de12b50a1633bbf8a77bf44c13d9bb718fe1676af039e5e2e2c95151b230e4699cfc06e12952422168738c2a9a40d18a9747383df985e4b09afa026de791748a5a36166080431bd6c1eb1c411ccf52d6d1f8ac76391e96698a08e3636824f7567c1f1c6730ffe1445f304f901f187370a453cf5e5add47fad64e1aebff544f5699b9cacc0dc43771bb5cd5b8c8601ab1f9db6a1e46db6c242b85b19b73ebf1e4de77aed69de75d46d7e55efacc69af4936ec320d2f4a37ed6144ecc2b0f962a99dfec953fb3ea5999d2f885d773feaf5c5b6885bf9f92d6977be528f5db8319259692298d3c83379f957b2f384afac8da2f289802a0e89cc6c3d7d18f505901ed1d25b9a26492e7e84bf77f8d6116c58d5322fd767f4f2919cef6c486d6d4f12eae263ebd6a5e20febfee79f368a729fb0a8f0e45a193e8b9a7e4f3698af3460efea4abe4bd90f20da65b1d2f5df72ebefcc6410a36d60e29cebe9d6fada0a8c035a7a6ca8bf3be0b0a5b1c956d9c08b48a0f9d59bf21c9bbd0286acd3fdc95aef57ca74f85323726a0a64fb149447971dbfe34da93f0fceb973861a1968c4f1a5edede9a0ac591929015c84d51e7574d286ec0fa30aed624f72b053c7039795937b954efdf8b6bc92742faaefeabc0083bfe1edc94772e84f8a17d0ba217d814826dacdf9d35416ad06efc7d99a168cfed25c241df417003d9fd3649ccc904c14ef3d0566553ee413b1bcb2547c4f68ffebad9c3673f18871eebad6feb7e84a0d0414a107e8d123795675983852e1d2c2664d8f6cf99a7d4673824789eaf2601c679d8b6415a8f5c034836f99389e9c7744353e4b7e13fd3ac26d186f12c77678d614cae8e60a690d28cef29a382317d54761a9692bf96f12374b46b3619d17c2c4970bba5cd389492413b1cb1abe4500cc7350e14b28dab99e1aab9b8d5e8c2824a7dfe5368a6103faa16537615e99ef0771a7c0c9110d2070cf0abb5a94d687f004013135c6764122a27e04aa4a37e6c822299618f7adb81673e79cadaf6755bca790393f7bb970a8c9d5b795c75878da1dc9b8cee85f1020f3c4e920f649479cd815f3cfedc4908403269ecc2d96a41c3d4fe0f6c6f3392a214ea284de381215af19c388a9e7d36bc4e6967a6bd317481a9bb73a0d7d0e77398df866809f2d779bbcbf20be66897057ea7892abe0a640fe9fda442e97a49f510ecd0934eb83f1f1b7aa849fdda5f318328ff0d9e76dcdb89243aa448d1aeb0c0dbac6232edea27f9a115826313bf0cd0d72368381eb85b5b1861b4cbaafe55cd5936b3a2d506b6c4aa37417d4ca1dadcf45fbacd6e8c3d7de538973ec32d619f91cf9234a3930a386bf6ec8e577accb8b8a290adbf4d014c7031dfc30973ba95df3db0365641ca01db90931b0c13c26a9ff802df9ab240b7b9fbea98b5e9c039b336ff261654190283f2ea85291e0fa8089bc9ce012c583bb0abbc10703aaeb0eda9cd4c33c5ef6400dc8850df8df6bff3ab49784998a16dcd954a479c63236ebbe5135920dfe7d6739ef299bc1e1a65764acf740080c01a26fb05a983648b9d3fcf4219a420f58ac574220af5300f37a16ce6839d313f9a0470b1433698006f7072e651064140cb31c9a9136d5972c491804027e84128b17562d78d486c00b5c26a18049a4b01214c58d1e2c0ff3269e221c3f13ec2ded98062371f65d2066592c0cd3ebe785eb90930594541d4c5fd981a14274ed662434fb34fc215a9f10c43628c140873324ed8b33c42ffb171f5df16540ccc6ebd927febc3d95b791f0ea48ed92ae16d6edccf52c891a621f8d1e055465f4ff338f5dd1d81262a1f82cb06190c27d11610f0bd47076b03ad0cb12656ac9e7c027d449feec41e74e9d9db477123f76123a1edcbcda6c41485f76fe6295ec8146dd8f858bfac652fa74f374c9cb8f3749fd399f50bc7a6a5be72cddd01db1d2784c7819df039703b309bb17149fa330c0c0ce09d43aaba8ef5d30cdbb51daac83cf5ba4fdc2d245acef4e7e8a65f3bd30bae3aa0b11a4fa693cd22c00f5a2f0bf19269743fdf0aa046ed5348583e9afbdc01af7e37367529aa8bb9b4e75a63a8ac45fcab878b4c621d9eeb69767e7b1848f66b79e3a35b9bbcd005a24c13fbdee55f6d2f0e86a1b2db3677b0690c81e4dc49164f2048e34873bca4e2eeb8b9dfc5973566efcc9adc765f669f75b36c638fd87497a731da84531d39925d94937c881d6e6f8b280cbdf01ff9dfacdd2ce4a37e24eb3923bd1a57916d79a04d6c92ca49d13a5793b2811cf14ebb5d601f2b84f590c6aad603a683592e21b800694693a28a785367ac7db2705b92a21750db422447037c1e5e5523269ac12af65ef0ae851850265f716642b792372d8e324790ee2b1183636997d6c7c49a679177ef1db30d475472eefc1b91302ac81f3a8d1d753ccd85a3f27bd4a06fba3c69a4cceded300eb194054df7f0b81856b98669d1036dfe20d867b8284bfc0b52e2f5e61b7dc0aeb6f3fa70ceb054803b94e42820b00907d5ba8c17588a4eb9f5be80843372d74d4819a5caee3aaf5ece010d7d7e6178cb7796d70301423e3bc04695f36288e75a784d5822bf70313cf9833196dec26c5ca4698470812ef5b6756282a5c1e7d6f8c1829824e7ddd7a8b91dfe7f7b3354ca10a55064cfcd02672ee38fc207d7c16baea89ae828ef4a3a1c4cdc813cc284454348c1876d7ab484694159e4976079d6f500d2d61a4c52ea8e8b9c92a9a7ca75dd98cb1a22519811e9a28d6b555f7f49fe10249bb7dbd329febfcf5b0ad56e1f8a3789c87c6b87af486e6361981f61eef0cb2808c18c32952c5834533cf05960b65e31c7ad88995f65d4982e6fb466ddb5480a3af1a0bd3e69b6958626b07df0d83b04e4afe88d620a478090bcda0b06334544afe79e6ab67a757fe01a6e0d2c6e846b94e392d6079125d694f7746e43766b2033e68cd40d83eca94cd81e2be318ff01e9609aedf9392b52719d446c59ffc0bef1695053bf7e3845d7b2b674e63150083a61613072a8befd38981a41c8ce38a20a7838ff4571565238448dbf23e51bc2b70496eb899f7f96e7e9a23b5841e7a8e2294ad903d6dd707587ab30294e039b0bf6cd8ed6812c88d7fe9b89b854aa35c3d83dd75329111bed1dae6f03e5f354a869b38f24a60399ca451e171aa4282c2ef35c5ace130c69332eba29f7560973d9598f36a874279aaf84c3ea4f0db328a45213f6bb0640a33b5a5e0caae5ff8fee12c0ebe65708244b44f3995604f68b68075bf5ef31b4583a0e87955e3f894bc70281550ee6c7df8e0d7a243c2dd384d3c7212b33dbdc15866df1c45a091b4a915ccf83baadbb1b37db9823ff8b5128bb392ae00ce8d0c601dd606fc7642251f4dd34f3bed704cfa4006e9105dfcf64f78574b46b6d4d692e96e1fcc4be1380a235d53685cadc495440ddec99862a718053850368a8fc8e482d4c1fe603d4a92e137dd7512749e5538e8f71303ebc5f011bbebe2aff1228473bf785db7f44b801a3d41f41990d511482d99d3ce40daf087c06442b31cd9cefc681780948522ac04ff9335cac05f596a2a1e8199f963c0b3315d2d5cad3dfde51b1dbed6be39609f6cee43f206a0972f0169baf51be5715b4327d656befdfbe2ce37a14579a2fa82ec6d986bec6fce1d409d0f901b731614e8ebaf0d1e02af51d147898595df94188c3e92e200d73b503f175bd2284f796b151c0954be3a3a1744c6a6ab92dc563ec756f70f0e187e581bcc324f1402c9688d880e0cd567364b72bd3d63a815c5304126b8246a5d1be01076511e670dd69f5dd654528712cf8fb6f750d2e6409451c79a388b9601176e14a0e65a87b708b2f69d5606ad09b6904fb09e2f45c422fee1bb594858f316c75ec1214357251b9300ca26a6d482654dffda5ffa8657113c265b8ea618082cc9746857ec0ca18353b71bce50e87622cfae692c65573a1aac833673f9e4f8c4faf2ebe2939d3a949f63b78c4ff9f155215e3f58fc676322a7dcb09474079a781bab06a720c6025faf4b8591e07122ba8b9089ae363329fada3d78cf2889cf2e8e883ee318b8e8d74d1d5ae4b0c0cee8b3d865273d208aede112e83cdb466e5905735ec73ac791fe75435eb83c1828f72c6c8f504f240fcb34cda60b66950d9cb60f99f48e1c557ab0ab5e1328e0eacc855e5ae99a3583e19fd42b10714a7ce7a4314518be5de017eb4f973f6603cbc10ff6e106fcd447fbb50366a3ab7230216fc4f0ee9842c1e38c06277a2077e54dadc51ebe4fac793568783636fba84faa5662acf00cc422a0933800d0ba0829406d949b72382b8a090f9efc9c94ba5ce36683ee4de7d7738c695b33ad0b73adf66c7b2cb8be0ad7b53855ee50aa7341794bdd3c92cad52a1bd032b57ab4fd5ffa26056d6496549d281fcb6c96f35abe0e21fdfef5ecff5b82223dadac8d6077443d3ac493cc2681ce56735c66e73accd80540064a5ea8c62d3b70dfb43aa9fd4e73007d77ddff051977e5c682049912721ff91ea5fa07aae513cb93fa9452685e4dcfbe6d2425ae2035e77166e1a64b76f02a4bef38cc9fc33e83a62d897d28ac402f9f5764de34bf47c68c2f72e0de765b37d31c72a9bac4869253a49a0b68b7a1f991b57824435f84c1a8b002fbc9c145b47df48d3d598b3fec629ef60631a13f170e977d3d0c888249698d41f2dfe562d1667f10fec3db66b2bbc7f876bf503d00afd153984b1228487e964202cc7fedce4766b90017fca279c49a2e3d42a33b0a0a8c30c5a63341874fbb3479862ffcc6fcd11730d614424daf9681243dbf2b400a7dc7f7f33d744fc3a93faad69db195d9601f30ab800eda0010b0fbf6fa360eed5c1bc260aa2154498d0146abc9613e584ee625bf6c51b82ad4eb61f26e5a74d5a56fa5aaacfcb860ed62e6f07b02a0dc62010957e017fe535d5390433fa1f867e484f648895f05259bdb3043f303895dbcaaa0c1042f37893c5ef920730af1cb34bd77c6a692e6870d50bfb991e3a067fa4089f72d04586d4808f9b53cf6e75de3106610403ca1ee804132bd44b13daab72fda4d63e9dc35a5b7d31fc515160d3dbe40101a842bc6130c99e3077dd3ec7e1aa50626b31af08a33585a5933af1f6a4aa50260929ef1f77be00027a34e4c0b4c6a3ffbb4ce0e0190e34cc79a8f48134ffa9ffa29013b66fad39ca9048a524ffec40d6110ae3b75ede39e7907f0691ddec7c99138d469fc89ccba36fc69093ba435a056e5808b3667ef79f92963a2ff9fd07e1074fc9c9696942d381012384652441d47086a494a9950d9efd102524c87893fc226b4e5f539070152ca2aa07a76d4de9612693ec412527a439f509e55f31da58e0eb78c978ed9edd85a1b3f70def5a64320e6022150669d82869c725004c4cab40715107fdbe065d2ab3afde60b9dff6c11497ba000e6728c8f110ca9da86680d4daffc0192c33fce803ea9fffb07965422d641cfd6bac961ebaafa941bab15606b10a2dc59ea317ba6ee01b9f2c606be89a67f8408eee0ca7b5134dabc131d182174425aebd37eedad801a2143a4c07a231b5133c7f4d5496a409b7e6670a337085a85ffa911f14a21b84714cec7ff8a7da863a0a181662e1251065b2ee892334d9f97156754b2d12ad7b42f4f7127ab0ebf55fa0e7e8157ebdb6e4528f4e70b8307f6a8c375e69dabc8e25f90c3bba6b54a7f81fa07a628a705a3e379d7ef235af71fde77f44506a9c6a24304462beed3369e03c3700765040ab578308cb41224656ec15dd8e4a27ed9803305e5e2240daff82a23072c01fd49c987b4ee692e880308e62da4b85d88334a772f3ac350d97e498e08fffb36b89e46e79837d0962efdcf78a007b69f9e5748ef843a17b116617cc7ea3fe2f6005a6795656210e5b9128e677ff2eb5406e70538869ced210843e55cde706481a143b79956a3c533d592d8069a174fcf5cbd429b394359ea1f838337d1ef4c08283fca1f157545f6b7701f4a6ec09df821d720ae7005cff69f76c3084604aa6280df56e361643f60e99901b9fe5b9d379fdf4b95fa0fb4db60fd3de471f152819ca904632df085308766a950fe55ef27bc58010ec1a4a22e13513f94a0f8957f21deeab68241ff913a16e376467af6cbe5fb05f1f774404748fd5da9a13a9178bb366f0a7b1977556f30a99e09cc4af9b9090a41704a805640282f788554338a791bef07471cd821af32adee065ca1b29b528495b51fb13232ad0cb100abad009e6df3c34281850c45e4dc2fd40a25f2a0646861d51e5e19fe4db01f712c751b2a8c693e442a9b39772b49bb0e1a1a9487d1ae9d61e09e3cd91c95cd5b154e937fbfe4add775affa68e4d3dbc6fde07368ba9b44b9e2c5db3a97b9cf695474a076b146cdf760d1f709929ce70b687d8f64bb65d0c7ce869b2a7375167cb51d279fcdeaf984d906575745ca643ae9038f3217dd2c48c68451c41d1002a6a5cbfb29b4ba797cdcde083734a5cd3ad0598d0a9b2168e3abe9d720f9452ffea08501fca83582346820bec397571fcc6aaef8a4fad760bc0aabf800d0efb400114258f44ac7f90b50008be1f660afec1a288dfa6c8e2fee89967e0745cbc66376e73b18b16d0dc0e48f4789958e008472a5f16650027791523165334274fd2e885152f5bd9ab10ffd9476155914226132b79756313acd401f6d704189ee6916a6765a1333eb3fa5c16eccc487125cde0c9d0d3b96cdc49309c912155c2290efd0bf8921aaf69ae840ad8166d30045c2d23f6d95ee802b46551bc9e8aa67a54502f465554aaf72140bd4b7ce65c4fc2e97ba81ee719cadb5ed9ac39b0a2960eda1b145da856eac22c10b3599aefd21443b358a7704929db97960cbf9e84e69f95872d91a844b0897454de56b5298692a66188be9ee2f2e3caf60e6cda5bdd54616bb28e376e357c90e4a8b67932c95551fb3ef636bb0f24206ae995ea98f13dc4c28d1f56fc56ac6a9e901a965124d1f6aa1099805c25599ca912e8873afcfecd69ae08437c0ff490f0d82094f9eaa35094ce3041ac616aa7910d7f7e591e89d83915d07c31cb2b82f7b5cd9cd08fb14752cf0bb1534e6dcffa1c80a8a9cdb9222a3ebbd6d4458ce8c8d1fb2cbe49e2cee8d47392c15b323d83e12ece60467bc59b431adc9968b6b03f977f04014958caf20eb2b91dac1a487435679c8f219dcc006cca933dc2951da928339799412162c426efe1218c5a3a65c8099de8117e5546da250489b40e27c740c0bdd0c42e6b7ac5ed0023521e0886643f8e92bc51a5586c24029850bbc89955a6cdf77763ef260be462249236affe2ec955376d1205619438da4e18023c926bf61d129d841de5007ba14d5333d65717ce6f5626eaee1aae74ad5a63f80e852af1edf9fd3d4956f1747b8a9469369b7cb2c79ffa96a363100d7b8daf7d8e2bf235d9616948a31dca2fbd5aff7812f1cbc1ff2ed3a0218794bfb119ba83e0bcbbaed3f18e9c543d26bfc55b91a8478ccd005f04a5738f89af63a132b3d788b93049a701d6d58202deb87a17ad3f8f51814554421d8f1d6c9f4f7e9f44ed857bb55c41ad7223a7c4e10abe33d834f9bbc8b62af847aa732a218d96dbc302164b78b62ac183f2c142644c05e98ea3a61020da67936b08eeee368bd748d1e9c781d961733b1ce750e5c29b489324fd119b1f3aa19c32f4446574783e90b351451226175ba2dad35430b586997f00053698b65a4b4c7672fb7d77f7d6ae5da3d58db2a447be271b7b2c4fe54908afd6a328a4add07f304b821ceace98034b6fd85be4f0f67908b96d19db71c8284eeea02b313b5f26aa8c2f1965926d7eb515b3d105ada8ac88f8ba4c372f55fad3a6e0f0b9a020683effdcd6fcb2afe5ea59816fb4ec86dcd66b64812ba0b88592bfb46e3e3a0653bfba1a7340a21e217e999b5094db2cd6fbf6ad2be5debc0bbe85746e16c97bd6f4edec7c608c9425eb98f4421c84ec899ba81e4694936383820fe014fdea2c8f9cabc03b7264561354df805b3f39133cf783117dc49269434c491cc62b0178582e5fba80838faf990460055ca322b455ecbb96dfa3ac37a8542186c7a1a177401f4445f85f35491c6ae1349d7cc09b5ebf4fe5f9e53d3bda662f8c484a7d9c82bdf33ca93efd32e10b67698164eba489bbd147f40091188a57730b81722ffcc5d8f11eb38aa1499d3683d4bda558a3455be3b57bc0e9a1287a48af1e895a96c214eee415110c4df1712d2f55ff936c0497604c6de4fc44410a8544f62cf659e0adb89cdd048153778d51e313f547a86e1b9a12f7858221659a66e71d103ef2ca8f1bfec0cf8d4c52987eaae853ce45d5346f8d63577b2a1b37b7bdbd5f1f07f7198d2f99a12dfa2af90c5e4d6798f61f969474621def42d0d47547eb9f93db6858e70e311c563eae879d490184f2048084566edc143e95b7253cd1e6729af8524ccb05fcce3f7c3c1cc575a7088b269a266aa0263e2d1198766c3fad66a730b8cefa69cfcc66610ce686586a3ca80356893187b9e929a78f0291ccb145e79fdc6a35c416b7d8a323612a79e2539164dbc5fdca48543836933e4f96fda4f4dec1f50e5ff74c1d68b28210ffd3ed71044abe8dbfcef99c56366a6e74cf3a5fb7e780836d11e780747b61ff5b54f67f12c24eeba9598305950756a8498112503df32d7c1c14277da270bc47c5853e40b9563722a0e3347544f3cba05549701be24db679c8c162c668a1d8025bdbd6086cdaaa2510b0db05a3752c2b5240702821946929b06da89aa843762b5d7077c8f8a4999d8e780f73fe240041db4e8c83daf1e13f39bdb9e68815d25d5435b2cfa8781c0c28fcafcb92e876e854e3637cc2005f4926985036aa8f163071cb647c17eb81b9c2df6e09ce3c23031d441ace2389f9698014f6d918f103bbe94ce7aeb2f4259a3c9a98ca1e65ad86b68895e8d57192b186e3860f774d6e5c29f87e1e6148a339f14d4d2939db18cd7d1df416232df485ae7fdbe5646ec18b7884e9ec0d14cefeeb42f3a00befecd942abf1146e6f03bc85ddbab4c649ee67d9957c9aa5a2170bac9c36d4c54bdb9c2f5c994666475ef7d99b448daf0079d9affb227a4747ce148421b49f379beca26d9868dea3bd9d0abc4133b65ebbd6bf1f4a803ee715626b6fd904c4f6f9169ae283ddebb68d9d7487fc35d10b7548f2c63e2838a85fa7e1449f5c72473c3cfcf86d259cfe5873fb68f6b2c0707eda5a65ecc8d5f7114128852448101f4dbf058a5c25dcf5b516d8d7bbea54ed5237a6d587a044e1f4fa14052b59e636b841208d924a5362c02891fe745c1b2f0571a6262f0c94ae5ff4c536e9c9b19a74f1ac619935fd80948eadedf9ae99f306809b1fcfbf960a7097d06a1e72051e1952e72eb22255c9223a105f681111d1e4467ba8f341031c93c3c345ef5306add6690b3836fe2a25dfc51c62625bf540273fb7943bfcf988ad1cc17ae04728d67855a8f56d3e6242ddc4addacfb9fd68bcc4c304977d9deede55377f0347c05cd6a7b1644e33c072ce4ac1990ebfbde4e8e6ab4e218d18da83e1d0c6323ab84d9d2ec16496112b499b08ec4870a04ee20ed2faefd97c01354c3968fdd240e94b4c514b366ca5b333a5f0b9977185ba3b5fe9f6c3ba6d39d6f7c9889c2a6b233d06391586b77865adaa01de2d69bcdf3226f136d312a2b6251e9b9eff612b68e67b42407a410558829a7e707c554b22bdd86b25ddb2389eb7e0d4476f74a766bef6286348c2da683a58675af426e8d3849a9efdfa43231fe69f7d06d6126e61710ae5e7c29a4e2f3fc18127a0c2665b345f50f1e4612fa62a28891f06293de0c84c98788e295dfcf6af4bd1eaaf22401310180946dad6f9a99d2c809020b9c40ce256867d32c554fa0d8fc285bb48a29ab60cf2f53f293dc09d705d60835d618533a973fa3b96bf267db402d70ebf5dc7762a2fddb48d1d6e84d2fec0aa19f9ae09d7b43aa7e82808f81f4a141f66b478e25d05bdb8e599b2735ad71ecd786b75ccd486860a17155db45fc52a978fa89d2023f8482c23154f85a04e27f9154e044025dcfb1fc43d4e62aa5be142500c27ba7a0aecfdda8686dcb8a68100a1d607208bcc71163c64d6f238b0d47d142c332097a10e8a017908891b9f84514a46874c9688f13a0fc7ab580f5afd3645c9b094b0fc474208ed330440e7eb7af6bde9e5ab2a6506b9843067630fb1d009e6d8f14e712b27030fcb39470c2bcd5ff1f81c6a80441cdfe9a23bc03945eb92a84ad1d658c8b4037743428d83bc7a64d5b966b493a71127ba1cc7177d136c069a5c2183f03f6fe3cb70827028fb090890ea4fbe8a65d797b178a9c12e47df219ddde7b96ba3b80943194e0208d1d2eb91ee3cd583b04cefbccfa9b649839d9f71812bd97e83ca8d6a9c6ccc9783fb5630c77917924b583275e425491ed9a959a0f226886060df673d158344df9086bf134bd5c023662aa6326326fbb5fa84169fe71abec7a0c325c416987fd9488361abfc10365579957a9e9e9d43214a1d5e0a798b49ccde7db38c4fb3aa4443d81d5712b076b3c52baa2efe0852311ce60c575f64ac6985ec82f47c3c063c380981e4aa63e86c5d4748395cc5899dbf02b3afde0b1246cc1911c9af350a82049dc1dade006e161f94159807becc70cb69632b67905eed01d60b80f606a1e5b1a612b189be112da4fa94cc337c390a22451c32fd2e3482789aed4cc8b8068f5f9f89e81cc4e66a734d600cec705a780bb28b48ceb8595b6c8e24e65494012e7b084261cd7fd8b4a2698039545c5d5641537ddd387d5b9766f47a4bb65c588464bf94353fea08e43d2497ca8aa19e823f6629185246c7d544203ddf55adfdd5f730104280689f564c8028063ae850fb24a2fa728833c1a5d115c2d17083eb1178be0b9217bf9ddc75a0e89026a1f44018c7520f3fc9ad1f42e0abb243f2017cb8746d0966bf8ff3e6536b1defd3946c4793aca0184e2a9bb1d5ec80570ff8b732eac2a63eec47c7952c051ace31fbbc4d8f22a68d46d47d9ebb15728e460b79b8738b45b03269973af0546d7a0ba6ce64f7167364aa36e0aa70a0e2ac1a15f3e027a4856b57b498bc9a8581a57ee1ee52611c114c1ed29ddd6347d69d86f408a1c83e3029554dd00ec6affb2bfc77584877624516708378f025ecf4d5b506789e59f1150f6552063a4d324249f99ff870538294c03ca6e5850412bfddfcf2e9d6fc48b5ed6ad80d6061d56f64623c2019af221b586111a1b5e6a7cad04e9094ee7d957b50c564552dbf03d0531df5c70d1894b7c218ab7b98eb9af1d285c682a0213f8b861797e9b15f7760451bc6cb446265f79b47681e7d6756bb5d3a86cdae96e86b2437c9d6f2e87670206884800115624bbee747d81c04b6de0fef4a5bf3da5ab2f2b804b47892e1799645781e3afbb929a45187921a159f162b457d11a0546eeef65bb6f762eb1e562a4aa1d8020794019bd425496536a421090e9b2a1bbb9c9777838996f4a18f3f15ee0c741ca5389c2dcac3cbb79e0050e1f030f9321f0139613ae84f13c00b8bfe6edf00bda4d824b1d4b90267562248292f721a7a02d58c965262f2bb299f128c501c5fa761ee6124e439d63bc7a31f07abc5e8fda9b5b9e84b60e219d95680cf300a24545f802b2ed930c8bb591c11e98a7e237d6cd0e21cc67f964ba2119ea2e29835e092fa0c27160327315f428f2e91e7b99889193cfeac82f35f1070e54b962d43789277ee9cd21d4f03ed2fdcb73c959a0bb369aacfa990f27d75f8315156fff661eef4d3cec73d87f44ccc28ff69199fb88d479fd0201c0daf53a335082297547db438a5c834f2b60ff0d2771a0b1a55347e2e99511b2f3dfc04078c1fd24ba8546e47279c18863481d08577755083fe94f451835a0a06cc5fb15432d2df63d1bb5f1bc23218ca3756470c896f38f06941f6217012ec7cd1b4cfaac83423b136ab50b6b2605546cf0fb6f2097080c41a60a9377480da110d8eb1f3bd73c389ec31d3a05e12cdd2c5eb6582bfa690adf958bd321d02c261031781d13a94efca576ce29d96a4404e25837a45c0c12f2bf41ce121e5d1f9e13045a3dfe5d7243a3ceb5b4678b88b52ff371372896b9445b65ac57fa7e9e960483199bbcfb217f27a6596186bb09d041fe71eee9a24288c46d07681f1d8604642d5d5dd30f7e882f590c7aa226706bae2a1108082c7ca897675dd2d2f0adccb42d47c902f05c8f2f48083a2a2bf5b331b215df61ff876a719b4a54eacabd1cf3a71e9726dd712a257d7d2b6ffa9110b94837f134b3b684fa8dd3e0bf3687e880c2db8274cf7face8dc5b671e08bc9d2c29968b01cc7e5ed9f3b0430ee3400830a81c92a925f194e94f44399b759041ef2615288e31d05ffcf9da418940d6eee378fd50b0ac7a5dd4705b130075ab1aecb1c4327b769dbd399c549ed00c77202938672b39c22650c1a7f49fd2a32ae410f8e216e699c3c00decc751199a4f68090eb817012c6efaaa5d5bacbf3a36d5ba974dce287333275a7156d4b20daa7f2fdd42db4cf87954179397b2cdb1e23cedefae99cf4df670a0b61da3ef31b4a91dc1b9b3a54c5261d2cbb5149cb26467913c64c5ccb233bedc7ee2419b47b5c9d9a094d26cac9ae780428cee3600d2f071e369fd993aa31fcfd3dcaefcc8e6800d7a5ca0aa445140d389495701284bc870fbdd0e640e828e1fded2a8ab22238ef68f6b6edd241aa24f8873cc9cb8ae5db0bd392ddf800dee0cad6501ef8ceb99eddea4f4f1dc7817d8ddfee1e10a5112b7dcfa49649f68deb441218610dfc693e24a237ea9ba520e33f781c83c4552d35fd1dc6eaffd340b7e11ffe5f83fa8af62aee119d9dd8775c9a160b2ff9412967acbfa552d11392bf59d7d239628751195eafb13eddc365e460aa0bb998bc1f4d9504abb80c3d54b3a4b060347f1251c0baf026945a18c29f3392f000b5c5afc1a3388cf045a29c6394a335b5ddc974d2d091944b012268d34efcf4e22c401735273cc77cd0784de7ebf1dc99fc3141e7e7f33c6601e6ba738a3f89e445f0cc4b222bfa637c1488f52145d681093fac4360d0bc19e3af096d1cc434ede4d9b361b92c65d7d6f4e5597af145ce89b433f47e37aea7f7fb18fc805e5832e7cf7d44af578eef2e2469557402357de32e81b5e901add958bda791af3cd9cb701a536e2d0b4c8d6e751ff8c698b8ef8f00c39714ace6419f0afac571f07e30f070ea4ea6af0c9778d744d08d338af379f11c15b631764ba1dc085da1e9d193f50f49d7455cddeaebace64db03e5ae9af9321ed0f8015598aeb49f1875f5ca459dad1260f49b30ce6aafe15d00e80256175ed26a96a7399c853754280c568baa89f97ca5ce7a1033cbde48ab49e10f919748ea73114137a35c94a1f87b4a0d4bc6994a9dc4c63b7fb62a7b11e1d33b9230e6eea2659d9370ee5c37c8a8f22cd3241d0d9026fb079cecc5c0bc7f303c2c13e4f947285573122e02bd34284162dba61327edcb751e4a68717a9c517a817eba622d8220164016b948ae434a2d0002fbd69e8d96f4371db8c9a6a397722cd1fa43f74eef873b25fac77b99656e0623222bd1614acdb01bcfe60370c1289aa8e529c1a48ab987f53d950dc5fcbedb2ab1753921b7d39a2c8df8da1a7c20c4f63fa3b997ced0ce5dd2cac077d3672ccefc26bf32c5cbc03e353f71867dcd570484cfe12c8268aa983f78122cc4c7cfd163305ac29f2a6ca3756e05d538178a18bf5eaf7160e33b80ddd59a237ab1906e4aed47211af1dd91e8cdff0f1464aa09be61b1566c41f7efd711b0006c176ba321a9740b827765a6bbd848ddcce7eb3ddb4f3d60138c0f871feca49fe20a37a11056681d0d58e4a8e0d00063d27bfeb92a44fd82fee4baa817ce604da79b327dee164c91149d0ad0fc6c59c4012041a4b10254efdc655ef053cfe39ddde5fe95781df716dc705eff6bb501abcc02efcbdf874ed41b33b3627f5d7e990c5cd664bb424f8c2305f40eab64040ad85a4334addcfc5010d001fb614f561e114947bae2208d30123d86d9705652738aaea5966c0e6980fbc85022b92b336ddb4f84ad669bd84f58f24d4bb27f0622cdac6fe13e3b8a45464e57966df0015d5ae71d71273cbcc5c6ab26dc993a9179dcff0c1d9d7a75eaf92d079a507de5395219b4de10b3a368f51ee91f15366d641ba0402132ee3e6dbaf1f1596ff0729213e74c2b9771ce3bf33c934feed2a1282c14488de72cba9852a7fa674ad808514dbc55841121dd02640216c5f8f0a211cee86bb121ad9614b5fcb7489a9edf12720e953238ff31329891e16df3da16abf912d59b50735ac09195a4ec382fd90fdd85438dafc76d0d8195128741a4c53486467c553bb36f2daaaffad118ba5416ece27536bd90fc659aaf433b9cd455ddeb3279ae9c793a6d023e005acce2d1ee9818d56fda1620f818bbce396e30e90d7100ec9d76ac3beaf0ae405f2553dc90703fce4b42561650d4db42f8ddb650abc2b6eb50f0979646c1749838c4852a08e5b2c00bfe5edd81371589ce0a1092d192630d60c5f1a0f729363fadcfb9cd12579707a63f4bce4415db15efd5a61ab2433984469f26513d804841e900e901ec68187d8097985a63fc7910b16eb9ca109910606427da7dbefa74c8f07c64870279d6dea1ec860803549175338e55dede55ef76d0d643f56410edba3db09953a10da652d4f5092dfbbb60c1603ee97f244262d21e24dd148a313175ebda11880d11f003b353ac8de57d0e5a700d9000a760e1a2aabd43ffbf69afb3ddc3d1ffc229ce2a9570a9b20955b55bd563ed72f345572a5ec27198c2118ea20d1bda8f6605b33a31d37b729a76b121f9048191ded5f113ac57a1978aa643dbca3804d7a55b6334a5894e55d872511ed0dbb9459b75701c400716290e8f079bf8f80f79837493e640df38b95d5cb2517301396e0965c0fd2dcc723d74caf39e81ec59d6c348473634552adf8ff16ea34c3bacc4191adde5d665fcfad23571be195e1cfc04ad59dbdb61a8fdca2b86cd13d5382bb36ec86fc40736b72df5a66d40ce375a06bacd5beaefd2c2915d19db11503cd29c19a1995632881c7d814f757c555a81b0de050cd80719f15c99ef1c0c5e4809edfbfe536d948fb41cab0e4817b40ba74028a819a5bbeaf7a19cabb6683303ed4b57dc38fb255a624b4598ff4c960121427bcc858d65b545d92f6ba982b81537f951e27fa41908ed88aa81180676b93f21d5934eddd62893255d4abfda05e5091035e2897f33b2e9fa889e366c3158780b1efb107fe6fb16f425a1f72abc0817bc31b4eb9b574f7e81cb9edeb80da9556ce4576545ee9a6b8fabd26699c80a1fd8ef3a9b15260d00e8dd746bf41a14a1df17f3b7fa55ba8018724e035d160be0cec05fd577e90d77cac1e4f06122c317804d3c049c996877ee96677c08c88e53e54a518b249f353f7fbd7967d4e1c66932226b08054aa87af49515838f4c3e8d19f7f7c41954539816a8804955dac51de9e019913da47c1928e532b157369f7545789bfb86594f73c882e34b8fb66594b0adb6298ab6c74b5168fbb34a66fb9842eab01c6077e1fba13e0bf26cd139b4d4a2ce92561b4a6b91a3693452fedfc658ac84eadc055e1aa5f43bff01509e9e4a017855d257470357e9f01038bb4f2ff2ecff7e83e2e1badf2c2a1b738adf66dfbd5b8ad021258dd021a71933efe601ef2a470cc49b9d2625839be156669150faff3553c8e46244c01dd944de9566c20000161c7a68ae4a70a439f68574229745ae0d491ef47c2131338bc463a26f07a8dac6a8acfd84f7e42d2117260cb12d343686808c45e6911e311eeccddbd61283f80205f2c79f8cdf1641847a438b9d4a1adb91d9cf1e3995421490ae810bf5c27d21b3739ee578d1dcff749ac4ab764eda3da146554adc33f71543d96d69d38d0f9b62fbb16ebef5c11963ac5e30962d03b0c5a86646adbe4db391790b83132de282cfcb9cdf49eb9684818b54c99405ee347b49870425d8ff1ae26c3fe4d7a97e85cac9817dc1a2515402926b997deacee511a0620b1ae13db81d37df98c08059b0100153c02ad4eefc6f2f0db77f8f345a784ec74b631e37e39fcf5310fe721563cdac250be69b286df4ebfd4312dd98bca921d753a697189813ef22ac17b641162357a76aad3493c58926276471c42e9523002c0346695c8221ac39a93d4c023c8e003ccd2e7400fee505fb2a44f98a5b5653986d0d79b70fd59370268a16e72cc2329a64e63bc2f4252cd26a2a64a60cb0607bb1767791ed46a03debcc2c6020c6136f14dcd983be65afbc9b09f7188c56b2a7af4ef88ca23fa4d04389fd9553e215be826c4c8eeed81a7ea91f822f96ee5e89939bb7cb4c96a68efc9919c3b0b13639de9b9b305a5e1b778011ae51980e5f2c77edf82218ad06b11773129ccbc1f0f9ed18c13021dd0a8197299abbb186d69641d839485adb6be05886e0140d1cf1d189a9d61f846092b364a47acb8b7b9e76dc3f58265fb15319b25395b6ffccc8daf041137f43b1a268869b93948c4e89ad36a9ead52984d298cab723424a15f8e5f80b0577396d19a09bbfabae091206959b94905fa39383ec5f7d730251c8ede49b7d092bd73fc0126a452d0f7317ec0276a7d38acb1f99b6d351d51ae5ed47ebb9519d8029a4b785991e9b7fa69f892149294a4db260e7a626a8caa2c3b5f2e722bfb54c97741c6512378592b869f865b641d59bdbb211488afa8f92cbec2d28c17351b32c6aef14c001efb268f7ecf04c3977f197507eb51ac9a4206480ea3b36246bd2ed915d21b2948de8308c0a511abe0d1c0c2bc68e7ef656b9591b241ceb0c4dd6c01aa104d0c60850f698885688f09c38370d6a352395e2a760ff089476d6dbb0105b0e91d3c4c68062b402a896d3b51fee53235bed6cba97119b297a33329838236b8ffee4a6dbaae2bba0375e9859a90211a88fb20776831c203561aacd1bfa03481baaa2890b10f958da49659a30e314c290274eb4677783531785fc8a207f90412df2b276be7e7af72a601e4f55bc578a5c7390251cc334fe38b4ac4a9e179dc61bf0929d3af1bb5bb59cbf38b88cb0fd25cc3bcb16c236259674c4b822b45d47da7f0a369472752cb62f21886ed0094937ced2706de4a3dd744076ae0107ab4c79a0d1739362a194e3a6175ac6cbfe5a723df7703712e093162d3c6c60dbc79fa","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a04e2aebb4f065114c065b7fbf49759e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
