<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8d9f936c80787dedc9034b51e0569cf74d6c8112d353441cdbe098d5a9afb133e9dc7d698e205182f7b1eb824499497ac1f68e59fb4849bc274ec90eb2cff6c22c0eaef361ed9550f5f87d4c129137479a74e7f95887b3c8d31f091dc276622c7d777b4fd5e0ce4d5ae31659414a9c6ff61c584ec472340984c835d7c7c9d0b931398b7a7c250d49e43631a3df5af2c77febe3f4f2d6980246b0dd9ab65d8965671a85bc815aed48eceb6bbde522fb48410863d3b292225adbae262525aba770f1b0c7a97b34a06d82c4d83bf91472bfbdabbcae8706aedde1d1d4629dbf5b58a61be657f9631899528aa0a23943ca9043c35b86c95c953837a8986164e5915261214a405d02162ccbdf122f097bbe52015619e5fb0dce4ef981eec3cdfea2f1465fb9c638600533a7c1898f4191986f346233b58b65df239c9a52ffddc0c5c87cc574a90aeaba8f2182c319b878d8b92e425f5aa8b0e2c82c33e8c9ab35162b00389e4ac783dfd17cc9f133f05fd86de855bc3a748822366df1e99390cd4548f72e88780c142b9a49bcfa924435ea12868920290998fec3d9bddaa954b940c20ded2988d4d2b3dff2290fb7b54ddbe226af98ac08ada4ddaaedafb5ca8fc7a3860229c357d0d110e84e6179fdb4a1fbd33cf6f2f7ac8242c5423e5afd10d7ab53cb0e6ddb4552104201ac85017f0f876e26f111ab53922737b459aeef9be2f2dd0665f3cac3bc52c3eef50b83b4b1485291817d14970756289053770da5e7d6c5ebbdd4d627260f612be4e556d861dc205dcf07c32ab1f7a104cfea0dbdf4e93e810a572718f62ae6a428aaad44e5661ae65303772020daf7caa501bb265b88823f1cebe8c6858e9b59eb30a390f4580305e68d4d5f13918a387c50e8bbb9d8775d2a095f3995718a1fdeba2d78fa14ee87cf9aee5c9eda2a757c4293b16f17b5375442688e5fb713f55e30520b16551fd3462cd83c7c8e9e42799eb91dd3dfd159d5055e8c91a133343654f6d6df9381b06ced494430b9f8a6a64ef24b9857da95f2c52e6294b1dab7014f735bdab815f84071c8d558c4d252233aeeb3bd65ea38e648624422ae5ee20d5bb0feadf0580d674f3ae11cd8defa9fca190eab98dde88ba50c4ddcdda2f05f94a60750736c04034dd3d4c93fa6115b80af5af336429214ad5d0d19055e8364e5e04c8b8734cee250bc01af83ae81cd72c259727f714992cf5e6542b8cc3cbdbcdd15b8c8840f98c36cf9331e3aeb34e811b739330438346a68197bdba9a6f5d0ab27740dac63c09329baa8ee8acf3e0c558cfc54638aa7f0ac5f621a14dcd8f24823b5efe32286e1db6a636b4ef83e70976c81ba64c8056f00ca74fff8766c8a2993cc34261a42e996dcaac886cbfe07765efb9a857e2b17e2953619e5b9b24b8535cc4196d89aa3a0c2991856f3133cc6cfdadce8d41c7aa01f7bf021d74661a1514e0037387cba0fa186feb447158faea10f612203342aeb7996a3046f500f004a52b86c6afb57e305341f783e30e7d54e554afccc54672e2ea3ede743c4a0f8d0a8b69cffd9d4aacc2e30d90f9066ca304c0461613288863e2c747cfe3d4d205a1b41af8ca0d39cad4cd4cd3fa8aa615c4d32b0210a3c79f782e62099a316c610af86f0f2a640aff99f95b7da16fc2d989cb50bb96384966ac79c71167e801d74c83872a271d2487d82288d3271a20a645d808ca966d81e0f3d9ac9e00f71c2d5f78cd4849d98b8da16a5b38d49ea43e591c2b98146fcefc4177173a9fa3401019d44dbf8e3f986174443d0f246f8ac29d0fee1eff411fe8f126cb5032860fa82ea5b61a22a38fab82543c68d169e538861870d0dbe2ed733f9463b83492c0cdb883e9daec4ecaed1e203170cecccd1d8c8c9c21da3039fd9cbee7c276b17ab7cc2d07f35599aa5cad3f6297b183ec1d19c61b036433f18aa111d9ccba4326a0cf080d803861a1ad2c643617cb1ffedd2908599b1e0532c5f2886562370f4181d5f521635d0a86a3ed6fabf7f4cc67283571359076e079804b12398cf542f507aedeef2f7406d83c6581dd5299c2df3ef6a96b0d175a042af304b329bab410665df95d4b014d59a131fcdaaad95ef10f34df80bfae2f9a23b09bba0ca66950e29e94df77d289f68b42edb9d2485d7514961299e090c62eff9c5b860a62dd65bad54ff7482af72b15ebf616d4c4c192f5baf6eabecd84e5fd42ab39ad26dab3af187770a3132299030322c84c3d15dac75e3b3c1edf5bb1463bb96737e14c7a38444b8c677a33357bf5a698d1243d3a6f6092688160b7062a61b67e3ef3c52c2a16be2caac348d2b6904ac213fa103c2a6670ef1165b6394feee3be3b3cf099fa22f21b09ed4f0f2d52211834f1dfc61eb2d665ad5287f5ed3a85378a192edbb87694b22378f296e3fa0c27e1725793275514d7a73f0222a6ff4c2d65f660853907f8235ca1819882f6733655b88460b2832b472ba3b2981c6d5cfc6aa3f340a1542359012aac155f026e1ab2becd4b52a61ba6a951d2dc962c72a3d90231ed5a582d978f97e98b8e2cc1030d7a6bf16d3127275c3f0946d86638767f8d9646d37dd95f5c0acf05dd6bcc083153848e75eec91939d1dca37e70861df6d471750e53f5283329a322e5ac9c05f26d695cbefee5a926f24d25c170114041a7e04e94618ae820a8f1185bd16b95df78891b79f25f27c59af91a60ad5cd0b078093876167d7e0d1f5e81b1b67bee0843a64a1eeabf10cadeb38b9e34820b69038e68bff97bd763e47fa2acbafcad801a69cdb95f5071646d2d55e323ba07bbe5fd9351fac5143ba19743b336c2fc1d6231e11226ae3bdfecbe90713c6c710e23db8c46dbca34da318921dccdbbad507576f332f532463a66ebf610ba30c53bde31e6f474cddc524f2836b3e2d7381fbd22fa405a4f60c2099f7aa6e834debf398b00b6f6c2f1ea36e240ba5394dd7def2f577b308c78632cecea41d38fc01d34d66d15198862bdab1fad0d55671d846bdc16e7666002aba5120078ed61e67a5d8f224e9df76299a16dfbf34bee907177952e6cfb86661d6ac313cb4808e9695a7df632df493edd1590daeb04178450806a88eae43a7b2aa95849fbe843599e14901b026435cf3c157859a54a2fe443b3659775aad0305c8651fd13e80cd037b690ab782a7f4a68d861d88392bb29a80eadf56a614c4d90f96aa531c6741b373b815ef2314dfa0e4992f67e055bca28854e0b8d04a673c8d67937d8b76c84d14b0c8bba7b9b7bbfbb7df88f21ffbc485062cdeefd8793787d3257599a3ed8d8e3bb4729edd8ec0fabd3aa8f4809624864d1fb2a3530003b3b7153354fc0770f4d5c135e59365722315c0c7b969cad69b975ebb7dc0dd96060297c87362d248543d79fa09333ebfe7a8bbe64001a43c23b57a9447f2ade0d88c9485c7f3ca6aaef0ded5a0685a882e11d94cace32283d8c3664429e2bf6a0d2e9eae4c8dd7abf85c6c3d51bebe012fba7d1a985f34e6b4c35d63e8eeb53adebb6512e0f0b8c63f0e3bf08ce136055a78eddfe930ea9c61133c97fddf369bb988be5f5c26f88983efd04435d19648a88d9bf1df863d65581a932476e0978489ea4b5c0a2086b50c23e3749d2f45477d91520f79366818e5d8c1313533d12a9799dd7adac710ef3a4e00a66f8d9cc39d2c08133830598b124662d5333a251f22e9ba0309d57f90a6c11e5a6e9cfd54026c11e979b05272437990022eec1316e7b1a749b68f985966dc5bcd1fe964a6226f8056f65d4b6baddc60c31b1e6c052563600756fc79d6e99dc7978e58f63add61388dbee1a62a32369d7f338580236952dec9e4c0dc87995ac6c73cd0c2cc2423a2ec033e3fbba1b2b88e45dbe5fdbb2279256875f6a263632026af9dd68b42f9edb953b6ca27a46520ee998e3ef957f42217c8e4730104e5baa5529009fe0212f785cc8667a675121759ac3efdbab2c156b6a4848c8b9a7153ebd05502275cf9f50cfc28b2f531e57da44dc964a0cdf2b097f919d5614336895164c0ccc78a0d66706d080a36b9495f2fd6c9932cd618a455dba558aa83fff3a34aaa93f717155049b9e469c89df970613605abf5a809fee8c0927431ed44795992995baa5803c2344c64a190d4f1e9d230b0395d76c77d5f263cbea4af7ee9e57f8c59728104babc53a238a07dc9ac51c1a303ae560bb0cdebc3115dcf00e69d9eacf9470a71c0518bd71c51a5bddeb9b251f36a25a59956c2fabd99b28ca57f468b28444190d21187b73e19fa82b1b3e0b1e3491012d15d3b48924e6a71701d33464df5acc82e1a0efe6723d257a80b59e40e9f570afe724721a6c9cc75e31c11c2d92fc06c2074410b056ffc93ea37a6a87f94b171b7cbc69b76fda95b6121dae97913a07f19578c58fc9d6cdadf4a211c6c60c3817903f4656c2d4452eff2c15f76cc9f61cb1e4e3e1dda9553fe12a2d5f420d2a71dfd82015c0c9585891f40b421ce8cfc359e511dbb2ab29c9455be04ed40869f9ed834436fef0cc2d747200079c3b1e5051bdd098ee60054f90624bb303c37581928b2bfc1e04741ab98f4c2aebc90845525ec3f27b471773165c41417171bcb140ee24ebb0af76334691d9d0b612012a09f6466641166c98feda00f4aa9f2a814c57438273fac15cb49338f859a1d638641730f975ffdb33b98002a2e5ffc3cb12093f2dfbf054b409983724e84801292f17bc579ff86b0db16680f4e27d4705602643815741369a78f2ac79b476959df8c5047469ddb96ad94c42dcd8c04bf6caf451f29f94d77b3b92bb58c8f7593ab4f399668d4925b62db5711c2c0000a1f4f1aafbe5c1a5d0cfeb268d4558ed1e3d2bcfeb94cdae73617130187382750deb362655b4bb236948973f798e410272a6f5775d82f5e83e91f391e53c060cd336df26102478f3bd9fd48b90b86e60379871abe0f469fde17c4f047ccc88510d7a50ba7fecbeb17bd2d93eccc709afb39c55b8d13fd831d39be61f4f36e05bffb42c87cd7db82e4aedfad581d088f574473a05b6aed921baf4c7565df52c7b143f915e9b3b313835535aaf095a1654f2f2249e6fe9a335c295f013b081cbbfb0294fd8c8a21fef4cbfa5b95b6e1a10e975ce34dbe573fbe7d596e17f0eb4d53b1a7b69c13fe19b43c85c30b087cc12feee17731e389e05387cc172a3ae85a1bb1907fde9d9c702a009985fbcdb1e81aac8ebfef1cdc07d196837832d1de9821628e8354b3f15f0ad2cc53659adf4b8c228674aee96d8f496edaeca975ee02fcc3015726a662605862b4873b49756e856032e30a183b161cb602545440256a44dec2a769144f3f9278114f8f64bd4a9070be604e028fd0e260c020f3eba0d853183896e0876adc24e98663d204248e300d02414735205af4ad14b63fe08fbeeeb02c959d7fc890c116fd928ab2a126ba6b9a6780463d5754afee242adeb900b55f0ed028790f9c1778f73ca38ed450b1be6b7e523c5616a3063056fcb7ee47c64d45e5093386a039a04da9d37f67a0263089649afa9a4391713171a8206d01de794ff287d5450bcdf20ac3f6b695971fef6b9f59c4a737757dbcec2c3b0623c0f14a7686ea8e193b809b49744aee414838e2759ae98f13330a14278137e960e84c0b58ac0061c3ff229f9c3b378e08ec2fbc80e81d2c40585de15556f937acaf9fffacd441be71a148d2a104b4e2a4309b534d17c7447057bda2bb1af39906bba49c8b077b669d78ae62b7c5a120860f3465e884f6e071f9c28d0083c411f8e6f44e1b407a80654ea5e8f7a0db4cef7afac6d5efc5bf0ab56f9850ec715326cb16fd763537e562ee6c7ae7edf9cb9e02024b06cff07c6210fe474cb663068e81e9085c4545173ee0e1088742938969cb0bde7cd0d15f05e7114e4743cb86bc2e2512607d26b06fb04e8f570510dc245cc38962b5be1854b631af8849dbbb1167d603da50d614ec4ef16ff2ecc6157e6d03ed892e49abc13558b64031a093fb64eb3ade2f1ee7e51d263456b78e07f44f7b97204e25c179a1430e31a5031e849fe26329dfd2d79038a6946471b4f3211e7af193a77f4ef2ec1b1d7f10049adc2d6194b83a56497183220faafe9e2af7f300130ec84af05f1bfbcf3b7f0778110454901dc1d8397c520c608bd6caa86f8951e010266fe7d877d52f258e3f5cba02347e5e49b95fa309207e648ce819ee23a2d0e1e1f05eab3e132219797c0273f71922936f2bb3bb516df24de0022708459a423d4fe83315045f2ade38a8d4a401c0fa03a3c87af5149d82daed10b77d68eabccb7d84b6ad9f8817bfd25e0cceb69704ace67b2da38c9d0c7b12f819bc021ebbe6400289ff0485cc2107b33a652bd54f92af59430a7c1b6ebc1dce5043c133d90414938d4b49da24967622de854fc22b938fea902aee939fc2d7292f1b0f6b7725e2028b8d953f475c5f69947cf4895839ca58f9ddc4af1e0dd8075720e104cae6294d3338cd9c9690a062bc5c6614119ce77c864677a5ff6bf8504c388b71df6ba2bed9ce5048e737364dd1346c6daeb1d999546e4f700faa53cc803af4abbc8d6aa834416c24d3a577f071f73994900fbb75194921a7d9d7d3649e473a6f4f1e962db5a1e5eb5378a22f518d474e34d41905b563a5224e36970ff0672c9859ebbefad600998c741b28c685fee24300cdd911f7a82f480e2afd183c62b9dd38e469833a234af611fcd487b22efe4a31b08b6f6b8dbf9c2e6ff53913bf5670aaa9e03eca83a736de5b2614945804638f8bf003326263d9054ed52aafee602eec429d7c5512e8d0b31ef1cc49ae408e515b24f4f69b64332dbfd7f803537b216121a951872d0ad5dcd1343f0fd1d6fb9db36256e898e7067f9afb6052c3987abe3758a3a7c9621514996340f9d48f65f0af6da7d1da5a19e7395f029178a88d01d93a87dbd1903ccc72e0799f8611505b0880aabc5a02f709e7ab622af79dba8390e49a54fef3f695f114fb5e1154dc34d6ace7406f217327b22c9fae1eccbedd0925df95b9ea8a6e72493d101f4a7e1ed5d7d9e3578fad15a12c8ff8cb6effc29abb45e22044a3d690d716c3d1bed14bb27072382c7edc2fb4f6ce990aa9c16f8f699d7d3eba8369ab7e5be8811254de49006de6add6ddc0a91de736899ef0480e3466b5dc40509ed09c4fb4b158fe305ed11273f1cd3ae9a74762cbd26f9d9a9ecfc5854243a3bc9dcc5423bc364950ac5270d098ec0e3d33a74f667a4274ab08f051bf3ca9d41557a286dfc532e0c86262b2bab8737cf7980f0a896ea10047bac1c0f93b829fcf3829e6757ec1aeaa3b8aa4c4f966e8c0496bd3c5be27b245de2f10144d9eefcf61a5c32901a56fda893976abb79a4721681f01a56afeece504cdbe985ef26c02b432b4c502820c1f537151675ecbd89accafe9edf05820d33849071c37ca011d5787714f418c9a5fce46e1ec4e6b67ecb189d8ab0f725dd002c2af28d82cb2a52c1ed0075824c4f2191f573cf87507e63ea6b604b025a4bd56fabde8f31ef72ff93740ab9b4622feeaaf074baf00500f1b75ca551dc0484e3d28f2225b81afa9292d1a259e3cc040de58252c13abc48968dc24ecce90a09a078e9915bd524ad277edd46746ad8a51bd65df13a52ee1909fe792cbfd55f87bbff71c2fc4d87c05ac3009d6a706df0897ac57332c0b61e092718fdcc2463cda7b863277fd990b7444175a03d998eaf09732a8b039bea5d398b91bbd54f716d1569fa66cd69ea4c662f2a02fa6daf8e1b5ab1c110893a5546cc207acc86e31774bf8f1f7e95cc6f5c2006044f9016f2111d5cecca9df8aa39188621a6e0e87d6b87dced74f7b7032e7c712d408e5fa58a0d0c7cba0b488258bf028ab3f302379b341c03f59ca496e0d9ca2aa01d5e10c4e0e25e442abed77f6aba2f1e510f464bec7efac2c3f4f1bdd460935bcbe17e6557a0bc955b8525ac83f62353e2ed184003887589ddea253c866c3f224229354ee16480ccfdea2ce11216aa82c4eaa5cdeb30f21e9706f5c3d06f017a7bc712176209c8c03649232d519bd82349bee18e4d0d07261abba08b4dd86b9401fe579a7cb758b154c28e64fef8a3f3f9882eb2af881f81b83729788f9112dea8b13e6f1d5313db9fbc943da1c49edb22759e08ca620d16fd348e9c80173a3a0385e9fb4b9fe5f5d5706fb64c6176ed506fe232c0b53fa1e4dcdfb12e2cef3a60a2de3bee6fbaea7602644dc576723d0109adcc6b9a4f6577d8e64cd45c957aa6f7f548eaf169c69c9c35c81b0638e822733df4d031c58c576e470f8007f81f05466ac285e8083aeee9c534a5781b14424d8cb214b844f23be719e01793170e91a2d60fd50b448e4c4240f38c8ae115365872b2935d536a171b808b4858d98a7b1b4a86517c9d0828b7b6b594981fe285e72c89de39a134d8d35bf34d238ec32882e903bb4b7296cdcca280261f6cd45e1058626b616826afc6ab78e5eae6a049566fb6676b9014b21cc67377aab36a92a7eaffb659a803a9677710fbb61fcce52d996c3771dafa3f36123720cff903bb206c135e3b449af16093559e3d5365534cf90bd70a1e3c8fc146139797e531af9199407d9de76b92f9381151aaca60d5f2244d79a5f4bff1851cece59a3a8c1b0384190dd863be5c7a8a7a6713e2df74a4e556aaa2d40e74d9ec9825da3adf8100e116df839a6dd5eefb49cdfe504c034f351762cbe4ec6f522a205df3370f217be233ed3e62fce29ae17d188c51a2030d8bfecece9afb59ee2896399e3a84f591e105486f882dd26b1bae1c244f3ee91b98ce75fa2d18f183615931ad8b74e25991c72c579f9998241c87c50420810e9a0926f2d1de340737abe299475d50176118ed2e824795fa986acaa8a3d5f5df2874739ff8861da7452d84053d7af66ad7178203cd5c94153bc6ba7f90d6e638353d50d4d4fff9d0358a7592fcf16f9b54933033c38d46b4c654786878d13e5ac8aa2e878058e860d9b4df165b32556893dd020e6cbb1d57f0fc8ca6511ba3ff50fe7dc4f2c5a2aef2622133fc4b143d581f3a85bc12fd5e8d703241713ef616d4f3001247bbdcdd4383f22c699cda5e7ee1c6c1c0db304c81651df8e13c71b335595babe180131ec1ba69858cd5c676a7d6742a6c6159894129747284b8f6c65d57d4f1efb31a15b01a8dad826a7cc5228d590a35be45252937004e6b67d8120dfcfe37a03267dfe6cfab2aebe0b376448db7de05b28fef642c923f014e2f46dd3a10f52a29046820dbcb668d32ddd9c530ae304e9bc62daaeada647764111566f58ee2e5607d83f96c5de148311c1215ab4ee6f918c9b8158ddfe663d182d67786f9790f672ce5eae411664e20ab15a8ded9b17a298d16c98b5cfba57b46b80f32339b9607b602d0eaa56409c93ff7f213e4891e228ca74ad4350fd007bc6eb416d948e8affe4ed32591c3bdf276b166a0288207ee70aab2b9b6895d75271df6a88305fdd04887b9f431618d20185dbd193712ad0ee2ad42127089b439eeb6fbed34d6608c94ef3f2087f619f5dffe006182b1daef3b6ca52ae78e3491e49fa39e561f0ed1602fe4d0f8d078da340453b31fd91fdc9254b3e73aa17a78713516bde710f46f93ace7ed36885cc5150822f0da71da9293649db090fa2e3d46477b45f92a7ec0e94310e7b885c7c5693e5cf6c6e76736ec064aea3ee7e5e8ea6b41a7ffe89da4b7e6e3b71b1e6c7672d43909c2984dd795750198366a6716da6de37f62c397e113dab1191cbddeba41a375cc6cc17ced43989c9201b4cce1cd7f2c4ccc17213def5a798c66f4c4c3d88fd6da52a1a3199ac675db3ba61430df3682196632ae5c362fff36b48dfd5023a418da151a845d7f177937af1013a975a720e1766e40579f4f2b7b14c8bc00f0030483850998febece04d55cc2f8cd95634e7ae7439a975917addf3d036dd10add14bf64640a265a57c4d9cd7553b174e052d9659e423f4c0d7cb211bec5d3ea34431b65c81ad47666058aa8f1bb00cacdfadf5be9279d59909611329323b5a4825b0ede46c99557609bfdd0daa1f20d55c6bb5b31e78be026cd055c4396ae0bdaf76bc0688864e98b5b6f97f0b82a1eeed094846dc0a89f9d1cc65cf6fd5837cd447501b693d13b3d121968158edea8e78e40bbd1da90a24f4c9aeb1e0aa5fea6ef2438960e1c8ff536d5b96c7d86375b5ee7b565b8c21b0855e5892c167adb889569dac377bd2e3dfa52d6fed02b5932bf92a4832a02426d2ef594116bf03dc85a13897a01f7a709094a8dfb33c4737c6ea3f6012c363760d69fc9681b576697cc2871370f3c693377f5b8c7ce7db9d53039225cd98479f180a9a85f4242ba53fc9ec60b0145d4eec493308261ee309703ba37e1e383588a18c66346f1428d116dca28fa67399fc14430a728ad715a823710064c5d43352aa48cb8062ffdff923a87f6e26c7960f2b78b5c70caf3d7ab9c1c79514aed3bc9c2b1cc851014a4ed5ccde1e59a1192237cc0c115b3446ac6c7dcec020ab6dbade31a67e4b2b1a46dd7c1778b32e885515e45e6c789aeee7a003b01d9611f2d89cdc1e5d6cc928084f184dba9d647e36237755ccb43abc694dde228cea52743d0f8e2a1436dccb4f05b566867eb13f6db63be62f381f63dab43da74bcfbf4fe65ec43fd483bfe7b502fdeb639e36616242f1e91dfe3fe3492edffc64194abe9698a614915a8d9e3d3af7b40081963781e17eacf3e295cf172de96e180ebf46a0a52a224dfe08b8e3c076a064b4b61677f781ae2562835403da9288f21b3949f6889e5e5acc0e8a65b6e0270e7e27b2d84476540c47e6d433c1d4cadc30fde80cae39072a332e832c2534792916d4570f37818e1fd9b3aa87f6e88cd34eaa6e398fb82fcd89082a90feecb1e895fe535b44922b5e999657145f1274d457f9f7a7d8459309d48920a892ff231e6055ab91219769ccaaeda5f9d44db31914bb6f5668e19bd18cffdbff4c4abf8d643f7b8aa4502038eb20f91f176b4ed4a19b3225763ff2f135b604e98b4fe9aa700800e7dd46af800102019ca488eaff574133f138e3559f2ac0edd4f95850f668925cfda0f5b60597e5595b1b14ed22a6d85accccbac6125c8e2c435b5b7a7457e756cb598218253724781160f8afe8fc94aaeec2f2e50e8903805efcd47a8c3f725dfc07b0b3ab796c81b2fbaa1f18110ddbf0a69b23e2b3f07d3a6be08498d43a1d18687c4082b56872cd66277175a3171b03d833f2936a3ad6a57a9e6a01009f1af8bcfcd3992099cab544385c62f1fcd658817aea8b7af71e9ec1d67beee48cdb7f5fec06b364a6084523fde645f9b733f7bfdb233b23bd3586c5076262fff900946b17251ff9932ba12376553a7a2c44691dce1673e6d75e2df766be330e8c1bfc2a8b76b1645e6505b2bf2dcbc837c903ce8a868af3da754883eac8a53e8e6986e19381352cfdb3758adbe2e93eb7af6072b0de213794b088e052cd38d945eb5fd80a6f92879474f46418d287a0c9fad3d55da6cb5e0e728f7dac94713bd84490b8fa3c3a2f122ae5ffcaf6ebaa740eca06ba2ccb3368ed295d4625899b829e4c7842da0f3618a98b784eb378899ed10df0d9a82583bc6f11917372eb11565fcf040b08139b39a1d19238713632aefa4b428e47868f9e7bfbc42c494001c238534340d41ebb5e8f895f001fcbfc324e95b169593189acb11f10908e9418e1f1735a823121b4dae166dc97a4443668298721ec4795cae2fbb92ac6e4bba6698fe1a026078cd878f0e4c1bce8fd256c6bab52d7181d1004f6fe8449caf2f1e28bd67379f59548d760531e7b89ff0e96b33aaaf3bd74e6b0d3d94389804a63508218062c6d71c51b2fef1405d7fcbb7bbd4d2c36655fa6cf8a651ea578abe56e30533b7ef1d430a8aaf91de8c8586f297f4c597a8ea175351bbcbbcd8b9d44ca91d957d04632d52041a31504dfa412d5435893f43e0c52a88adddf577566fa6856c7a7c0e82e7236c61c14ffa8d2535c05ee537b37be9cc199894f51fd517b5778e40b802ccbc0748a60abddd17fd4c6b5913c3c4f6c41c603af83ac7fef5a7f5003d2136a1abea848ef4f1a83b5bf005b9026277a83f804e2a8cbcba7efccd0c7590cbfb150ba88e5a62105731f34fc68e61ceecbb9cb61ba40e6e1e666ac870939561c99861354199b63c33a43a581088859d650b477b1842182f9472b82a1e3ce1097a24ebd6d55fe4f5210ad546c9ce7d71bacca503f281083f8aaeceb828fa0eb1da369194cf57913507905b82a403145ae5876bdaf1c0790cb2db23a0e3563392d0d2c25be8befb079a5f931f18bea5a82fc719d4b25a053379b67629100aa520c79442f43486f8e815365016871448d2833b6526b921d46bec70923ee5ac87d0a3266eff926a892c4a9b103a0b95304017a15017a1faf45bce037f784df4e6d9cb78d6b52ab4387a10eb26cc2b568efa7e2467a899e42d93eb7d1d8280d33bf047f1cda8d63deb1c57c918da3025f2e7aec623f090749c84cde93dd8df90af560e75e5b025c2c66d673edb4e9477923f4122d82bdadabe77a86f83e3bbf7c903595b540acd93cd24cac5eebd89028ff77e19ba8de6ed784a8345d17630fb615a6a6410934b9ae5669234bcc333b43ce988d6d0ce706f41eafc3c4b87304c60f247f22e7d784d098b2c539a463368898d05c39529a0540d1e54a25866218e0246bc2374c1479fde8d1bd8703baa48ccbbaf01f59547d1eeb4686a92365cd23a641f395eae36650670284f312f1eed837ba1e319dd85d6b9fef8c85e1a6e3b2951b69f59c644360839410036e4731d6e4870da9fd803507f5867d3573bfec1ea024b7af186b90dd795093bc131cdbea7b52b18f0b7db3b9cf9a4d5e791daed521115761b7304cec8b8a4ff8c2e5d61f209e87711901b02b3d6800a86f090f128a4979cefbc0bc691d7bb1e3e7975489958646305b96173e4d721940004b9e84dfa84ea2d66126d188510ad16097cce36140d13ba37f16c739c86cb02fb2161af7775ff34653a1d6907bf2dd79594689109e62964be500e998feb11aa3ecab0343d01547036e516e243ce57358f963fa4ab01b8ef6a9882e5ea05c8208388ac5944c4170aaca8c224db833ca3a5904b3672c5840913895b9cec2bb5c4cb532c9a703969a4d00f050689e5ee9e363d6e8c50483acf24da2e8d51cfa6bd19ca2dbea77f6b164c5036ed33cb00b2ef5c2103d2a1fff51708de7d200e8d15b3c58525e60b732e5e6410d5274205c869c8ff123bf40a5f7d1e7f4c9a0b2e07dddf103b74c8c184e57efde49de5009dc489cdd9a94b746973a3f3f661b6e9e8bd7876afd05f140079b73ff4c50c34217f5524a5527204aca1c5f3b05f4403c98a3c9f0c88feb56f02e6482ba94458d28e1c4d954f815fe6a54c207f1ba81e28c13e326009cb56031eb195c14b7666235fb24b4d5f1c37230354e955de0ea5d12e490c9d72ed76e3bbca576fdf8f334324bac7ec841de283a4891d0e62907a8729cf75e11b451593723f24a3c6721da46ed32b0374a7cd31e3f0d00bd5f7f92d33a57bb1e558aad01129a4d7c667b3fde28f378062c4421e551a4095c2121d1046ed6da5637d682096604ca55028cc3fd3477488d9efc72bba2b85c4213bed5a0de8345e452561218fa0f3530d9ca24e45bd4b40dfea21fe34779488072c27e35d93bae8d6a789633146431a2c973ea6a0018a8e058629b509bb0a2ecb80687f018c95a50258e9cf6d9ff815ef3b090de02aeadabb81af9e3e2559b7b8c3dbe98657effe66fc4355458f345f12eaded30b31421196cc7c0df38c3d43a0853b9e7e6f2c06cdb8310487d6c9d95cb3547fade6d31fa0d4029ddbab24436a7b02ebfb947f2f36dba85e604e4e56d5003d8d1be19f8ee136c2a6f0e427202b3cda2058eaa6edb711ea2135347e71c51b41c266134d900347302116df6fa4f1886ac974c4562854a02f944b77a649577eafeae57f9b9209b5a8e0b12e036479bfd820b4b8d4fd58e0a27ed50a6228c3afdab921a0457f909751cacf599e008eed3f45a6e587ccd5ffeeaafbb7b1bd2e2f4871cc0c7cd6b2625d42339564d87947558f48eb717d68892081b90bcfd697390c6615f0372073e5f6741a654ea321ecf969f769dc2809d461254ef99ecde856aea537a26e2750610a2cec76c81555911fa837a80dcb38f89cde40d0aea2ce5e9011e0c5746b3844e95a5a425920243e076a17c6232a89ee0b83c42ebe22279f2bfb1d312352708b969e0f032b19ed2d99eaee535c4a1de962b79e41f6bd0d6f09336a51fc686cce59d8e24b33f785eca3824b8679dcf9a1a5a43ef8787f3f05df747052fe50461346174b3d21b4e0cc5b235eefa8f15d27a7b47d69c292712d409bd1bb7d8d04d5d4dec141fcca2e327f7136039cf48738f672ddc0edeed24a937188f1af95b8a8ffb9879115ce67335a41615cc14286b02ff24e7dabc249aca7a5af8677aa8c8bdc241ec5aba5eb2fc028483da70d488e36ce8fc2ff98ac2cdd6da3c27dba926103c57b0ce0ff792b7f0b4bbd20e609a0232ea7f43c1edc77e266b25c6bc5e962fef10423e03e807e3b394fe7efc1f587f1b2e01ae2eab076008067c22ded49007efa28111084eba2834647fac76cca92ed446819c04c5b3fa8805b08d9e9e731bd58ec66a9fb962b170fe69345d2dc0a7ef874fadf4557af6d3e99abe726f579b30448c3d0595d46767eabe9be4a22a2bdc5cd1c1efcba92c203d2b015d53c707ed783c611c9151e9180a57cffdfb7723cbab06ad941f9365f70df759d4b824f5d59f54ec08b4f1dbf9328b1b43bf49996ce2577493aa21cb9f81dcedd846a28c936ddf6e16a0f6462763fd38853f23741d7859510a5b24a1220e93bfbe360146a4c66d5a38d95154d03afd557efd3d9d9906f6844c079d273e81a8d89886e8ccb5c159f254336896d7a524f769ec31e8daa9feaf5da457e149c50fa0b270d7d090e4632e67174b226fc0a2044b95f6d92647fa61d11836f7769d61ce3b87dd291470f66d86567c362118df49aec8d423be10be6650fe445cef41bad92934489a685aa87b70811fafa64b5448bded6e80fe9e9dbca60b2c449234af3d36cf37f9dc69ea0f4b5c52e98b3d805c38e401adbef263f71813b0c27ea666f76702bcb014e2f71c2fad7e01d0b1351f1a6b189a17a525870a685792ab11e0bc1da1ccc925596e23a58be8515e9b52baded362cd01c95eee602b33d0664f64d00fa67b722f3572807e6e755f037807c9bf537801f00bc8750fb9c76e9e393c6e9abe9b222e3ab1ac3c348e6bb59b28238f7bfb665e34e3183badb012ccc45511b8a8d6ad2148d40d833d72a0d9f26b628e5b21dc71aed1da96a93955e6bdcd216e06888a4dffa026f879aa75c06ac7432779f4a74130c117c6a5ac2cbb2fc1191fa99fb3f89dbdaac8490b8b1f4c20e1cc067ee26a2c18698f17b119b4cb5ca2d5a103bc75d0f9443a76071a210fa07984d62ff4a4f2b77c9b11230f0967be5150b10094611a9745647263946262e7b180267460980689b2abf934a5ac7a89d3d02f839580fcf61e5146be0484dad35a0ce4b3b45cf4fc59f6e1524f657cd4b7e3f4339a0f8ddd7b46d0b8b2003c1f3118c7d250d8e1290d9cc3bd933171b1cbab45fcf8a33177abab0993751678e38ca8d5a8c115b4c24455e420e9bf407eb07419b153c394e0890f661915b7f7dd69aab6ba40e0856a2534ef196656a3aad434a7b19740e2fe7fd5a1ec44b8070f10e9072acf5d19287b63f14994a1600ab55c2c90bcd23d782b6acfb11eed784fce2afce0a6b6d9a35ea5984236396b806f77173980766c16c2df324397e1ba65113742b280ca04955c8a3e562fc6f8c0d48f68edbbe5f8c979ad35d159d501ce946402f9738aaafe96e41020ebdda79544efceaaa0273dfd6b352eed5be5f7b1523f12c01c6dc54a368cdf20491e5fa878b38950ed6f9ef98778fd51d63dfea6a8e361298d9df36dfa4a07d3412a81518ad829acf593af1c45db9d61a9240b05c3c20fab198e3ea96a7c6ab02e217611d55632c8ddc8dfc25cb404c108ce5b4933eba40ab073cb59b873d68b9a5411c2aa315522e40e7670cadf34db888fe84a0f86dfe85dad4f91c343eb037274090ac271a8739d24e06c67756324da9f46000a3c6e60126c3455eff402d778314e61c8985e6f7fdf871fedb1885c1fa5a039aec5cfb81f56f4093d35bb485472fc7f57d0cf246944355bed6723a6ee63e620963c4042ebf43f7a16b12aedd154065177ffaee75aa8c4a3a2c855c7ef0342d531fac3f70876ed1400612f0abbaa6442e644c78aa008c74adacd244c16c0972f1bef87aefec9e1210db118d58cecdd0a100d176de666c39bf7e5ce2eaea1830ad952746ab63a265a0beb6a003ce594115266768b960f7d610ae4b11da52bb44278f493185ea843b761f7b5b6618250bc662223501991deaa3fe70bcc248a795237ff2326bab0eb49654ddf5f3a1feaaa56b02add28e81c8dbca751c4797026fc3c5a5b7ad37e136468aa865f290cdea5b920e148aac68efc8fd5c5b5466775b4e158457d26578e7e48a254a79c41950d4da813b8e9b6424ab289452abed8bc403800a35098c3f14bef48808ff01fed3a407cb2ad36d4709ab14cd38eb942505e4596318252ced31fdc17eaeabbf043a40a5448c3648bdd6e99c6f544aa9267a4dc94bffdf3dd07919d8cd265eda70a9619d83ab8f4063a9116aec68f1ab10e0482503f418a897edaad8e66a0bb491633e4d7ae5db807a14c2460a6369a698c0140ced2ae4015841a435d1a5455599d80daf85a5b5b4d25b62eeda07e8afb4725b1eacacfb6db700e7bd4cbc6514327688c4126dd863e3ab602dc9136977f526a35a0f8517b2b07fef3288abed06c0e21bb85be21123f754974227e71f094fcb0b57af2cfc0ea2211337bcf6f92d8ef36d68199b6dab554f5280a845636d039d7509246324ea2349edce333982d71ce00a65d004d78d6270383877e670e3559646c9fad10c83a0d5a88239dd28ca1e2fdd44d252e492b3295fa6638e64ab4dfc5ec2c0cec52f8d9ef68d3d3f8f8bdf0199641034c74b36cf7d282522da488efb9296bc7ef8fc0b43e9af5f18c5dc061fcb271612de813fe46dfaf5aadc4c1a1f1c8faa3c56a35f793762fc155e6753974f2cd85f4639076e675f7a1e55d3c72370d16fb2b32184b2d29fa918798e408ff4e632b32d259bf6afb4c38b37f11a48230b69978ca0368a322646e650ddf33c136f62215154492c2156702f6c9a51da891883968d6cc23841d9837733cf0143b912c0a24e49a9e69bf9653801272d84337c3b9a6512d6ad63658d46218a14e3b4341811a019b60b2d42d00e6ed6b2ef188dd521704b01b7361ff833089bc8c2bfd930aecccb3345c14c9dae33f1724efc11c8aacc9dd0a64d693be6c9be9c7d5382452bf6f631ae77abbc48aed0d0c7c8fc4567105ecd612a5e20d71c1e2eda89f69f1e6a2d535ba0bd1449336c0c8b34cb53e69727ed3d80df3a37839119388486adccf85462cba42eaa914fa1522519643d55f36fda88cab1024dcfd69190a7c1ead35265db97cf0cd149c936eb7d4625244c8bc621706af1392f0973f3ada5687a5f12f1332d289d88f1ed7774255879c1272a17e194cffccc3354723e9dd9d9a93ba35b33094503b2879a846226d9f539b5b09bfd8c5e9c3d0c8264c6bda2d3c22d3ce5e03f9bd4eb80e2cd82823896a1ae970a8b94bc98452f8efa41d700514a12b5706393410e466c5937e8805f9f62764cd16f73393636f80fbf592c1d832f2e553f091eb3b6fc118225855020c7e2d17f39f421549e3504edf855107b6f44b7dd86096dbda0fbbc1a7409e80ee0904c83b937ef55dca8b03fe97533b08394a49a15cd25e25333d2aea80f11951e1c0aa94c847584f74821ec9ad3311e39c7d4105031d4614ba427f35fc60ef5ff400f994f749df97d484481630d10e88ed9d95633eddd84e03b91e2bacd0419001e361b8e2d1469a140655366b9d9dcf2c910f7b0dcd3f5c566852f2ac24d20652cca1d4968f976d6f648d324f70661b121d33a5a1fc1131a67cac1036394e5140dbbe059254e2f1253da7df13ddf1cfb8968cbd4b07a600d36b805e1b6ef0b12fc7b2f5d0d00fc9020c182000b553727d57d6f76057327ff60ef72689358b45a539b617cdd7a07da193b1074b70e80b6e3774e70dff56f8e13033aee633373818ff09a873947a608eb762cdce988d9ff4a54e59e9cec81c915d665f2ea40c1545e91e5e119b5a94236d4ed804fdc392abb55bb91d4ed407f59ad315b73939cb4abb915a5db361378d12b80ec069cfcbac715a61d272801b57506676b40ac1fad79fd85a3a57b28e71eb9b0c9bdae5a5c794734349f510aba3a9f16103f8b26f81a4c2bd7774e98b3d879e5b1057c6f80e3c48a5fc8296610c19eaddd8c939b9d8b99c28ab756536d42bca5776f2659da2ea5f4bd2d6f6c914b935c3562c80322bb88929ae25964cca75b4adc9a3708b26971e2f517f97b68ab6bb37a7ccbeab2e992e9ca0ee55a053af8ac27ce7021c449d4cd436f36eb3b4ec7280023ad361a0d0b94b58190733691023c3548b22432651561b7b8dde7ceb981eb63a15ea2e92a27b40762e0a1687fd31587faebcb25a30e6f07451bc07583e8941232fa70cf1c9acda7918f4bcf5d7b374e979ef1fc9f33dd70110dd6e7c00fc830733b4add1652af9e8ad77bdde29f7105006e06e3eb3b4bf9284ff9758d5ec2c87f4e8cbeca07808805520d6ddda7f008e8597e24f0833797ad7ebfc58a34e2142b29991e66726c2124e02f23c737619f3fd37a3c02cbc2667211125945fa3ce7ef2cf4b8159c595f88d645ed890a5c9bb85000d779bcafec2e91bce7da735b2d25cb4c869b26c14d15b88a7f6d3586783157a722812517c8158874ff5fd279d4dcf8f60eaf9753a6c9b728728f7b1216cefafa6691dc702271d4e6194893b2b5f4ffbd534f687410159406574c006fc799027dce73412027c0d59f4790f781e437046b763e8eccd7a057227524f90456458c3aea6e00c5509547c9ada4b766ca7abf222fe13139395462bb29b0652600759f164e83b76cdd0e79e69304dc93ff49be795e02f05d34a0e01cc76595155d711a5e3a66a33879b8ca4244e89588e1f44693b15ce2ec4d26f1df9aee10d887214ebf6c1137b261838d6b694d23686a94a58a56a80cb5f68f31dab9ceada92b5586ed1d9374f4be781438be2b30726b2b9d72b3b41af0b30586dec572b91850fc3db395addb4ddf51628a8fa92ff83dd8566f84386f1bb61590509fca38bcea8371b3212dc5838cb8d53c819b49443e52de15c78de040e0ea63fc354852ab46f53ad305760ea27e114aa2dbef5c4af2b9b4be17a81bbf279694b05ada48512ea594b1ab89b2e6718419d7ccc978e9c4880f0ae86d538714b76ccc80e74ab5b8db877cb07e1b1071cc793874cdceb014de442fe6713bdccbe760e","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"cb4dac17dd2d3b658155eb3f63bb6c40"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
